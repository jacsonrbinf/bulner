-- MySQL dump 10.13  Distrib 5.7.20, for Linux (x86_64)
--
-- Host: localhost    Database: fse2014tomcat
-- ------------------------------------------------------
-- Server version	5.7.25-0ubuntu0.16.04.2

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `bug_and_files`
--

DROP TABLE IF EXISTS `bug_and_files`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bug_and_files` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `bug_id` int(11) NOT NULL,
  `summary` tinytext CHARACTER SET utf8 NOT NULL,
  `description` text CHARACTER SET utf8 NOT NULL,
  `bag_of_word_stemmed` mediumtext CHARACTER SET utf8 NOT NULL,
  `summary_stemmed` text CHARACTER SET utf8 NOT NULL,
  `description_stemmed` mediumtext CHARACTER SET utf8 NOT NULL,
  `report_time` datetime NOT NULL,
  `report_timestamp` float NOT NULL,
  `status` varchar(50) CHARACTER SET utf8 NOT NULL,
  `commit` varchar(50) CHARACTER SET utf8 NOT NULL,
  `commit_timestamp` float NOT NULL,
  `files` mediumtext CHARACTER SET utf8 NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=1057 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `bug_and_files`
--

LOCK TABLES `bug_and_files` WRITE;
/*!40000 ALTER TABLE `bug_and_files` DISABLE KEYS */;
INSERT INTO `bug_and_files` VALUES (1,56012,'Bug 56012  wrong import statement generation while using the extends attribute of the page directive','','wrong import statement gener use extend attribut page direct','wrong import statement gener use extend attribut page direct','','2014-01-15 07:30:17',1389790000,'resolved fixed','42056be',1390080000,'java/org/apache/jasper/compiler/PageInfo.java\njava/org/apache/jasper/compiler/Validator.java'),(2,56029,'Bug 56029  Ternary operator doesn\'t work as expected inside attributes in jspx pages','','ternari oper doesn work expect insid attribut jspx page','ternari oper doesn work expect insid attribut jspx page','','2014-01-18 12:42:47',1390070000,'resolved fixed','b430e29',1390070000,'java/org/apache/jasper/compiler/ELParser.java\ntest/org/apache/jasper/compiler/TestELParser.java'),(3,55943,'Bug 55943  Provide a way prevent  looking at the System classloader before the webapp classloaders','','provid way prevent look system classload webapp classload','provid way prevent look system classload webapp classload','','2014-01-01 10:02:46',1388590000,'resolved fixed','f28800c',1389970000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(4,56025,'Bug 56025  Order of invocation of method of ServerEndpointConfig.Configurator','','order invoc method server endpoint config serverendpointconfig configur','order invoc method server endpoint config serverendpointconfig configur','','2014-01-17 08:23:30',1389970000,'resolved fixed','11b1e83',1389960000,'java/org/apache/tomcat/websocket/server/UpgradeUtil.java'),(5,56010,'Bug 56010  JspFactory.getPageContext with JspWriter.DEFAULT_BUFFER throws IllegalArgumentException','','jsp factori jspfactori get page context getpagecontext jsp writer jspwriter default buffer throw illeg argument except illegalargumentexcept','jsp factori jspfactori get page context getpagecontext jsp writer jspwriter default buffer throw illeg argument except illegalargumentexcept','','2014-01-15 03:34:23',1389770000,'resolved fixed','48650dd',1389880000,'java/org/apache/jasper/runtime/PageContextImpl.java\ntest/org/apache/jasper/runtime/TestPageContextImpl.java'),(6,55996,'Bug 55996  Async context does not timeout with HTTP NIO connector','','async context timeout http nio connector','async context timeout http nio connector','','2014-01-13 06:12:37',1389610000,'resolved fixed','553ad39',1389720000,'java/org/apache/tomcat/util/net/SocketWrapper.java'),(7,55995,'Bug 55995  java.lang.NullPointerException at org.apache.jasper.servlet.JspCServletContext.getResource(JspCServletContext.java:344)','Null pointer exception when running JSPC from a Shell Script.\n\nJspCServletContext.java:344\n    /**\n     * Return a URL object of a resource that is mapped to the\n     * specified context-relative path.\n     *\n     * @param path Context-relative path of the desired resource\n     *\n     * @exception MalformedURLException if the resource path is\n     *  not properly formed\n     */\n    @Override\n    public URL getResource(String path) throws MalformedURLException {\n\n        if (!path.startsWith(\"/\"))\n            throw new MalformedURLException(\"Path \'\" + path +\n                                            \"\' does not start with \'/\'\");\n\nTldCache.java:124\n\n    private long[] getLastModified(TldResourcePath tldResourcePath) {\n        long[] result = new long[2];\n        result[0] = -1;\n        result[1] = -1;\n        try {\n            URL url = servletContext.getResource(tldResourcePath.getWebappPath());\n\n\n/usr/java/jdk1.7.0_45/bin/java -classpath :/home/tomcat/apache-tomcat-8.0.0-RC10/lib/catalina-storeconfig.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-websocket.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-i18n-es.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/catalina-tribes.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/catalina-ha.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-i18n-ja.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/jsp-api.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-util.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-jni.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/jasper.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/websocket-api.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/ecj-4.3.1.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-i18n-fr.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-api.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-coyote.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/servlet-api.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/jasper-el.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/catalina.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-dbcp.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-jdbc.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/annotations-api.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-util-scan.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/catalina-ant.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/el-api.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/lib/tomcat-spdy.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/bin/tomcat-juli.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/bin/bootstrap.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/bin/commons-daemon.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/webapps/examples/WEB-INF/lib/jstl.jar:/home/tomcat/apache-tomcat-8.0.0-RC10/webapps/examples/WEB-INF/lib/standard.jar:/home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/lib/ant-1.6.5.jar org.apache.jasper.JspC 	-d /home/java/source/HEAD/work/tomcat80 	-v 	-l 	-uriroot /home/java/source/HEAD/work/jsp_compile_shared /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/dialog/qbAxesDlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/dialog/qbManualGecodingDlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/fmtdlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/index.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/joindlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/producer.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/simplefilter.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/selectvaluedlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/binddowsTestView.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/variableeditordlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/filterprompteditor.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/ajax_response.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/fontdlg.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/join_fields.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/tree_component.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/waiting_banner.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/folderblock/BID_FolderBlockInit.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/folderblock/BID_FolderBlockBoot.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/BID_EmptyContent.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/xml/BID_UrlProperties.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/xml/BID_IBFSpathToHrefs.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/xml/BID_xmlresponse.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/xml/BID_statusResponse.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/favorites/BID_favorites_tree.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/favorites/BID_FavoritesBlockBoot.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/favorites/BID_FavoritesBlockInit.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/favorites/BID_favorites_tree_boot.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/favorites/BID_listToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/index.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_InternalPage.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_SearchTree_Boot.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_SATree_Boot.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_BiFrame.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_initView.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_ShowToolbar.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_ExternalPage.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_SATreeBiFrame.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_initBindows.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/views/BID_SearchTreeBiFrame.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/recents/BID_recents_tree_boot.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/recents/BID_recents_tree.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/recents/BID_listToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/error.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/groups/BID_listToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/search/BID_searchListToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/search/BID_listToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/tree/BID_MrPropertiesToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/tree/BID_flatListToXML.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/tree/BID_PlainText.jsp /home/java/source/HEAD/work/jsp_compile_shared/WEB-INF/jsp/bid/tree/BID_listToXML.jsp	  2>&1\n	\n	\nException in thread \"main\" java.lang.NullPointerException\n	at org.apache.jasper.servlet.JspCServletContext.getResource(JspCServletContext.java:344)\n	at org.apache.jasper.compiler.TldCache.getLastModified(TldCache.java:124)\n	at org.apache.jasper.compiler.TldCache.<init>(TldCache.java:70)\n	at org.apache.jasper.JspC.initServletContext(JspC.java:1468)\n	at org.apache.jasper.JspC.execute(JspC.java:1321)\n	at org.apache.jasper.JspC.main(JspC.java:269)','java lang null pointer except nullpointerexcept apach jasper servlet jsp servlet context jspcservletcontext get resourc getresourc jsp servlet context jspcservletcontext java null pointer except run jspc shell script jsp servlet context jspcservletcontext java return url object resourc map specifi context rel contextrel path param path context rel contextrel path desir resourc except malform except malformedurlexcept resourc path properli form overrid public url get resourc getresourc string path throw malform except malformedurlexcept path start with startswith throw new malform except malformedurlexcept path path start tld cach tldcach java privat long get last modifi getlastmodifi tld resourc path tldresourcepath tld resourc path tldresourcepath long result new long result result tri url url servlet context servletcontext get resourc getresourc tld resourc path tldresourcepath get webapp path getwebapppath usr java jdk1 java classpath home tomcat apach tomcat apachetomcat c10 rc10 lib catalina storeconfig catalinastoreconfig jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat websocket tomcatwebsocket jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat i18n tomcati18n jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina tribe catalinatrib jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina ha catalinaha jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat i18n ja tomcati18nja jar home tomcat apach tomcat apachetomcat c10 rc10 lib jsp api jspapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat util tomcatutil jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat jni tomcatjni jar home tomcat apach tomcat apachetomcat c10 rc10 lib jasper jar home tomcat apach tomcat apachetomcat c10 rc10 lib websocket api websocketapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib ecj jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat i18n fr tomcati18nfr jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat api tomcatapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat coyot tomcatcoyot jar home tomcat apach tomcat apachetomcat c10 rc10 lib servlet api servletapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib jasper el jasperel jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat dbcp tomcatdbcp jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat jdbc tomcatjdbc jar home tomcat apach tomcat apachetomcat c10 rc10 lib annot api annotationsapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat util scan tomcatutilscan jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina ant catalina jar home tomcat apach tomcat apachetomcat c10 rc10 lib el api elapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat spdi tomcatspdi jar home tomcat apach tomcat apachetomcat c10 rc10 tomcat juli tomcatjuli jar home tomcat apach tomcat apachetomcat c10 rc10 bootstrap jar home tomcat apach tomcat apachetomcat c10 rc10 common daemon commonsdaemon jar home tomcat apach tomcat apachetomcat c10 rc10 webapp exampl web inf lib jstl jar home tomcat apach tomcat apachetomcat c10 rc10 webapp exampl web inf lib standard jar home java sourc head work jsp compil share web inf lib ant jar apach jasper jsp jspc home java sourc head work tomcat80 uriroot home java sourc head work jsp compil share home java sourc head work jsp compil share web inf jsp dialog qb ax dlg qbaxesdlg jsp home java sourc head work jsp compil share web inf jsp dialog qb manual gecod dlg qbmanualgecodingdlg jsp home java sourc head work jsp compil share web inf jsp fmtdlg jsp home java sourc head work jsp compil share web inf jsp index jsp home java sourc head work jsp compil share web inf jsp joindlg jsp home java sourc head work jsp compil share web inf jsp produc jsp home java sourc head work jsp compil share web inf jsp simplefilt jsp home java sourc head work jsp compil share web inf jsp selectvaluedlg jsp home java sourc head work jsp compil share web inf jsp binddow test view binddowstestview jsp home java sourc head work jsp compil share web inf jsp variableeditordlg jsp home java sourc head work jsp compil share web inf jsp filterprompteditor jsp home java sourc head work jsp compil share web inf jsp ajax respons jsp home java sourc head work jsp compil share web inf jsp fontdlg jsp home java sourc head work jsp compil share web inf jsp join field jsp home java sourc head work jsp compil share web inf jsp tree compon jsp home java sourc head work jsp compil share web inf jsp wait banner jsp home java sourc head work jsp compil share web inf jsp bid folderblock bid folder block init folderblockinit jsp home java sourc head work jsp compil share web inf jsp bid folderblock bid folder block boot folderblockboot jsp home java sourc head work jsp compil share web inf jsp bid bid empti content emptycont jsp home java sourc head work jsp compil share web inf jsp bid xml bid url properti urlproperti jsp home java sourc head work jsp compil share web inf jsp bid xml bid spath to href ibfspathtohref jsp home java sourc head work jsp compil share web inf jsp bid xml bid xmlrespons jsp home java sourc head work jsp compil share web inf jsp bid xml bid statu respons statusrespons jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit tree jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit block boot favoritesblockboot jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit block init favoritesblockinit jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit tree boot jsp home java sourc head work jsp compil share web inf jsp bid favorit bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid index jsp home java sourc head work jsp compil share web inf jsp bid view bid intern page internalpag jsp home java sourc head work jsp compil share web inf jsp bid view bid search tree searchtre boot jsp home java sourc head work jsp compil share web inf jsp bid view bid tree satre boot jsp home java sourc head work jsp compil share web inf jsp bid view bid bi frame bifram jsp home java sourc head work jsp compil share web inf jsp bid view bid init view initview jsp home java sourc head work jsp compil share web inf jsp bid view bid show toolbar showtoolbar jsp home java sourc head work jsp compil share web inf jsp bid view bid extern page externalpag jsp home java sourc head work jsp compil share web inf jsp bid view bid tree bi frame satreebifram jsp home java sourc head work jsp compil share web inf jsp bid view bid init bindow initbindow jsp home java sourc head work jsp compil share web inf jsp bid view bid search tree bi frame searchtreebifram jsp home java sourc head work jsp compil share web inf jsp bid recent bid recent tree boot jsp home java sourc head work jsp compil share web inf jsp bid recent bid recent tree jsp home java sourc head work jsp compil share web inf jsp bid recent bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid error jsp home java sourc head work jsp compil share web inf jsp bid group bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid search bid search list to searchlisttoxml jsp home java sourc head work jsp compil share web inf jsp bid search bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid tree bid mr properti to mrpropertiestoxml jsp home java sourc head work jsp compil share web inf jsp bid tree bid flat list to flatlisttoxml jsp home java sourc head work jsp compil share web inf jsp bid tree bid plain text plaintext jsp home java sourc head work jsp compil share web inf jsp bid tree bid list to listtoxml jsp except thread main java lang null pointer except nullpointerexcept apach jasper servlet jsp servlet context jspcservletcontext get resourc getresourc jsp servlet context jspcservletcontext java apach jasper compil tld cach tldcach get last modifi getlastmodifi tld cach tldcach java apach jasper compil tld cach tldcach init tld cach tldcach java apach jasper jsp jspc init servlet context initservletcontext jsp jspc java apach jasper jsp jspc execut jsp jspc java apach jasper jsp jspc main jsp jspc java','java lang null pointer except nullpointerexcept apach jasper servlet jsp servlet context jspcservletcontext get resourc getresourc jsp servlet context jspcservletcontext java','null pointer except run jspc shell script jsp servlet context jspcservletcontext java return url object resourc map specifi context rel contextrel path param path context rel contextrel path desir resourc except malform except malformedurlexcept resourc path properli form overrid public url get resourc getresourc string path throw malform except malformedurlexcept path start with startswith throw new malform except malformedurlexcept path path start tld cach tldcach java privat long get last modifi getlastmodifi tld resourc path tldresourcepath tld resourc path tldresourcepath long result new long result result tri url url servlet context servletcontext get resourc getresourc tld resourc path tldresourcepath get webapp path getwebapppath usr java jdk1 java classpath home tomcat apach tomcat apachetomcat c10 rc10 lib catalina storeconfig catalinastoreconfig jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat websocket tomcatwebsocket jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat i18n tomcati18n jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina tribe catalinatrib jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina ha catalinaha jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat i18n ja tomcati18nja jar home tomcat apach tomcat apachetomcat c10 rc10 lib jsp api jspapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat util tomcatutil jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat jni tomcatjni jar home tomcat apach tomcat apachetomcat c10 rc10 lib jasper jar home tomcat apach tomcat apachetomcat c10 rc10 lib websocket api websocketapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib ecj jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat i18n fr tomcati18nfr jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat api tomcatapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat coyot tomcatcoyot jar home tomcat apach tomcat apachetomcat c10 rc10 lib servlet api servletapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib jasper el jasperel jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat dbcp tomcatdbcp jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat jdbc tomcatjdbc jar home tomcat apach tomcat apachetomcat c10 rc10 lib annot api annotationsapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat util scan tomcatutilscan jar home tomcat apach tomcat apachetomcat c10 rc10 lib catalina ant catalina jar home tomcat apach tomcat apachetomcat c10 rc10 lib el api elapi jar home tomcat apach tomcat apachetomcat c10 rc10 lib tomcat spdi tomcatspdi jar home tomcat apach tomcat apachetomcat c10 rc10 tomcat juli tomcatjuli jar home tomcat apach tomcat apachetomcat c10 rc10 bootstrap jar home tomcat apach tomcat apachetomcat c10 rc10 common daemon commonsdaemon jar home tomcat apach tomcat apachetomcat c10 rc10 webapp exampl web inf lib jstl jar home tomcat apach tomcat apachetomcat c10 rc10 webapp exampl web inf lib standard jar home java sourc head work jsp compil share web inf lib ant jar apach jasper jsp jspc home java sourc head work tomcat80 uriroot home java sourc head work jsp compil share home java sourc head work jsp compil share web inf jsp dialog qb ax dlg qbaxesdlg jsp home java sourc head work jsp compil share web inf jsp dialog qb manual gecod dlg qbmanualgecodingdlg jsp home java sourc head work jsp compil share web inf jsp fmtdlg jsp home java sourc head work jsp compil share web inf jsp index jsp home java sourc head work jsp compil share web inf jsp joindlg jsp home java sourc head work jsp compil share web inf jsp produc jsp home java sourc head work jsp compil share web inf jsp simplefilt jsp home java sourc head work jsp compil share web inf jsp selectvaluedlg jsp home java sourc head work jsp compil share web inf jsp binddow test view binddowstestview jsp home java sourc head work jsp compil share web inf jsp variableeditordlg jsp home java sourc head work jsp compil share web inf jsp filterprompteditor jsp home java sourc head work jsp compil share web inf jsp ajax respons jsp home java sourc head work jsp compil share web inf jsp fontdlg jsp home java sourc head work jsp compil share web inf jsp join field jsp home java sourc head work jsp compil share web inf jsp tree compon jsp home java sourc head work jsp compil share web inf jsp wait banner jsp home java sourc head work jsp compil share web inf jsp bid folderblock bid folder block init folderblockinit jsp home java sourc head work jsp compil share web inf jsp bid folderblock bid folder block boot folderblockboot jsp home java sourc head work jsp compil share web inf jsp bid bid empti content emptycont jsp home java sourc head work jsp compil share web inf jsp bid xml bid url properti urlproperti jsp home java sourc head work jsp compil share web inf jsp bid xml bid spath to href ibfspathtohref jsp home java sourc head work jsp compil share web inf jsp bid xml bid xmlrespons jsp home java sourc head work jsp compil share web inf jsp bid xml bid statu respons statusrespons jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit tree jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit block boot favoritesblockboot jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit block init favoritesblockinit jsp home java sourc head work jsp compil share web inf jsp bid favorit bid favorit tree boot jsp home java sourc head work jsp compil share web inf jsp bid favorit bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid index jsp home java sourc head work jsp compil share web inf jsp bid view bid intern page internalpag jsp home java sourc head work jsp compil share web inf jsp bid view bid search tree searchtre boot jsp home java sourc head work jsp compil share web inf jsp bid view bid tree satre boot jsp home java sourc head work jsp compil share web inf jsp bid view bid bi frame bifram jsp home java sourc head work jsp compil share web inf jsp bid view bid init view initview jsp home java sourc head work jsp compil share web inf jsp bid view bid show toolbar showtoolbar jsp home java sourc head work jsp compil share web inf jsp bid view bid extern page externalpag jsp home java sourc head work jsp compil share web inf jsp bid view bid tree bi frame satreebifram jsp home java sourc head work jsp compil share web inf jsp bid view bid init bindow initbindow jsp home java sourc head work jsp compil share web inf jsp bid view bid search tree bi frame searchtreebifram jsp home java sourc head work jsp compil share web inf jsp bid recent bid recent tree boot jsp home java sourc head work jsp compil share web inf jsp bid recent bid recent tree jsp home java sourc head work jsp compil share web inf jsp bid recent bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid error jsp home java sourc head work jsp compil share web inf jsp bid group bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid search bid search list to searchlisttoxml jsp home java sourc head work jsp compil share web inf jsp bid search bid list to listtoxml jsp home java sourc head work jsp compil share web inf jsp bid tree bid mr properti to mrpropertiestoxml jsp home java sourc head work jsp compil share web inf jsp bid tree bid flat list to flatlisttoxml jsp home java sourc head work jsp compil share web inf jsp bid tree bid plain text plaintext jsp home java sourc head work jsp compil share web inf jsp bid tree bid list to listtoxml jsp except thread main java lang null pointer except nullpointerexcept apach jasper servlet jsp servlet context jspcservletcontext get resourc getresourc jsp servlet context jspcservletcontext java apach jasper compil tld cach tldcach get last modifi getlastmodifi tld cach tldcach java apach jasper compil tld cach tldcach init tld cach tldcach java apach jasper jsp jspc init servlet context initservletcontext jsp jspc java apach jasper jsp jspc execut jsp jspc java apach jasper jsp jspc main jsp jspc java','2014-01-13 05:55:30',1389610000,'resolved fixed','5e6b884',1389700000,'java/org/apache/jasper/compiler/TldCache.java'),(8,55893,'Bug 55893  Split AccessLogValve and extract the formatting logic in an AbstractAccessLogValve','','split access log valv accesslogvalv extract format logic abstract access log valv abstractaccesslogvalv','split access log valv accesslogvalv extract format logic abstract access log valv abstractaccesslogvalv','','2013-12-16 21:24:37',1387250000,'resolved fixed','92ce68a',1389360000,'java/org/apache/catalina/valves/AbstractAccessLogValve.java\njava/org/apache/catalina/valves/AccessLogValve.java'),(9,55978,'Bug 55978  Initial call to onWritePossible() not made by container when using HTTP upgrade','When using a WriteListener and non-blocking IO with the Servlet async API, the container makes the first call to onWritePossible() as per the spec.\n\nWhen using a WriteListener and non-blocking IO with the Servlet HTTP upgrade API the container does not make the initial call to onWritePossible(). When fixing this bug it is worth checking the initial call to onDataAvailable() as well.','initi call on write possibl onwriteposs made contain use http upgrad use write listen writelisten non block nonblock servlet async api contain make first call on write possibl onwriteposs spec use write listen writelisten non block nonblock servlet http upgrad api contain make initi call on write possibl onwriteposs fix worth check initi call on data avail ondataavail well','initi call on write possibl onwriteposs made contain use http upgrad','use write listen writelisten non block nonblock servlet async api contain make first call on write possibl onwriteposs spec use write listen writelisten non block nonblock servlet http upgrad api contain make initi call on write possibl onwriteposs fix worth check initi call on data avail ondataavail well','2014-01-08 10:37:25',1389200000,'resolved fixed','bd24edc',1389350000,'java/org/apache/coyote/AbstractProtocol.java\njava/org/apache/coyote/http11/upgrade/AbstractProcessor.java\njava/org/apache/coyote/http11/upgrade/AbstractServletOutputStream.java\njava/org/apache/coyote/http11/upgrade/AprServletOutputStream.java\njava/org/apache/coyote/http11/upgrade/BioServletOutputStream.java\njava/org/apache/coyote/http11/upgrade/NioServletOutputStream.java\ntest/org/apache/coyote/http11/upgrade/TestUpgrade.java'),(10,55976,'Bug 55976  Broken response from NIO connector in Tomcat 7.0.50','','broken respons nio connector tomcat','broken respons nio connector tomcat','','2014-01-08 09:52:04',1389190000,'closed fixed','d423ae2',1389300000,'java/org/apache/coyote/http11/Http11NioProcessor.java'),(11,55974,'Bug 55974  Honor the order when reporting XML parsing errors and warnings in XmlErrorHandler class','','honor order report xml pars error warn xml error handler xmlerrorhandl class','honor order report xml pars error warn xml error handler xmlerrorhandl class','','2014-01-07 22:59:05',1389150000,'resolved fixed','328adb1',1389280000,'java/org/apache/tomcat/util/descriptor/XmlErrorHandler.java'),(12,55970,'Bug 55970  A reloadable context is reloaded repeatedly if WEB-INF/lib contains non-jar files','','reload context reload repeatedli web inf lib contain non jar nonjar file','reload context reload repeatedli web inf lib contain non jar nonjar file','','2014-01-07 18:13:45',1389140000,'resolved fixed','5594699',1389280000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(13,55960,'Bug 55960  TestSSOnonLoginAndBasicAuthenticator is flawed and incomplete','','test onon login and basic authent testssononloginandbasicauthent flaw incomplet','test onon login and basic authent testssononloginandbasicauthent flaw incomplet','','2014-01-06 14:47:05',1389040000,'resolved fixed','ad129f8',1389280000,'test/org/apache/catalina/authenticator/TestSSOnonLoginAndBasicAuthenticator.java\ntest/org/apache/catalina/startup/TesterServletEncodeUrl.java'),(14,55958,'Bug 55958  Tomcat tries to deploy dir as zip archive even when it is a directory if the name ends with .war','Webapp deployment fails if the dirname ends with .war because it is automatically considered as zip archive.','tomcat tri deploy zip archiv even directori name end webapp deploy fail dirnam end automat consid zip archiv','tomcat tri deploy zip archiv even directori name end','webapp deploy fail dirnam end automat consid zip archiv','2014-01-06 09:28:12',1389020000,'resolved fixed','5964a52',1389280000,'java/org/apache/catalina/core/ContainerBase.java\njava/org/apache/catalina/ha/deploy/FarmWarDeployer.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/mbeans/MBeanUtils.java\njava/org/apache/catalina/startup/FailedContext.java\njava/org/apache/catalina/startup/HostConfig.java\njava/org/apache/catalina/storeconfig/StandardContextSF.java\njava/org/apache/catalina/util/ContextName.java\ntest/org/apache/catalina/startup/TestHostConfigAutomaticDeployment.java\ntest/org/apache/catalina/util/TestContextName.java'),(15,55937,'Bug 55937  Tomcat auto deployer not working for ROOT applications','','tomcat auto deploy work root applic','tomcat auto deploy work root applic','','2013-12-27 15:41:22',1388180000,'resolved fixed','346e264',1389270000,'java/org/apache/catalina/util/ContextName.java\ntest/org/apache/catalina/util/TestContextName.java'),(16,55939,'Bug 55939  Seeing issues with non-blocking io when writing lots of data','','see issu non block nonblock write lot data','see issu non block nonblock write lot data','','2013-12-29 19:40:03',1388360000,'resolved fixed','411e4cc',1388430000,'java/org/apache/coyote/Response.java'),(17,55905,'Bug 55905  Error message unhelpful when web.xml references a tld file that doesn\'t exist','','error messag unhelp web xml refer tld file doesn exist','error messag unhelp web xml refer tld file doesn exist','','2013-12-18 14:30:15',1387400000,'resolved fixed','bcb9c58',1387390000,'java/org/apache/jasper/servlet/TldScanner.java'),(18,55884,'Bug 55884  JSPs no longer compile in Java 8','','jsp longer compil java','jsp longer compil java','','2013-12-14 17:03:59',1387060000,'verified fixed','8a5179c',1387210000,'java/org/apache/jasper/compiler/JspRuntimeContext.java'),(19,55820,'Bug 55820  Add 172.16/12 range to default internal proxies','','add rang default intern proxi','add rang default intern proxi','','2013-11-27 15:53:07',1385590000,'resolved fixed','c1be72f',1386580000,'java/org/apache/catalina/filters/RemoteIpFilter.java\njava/org/apache/catalina/valves/RemoteIpValve.java'),(20,55811,'Bug 55811  Do not parse web-fragment.xml files when empty absolute-ordering','','pars web fragment webfrag xml file empti absolut order absoluteord','pars web fragment webfrag xml file empti absolut order absoluteord','','2013-11-22 14:45:40',1385150000,'resolved fixed','f4da7dc',1386450000,'java/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/jasper/servlet/JspCServletContext.java\njava/org/apache/tomcat/util/descriptor/web/FragmentJarScannerCallback.java'),(21,55801,'Bug 55801  Add ability to provide custom SSLContext for websocket client','','add abil provid custom context sslcontext websocket client','add abil provid custom context sslcontext websocket client','','2013-11-20 09:57:24',1384960000,'resolved fixed','ef3f56e',1386450000,'java/org/apache/tomcat/websocket/WsWebSocketContainer.java'),(22,55851,'Bug 55851  Tomcat SPNEGO authenticator incompatible with IBM JDK: Accept Security Context needs to be wrapped around a Privileged Action in order for server side authentication','','tomcat spnego authent incompat ibm jdk accept secur context need wrap around privileg action order server side authent','tomcat spnego authent incompat ibm jdk accept secur context need wrap around privileg action order server side authent','','2013-12-06 08:56:41',1386340000,'resolved fixed','bba9747',1386360000,'java/org/apache/catalina/authenticator/SpnegoAuthenticator.java'),(23,55842,'Bug 55842  response.setBufferSize() does not seem to work properly','I found a problem with setting the buffer size for the ServletResponse. \nIf I call \'response.setBufferSize(1,000,000);\' and send about 20,000 characters, the response will be chunked even though it should not.\nThe response is sent in several chunks and contains the \'Transfer-Encoding: chunked\' response header.\nIn my understanding in this case the response should be fully buffered on the server and then sent as a whole containing the Content-Length-header.\n\nThis causes a problem in my application because I want to use a larger buffer to be able to redirect to an error page if an error occurs during rendering the response. \n\nI was able to reproduce this on Tomcat 7.0.39, 7.0.40, 7.0.42, 7.0.47. Tomcat 7.0.37 works fine and as expected.\n\nThis is easily reproducable by using a JSP as follows:\n<%\nresponse.setBufferSize(1000*1000);\nfor (int i = 0; i < 100; i++) {\n	for (int j = 0; j < 100; j++) {\n		response.getWriter().write(\"X\");\n	}\n    response.getWriter().write(\"<br />\");\n}\n%>','respons set buffer size setbuffers seem work properli found problem set buffer size servlet respons servletrespons call respons set buffer size setbuffers send charact respons chunk even though respons sent sever chunk contain transfer encod chunk respons header understand case respons fulli buffer server sent whole contain content length header lengthhead caus problem applic use larger buffer abl redirect error page error occur render respons abl reproduc tomcat tomcat work fine expect easili reproduc use jsp follow respons set buffer size setbuffers int int respons get writer getwrit write respons get writer getwrit write br','respons set buffer size setbuffers seem work properli','found problem set buffer size servlet respons servletrespons call respons set buffer size setbuffers send charact respons chunk even though respons sent sever chunk contain transfer encod chunk respons header understand case respons fulli buffer server sent whole contain content length header lengthhead caus problem applic use larger buffer abl redirect error page error occur render respons abl reproduc tomcat tomcat work fine expect easili reproduc use jsp follow respons set buffer size setbuffers int int respons get writer getwrit write respons get writer getwrit write br','2013-12-04 15:56:09',1386190000,'resolved fixed','f4970a7',1386330000,'java/org/apache/catalina/connector/OutputBuffer.java\njava/org/apache/tomcat/util/buf/ByteChunk.java'),(24,55837,'Bug 55837  ServletContext.getRealPath() returns null','[code]\nString path = servletContext.getRealPath(\'/test\');\n\nif no file or folder named \'/test\' exist in webroot \nthen path return null\n\nbut int tomcat 5\\6\\7, it will return the correct value , ex /data/oschina/webapp/test','servlet context servletcontext get real path getrealpath return null code string path servlet context servletcontext get real path getrealpath file folder name exist webroot path return null int tomcat return correct valu ex data oschina webapp','servlet context servletcontext get real path getrealpath return null','code string path servlet context servletcontext get real path getrealpath file folder name exist webroot path return null int tomcat return correct valu ex data oschina webapp','2013-12-03 08:03:13',1386080000,'resolved fixed','a63bf3a',1386180000,'java/org/apache/catalina/webresources/DirResourceSet.java\njava/org/apache/catalina/webresources/EmptyResource.java\njava/org/apache/catalina/webresources/StandardRoot.java\ntest/org/apache/catalina/webresources/AbstractTestResourceSet.java'),(25,55804,'Bug 55804  SPNEGOAUTHENTICATOR - GSSCredential does not get renewed after RemainingLifeTime is less than zero','In SpnegoAuthenticator, we check for request.getUserPrincipal() if it returns a prinicpal we do not do a fresh authentication. This happens even when the GSSCredential returned by GenericPrincipal has remainingLife time less than zero. This causes issues in delegating the credential as the credential is not valid any more.\n\nCan we add additional check to reauthenticate when the credental has expired and put GSSCredential in the same session?','spnegoauthent credenti gsscredenti get renew remain life time remaininglifetim le zero spnego authent spnegoauthent check request get user princip getuserprincip return prinicp fresh authent happen even credenti gsscredenti return gener princip genericprincip remain life remaininglif time le zero caus issu deleg credenti credenti valid add addit check reauthent credent expir put credenti gsscredenti session','spnegoauthent credenti gsscredenti get renew remain life time remaininglifetim le zero','spnego authent spnegoauthent check request get user princip getuserprincip return prinicp fresh authent happen even credenti gsscredenti return gener princip genericprincip remain life remaininglif time le zero caus issu deleg credenti credenti valid add addit check reauthent credent expir put credenti gsscredenti session','2013-11-20 19:23:11',1384990000,'resolved fixed','8f67335',1385750000,'java/org/apache/catalina/connector/Request.java'),(26,55798,'Bug 55798  Enabling Manager App - process and description is inadequate','','enabl manag app process descript inadequ','enabl manag app process descript inadequ','','2013-11-19 23:03:23',1384920000,'resolved fixed','13c6551',1384940000,'java/org/apache/catalina/users/MemoryUserDatabase.java'),(27,55778,'Bug 55778  JNDIRealm: Authentication with GSSAPI to LDAP with SSL connection causes an exception','Whenever i try to authenticate with GSSAPI to a LDAP server with a SSL connection (ldaps), the following exception is thrown:\n\njavax.naming.ServiceUnavailableException: myserver.at:636; socket closed; remaining name \'dc=example,dc=org\'\n    at com.sun.jndi.ldap.Connection.readReply(Connection.java:452)\n    at com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:631)\n    at com.sun.jndi.ldap.LdapClient.search(LdapClient.java:554)\n    at com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:1985)\n    at com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1847)\n    at com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1772)\n    ...\n\nSteps to reproduce:\n1. Configure the valve org.apache.catalina.authenticator.SpnegoAuthenticator in the server.xml with storeDelegatedCredential=\"true\".\n2. Configure the realm org.apache.catalina.realm.JNDIRealm in the server.xml with an SSL connection url (e.g. ldaps://myserver.at:636)\n3. Configure an auth-method with SPNEGO, security-constraints and security-roles in the web.xml\n4. Add required keystores to the jdk for the ldaps connection.\n5. Try to authenticate\n\nI debugged into the JNDIRealm and figured out, that changing line 2082 from \"context.addToEnvironment(\"javax.security.sasl.qop\", \"auth-conf\");\" to \"context.addToEnvironment(\"javax.security.sasl.qop\", \"auth\");\" would solve the problem. I also tested the fix with a new written JNDIRealm.\n\nBut i\'m not sure, if this fix causes other security issues.','realm jndirealm authent gssapi ldap ssl connect caus except whenev tri authent gssapi ldap server ssl connect ldap follow except thrown javax name servic unavail except serviceunavailableexcept myserv socket close remain name dc exampl dc sun jndi ldap connect read repli readrepli connect java sun jndi ldap ldap client ldapclient get search repli getsearchrepli ldap client ldapclient java sun jndi ldap ldap client ldapclient search ldap client ldapclient java sun jndi ldap ldap ctx ldapctx do search dosearch ldap ctx ldapctx java sun jndi ldap ldap ctx ldapctx search aux searchaux ldap ctx ldapctx java sun jndi ldap ldap ctx ldapctx search ldap ctx ldapctx java step reproduc configur valv apach catalina authent spnego authent spnegoauthent server xml store deleg credenti storedelegatedcredenti true configur realm apach catalina realm realm jndirealm server xml ssl connect url ldap myserv configur auth method authmethod spnego secur constraint securityconstraint secur role securityrol web xml add requir keystor jdk ldap connect tri authent debug realm jndirealm figur chang line context add to environ addtoenviron javax secur sasl qop auth conf authconf context add to environ addtoenviron javax secur sasl qop auth would solv problem test fix new written realm jndirealm sure fix caus secur issu','realm jndirealm authent gssapi ldap ssl connect caus except','whenev tri authent gssapi ldap server ssl connect ldap follow except thrown javax name servic unavail except serviceunavailableexcept myserv socket close remain name dc exampl dc sun jndi ldap connect read repli readrepli connect java sun jndi ldap ldap client ldapclient get search repli getsearchrepli ldap client ldapclient java sun jndi ldap ldap client ldapclient search ldap client ldapclient java sun jndi ldap ldap ctx ldapctx do search dosearch ldap ctx ldapctx java sun jndi ldap ldap ctx ldapctx search aux searchaux ldap ctx ldapctx java sun jndi ldap ldap ctx ldapctx search ldap ctx ldapctx java step reproduc configur valv apach catalina authent spnego authent spnegoauthent server xml store deleg credenti storedelegatedcredenti true configur realm apach catalina realm realm jndirealm server xml ssl connect url ldap myserv configur auth method authmethod spnego secur constraint securityconstraint secur role securityrol web xml add requir keystor jdk ldap connect tri authent debug realm jndirealm figur chang line context add to environ addtoenviron javax secur sasl qop auth conf authconf context add to environ addtoenviron javax secur sasl qop auth would solv problem test fix new written realm jndirealm sure fix caus secur issu','2013-11-14 14:51:16',1384460000,'resolved fixed','27806aa',1384540000,'java/org/apache/catalina/realm/JNDIRealm.java'),(28,55776,'Bug 55776  if path include relative char, eg: ../, classloader will not find zhe file','I use ibatis in my project, config file path include \'..\', tomcat can not find the file, command line show:\nCould not find resource ../ibatis/code/sendType.xml','path includ rel char classload find zhe file use ibati project config file path includ tomcat find file command line show could find resourc ibati code send type sendtyp xml','path includ rel char classload find zhe file','use ibati project config file path includ tomcat find file command line show could find resourc ibati code send type sendtyp xml','2013-11-14 06:14:50',1384430000,'resolved fixed','a1ad6ce',1384530000,'java/org/apache/catalina/webresources/StandardRoot.java'),(29,55772,'Bug 55772  Flushing AsyncContext response writer after ClientAbortException (BrokenPipe) causes request state to leak','','flush async context asynccontext respons writer client abort except clientabortexcept broken pipe brokenpip caus request state leak','flush async context asynccontext respons writer client abort except clientabortexcept broken pipe brokenpip caus request state leak','','2013-11-13 04:45:21',1384340000,'resolved fixed','cb62f86',1384520000,'java/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/coyote/ActionCode.java\njava/org/apache/coyote/ajp/AbstractAjpProcessor.java\njava/org/apache/coyote/http11/AbstractHttp11Processor.java\njava/org/apache/coyote/spdy/SpdyProcessor.java\ntest/org/apache/coyote/http11/TestAbstractHttp11Processor.java'),(30,55760,'Bug 55760  Tomcat SPNEGO authenticator incompatible with IBM JDK in case of Keytab based initiate and accept authentication','','tomcat spnego authent incompat ibm jdk case keytab base initi accept authent','tomcat spnego authent incompat ibm jdk case keytab base initi accept authent','','2013-11-08 11:48:18',1383930000,'resolved fixed','0a4e847',1384160000,'java/org/apache/catalina/authenticator/SpnegoAuthenticator.java'),(31,55749,'Bug 55749  Disabling SSLEngine in AprLifecycleListener leads to misleading error message at startup when SSL Connector is delcared','Put a <Listener className=\"org.apache.catalina.core.AprLifecycleListener\" SSLEngine=\"off\" /> in you server.xml.\n\nPut the APR connector some weeks later in your server.xml:\n\n<Connector protocol=\"org.apache.coyote.http11.Http11AprProtocol\"\n  port=\"@HTTPS_PORT@\" connectionTimeout=\"20000\" maxHttpHeaderSize=\"24576\"\n  maxThreads=\"250\" URIEncoding=\"UTF-8\" bufferSize=\"4096\"\n  scheme=\"https\" secure=\"true\" SSLEnabled=\"true\" SSLProtocol=\"TLSv1\"	  \n  SSLCipherSuite=\"HIGH:!ADH\" SSLCertificateFile=\"@SSL_CERT_FILE@\"\n  SSLCertificateKeyFile=\"@SSL_CERT_KEY_FILE@\" SSLPassword=\"@SSL_PASSWORD@\" />\n\nStart your Tomcat and receive following confusing message:\nNov 06, 2013 1:30:39 PM org.apache.coyote.http11.Http11AprProtocol start\nSEVERE: Error starting endpoint\njava.lang.Exception: Socket bind failed: [226] Adresse bereits im Zugriff\n        at org.apache.tomcat.util.net.AprEndpoint.init(AprEndpoint.java:671)\n        at org.apache.tomcat.util.net.AprEndpoint.start(AprEndpoint.java:851)\n        at org.apache.coyote.http11.Http11AprProtocol.start(Http11AprProtocol.java:139)\n        at org.apache.catalina.connector.Connector.start(Connector.java:1196)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:540)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n\nNov 06, 2013 1:30:39 PM org.apache.catalina.core.StandardService start\nSEVERE: Failed to start connector [Connector[HTTP/1.1-8444]]\nLifecycleException:  service.getName(): \"Catalina\";  Protocol handler start failed: java.lang.Exception: Socket bind failed: [226] Adresse bereits im Zugriff\n        at org.apache.catalina.connector.Connector.start(Connector.java:1203)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:540)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n\nThis is of course not correct. The port IS availble but the SSL engine has been turned off.\n\nThere should be a check at stratup which says that this is an illegal state.','disabl engin sslengin apr lifecycl listen aprlifecyclelisten lead mislead error messag startup ssl connector delcar put listen class name classnam apach catalina core apr lifecycl listen aprlifecyclelisten engin sslengin server xml put apr connector week later server xml connector protocol apach coyot http11 http11 apr protocol http11aprprotocol port http port connect timeout connectiontimeout max http header size maxhttpheaders max thread maxthread encod uriencod utf buffer size buffers scheme http secur true enabl sslenabl true protocol sslprotocol sv1 tlsv1 cipher suit sslciphersuit high adh certif file sslcertificatefil ssl cert file certif key file sslcertificatekeyfil ssl cert key file password sslpassword ssl password start tomcat receiv follow confus messag nov pm apach coyot http11 http11 apr protocol http11aprprotocol start sever error start endpoint java lang except socket bind fail adress bereit zugriff apach tomcat util net apr endpoint aprendpoint init apr endpoint aprendpoint java apach tomcat util net apr endpoint aprendpoint start apr endpoint aprendpoint java apach coyot http11 http11 apr protocol http11aprprotocol start http11 apr protocol http11aprprotocol java apach catalina connector connector start connector java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java nov pm apach catalina core standard servic standardservic start sever fail start connector connector http lifecycl except lifecycleexcept servic get name getnam catalina protocol handler start fail java lang except socket bind fail adress bereit zugriff apach catalina connector connector start connector java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java cours correct port availbl ssl engin turn check stratup say illeg state','disabl engin sslengin apr lifecycl listen aprlifecyclelisten lead mislead error messag startup ssl connector delcar','put listen class name classnam apach catalina core apr lifecycl listen aprlifecyclelisten engin sslengin server xml put apr connector week later server xml connector protocol apach coyot http11 http11 apr protocol http11aprprotocol port http port connect timeout connectiontimeout max http header size maxhttpheaders max thread maxthread encod uriencod utf buffer size buffers scheme http secur true enabl sslenabl true protocol sslprotocol sv1 tlsv1 cipher suit sslciphersuit high adh certif file sslcertificatefil ssl cert file certif key file sslcertificatekeyfil ssl cert key file password sslpassword ssl password start tomcat receiv follow confus messag nov pm apach coyot http11 http11 apr protocol http11aprprotocol start sever error start endpoint java lang except socket bind fail adress bereit zugriff apach tomcat util net apr endpoint aprendpoint init apr endpoint aprendpoint java apach tomcat util net apr endpoint aprendpoint start apr endpoint aprendpoint java apach coyot http11 http11 apr protocol http11aprprotocol start http11 apr protocol http11aprprotocol java apach catalina connector connector start connector java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java nov pm apach catalina core standard servic standardservic start sever fail start connector connector http lifecycl except lifecycleexcept servic get name getnam catalina protocol handler start fail java lang except socket bind fail adress bereit zugriff apach catalina connector connector start connector java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java cours correct port availbl ssl engin turn check stratup say illeg state','2013-11-06 12:32:17',1383760000,'resolved fixed','014cf1c',1384110000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(32,55735,'Bug 55735  Additional quote entity in html element attribute evaluated in tagx if attribute contains EL expression','','addit quot entiti html element attribut evalu tagx attribut contain express','addit quot entiti html element attribut evalu tagx attribut contain express','','2013-11-02 06:14:56',1383390000,'resolved fixed','7ee1275',1383690000,'java/org/apache/jasper/compiler/Validator.java\njava/org/apache/jasper/runtime/PageContextImpl.java\ntest/org/apache/jasper/compiler/TestParser.java\ntest/org/apache/jasper/compiler/TesterValidator.java\ntest/org/apache/jasper/runtime/TesterPageContextImpl.java'),(33,55715,'Bug 55715  RemoteEndpoint.Async#sendText(String, SendHandler) can cause StackOverflowErrors and contradicts Oracle\'s JavaDoc','','remot endpoint remoteendpoint async send text sendtext string send handler sendhandl caus stack overflow error stackoverflowerror contradict oracl java doc javadoc','remot endpoint remoteendpoint async send text sendtext string send handler sendhandl caus stack overflow error stackoverflowerror contradict oracl java doc javadoc','','2013-10-28 15:34:56',1382990000,'resolved fixed','3f316f1',1383130000,'java/org/apache/tomcat/websocket/server/Constants.java\njava/org/apache/tomcat/websocket/server/WsContextListener.java\njava/org/apache/tomcat/websocket/server/WsHttpUpgradeHandler.java\njava/org/apache/tomcat/websocket/server/WsRemoteEndpointImplServer.java\njava/org/apache/tomcat/websocket/server/WsServerContainer.java\njava/org/apache/tomcat/websocket/server/WsWriteTimeout.java'),(34,55702,'Bug 55702  TLD cannot be loaded if CATALINA_HOME contains spaces','A web application containing an own TLD within its WEB-INF directory fails to render a JSP page referencing that TLD if Tomcat it installed into a directory with spaces in the path, such as \"C:\\Program Files\\...\". \nAfter moving the entire Tomcat installation directory to a path without spaces (such as \"C:\\1\\Tomcat8\"), the application can render that same JSP page.\n\nFollowing stacktrace is printed. Note the %20 in the file path\n\norg.apache.jasper.JasperException: /jsp/layouts/standard.jsp (line: 7, column: 69) File \"file:/C:/Program%20Files/Apache/Tomcat-8.0.0-RC5/webapps/mywebapp/WEB-INF/tlds/mywebapp-tags.tld\" not found\n	org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:42)\n	org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:276)\n	org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:92)\n	org.apache.jasper.compiler.TagLibraryInfoImpl.<init>(TagLibraryInfoImpl.java:166)\n	org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:410)\n	org.apache.jasper.compiler.Parser.parseDirective(Parser.java:476)\n	org.apache.jasper.compiler.Parser.parseElements(Parser.java:1451)\n	org.apache.jasper.compiler.Parser.parse(Parser.java:138)\n	org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\n	org.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\n	org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\n	org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\n	org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\n	org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\n	org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:606)\n	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)\n	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n\n\nJava version used: Oracle JDK 7 Update 45 (64 Bit)\nActive Tomcat connector: [\"http-nio-8080\"]','tld cannot load catalina home contain space web applic contain tld within web inf directori fail render jsp page referenc tld tomcat instal directori space path program file move entir tomcat instal directori path without space tomcat8 applic render jsp page follow stacktrac print note file path apach jasper jasper except jasperexcept jsp layout standard jsp line column file file program 20 file 20file apach tomcat c5 rc5 webapp mywebapp web inf tld mywebapp tag mywebapptag tld found apach jasper compil default error handler defaulterrorhandl jsp error jsperror default error handler defaulterrorhandl java apach jasper compil error dispatch errordispatch dispatch error dispatch errordispatch java apach jasper compil error dispatch errordispatch jsp error jsperror error dispatch errordispatch java apach jasper compil tag librari info impl taglibraryinfoimpl init tag librari info impl taglibraryinfoimpl java apach jasper compil parser pars taglib direct parsetaglibdirect parser java apach jasper compil parser pars direct parsedirect parser java apach jasper compil parser pars element parseel parser java apach jasper compil parser pars parser java apach jasper compil parser control parsercontrol do pars dopars parser control parsercontrol java apach jasper compil parser control parsercontrol pars parser control parsercontrol java apach jasper compil compil gener java generatejava compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java java version use oracl jdk updat bit activ tomcat connector http nio httpnio','tld cannot load catalina home contain space','web applic contain tld within web inf directori fail render jsp page referenc tld tomcat instal directori space path program file move entir tomcat instal directori path without space tomcat8 applic render jsp page follow stacktrac print note file path apach jasper jasper except jasperexcept jsp layout standard jsp line column file file program 20 file 20file apach tomcat c5 rc5 webapp mywebapp web inf tld mywebapp tag mywebapptag tld found apach jasper compil default error handler defaulterrorhandl jsp error jsperror default error handler defaulterrorhandl java apach jasper compil error dispatch errordispatch dispatch error dispatch errordispatch java apach jasper compil error dispatch errordispatch jsp error jsperror error dispatch errordispatch java apach jasper compil tag librari info impl taglibraryinfoimpl init tag librari info impl taglibraryinfoimpl java apach jasper compil parser pars taglib direct parsetaglibdirect parser java apach jasper compil parser pars direct parsedirect parser java apach jasper compil parser pars element parseel parser java apach jasper compil parser pars parser java apach jasper compil parser control parsercontrol do pars dopars parser control parsercontrol java apach jasper compil parser control parsercontrol pars parser control parsercontrol java apach jasper compil compil gener java generatejava compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java java version use oracl jdk updat bit activ tomcat connector http nio httpnio','2013-10-25 10:03:35',1382710000,'resolved fixed','ad50e54',1383050000,'java/org/apache/jasper/compiler/TagLibraryInfoImpl.java'),(35,55684,'Bug 55684  WebappClassLoader.getThread want an access to root ThreadGroup','Tomcat may not have all permissions granted.\nThe method WebappClassLoader.getThread try to access the root ThreadGroup in order to list all threads.\nYou should either manage SecurityException or avoid to access the parent ThreadGroup of the thread which start Tomcat.','webapp class loader webappclassload get thread getthread access root thread group threadgroup tomcat may permiss grant method webapp class loader webappclassload get thread getthread tri access root thread group threadgroup order list thread either manag secur except securityexcept avoid access parent thread group threadgroup thread start tomcat','webapp class loader webappclassload get thread getthread access root thread group threadgroup','tomcat may permiss grant method webapp class loader webappclassload get thread getthread tri access root thread group threadgroup order list thread either manag secur except securityexcept avoid access parent thread group threadgroup thread start tomcat','2013-10-21 16:30:04',1382390000,'resolved fixed','d244284',1383040000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(36,55691,'Bug 55691  javax.el.ArrayELResolver.setValue not supporting arrays of primitives','was working in tomcat 6.0.20\n\nERROR javax.faces.context.ExceptionHandlerWrapper - javax.faces.component.UpdateModelException: java.lang.ClassCastException: Unable to add an object of type [java.lang.Integer] to an array of objects of type [int]\njava.lang.ClassCastException: Unable to add an object of type [java.lang.Integer] to an array of objects of type [int]\n	at javax.el.ArrayELResolver.setValue(ArrayELResolver.java:94)\n	at com.sun.faces.el.DemuxCompositeELResolver._setValue(DemuxCompositeELResolver.java:255)\n	at com.sun.faces.el.DemuxCompositeELResolver.setValue(DemuxCompositeELResolver.java:281)\n	at org.apache.el.parser.AstValue.setValue(AstValue.java:158)\n	at org.apache.el.ValueExpressionImpl.setValue(ValueExpressionImpl.java:249)\n	at com.sun.faces.facelets.el.TagValueExpression.setValue(TagValueExpression.java:131)\n	at javax.faces.component.UIInput.updateModel(UIInput.java:818)\n	at javax.faces.component.UIInput.processUpdates(UIInput.java:735)\n	at javax.faces.component.UIData.iterate(UIData.java:2001)\n	at javax.faces.component.UIData.processUpdates(UIData.java:1253)\n	at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1242)\n	at javax.faces.component.UIForm.processUpdates(UIForm.java:281)\n	at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1242)\n	at javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1242)\n	at javax.faces.component.UIViewRoot.processUpdates(UIViewRoot.java:1231)\n	at com.sun.faces.lifecycle.UpdateModelValuesPhase.execute(UpdateModelValuesPhase.java:78)\n	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\n	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)','javax array resolv arrayelresolv set valu setvalu support array primit work tomcat error javax face context except handler wrapper exceptionhandlerwrapp javax face compon updat model except updatemodelexcept java lang class cast except classcastexcept unabl add object type java lang integ array object type int java lang class cast except classcastexcept unabl add object type java lang integ array object type int javax array resolv arrayelresolv set valu setvalu array resolv arrayelresolv java sun face demux composit resolv demuxcompositeelresolv set valu setvalu demux composit resolv demuxcompositeelresolv java sun face demux composit resolv demuxcompositeelresolv set valu setvalu demux composit resolv demuxcompositeelresolv java apach parser ast valu astvalu set valu setvalu ast valu astvalu java apach valu express impl valueexpressionimpl set valu setvalu valu express impl valueexpressionimpl java sun face facelet tag valu express tagvalueexpress set valu setvalu tag valu express tagvalueexpress java javax face compon ui input uiinput updat model updatemodel ui input uiinput java javax face compon ui input uiinput process updat processupd ui input uiinput java javax face compon ui data uidata iter ui data uidata java javax face compon ui data uidata process updat processupd ui data uidata java javax face compon ui compon base uicomponentbas process updat processupd ui compon base uicomponentbas java javax face compon ui form uiform process updat processupd ui form uiform java javax face compon ui compon base uicomponentbas process updat processupd ui compon base uicomponentbas java javax face compon ui compon base uicomponentbas process updat processupd ui compon base uicomponentbas java javax face compon ui view root uiviewroot process updat processupd ui view root uiviewroot java sun face lifecycl updat model valu phase updatemodelvaluesphas execut updat model valu phase updatemodelvaluesphas java sun face lifecycl phase do phase dophas phase java sun face lifecycl lifecycl impl lifecycleimpl execut lifecycl impl lifecycleimpl java javax face webapp face servlet facesservlet servic face servlet facesservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java','javax array resolv arrayelresolv set valu setvalu support array primit','work tomcat error javax face context except handler wrapper exceptionhandlerwrapp javax face compon updat model except updatemodelexcept java lang class cast except classcastexcept unabl add object type java lang integ array object type int java lang class cast except classcastexcept unabl add object type java lang integ array object type int javax array resolv arrayelresolv set valu setvalu array resolv arrayelresolv java sun face demux composit resolv demuxcompositeelresolv set valu setvalu demux composit resolv demuxcompositeelresolv java sun face demux composit resolv demuxcompositeelresolv set valu setvalu demux composit resolv demuxcompositeelresolv java apach parser ast valu astvalu set valu setvalu ast valu astvalu java apach valu express impl valueexpressionimpl set valu setvalu valu express impl valueexpressionimpl java sun face facelet tag valu express tagvalueexpress set valu setvalu tag valu express tagvalueexpress java javax face compon ui input uiinput updat model updatemodel ui input uiinput java javax face compon ui input uiinput process updat processupd ui input uiinput java javax face compon ui data uidata iter ui data uidata java javax face compon ui data uidata process updat processupd ui data uidata java javax face compon ui compon base uicomponentbas process updat processupd ui compon base uicomponentbas java javax face compon ui form uiform process updat processupd ui form uiform java javax face compon ui compon base uicomponentbas process updat processupd ui compon base uicomponentbas java javax face compon ui compon base uicomponentbas process updat processupd ui compon base uicomponentbas java javax face compon ui view root uiviewroot process updat processupd ui view root uiviewroot java sun face lifecycl updat model valu phase updatemodelvaluesphas execut updat model valu phase updatemodelvaluesphas java sun face lifecycl phase do phase dophas phase java sun face lifecycl lifecycl impl lifecycleimpl execut lifecycl impl lifecycleimpl java javax face webapp face servlet facesservlet servic face servlet facesservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java','2013-10-22 23:05:42',1382500000,'resolved fixed','b82c0c6',1382990000,'java/javax/el/ArrayELResolver.java\njava/javax/el/Util.java\ntest/javax/el/TestArrayELResolver.java'),(37,55681,'Bug 55681  JSR-356 message handling: NULL pointer being thrown when DecodeException is caught in PojoMessageHandlerWholeBase<T>.onMessage','I am testing what happens when Encode/Decode Exceptions occur during JSR-356 communication.  In our case, we do NOT use annotation, but we \"extend Endpoint\" and \"implement Whole<ThingworxMessage>\".  I was forcing a DecodeException to occur - expecting to my onError to be called with the actual DecodeException.  Instead, I got a Null.  \n\nStepping the following code in Tomcat:\n\nin onMessage, the ((WsSession)session) is NULL.  As a result, the actual DecodeException (cause) is lost.\n\n       // Can this message be decoded?\n        Object payload;\n        try {\n            payload = decode(message);\n        } catch (DecodeException de) {\n            ((WsSession) session).getLocal().onError(session, de);\n            return;\n        }\n\n\nTracing this further up the stack, I found that Util.getMessageHandlers is initializing it and passing NULL in for the session:\n\n            if (decoderMatch.getTextDecoders().size() > 0) {\n                MessageHandlerResult result = new MessageHandlerResult(\n                        new PojoMessageHandlerWholeText(listener, m, null,\n                                endpointConfig,\n                                decoderMatch.getTextDecoders(), new Object[1],\n                                0, false, -1, -1),\n                        MessageHandlerResultType.TEXT);\n                results.add(result);\n            }\n\nPlease let me know if I can provide any more details.\n\n-bob','jsr messag handl null pointer thrown decod except decodeexcept caught pojo messag handler whole base pojomessagehandlerwholebas on messag onmessag test happen encod decod except occur jsr commun case use annot extend endpoint implement whole thingworx messag thingworxmessag forc decod except decodeexcept occur expect on error onerror call actual decod except decodeexcept instead got null step follow code tomcat on messag onmessag session wssession session null result actual decod except decodeexcept caus lost messag decod object payload tri payload decod messag catch decod except decodeexcept session wssession session get local getloc on error onerror session return trace stack found util get messag handler getmessagehandl initi pass null session decod match decodermatch get text decod gettextdecod size messag handler result messagehandlerresult result new messag handler result messagehandlerresult new pojo messag handler whole text pojomessagehandlerwholetext listen null endpoint config endpointconfig decod match decodermatch get text decod gettextdecod new object fals messag handler result type messagehandlerresulttyp text result add result pleas let know provid detail bob','jsr messag handl null pointer thrown decod except decodeexcept caught pojo messag handler whole base pojomessagehandlerwholebas on messag onmessag','test happen encod decod except occur jsr commun case use annot extend endpoint implement whole thingworx messag thingworxmessag forc decod except decodeexcept occur expect on error onerror call actual decod except decodeexcept instead got null step follow code tomcat on messag onmessag session wssession session null result actual decod except decodeexcept caus lost messag decod object payload tri payload decod messag catch decod except decodeexcept session wssession session get local getloc on error onerror session return trace stack found util get messag handler getmessagehandl initi pass null session decod match decodermatch get text decod gettextdecod size messag handler result messagehandlerresult result new messag handler result messagehandlerresult new pojo messag handler whole text pojomessagehandlerwholetext listen null endpoint config endpointconfig decod match decodermatch get text decod gettextdecod new object fals messag handler result type messagehandlerresulttyp text result add result pleas let know provid detail bob','2013-10-20 17:37:21',1382310000,'resolved fixed','514cefb',1382300000,'java/org/apache/tomcat/websocket/Util.java\njava/org/apache/tomcat/websocket/WsSession.java'),(38,55664,'Bug 55664  [websocket] NPE in Util$DecoderMatch during application start','','websocket npe util decod match decodermatch applic start','websocket npe util decod match decodermatch applic start','','2013-10-17 19:01:26',1382050000,'resolved fixed','4e4a24a',1382080000,'java/org/apache/tomcat/websocket/Util.java\ntest/org/apache/tomcat/websocket/TestUtil.java\ntest/org/apache/tomcat/websocket/pojo/TestEncodingDecoding.java'),(39,55656,'Bug 55656  Server ClassLoader not used for Server creation','','server class loader classload use server creation','server class loader classload use server creation','','2013-10-16 09:56:54',1381930000,'resolved fixed','86ec1f4',1382020000,'java/org/apache/catalina/startup/Catalina.java'),(40,54095,'Bug 54095  [patch] support gzipped versions of static resources by DefaultServlet','','patch support gzip version static resourc default servlet defaultservlet','patch support gzip version static resourc default servlet defaultservlet','','2012-11-03 20:49:45',1351990000,'resolved fixed','f0101d0',1381440000,'java/org/apache/catalina/servlets/DefaultServlet.java\ntest/org/apache/catalina/servlets/TestDefaultServlet.java'),(41,55251,'Bug 55251  JspC fails silently if directory for generated web.xml does not exist','If the file specified for webXml (via call to setWebXml) cannot be created (for example if the directory does not exist), then JspC fails silently.','jsp jspc fail silent directori gener web xml exist file specifi web xml webxml via call set web xml setwebxml cannot creat exampl directori exist jsp jspc fail silent','jsp jspc fail silent directori gener web xml exist','file specifi web xml webxml via call set web xml setwebxml cannot creat exampl directori exist jsp jspc fail silent','2013-07-12 03:50:46',1373620000,'resolved fixed','06d8338',1381410000,'java/org/apache/jasper/JspC.java'),(42,55642,'Bug 55642  TagPluginManager isConstantAttribute broken','Function isConstantAttribute in TagPluginManager seems to be be broken.\nFor value \"order.status\" it returns false. And for value \"${order.state.name}\" it returns true. According to javadoc it should be exact opposite.\n\nProblem seems to be in Node.isLiteral function. \"el!= null\" should probably be \"el== null\" But this function is being used elsewhere.\n\n\n/**\n* @return true if the attribute is specified and its value is a\n*         translation-time constant.\n*/\npublic boolean TagPluginManager.isConstantAttribute(String attribute){\n    Node.JspAttribute attr = getNodeAttribute(attribute);\n    if (attr == null)\n        return false;\n    return attr.isLiteral();\n}\n/**\n* @return true if the value is a string literal known at translation\n*         time.\n*/\npublic boolean isLiteral() {\n    return !expression && (el != null) && !namedAttribute;\n}','tag plugin manag tagpluginmanag is constant attribut isconstantattribut broken function is constant attribut isconstantattribut tag plugin manag tagpluginmanag seem broken valu order statu return fals valu order state name return true accord javadoc exact opposit problem seem node is liter isliter function null probabl null function use elsewher return true attribut specifi valu translat time translationtim constant public boolean tag plugin manag tagpluginmanag is constant attribut isconstantattribut string attribut node jsp attribut jspattribut attr get node attribut getnodeattribut attribut attr null return fals return attr is liter isliter return true valu string liter known translat time public boolean is liter isliter return express null name attribut namedattribut','tag plugin manag tagpluginmanag is constant attribut isconstantattribut broken','function is constant attribut isconstantattribut tag plugin manag tagpluginmanag seem broken valu order statu return fals valu order state name return true accord javadoc exact opposit problem seem node is liter isliter function null probabl null function use elsewher return true attribut specifi valu translat time translationtim constant public boolean tag plugin manag tagpluginmanag is constant attribut isconstantattribut string attribut node jsp attribut jspattribut attr get node attribut getnodeattribut attribut attr null return fals return attr is liter isliter return true valu string liter known translat time public boolean is liter isliter return express null name attribut namedattribut','2013-10-09 13:02:21',1381340000,'resolved fixed','af49b44',1381330000,'java/org/apache/jasper/compiler/Node.java\ntest/org/apache/jasper/compiler/TestNode.java'),(43,55630,'Bug 55630  clean way to avoid setURLStreamHandlerFactory call','A current method is to set WebappLoader.first via reflection (because private).\n\nI think the setURLStreamHandlerFactory should be move to Catalina.start (\'first\' static field can be move in Catalina).\nSo we could have a static method in Catalina to prevent setURLStreamHandlerFactory call while first starting.','clean way avoid set stream handler factori seturlstreamhandlerfactori call current method set webapp loader webappload first via reflect privat think set stream handler factori seturlstreamhandlerfactori move catalina start first static field move catalina could static method catalina prevent set stream handler factori seturlstreamhandlerfactori call first start','clean way avoid set stream handler factori seturlstreamhandlerfactori call','current method set webapp loader webappload first via reflect privat think set stream handler factori seturlstreamhandlerfactori move catalina start first static field move catalina could static method catalina prevent set stream handler factori seturlstreamhandlerfactori call first start','2013-10-05 16:51:34',1381010000,'resolved fixed','bd56eea',1381170000,'java/org/apache/catalina/webresources/TomcatURLStreamHandlerFactory.java'),(44,55629,'Bug 55629  StatusManagerServlet does not remove JMX notification listener','StatusManagerServlet.destroy should call mBeanServer.removeNotificationListener because init method call mBeanServer.addNotificationListener.','statu manag servlet statusmanagerservlet remov jmx notif listen statu manag servlet statusmanagerservlet destroy call bean server mbeanserv remov notif listen removenotificationlisten init method call bean server mbeanserv add notif listen addnotificationlisten','statu manag servlet statusmanagerservlet remov jmx notif listen','statu manag servlet statusmanagerservlet destroy call bean server mbeanserv remov notif listen removenotificationlisten init method call bean server mbeanserv add notif listen addnotificationlisten','2013-10-05 16:38:36',1381010000,'resolved fixed','95faaec',1381130000,'java/org/apache/catalina/manager/StatusManagerServlet.java'),(45,55317,'Bug 55317  Facilitate weaving by allowing ClassFileTransformer to be added to WebppClassLoader','','facilit weav allow class file transform classfiletransform ad webpp class loader webppclassload','facilit weav allow class file transform classfiletransform ad webpp class loader webppclassload','','2013-07-28 07:17:28',1375010000,'resolved fixed','dd0cba7',1380240000,'java/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/tomcat/InstrumentableClassLoader.java\ntest/org/apache/catalina/loader/TestWebappClassLoaderWeaving.java\ntest/org/apache/catalina/loader/TesterNeverWeavedClass.java\ntest/org/apache/catalina/loader/TesterUnweavedClass.java'),(46,55576,'Bug 55576  Order of ServletRequest parameters is not preserved','The ServletRequest interface provides two methods to iterate through request parameters:\n\nEnumeration<String> getParameterNames(), and\nMap<String, String[]> getParameterMap()\n\nUnfortunately, the underlying implementation in Tomcat is a HashMap, which fails to preserve the order of parameters as they are specified in the request.\n\nAn alternate implementation should be used to preserve request order.  LinkedHashMap, for example, is capable of preserving insertion order.\n\nThe Servlet Specification (v3.0) speaks only to the relative ordering of query string data and post body data. However, section 17.13.3 of the HTML specification (v4.01) titled \"Processing form data\", clearly states that \"control names/values are listed in the order they appear in the document.\"\n\nTherefore, I do not see a valid interpretation of either specification to rationalize Tomcat\'s implementation. To receive a request with an ordered list of parameters and represent them in an implementation that is guaranteed not to preserve this order is difficult to rationalize.','order servlet request servletrequest paramet preserv servlet request servletrequest interfac provid two method iter request paramet enumer string get paramet name getparameternam map string string get paramet map getparametermap unfortun underli implement tomcat hash map hashmap fail preserv order paramet specifi request altern implement use preserv request order link hash map linkedhashmap exampl capabl preserv insert order servlet specif v3 speak rel order queri string data post bodi data howev section html specif v4 titl process form data clearli state control name valu list order appear document therefor see valid interpret either specif ration tomcat implement receiv request order list paramet repres implement guarante preserv order difficult ration','order servlet request servletrequest paramet preserv','servlet request servletrequest interfac provid two method iter request paramet enumer string get paramet name getparameternam map string string get paramet map getparametermap unfortun underli implement tomcat hash map hashmap fail preserv order paramet specifi request altern implement use preserv request order link hash map linkedhashmap exampl capabl preserv insert order servlet specif v3 speak rel order queri string data post bodi data howev section html specif v4 titl process form data clearli state control name valu list order appear document therefor see valid interpret either specif ration tomcat implement receiv request order list paramet repres implement guarante preserv order difficult ration','2013-09-20 21:14:32',1379730000,'resolved fixed','90556a9',1379970000,'java/org/apache/catalina/util/ParameterMap.java\njava/org/apache/tomcat/util/http/Parameters.java'),(47,55582,'Bug 55582  Concurrent issue of TagFileProcessor','','concurr issu tag file processor tagfileprocessor','concurr issu tag file processor tagfileprocessor','','2013-09-22 10:00:36',1379860000,'resolved fixed','f627cc8',1379940000,'java/org/apache/jasper/compiler/TagFileProcessor.java'),(48,55570,'Bug 55570  SpnegoAuthenticator: Resource file is missing placeholders for exceptions.','In java/org/apache/catalina/authenticator/SpnegoAuthenticator.java problems are logged with an exception. The exception does not show up in the logging. The exception only shows up if I hack java/org/apache/catalina/authenticator/LocalStrings.properties in catalina.jar, and add a placeholder.\n\n\nREPRODUCE:\n- Configure SP-NEGO with Kerberos.\n- Mess up your principal in com.sun.security.jgss.krb5.accept in jaas.config.\n- Try to login. \n- See that you get something like:\nFINE [org.apache.catalina.authenticator.SpnegoAuthenticator authenticate] Failed to validate client supplied ticket \n\nFIX:\nIn java/org/apache/catalina/authenticator/LocalStrings.properties please add [{0}] to the following lines:\nspnegoAuthenticator.ticketValidateFail=Failed to validate client supplied ticket\nspnegoAuthenticator.serviceLoginFail=Unable to login as the service principal\nIn SpnegoAuthenticator.java you can verify that exceptions are indeed passed to the log.\n\nVALIDATE:\n- Reproduce again\n- See that you now get\nFailed to validate client supplied ticket [GSSException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - RC4 with HMAC)] \n\nThe exception is not super-helpful, but at least it\'s something.','spnego authent spnegoauthent resourc file miss placehold except java apach catalina authent spnego authent spnegoauthent java problem log except except show log except show hack java apach catalina authent local string localstr properti catalina jar add placehold reproduc configur sp nego kerbero mess princip sun secur jgss krb5 accept jaa config tri login see get someth like fine apach catalina authent spnego authent spnegoauthent authent fail valid client suppli ticket fix java apach catalina authent local string localstr properti pleas add follow line spnego authent spnegoauthent ticket valid fail ticketvalidatefail fail valid client suppli ticket spnego authent spnegoauthent servic login fail serviceloginfail unabl login servic princip spnego authent spnegoauthent java verifi except inde pass log valid reproduc see get fail valid client suppli ticket except gssexcept failur unspecifi g api level mechan level invalid argument cannot find key appropri type decrypt ap rep c4 rc4 hmac except super help superhelp least someth','spnego authent spnegoauthent resourc file miss placehold except','java apach catalina authent spnego authent spnegoauthent java problem log except except show log except show hack java apach catalina authent local string localstr properti catalina jar add placehold reproduc configur sp nego kerbero mess princip sun secur jgss krb5 accept jaa config tri login see get someth like fine apach catalina authent spnego authent spnegoauthent authent fail valid client suppli ticket fix java apach catalina authent local string localstr properti pleas add follow line spnego authent spnegoauthent ticket valid fail ticketvalidatefail fail valid client suppli ticket spnego authent spnegoauthent servic login fail serviceloginfail unabl login servic princip spnego authent spnegoauthent java verifi except inde pass log valid reproduc see get fail valid client suppli ticket except gssexcept failur unspecifi g api level mechan level invalid argument cannot find key appropri type decrypt ap rep c4 rc4 hmac except super help superhelp least someth','2013-09-19 12:48:43',1379610000,'resolved fixed','910d4d9',1379600000,'java/org/apache/catalina/authenticator/SpnegoAuthenticator.java'),(49,46727,'Bug 46727  DefaultServlet - serving multiple encodings','','default servlet defaultservlet serv multipl encod','default servlet defaultservlet serv multipl encod','','2009-02-17 15:01:26',1234900000,'resolved fixed','f74257e',1379510000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(50,52558,'Bug 52558  CometConnectionManagerValve is adding non-serializable Request[] to Session','CometConnectionManagerValve is adding HttpServletRequest[] to HttpSession which is preventing the Session being serialized in a Clustered setup.\n\nWe\'re resolving this locally using a serializable ConnectionList class with a transient Request[]\n\ni.e.\n\npublic class ConnectionList implements Serializable {\n	\n	transient Request[] connectionList = null;\n	\n	ConnectionList(Request[] connectionList){\n		this.connectionList = connectionList;\n	}\n	\n	public Request[] get(){\n		return connectionList;\n	}\n}','comet connect manag valv cometconnectionmanagervalv ad non serializ nonserializ request session comet connect manag valv cometconnectionmanagervalv ad http servlet request httpservletrequest http session httpsession prevent session serial cluster setup re resolv local use serializ connect list connectionlist class transient request public class connect list connectionlist implement serializ transient request connect list connectionlist null connect list connectionlist request connect list connectionlist connect list connectionlist connect list connectionlist public request get return connect list connectionlist','comet connect manag valv cometconnectionmanagervalv ad non serializ nonserializ request session','comet connect manag valv cometconnectionmanagervalv ad http servlet request httpservletrequest http session httpsession prevent session serial cluster setup re resolv local use serializ connect list connectionlist class transient request public class connect list connectionlist implement serializ transient request connect list connectionlist null connect list connectionlist request connect list connectionlist connect list connectionlist connect list connectionlist public request get return connect list connectionlist','2012-01-30 10:46:47',1327940000,'resolved fixed','b284611',1378980000,'java/org/apache/catalina/valves/CometConnectionManagerValve.java'),(51,55552,'Bug 55552  Potential NullPointerException in compiled JSPs if expected EL result is of primitive type','','potenti null pointer except nullpointerexcept compil jsp expect result primit type','potenti null pointer except nullpointerexcept compil jsp expect result primit type','','2013-09-12 06:19:31',1378980000,'resolved fixed','66932c4',1378980000,'java/org/apache/jasper/compiler/JspUtil.java'),(52,54693,'Bug 54693  Add a validationQueryTimeout property','','add valid queri timeout validationquerytimeout properti','add valid queri timeout validationquerytimeout properti','','2013-03-13 20:04:20',1363220000,'resolved fixed','b022c57',1378720000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceFactory.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolConfiguration.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PooledConnection.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java\nmodules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/TestValidationQueryTimeout.java'),(53,55521,'Bug 55521  Race Condition in HttpSession#invalidate() / HttpServletRequest#getSession(boolean)','','race condit http session httpsession invalid http servlet request httpservletrequest get session getsess boolean','race condit http session httpsession invalid http servlet request httpservletrequest get session getsess boolean','','2013-09-04 10:24:05',1378300000,'resolved fixed','262c069',1378400000,'java/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/session/StandardSession.java'),(54,55527,'Bug 55527  JSSESocketFactory conditionally converts alias to lower case; condition is unwise','JSSESocketFactory conditionally converts the alias to lower case.\n\nThe condition is coded as follows:\n\nprivate static final String defaultKeystoreType = \"JKS\";\n...\nif (JSSESocketFactory.defaultKeystoreType.equals(keystoreType)) {\n    alias = alias.toLowerCase(Locale.ENGLISH);\n}\n\nIf the intention is to downcase only JKS store aliases, then the comparison should be made with \"JKS\", not a constant that happens to contain \"JKS\" at present.\n\nUsing a specific comparator would both clarify the code and protect against a possible change to the default (albeit very unlikely).','socket factori jssesocketfactori condit convert alia lower case condit unwis socket factori jssesocketfactori condit convert alia lower case condit code follow privat static final string default keystor type defaultkeystoretyp jk socket factori jssesocketfactori default keystor type defaultkeystoretyp equal keystor type keystoretyp alia alia to lower case tolowercas local english intent downcas jk store alia comparison made jk constant happen contain jk present use specif compar would clarifi code protect possibl chang default albeit unlik','socket factori jssesocketfactori condit convert alia lower case condit unwis','socket factori jssesocketfactori condit convert alia lower case condit code follow privat static final string default keystor type defaultkeystoretyp jk socket factori jssesocketfactori default keystor type defaultkeystoretyp equal keystor type keystoretyp alia alia to lower case tolowercas local english intent downcas jk store alia comparison made jk constant happen contain jk present use specif compar would clarifi code protect possibl chang default albeit unlik','2013-09-05 09:05:01',1378390000,'resolved fixed','f126b5a',1378380000,'java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(55,55343,'Bug 55343  Add flag to ignore exceptions while creating initial pool','I want my initial pool to be of some size i.e. not empty AND start even if it fails to create all or some of connections.\n\nIf pool fails to create initial connections for some reason it just throws exceptions. To workaround that I have to set initial pool size to 0.\n\nIt can be handy to add a flag to ignore (just log them) exceptions that occur while creating initial connections.','add flag ignor except creat initi pool initi pool size empti start even fail creat connect pool fail creat initi connect reason throw except workaround set initi pool size handi add flag ignor log except occur creat initi connect','add flag ignor except creat initi pool','initi pool size empti start even fail creat connect pool fail creat initi connect reason throw except workaround set initi pool size handi add flag ignor log except occur creat initi connect','2013-08-02 06:05:03',1375440000,'resolved fixed','4aa42d7',1378280000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceFactory.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolConfiguration.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java'),(56,55342,'Bug 55342  Lost interruption','org.apache.tomcat.jdbc.pool.ConnectionPool#close should not call Thread.interrupted() because interrupt was already reset by code that thrown InterruptedException.\n\n  } catch (InterruptedException ex) {\n      if (getPoolProperties().getPropagateInterruptState()) {\n          Thread.currentThread().interrupt();\n-     } else {\n-         Thread.interrupted();\n      }\n  }','lost interrupt apach tomcat jdbc pool connect pool connectionpool close call thread interrupt interrupt alreadi reset code thrown interrupt except interruptedexcept catch interrupt except interruptedexcept ex get pool properti getpoolproperti get propag interrupt state getpropagateinterruptst thread current thread currentthread interrupt els thread interrupt','lost interrupt','apach tomcat jdbc pool connect pool connectionpool close call thread interrupt interrupt alreadi reset code thrown interrupt except interruptedexcept catch interrupt except interruptedexcept ex get pool properti getpoolproperti get propag interrupt state getpropagateinterruptst thread current thread currentthread interrupt els thread interrupt','2013-08-02 05:54:35',1375440000,'resolved fixed','41225cd',1378260000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java'),(57,55500,'Bug 55500  AsyncListener.onTimeout is not called via AJP AjpNioProtocol connector','The AsyncListener.onTimeout is not called, when timeout occurs, when traffic routed via AJP connector configured with AjpNioProtocol protocol.','async listen asynclisten on timeout ontimeout call via ajp ajp nio protocol ajpnioprotocol connector async listen asynclisten on timeout ontimeout call timeout occur traffic rout via ajp connector configur ajp nio protocol ajpnioprotocol protocol','async listen asynclisten on timeout ontimeout call via ajp ajp nio protocol ajpnioprotocol connector','async listen asynclisten on timeout ontimeout call timeout occur traffic rout via ajp connector configur ajp nio protocol ajpnioprotocol protocol','2013-08-29 12:21:17',1377790000,'resolved fixed','cf1e104',1378200000,'java/org/apache/coyote/ajp/AbstractAjpProcessor.java\njava/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpNioProcessor.java\njava/org/apache/coyote/ajp/AjpProcessor.java'),(58,55494,'Bug 55494  JNDIRealm throws exception after timeout / Connection reset','','realm jndirealm throw except timeout connect reset','realm jndirealm throw except timeout connect reset','','2013-08-28 12:54:09',1377710000,'resolved fixed','7e74aee',1377700000,'java/org/apache/catalina/realm/JNDIRealm.java'),(59,55453,'Bug 55453  AJP send Body with Status 304','','ajp send bodi statu','ajp send bodi statu','','2013-08-20 04:48:03',1376990000,'resolved fixed','6d99103',1377690000,'java/org/apache/coyote/ajp/AbstractAjpProcessor.java\ntest/org/apache/coyote/ajp/TestAbstractAjpProcessor.java'),(60,51526,'Bug 51526  Process web application context config with embedded Tomcat.addWebApp(...)','It would be nice if org.apache.catalina.startup.Tomcat.addWebApp(...) would process the web application\'s META-INF/context.xml if found.  The current implementation skips META-INF/context.xml loading, and does not appear to offer any hook to enable it--the StandardContext is instantiated and initialized with a null configFile in the single call to addWebApp(...).','process web applic context config embed tomcat add web app addwebapp would nice apach catalina startup tomcat add web app addwebapp would process web applic meta inf context xml found current implement skip meta inf context xml load appear offer hook enabl standard context standardcontext instanti initi null config file configfil singl call add web app addwebapp','process web applic context config embed tomcat add web app addwebapp','would nice apach catalina startup tomcat add web app addwebapp would process web applic meta inf context xml found current implement skip meta inf context xml load appear offer hook enabl standard context standardcontext instanti initi null config file configfil singl call add web app addwebapp','2011-07-18 23:08:06',1311040000,'resolved fixed','058f044',1377630000,'java/org/apache/catalina/startup/Tomcat.java\ntest/org/apache/catalina/startup/TestTomcat.java'),(61,55469,'Bug 55469  Missing HTML closing tags in Manager application','','miss html close tag manag applic','miss html close tag manag applic','','2013-08-22 20:05:22',1377220000,'resolved fixed','9a22360',1377240000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(62,55454,'Bug 55454  NullPointerException caused by invalid contentType, e.g. trailing semicolon','possible related to 53353\n\nWhen having an invalid contenttype like:\n<jsp:directive.page language=\"java\" contentType=\"text/html;\"/>\n(note the trailing \";\") Tomcat throws a NullPointerException like this:\n\njava.lang.NullPointerException\n	org.apache.tomcat.util.http.parser.HttpParser.parseMediaType(HttpParser.java:217)\n	org.apache.tomcat.util.http.parser.MediaTypeCache.parse(MediaTypeCache.java:54)\n	org.apache.catalina.connector.Response.setContentType(Response.java:805)\n	org.apache.catalina.connector.ResponseFacade.setContentType(ResponseFacade.java:245)\n	javax.servlet.ServletResponseWrapper.setContentType(ServletResponseWrapper.java:123)\n\nAfter removing the extra \";\" or entering a charset like this:\n<jsp:directive.page language=\"java\" contentType=\"text/html; charset=UTF-8\"/>\nit works as expected.\n\nMy desired behaviour would be:\nDon\'t crash with a NPE.\nOther Tomcat versions seem to handly this different.','null pointer except nullpointerexcept caus invalid content type contenttyp trail semicolon possibl relat invalid contenttyp like jsp direct page languag java content type contenttyp text html note trail tomcat throw null pointer except nullpointerexcept like java lang null pointer except nullpointerexcept apach tomcat util http parser http parser httpparser pars medium type parsemediatyp http parser httpparser java apach tomcat util http parser medium type cach mediatypecach pars medium type cach mediatypecach java apach catalina connector respons set content type setcontenttyp respons java apach catalina connector respons facad responsefacad set content type setcontenttyp respons facad responsefacad java javax servlet servlet respons wrapper servletresponsewrapp set content type setcontenttyp servlet respons wrapper servletresponsewrapp java remov extra enter charset like jsp direct page languag java content type contenttyp text html charset utf work expect desir behaviour would crash npe tomcat version seem handli differ','null pointer except nullpointerexcept caus invalid content type contenttyp trail semicolon','possibl relat invalid contenttyp like jsp direct page languag java content type contenttyp text html note trail tomcat throw null pointer except nullpointerexcept like java lang null pointer except nullpointerexcept apach tomcat util http parser http parser httpparser pars medium type parsemediatyp http parser httpparser java apach tomcat util http parser medium type cach mediatypecach pars medium type cach mediatypecach java apach catalina connector respons set content type setcontenttyp respons java apach catalina connector respons facad responsefacad set content type setcontenttyp respons facad responsefacad java javax servlet servlet respons wrapper servletresponsewrapp set content type setcontenttyp servlet respons wrapper servletresponsewrapp java remov extra enter charset like jsp direct page languag java content type contenttyp text html charset utf work expect desir behaviour would crash npe tomcat version seem handli differ','2013-08-20 09:30:09',1377010000,'resolved fixed','8b03dcf',1377010000,'java/org/apache/tomcat/util/http/parser/HttpParser.java\ntest/org/apache/tomcat/util/http/parser/TestMediaType.java'),(63,55442,'Bug 55442  EL Constructor throws exception','In the EL 3.0 Spec, section 1.22.3 \"Constructor Reference\"  states \"A class name reference, followed by arguments in parenthesis, such as \"Boolean(true)\" denotes the invocation of the constructor of the class with the supplied arguments.\"\n\nThis leads me to believe that the following test should work:\n\n   @Test\n   public void testImport03() {\n   	ELProcessor processor = new ELProcessor();\n       Object result =\n               processor.getValue(\"Integer(\'1000\')\",\n                       Integer.class);\n       Assert.assertEquals(Integer.valueOf(1000), result);\n   }\n\nUnfortunately, this fails with the following error.\n\njavax.el.ELException: Function \':Integer\' not found\n	at org.apache.el.parser.AstFunction.getValue(AstFunction.java:136)\n	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:188)\n	at javax.el.ELProcessor.getValue(ELProcessor.java:45)\n	at org.apache.el.parser.TestAstIdentifier.testImport03(TestAstIdentifier.java:53)\n...\n\nThanks','constructor throw except spec section constructor refer state class name refer follow argument parenthesi boolean true denot invoc constructor class suppli argument lead believ follow work public void test import03 testimport03 processor elprocessor processor new processor elprocessor object result processor get valu getvalu integ integ class assert assert equal assertequ integ valu of valueof result unfortun fail follow error javax except elexcept function integ found apach parser ast function astfunct get valu getvalu ast function astfunct java apach valu express impl valueexpressionimpl get valu getvalu valu express impl valueexpressionimpl java javax processor elprocessor get valu getvalu processor elprocessor java apach parser test ast identifi testastidentifi test import03 testimport03 test ast identifi testastidentifi java thank','constructor throw except','spec section constructor refer state class name refer follow argument parenthesi boolean true denot invoc constructor class suppli argument lead believ follow work public void test import03 testimport03 processor elprocessor processor new processor elprocessor object result processor get valu getvalu integ integ class assert assert equal assertequ integ valu of valueof result unfortun fail follow error javax except elexcept function integ found apach parser ast function astfunct get valu getvalu ast function astfunct java apach valu express impl valueexpressionimpl get valu getvalu valu express impl valueexpressionimpl java javax processor elprocessor get valu getvalu processor elprocessor java apach parser test ast identifi testastidentifi test import03 testimport03 test ast identifi testastidentifi java thank','2013-08-17 13:39:06',1376760000,'resolved fixed','ab70f07',1376990000,'java/org/apache/el/parser/AstFunction.java\ntest/org/apache/el/parser/TestAstFunction.java'),(64,55438,'Bug 55438  Non Blocking API\'s onAllDataRead being called twice','','block api on all data read onalldataread call twice','block api on all data read onalldataread call twice','','2013-08-16 18:51:10',1376690000,'resolved fixed','7f6ea48',1376920000,'java/org/apache/catalina/connector/InputBuffer.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/coyote/Request.java\ntest/org/apache/catalina/nonblocking/TestNonBlockingAPI.java'),(65,55434,'Bug 55434  The path /foo/a/a/bar causes IllegalArgumentException when WsServerContainer creates UriTemplate','WsFilter calls WsServerContainer.findMapping(\"/foo/a/a/bar\"), which in turn calls new UriTemplate(path). If the path contains repeated segments, it causes the following code in the UriTemplate constructor to throw an exception:\n\nSegment old =\n        this.segments.put(segment, new Segment(index, segment));\nif (old != null) {\n    throw new IllegalArgumentException(\n            sm.getString(\"uriTemplate.duplicateName\", segment));\n}\n\nThis would be valid if the duplicates were URI variable names but not when their plain path segments.','path foo bar caus illeg argument except illegalargumentexcept server contain wsservercontain creat uri templat uritempl filter wsfilter call server contain wsservercontain find map findmap foo bar turn call new uri templat uritempl path path contain repeat segment caus follow code uri templat uritempl constructor throw except segment old segment put segment new segment index segment old null throw new illeg argument except illegalargumentexcept sm get string getstr uri templat uritempl duplic name duplicatenam segment would valid duplic uri variabl name plain path segment','path foo bar caus illeg argument except illegalargumentexcept server contain wsservercontain creat uri templat uritempl','filter wsfilter call server contain wsservercontain find map findmap foo bar turn call new uri templat uritempl path path contain repeat segment caus follow code uri templat uritempl constructor throw except segment old segment put segment new segment index segment old null throw new illeg argument except illegalargumentexcept sm get string getstr uri templat uritempl duplic name duplicatenam segment would valid duplic uri variabl name plain path segment','2013-08-16 17:31:48',1376690000,'resolved fixed','98ee5b4',1376850000,'java/org/apache/tomcat/websocket/server/UriTemplate.java\ntest/org/apache/tomcat/websocket/server/TestUriTemplate.java'),(66,55354,'Bug 55354  JNDIRealm.getPrincipal(context,username,gssCredential) corrupts realm context','The getPrincipal(context,username,gssCredential) method in JNDIRealm is designed to allow delegated credentials to be applied to the directory server connection as part of SPNEGO authentication.\n\nThis is done by manipulation of a number of the directory context\'s environment parameters.\n\nHowever, as currently implemented, these environment parameters are forcibly cleared after the getUser() call regardless of whether the values were even changed (i.e. if isUseDelegatedCredential() returned false).\n\nIf the container realm is defined to use GSSAPI authentication, only the first SPNEGO authentication request will succeed.  All subsequent requests will fail with this exception:\njavax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0906DC, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v1db0 \n\nThe exception is due to the Context.SECURITY_AUTHENTICATION being cleared by getPrincipal() - resulting in a attempted \"simple\" bind with no username/password (i.e. anonymous).\n\nA workaround is to ensure that the connectionName and connectionPassword parameters are specified in the realm definition - however, if one is using GSSAPI - this shouldn\'t be necessary and certainly defeats the purpose of using GSSAPI in the first place.\n\nThe code should preserve pre-existing environment parameters in the context before changing them, then restore those values afterwards - rather than just clearing the settings completely.','realm jndirealm get princip getprincip context usernam credenti gsscredenti corrupt realm context get princip getprincip context usernam credenti gsscredenti method realm jndirealm design allow deleg credenti appli directori server connect part spnego authent done manipul number directori context environ paramet howev current implement environ paramet forcibl clear get user getus call regardless whether valu even chang is use deleg credenti isusedelegatedcredenti return fals contain realm defin use gssapi authent first spnego authent request succeed subsequ request fail except javax name name except namingexcept ldap error code 000004 000004dc ldap err ldaperr dsid c0906 0c0906dc comment order perform oper success bind must complet connect data v1db0 except due context secur authent clear get princip getprincip result attempt simpl bind usernam password anonym workaround ensur connect name connectionnam connect password connectionpassword paramet specifi realm definit howev one use gssapi shouldn necessari certainli defeat purpos use gssapi first place code preserv pre exist preexist environ paramet context chang restor valu afterward rather clear set complet','realm jndirealm get princip getprincip context usernam credenti gsscredenti corrupt realm context','get princip getprincip context usernam credenti gsscredenti method realm jndirealm design allow deleg credenti appli directori server connect part spnego authent done manipul number directori context environ paramet howev current implement environ paramet forcibl clear get user getus call regardless whether valu even chang is use deleg credenti isusedelegatedcredenti return fals contain realm defin use gssapi authent first spnego authent request succeed subsequ request fail except javax name name except namingexcept ldap error code 000004 000004dc ldap err ldaperr dsid c0906 0c0906dc comment order perform oper success bind must complet connect data v1db0 except due context secur authent clear get princip getprincip result attempt simpl bind usernam password anonym workaround ensur connect name connectionnam connect password connectionpassword paramet specifi realm definit howev one use gssapi shouldn necessari certainli defeat purpos use gssapi first place code preserv pre exist preexist environ paramet context chang restor valu afterward rather clear set complet','2013-08-05 02:53:29',1375690000,'resolved fixed','135e2c4',1376600000,'java/org/apache/catalina/realm/JNDIRealm.java'),(67,55357,'Bug 55357  Cannot deserialize session when it contains Externalizable objects (using PersistentManager)','I\'m using PersistentManager with JDBCStore to store sessions in my database. But in my webapplication, there is an object in my session which is an instance of org.apache.el.MethodExpressionImpl. This class implements the Externalizable interface but in this readExternal method it uses org.apache.el.util.ReflectionUtil.forName(String) which use Thread.currentThread().getContextClassLoader() as its ClassLoader.\n\nIt seems to be incorrect because this method return a StandardClassLoader which cannot find my classes in WEB-INF/lib directory of my webapp.\n\nIs it the problem of the MethodExpressionImpl class which use this method or the JDBCStore which does not set the thread contextClassLoader as the WebappClassLoader ?\n\nHere is the stacktrace :\n\nSEVERE: Error processing request\njava.lang.IllegalStateException: Erreur lors de la deserialisation de la session 1634C328D27A31CB9FC4D52392FDB05F: {1}\n	at org.apache.catalina.session.PersistentManagerBase.swapIn(PersistentManagerBase.java:713)\n	at org.apache.catalina.session.PersistentManagerBase.findSession(PersistentManagerBase.java:503)\n	at org.apache.catalina.connector.Request.isRequestedSessionIdValid(Request.java:2391)\n	at org.apache.catalina.connector.CoyoteAdapter.parseSessionCookiesId(CoyoteAdapter.java:954)\n	at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:688)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:402)\n	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n	at java.lang.Thread.run(Thread.java:722)\nCaused by: java.lang.ClassNotFoundException: javax.faces.event.ActionEvent\n	at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n	at java.lang.Class.forName0(Native Method)\n	at java.lang.Class.forName(Class.java:266)\n	at org.apache.el.util.ReflectionUtil.forName(ReflectionUtil.java:62)\n	at org.apache.el.util.ReflectionUtil.toTypeArray(ReflectionUtil.java:88)\n	at org.apache.el.MethodExpressionImpl.readExternal(MethodExpressionImpl.java:290)\n	at java.io.ObjectInputStream.readExternalData(ObjectInputStream.java:1835)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1794)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:370)\n	at com.sun.facelets.el.TagMethodExpression.readExternal(TagMethodExpression.java:101)\n	at java.io.ObjectInputStream.readExternalData(ObjectInputStream.java:1835)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1794)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1989)\n	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1913)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1796)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:370)\n	at java.util.ArrayList.readObject(ArrayList.java:733)\n	at sun.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:601)\n	at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1004)\n	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1891)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1796)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1704)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1342)\n	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1989)\n	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1913)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1796)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:370)\n	at java.util.HashMap.readObject(HashMap.java:1155)\n	at sun.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:601)\n	at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1004)\n	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1891)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1796)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:370)\n	at java.util.HashMap.readObject(HashMap.java:1155)\n	at sun.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:601)\n	at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1004)\n	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1891)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1796)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1989)\n	at java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:499)\n	at org.ajax4jsf.application.AjaxStateHolder.readObject(AjaxStateHolder.java:204)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:601)\n	at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1004)\n	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1891)\n	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1796)\n	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1348)\n	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:370)\n	at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1595)\n	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1060)\n	at org.apache.catalina.session.JDBCStore.load(JDBCStore.java:657)\n	at org.apache.catalina.session.PersistentManagerBase.swapIn(PersistentManagerBase.java:707)\n	... 11 more','cannot deseri session contain externaliz object use persist manag persistentmanag use persist manag persistentmanag store jdbcstore store session databas webappl object session instanc apach method express impl methodexpressionimpl class implement externaliz interfac read extern readextern method us apach util reflect util reflectionutil for name fornam string use thread current thread currentthread get context class loader getcontextclassload class loader classload seem incorrect method return standard class loader standardclassload cannot find class web inf lib directori webapp problem method express impl methodexpressionimpl class use method store jdbcstore set thread context class loader contextclassload webapp class loader webappclassload stacktrac sever error process request java lang illeg state except illegalstateexcept erreur lor deserialis session 1634 c328 d27 a31 b9 c4 d52392 b05 1634c328d27a31cb9fc4d52392fdb05f apach catalina session persist manag base persistentmanagerbas swap in swapin persist manag base persistentmanagerbas java apach catalina session persist manag base persistentmanagerbas find session findsess persist manag base persistentmanagerbas java apach catalina connector request is request session id valid isrequestedsessionidvalid request java apach catalina connector coyot adapt coyoteadapt pars session cooki id parsesessioncookiesid coyot adapt coyoteadapt java apach catalina connector coyot adapt coyoteadapt post pars request postparserequest coyot adapt coyoteadapt java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus java lang class not found except classnotfoundexcept javax face event action event actionev java net class loader urlclassload run class loader urlclassload java java net class loader urlclassload run class loader urlclassload java java secur access control accesscontrol do privileg doprivileg nativ method java net class loader urlclassload find class findclass class loader urlclassload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class loadclass class loader classload java java lang class for name0 forname0 nativ method java lang class for name fornam class java apach util reflect util reflectionutil for name fornam reflect util reflectionutil java apach util reflect util reflectionutil to type array totypearray reflect util reflectionutil java apach method express impl methodexpressionimpl read extern readextern method express impl methodexpressionimpl java java object input stream objectinputstream read extern data readexternaldata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java sun facelet tag method express tagmethodexpress read extern readextern tag method express tagmethodexpress java java object input stream objectinputstream read extern data readexternaldata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream default read field defaultreadfield object input stream objectinputstream java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java java util array list arraylist read object readobject array list arraylist java sun reflect gener method accessor90 generatedmethodaccessor90 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream default read field defaultreadfield object input stream objectinputstream java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java java util hash map hashmap read object readobject hash map hashmap java sun reflect gener method accessor89 generatedmethodaccessor89 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java java util hash map hashmap read object readobject hash map hashmap java sun reflect gener method accessor89 generatedmethodaccessor89 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream default read field defaultreadfield object input stream objectinputstream java java object input stream objectinputstream default read object defaultreadobject object input stream objectinputstream java ajax4jsf applic ajax state holder ajaxstatehold read object readobject ajax state holder ajaxstatehold java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java apach catalina session standard session standardsess read object readobject standard session standardsess java apach catalina session standard session standardsess read object data readobjectdata standard session standardsess java apach catalina session store jdbcstore load store jdbcstore java apach catalina session persist manag base persistentmanagerbas swap in swapin persist manag base persistentmanagerbas java','cannot deseri session contain externaliz object use persist manag persistentmanag','use persist manag persistentmanag store jdbcstore store session databas webappl object session instanc apach method express impl methodexpressionimpl class implement externaliz interfac read extern readextern method us apach util reflect util reflectionutil for name fornam string use thread current thread currentthread get context class loader getcontextclassload class loader classload seem incorrect method return standard class loader standardclassload cannot find class web inf lib directori webapp problem method express impl methodexpressionimpl class use method store jdbcstore set thread context class loader contextclassload webapp class loader webappclassload stacktrac sever error process request java lang illeg state except illegalstateexcept erreur lor deserialis session 1634 c328 d27 a31 b9 c4 d52392 b05 1634c328d27a31cb9fc4d52392fdb05f apach catalina session persist manag base persistentmanagerbas swap in swapin persist manag base persistentmanagerbas java apach catalina session persist manag base persistentmanagerbas find session findsess persist manag base persistentmanagerbas java apach catalina connector request is request session id valid isrequestedsessionidvalid request java apach catalina connector coyot adapt coyoteadapt pars session cooki id parsesessioncookiesid coyot adapt coyoteadapt java apach catalina connector coyot adapt coyoteadapt post pars request postparserequest coyot adapt coyoteadapt java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus java lang class not found except classnotfoundexcept javax face event action event actionev java net class loader urlclassload run class loader urlclassload java java net class loader urlclassload run class loader urlclassload java java secur access control accesscontrol do privileg doprivileg nativ method java net class loader urlclassload find class findclass class loader urlclassload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class loadclass class loader classload java java lang class for name0 forname0 nativ method java lang class for name fornam class java apach util reflect util reflectionutil for name fornam reflect util reflectionutil java apach util reflect util reflectionutil to type array totypearray reflect util reflectionutil java apach method express impl methodexpressionimpl read extern readextern method express impl methodexpressionimpl java java object input stream objectinputstream read extern data readexternaldata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java sun facelet tag method express tagmethodexpress read extern readextern tag method express tagmethodexpress java java object input stream objectinputstream read extern data readexternaldata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream default read field defaultreadfield object input stream objectinputstream java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java java util array list arraylist read object readobject array list arraylist java sun reflect gener method accessor90 generatedmethodaccessor90 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read array readarray object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream default read field defaultreadfield object input stream objectinputstream java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java java util hash map hashmap read object readobject hash map hashmap java sun reflect gener method accessor89 generatedmethodaccessor89 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java java util hash map hashmap read object readobject hash map hashmap java sun reflect gener method accessor89 generatedmethodaccessor89 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream default read field defaultreadfield object input stream objectinputstream java java object input stream objectinputstream default read object defaultreadobject object input stream objectinputstream java ajax4jsf applic ajax state holder ajaxstatehold read object readobject ajax state holder ajaxstatehold java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok read object invokereadobject object stream class objectstreamclass java java object input stream objectinputstream read serial data readserialdata object input stream objectinputstream java java object input stream objectinputstream read ordinari object readordinaryobject object input stream objectinputstream java java object input stream objectinputstream read object0 readobject0 object input stream objectinputstream java java object input stream objectinputstream read object readobject object input stream objectinputstream java apach catalina session standard session standardsess read object readobject standard session standardsess java apach catalina session standard session standardsess read object data readobjectdata standard session standardsess java apach catalina session store jdbcstore load store jdbcstore java apach catalina session persist manag base persistentmanagerbas swap in swapin persist manag base persistentmanagerbas java','2013-08-05 15:15:18',1375730000,'resolved fixed','e19e794',1376580000,'java/org/apache/catalina/session/FileStore.java\njava/org/apache/catalina/session/JDBCStore.java'),(68,55400,'Bug 55400  WsFilter not compatible with async sample applications','','filter wsfilter compat async sampl applic','filter wsfilter compat async sampl applic','','2013-08-10 20:20:50',1376180000,'resolved fixed','3490f73',1376480000,'java/org/apache/tomcat/websocket/server/WsServerContainer.java'),(69,55404,'Bug 55404  ContextConfig#validateSecurityRoles emits three info log messages which contain a warning','','context config contextconfig valid secur role validatesecurityrol emit three info log messag contain warn','context config contextconfig valid secur role validatesecurityrol emit three info log messag contain warn','','2013-08-12 13:09:52',1376330000,'resolved fixed','df02b95',1376320000,'java/org/apache/catalina/startup/ContextConfig.java'),(70,52092,'Bug 52092  Please make AsyncFileHandler and OneLineFormatter the default for logging.properties','Apache Tomcat 7 has created some very important enhancements to logging, and we should exploit them. Please make the org.apache.juli.AsyncFileHandler and org.apache.juli.OneLineFormatter the defaults for shipped conf/logging.properties.\n\nThese enhancements have been vetted with over 20 releases of Apache Tomcat, let\'s give them some first class status.','pleas make async file handler asyncfilehandl one line formatt onelineformatt default log properti apach tomcat creat import enhanc log exploit pleas make apach juli async file handler asyncfilehandl apach juli one line formatt onelineformatt default ship conf log properti enhanc vet releas apach tomcat let give first class statu','pleas make async file handler asyncfilehandl one line formatt onelineformatt default log properti','apach tomcat creat import enhanc log exploit pleas make apach juli async file handler asyncfilehandl apach juli one line formatt onelineformatt default ship conf log properti enhanc vet releas apach tomcat let give first class statu','2011-10-26 11:49:26',1319640000,'resolved fixed','7d0408e',1375910000,'java/org/apache/juli/FileHandler.java'),(71,55345,'Bug 55345  Webresources class AbstractResourceSet throws exception upon callong ServletContext.getRealPath(\"\")','As described on user list:\n\nTomcat 8, unlike Tomcat 7.0.42, throws IllegalArgumentException upon calling ServletContext.getRealPath(\"\"). It seems that TC8 expects that argument provided to getRealPath is non-empty string.\n\nI believe that ServletContext.getRealPath should allow empty string as argument.\n\n-Ognjen\n\n\nStack trace:\n\n[ERROR] java.lang.IllegalArgumentException\njava.lang.IllegalArgumentException\n        at org.apache.catalina.webresources.AbstractResourceSet.checkPath(AbstractResourceSet.java:39)\n        at org.apache.catalina.webresources.DirResourceSet.getResource(DirResourceSet.java:91)\n        at org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:176)\n        at org.apache.catalina.webresources.CachedResource.validate(CachedResource.java:62)\n        at org.apache.catalina.webresources.Cache.getResource(Cache.java:78)\n        at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:163)\n        at org.apache.catalina.core.StandardContext.getRealPath(StandardContext.java:4528)\n        at org.apache.catalina.core.ApplicationContext.getRealPath(ApplicationContext.java:398)\n        at org.apache.catalina.core.ApplicationContextFacade.getRealPath(ApplicationContextFacade.java:335)\n        at org.apache.axis2.deployment.WarBasedAxisConfigurator.<init>(WarBasedAxisConfigurator.java:103)\n        at org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584)\n        at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1235)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1148)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1044)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5025)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:698)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:968)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1742)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:724)','webresourc class abstract resourc set abstractresourceset throw except upon callong servlet context servletcontext get real path getrealpath describ user list tomcat unlik tomcat throw illeg argument except illegalargumentexcept upon call servlet context servletcontext get real path getrealpath seem c8 tc8 expect argument provid get real path getrealpath non empti nonempti string believ servlet context servletcontext get real path getrealpath allow empti string argument ognjen stack trace error java lang illeg argument except illegalargumentexcept java lang illeg argument except illegalargumentexcept apach catalina webresourc abstract resourc set abstractresourceset check path checkpath abstract resourc set abstractresourceset java apach catalina webresourc dir resourc set dirresourceset get resourc getresourc dir resourc set dirresourceset java apach catalina webresourc standard root standardroot get resourc intern getresourceintern standard root standardroot java apach catalina webresourc cach resourc cachedresourc valid cach resourc cachedresourc java apach catalina webresourc cach get resourc getresourc cach java apach catalina webresourc standard root standardroot get resourc getresourc standard root standardroot java apach catalina core standard context standardcontext get real path getrealpath standard context standardcontext java apach catalina core applic context applicationcontext get real path getrealpath applic context applicationcontext java apach catalina core applic context facad applicationcontextfacad get real path getrealpath applic context facad applicationcontextfacad java apach axis2 deploy war base axi configur warbasedaxisconfigur init war base axi configur warbasedaxisconfigur java apach axis2 transport http axi servlet axisservlet init config context initconfigcontext axi servlet axisservlet java apach axis2 transport http axi servlet axisservlet init axi servlet axisservlet java apach catalina core standard wrapper standardwrapp init servlet initservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp load standard wrapper standardwrapp java apach catalina core standard context standardcontext load on startup loadonstartup standard context standardcontext java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy war deploywar run host config hostconfig java java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','webresourc class abstract resourc set abstractresourceset throw except upon callong servlet context servletcontext get real path getrealpath','describ user list tomcat unlik tomcat throw illeg argument except illegalargumentexcept upon call servlet context servletcontext get real path getrealpath seem c8 tc8 expect argument provid get real path getrealpath non empti nonempti string believ servlet context servletcontext get real path getrealpath allow empti string argument ognjen stack trace error java lang illeg argument except illegalargumentexcept java lang illeg argument except illegalargumentexcept apach catalina webresourc abstract resourc set abstractresourceset check path checkpath abstract resourc set abstractresourceset java apach catalina webresourc dir resourc set dirresourceset get resourc getresourc dir resourc set dirresourceset java apach catalina webresourc standard root standardroot get resourc intern getresourceintern standard root standardroot java apach catalina webresourc cach resourc cachedresourc valid cach resourc cachedresourc java apach catalina webresourc cach get resourc getresourc cach java apach catalina webresourc standard root standardroot get resourc getresourc standard root standardroot java apach catalina core standard context standardcontext get real path getrealpath standard context standardcontext java apach catalina core applic context applicationcontext get real path getrealpath applic context applicationcontext java apach catalina core applic context facad applicationcontextfacad get real path getrealpath applic context facad applicationcontextfacad java apach axis2 deploy war base axi configur warbasedaxisconfigur init war base axi configur warbasedaxisconfigur java apach axis2 transport http axi servlet axisservlet init config context initconfigcontext axi servlet axisservlet java apach axis2 transport http axi servlet axisservlet init axi servlet axisservlet java apach catalina core standard wrapper standardwrapp init servlet initservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp load standard wrapper standardwrapp java apach catalina core standard context standardcontext load on startup loadonstartup standard context standardcontext java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy war deploywar run host config hostconfig java java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2013-08-02 11:52:04',1375460000,'closed fixed','aa15bac',1375470000,'java/org/apache/catalina/core/StandardContext.java'),(72,55333,'Bug 55333  JDBCRealm Digest authentication Flow is not working throws Function sequence error','Issue: Digest authentication flow is not working\nError Thrown : Function sequence error\n\nPackageName: org.apache.catalina.realm\nClassName : JDBCRealm\nMethodName: String getPassword(String username)\n\nSnapshot from above mentioned method\n===================================\n stmt = credentials(dbConnection, username);\n rs = stmt.executeQuery();\n // Due to this connection commit,  resultset is nullified \n dbConnection.commit();\n \n // While executing this statement it throws Function sequence error\n if (rs.next()) {\n    dbCredentials = rs.getString(1);\n }\n\n===================================\n\nAbove explanation has been validate by placing 7.0.41 catalina.jar where the above changes are not there due to fix of 55071 bug\n \n\nBelow snapshot is the error observed while trying for Digest authentication\n========================================================================== \n\nJul 31, 2013 3:43:40 PM org.apache.catalina.realm.JDBCRealm getPassword\n\nSEVERE: Exception performing authentication\n\njava.sql.SQLException: [TimesTen][TimesTen 11.2.2.5.0 ODBC Driver]Function sequence error\n\n    at com.timesten.jdbc.JdbcOdbc.createSQLException(JdbcOdbc.java:3238)\n\n    at com.timesten.jdbc.JdbcOdbc.standardError(JdbcOdbc.java:3387)\n\n    at com.timesten.jdbc.JdbcOdbc.SQLFetch(JdbcOdbc.java:921)\n\n    at com.timesten.jdbc.JdbcOdbcResultSet.next(JdbcOdbcResultSet.java:409)\n\n    at org.apache.catalina.realm.JDBCRealm.getPassword(JDBCRealm.java:558)\n\n    at org.apache.catalina.realm.RealmBase.getDigest(RealmBase.java:1189)\n\n    at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:409)\n\n    at com.kodiak.digest.authentication.KnDigestAuthenticator$KnDigestInfo.authenticate(KnDigestAuthenticator.java:733)\n\n    at com.kodiak.digest.authentication.KnDigestAuthenticator.authenticate(KnDigestAuthenticator.java:275)\n\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:574)\n\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\n    at java.lang.Thread.run(Thread.java:724)\n\n \n\nJul 31, 2013 3:43:40 PM org.apache.catalina.realm.JDBCRealm getPassword\n\nSEVERE: Exception performing authentication\n\njava.sql.SQLException: [TimesTen][TimesTen 11.2.2.5.0 ODBC Driver]Function sequence error\n\n    at com.timesten.jdbc.JdbcOdbc.createSQLException(JdbcOdbc.java:3238)\n\n    at com.timesten.jdbc.JdbcOdbc.standardError(JdbcOdbc.java:3387)\n\n    at com.timesten.jdbc.JdbcOdbc.SQLFetch(JdbcOdbc.java:921)\n\n    at com.timesten.jdbc.JdbcOdbcResultSet.next(JdbcOdbcResultSet.java:409)\n\n    at org.apache.catalina.realm.JDBCRealm.getPassword(JDBCRealm.java:558)\n\n    at org.apache.catalina.realm.RealmBase.getDigest(RealmBase.java:1189)\n\n    at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:409)\n\n\"localhost.2013-07-31.log\" 50L, 3800C         \n\nCheers,\nMahaaboob','realm jdbcrealm digest authent flow work throw function sequenc error issu digest authent flow work error thrown function sequenc error packag name packagenam apach catalina realm class name classnam realm jdbcrealm method name methodnam string get password getpassword string usernam snapshot mention method stmt credenti db connect dbconnect usernam r stmt execut queri executequeri due connect commit resultset nullifi db connect dbconnect commit execut statement throw function sequenc error r next db credenti dbcredenti r get string getstr explan valid place catalina jar chang due fix snapshot error observ tri digest authent jul pm apach catalina realm realm jdbcrealm get password getpassword sever except perform authent java sql except sqlexcept time ten timesten time ten timesten odbc driver function sequenc error timesten jdbc jdbc odbc jdbcodbc creat except createsqlexcept jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc standard error standarderror jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc fetch sqlfetch jdbc odbc jdbcodbc java timesten jdbc jdbc odbc result set jdbcodbcresultset next jdbc odbc result set jdbcodbcresultset java apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm base realmbas get digest getdigest realm base realmbas java apach catalina realm realm base realmbas authent realm base realmbas java kodiak digest authent kn digest authent kndigestauthent kn digest info kndigestinfo authent kn digest authent kndigestauthent java kodiak digest authent kn digest authent kndigestauthent authent kn digest authent kndigestauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java jul pm apach catalina realm realm jdbcrealm get password getpassword sever except perform authent java sql except sqlexcept time ten timesten time ten timesten odbc driver function sequenc error timesten jdbc jdbc odbc jdbcodbc creat except createsqlexcept jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc standard error standarderror jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc fetch sqlfetch jdbc odbc jdbcodbc java timesten jdbc jdbc odbc result set jdbcodbcresultset next jdbc odbc result set jdbcodbcresultset java apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm base realmbas get digest getdigest realm base realmbas java apach catalina realm realm base realmbas authent realm base realmbas java localhost log 50 50l 3800 3800c cheer mahaaboob','realm jdbcrealm digest authent flow work throw function sequenc error','issu digest authent flow work error thrown function sequenc error packag name packagenam apach catalina realm class name classnam realm jdbcrealm method name methodnam string get password getpassword string usernam snapshot mention method stmt credenti db connect dbconnect usernam r stmt execut queri executequeri due connect commit resultset nullifi db connect dbconnect commit execut statement throw function sequenc error r next db credenti dbcredenti r get string getstr explan valid place catalina jar chang due fix snapshot error observ tri digest authent jul pm apach catalina realm realm jdbcrealm get password getpassword sever except perform authent java sql except sqlexcept time ten timesten time ten timesten odbc driver function sequenc error timesten jdbc jdbc odbc jdbcodbc creat except createsqlexcept jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc standard error standarderror jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc fetch sqlfetch jdbc odbc jdbcodbc java timesten jdbc jdbc odbc result set jdbcodbcresultset next jdbc odbc result set jdbcodbcresultset java apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm base realmbas get digest getdigest realm base realmbas java apach catalina realm realm base realmbas authent realm base realmbas java kodiak digest authent kn digest authent kndigestauthent kn digest info kndigestinfo authent kn digest authent kndigestauthent java kodiak digest authent kn digest authent kndigestauthent authent kn digest authent kndigestauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java jul pm apach catalina realm realm jdbcrealm get password getpassword sever except perform authent java sql except sqlexcept time ten timesten time ten timesten odbc driver function sequenc error timesten jdbc jdbc odbc jdbcodbc creat except createsqlexcept jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc standard error standarderror jdbc odbc jdbcodbc java timesten jdbc jdbc odbc jdbcodbc fetch sqlfetch jdbc odbc jdbcodbc java timesten jdbc jdbc odbc result set jdbcodbcresultset next jdbc odbc result set jdbcodbcresultset java apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm base realmbas get digest getdigest realm base realmbas java apach catalina realm realm base realmbas authent realm base realmbas java localhost log 50 50l 3800 3800c cheer mahaaboob','2013-07-31 17:44:41',1375310000,'resolved fixed','6cd42af',1375350000,'java/org/apache/catalina/realm/JDBCRealm.java'),(73,55316,'Bug 55316  Ugly error log when WS client disconnects unexpectedly','When a WS browser client disconnects unexpectedly (e.g. in the SNake sample if the user just closes the browser or loads another page) you get ugle ERROR logs in the Tomcat server.  E.g.\n\n2013-07-27 12:04:34.424 ERROR 31847 --- [nio-8080-exec-7] org.apache.tomcat.websocket.WsSession    : Failed to send close message to remote endpoint\n\njava.io.IOException: java.util.concurrent.ExecutionException: java.io.EOFException\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:221)\n	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:466)\n	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:430)\n	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.close(WsHttpUpgradeHandler.java:172)\n	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.access$200(WsHttpUpgradeHandler.java:45)\n	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler$WsReadListener.onDataAvailable(WsHttpUpgradeHandler.java:198)\n	at org.apache.coyote.http11.upgrade.AbstractServletInputStream.onDataAvailable(AbstractServletInputStream.java:169)\n	at org.apache.coyote.http11.upgrade.AbstractProcessor.upgradeDispatch(AbstractProcessor.java:95)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:630)\n	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1585)\n	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1543)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n	at java.lang.Thread.run(Thread.java:724)\nCaused by: java.util.concurrent.ExecutionException: java.io.EOFException\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$FutureToSendHandler.get(WsRemoteEndpointImplBase.java:779)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:217)\n	... 14 common frames omitted\nCaused by: java.io.EOFException: null\n	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doClose(WsRemoteEndpointImplServer.java:126)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.close(WsRemoteEndpointImplBase.java:531)\n	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.onWritePossible(WsRemoteEndpointImplServer.java:107)\n	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:71)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:353)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessage(WsRemoteEndpointImplBase.java:254)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:211)\n	... 14 common frames omitted\n\n\nPresumably this is expected to be relatively normal, so I\'d expect a lot less noise (and no ERROR) in the log?','ugli error log w client disconnect unexpectedli w browser client disconnect unexpectedli nake snake sampl user close browser load anoth page get ugl error log tomcat server error nio 8080 exec 8080exec apach tomcat websocket session wssession fail send close messag remot endpoint java except ioexcept java util concurr execut except executionexcept java except eofexcept apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket session wssession send close messag sendclosemessag session wssession java apach tomcat websocket session wssession on close onclos session wssession java apach tomcat websocket server http upgrad handler wshttpupgradehandl close http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl access http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl read listen wsreadlisten on data avail ondataavail http upgrad handler wshttpupgradehandl java apach coyot http11 upgrad abstract servlet input stream abstractservletinputstream on data avail ondataavail abstract servlet input stream abstractservletinputstream java apach coyot http11 upgrad abstract processor abstractprocessor upgrad dispatch upgradedispatch abstract processor abstractprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor do run dorun nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus java util concurr execut except executionexcept java except eofexcept apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas futur to send handler futuretosendhandl get remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java common frame omit caus java except eofexcept null apach tomcat websocket server remot endpoint impl server wsremoteendpointimplserv do close doclos remot endpoint impl server wsremoteendpointimplserv java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas close remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket server remot endpoint impl server wsremoteendpointimplserv on write possibl onwriteposs remot endpoint impl server wsremoteendpointimplserv java apach tomcat websocket server remot endpoint impl server wsremoteendpointimplserv do write dowrit remot endpoint impl server wsremoteendpointimplserv java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas write messag part writemessagepart remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag startmessag remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java common frame omit presum expect rel normal expect lot le nois error log','ugli error log w client disconnect unexpectedli','w browser client disconnect unexpectedli nake snake sampl user close browser load anoth page get ugl error log tomcat server error nio 8080 exec 8080exec apach tomcat websocket session wssession fail send close messag remot endpoint java except ioexcept java util concurr execut except executionexcept java except eofexcept apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket session wssession send close messag sendclosemessag session wssession java apach tomcat websocket session wssession on close onclos session wssession java apach tomcat websocket server http upgrad handler wshttpupgradehandl close http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl access http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl read listen wsreadlisten on data avail ondataavail http upgrad handler wshttpupgradehandl java apach coyot http11 upgrad abstract servlet input stream abstractservletinputstream on data avail ondataavail abstract servlet input stream abstractservletinputstream java apach coyot http11 upgrad abstract processor abstractprocessor upgrad dispatch upgradedispatch abstract processor abstractprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor do run dorun nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus java util concurr execut except executionexcept java except eofexcept apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas futur to send handler futuretosendhandl get remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java common frame omit caus java except eofexcept null apach tomcat websocket server remot endpoint impl server wsremoteendpointimplserv do close doclos remot endpoint impl server wsremoteendpointimplserv java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas close remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket server remot endpoint impl server wsremoteendpointimplserv on write possibl onwriteposs remot endpoint impl server wsremoteendpointimplserv java apach tomcat websocket server remot endpoint impl server wsremoteendpointimplserv do write dowrit remot endpoint impl server wsremoteendpointimplserv java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas write messag part writemessagepart remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag startmessag remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java common frame omit presum expect rel normal expect lot le nois error log','2013-07-27 11:07:08',1374940000,'resolved fixed','d370084',1375280000,'java/org/apache/tomcat/websocket/WsSession.java'),(74,55312,'Bug 55312  No SCI scan in embedded Tomcat','I like the fact that SCI scanning is off by default in a Tomcat embedded instance, but I\'d lik eto be able to switch it on. It might even be possible already, but the API is non-obvious.  Maybe a method in Tomcat or associated friendly helper?\n\nWould also be nice in Tomcat 7.','sci scan embed tomcat like fact sci scan default tomcat embed instanc lik eto abl switch might even possibl alreadi api non obviou nonobvi mayb method tomcat associ friendli helper would nice tomcat','sci scan embed tomcat','like fact sci scan default tomcat embed instanc lik eto abl switch might even possibl alreadi api non obviou nonobvi mayb method tomcat associ friendli helper would nice tomcat','2013-07-26 15:37:46',1374870000,'resolved fixed','7540e90',1375280000,'java/org/apache/tomcat/util/scan/StandardJarScanner.java'),(75,55309,'Bug 55309  Concurrent issue of TagPluginManager','','concurr issu tag plugin manag tagpluginmanag','concurr issu tag plugin manag tagpluginmanag','','2013-07-26 04:38:23',1374830000,'resolved fixed','11c05b7',1375130000,'java/org/apache/jasper/compiler/TagPluginManager.java'),(76,55287,'Bug 55287  ServletContainerInitializer in parent classloader may not be found','To include the JasperInitializer in the test environment I added an entry in testclasses/META-INF/services. This is not picked up when the parent classloader is searched because this path is a directory not a JAR file. \n\nIt would be picked up if the \"scanAllDirectories\" extension was enabled but that should not be necessary if the search is to be semantically equivalent to j.u.ServiceLoader (which does locate it).','servlet contain initi servletcontaineriniti parent classload may found includ jasper initi jasperiniti environ ad entri testclass meta inf servic pick parent classload search path directori jar file would pick scan all directori scanalldirectori extens enabl necessari search semant equival servic loader serviceload locat','servlet contain initi servletcontaineriniti parent classload may found','includ jasper initi jasperiniti environ ad entri testclass meta inf servic pick parent classload search path directori jar file would pick scan all directori scanalldirectori extens enabl necessari search semant equival servic loader serviceload locat','2013-07-21 20:44:47',1374450000,'resolved fixed','6e514c0',1375050000,'java/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/startup/WebappServiceLoader.java\ntest/org/apache/catalina/startup/TestWebappServiceLoader.java'),(77,55267,'Bug 55267  NIO thread locked','Did some load test and thread got stuck, see dump.\n\nBasically I just simulate 100 users that connect and disconnect.','nio thread lock load thread got stuck see dump basic simul user connect disconnect','nio thread lock','load thread got stuck see dump basic simul user connect disconnect','2013-07-15 11:38:25',1373900000,'resolved fixed','11bf498',1374590000,'java/org/apache/coyote/ajp/AjpNioProcessor.java\njava/org/apache/coyote/http11/InternalNioOutputBuffer.java\njava/org/apache/coyote/http11/upgrade/NioServletOutputStream.java\njava/org/apache/tomcat/util/net/NioEndpoint.java'),(78,55291,'Bug 55291  Bug in WsServerContainer leading to NPE','','server contain wsservercontain lead npe','server contain wsservercontain lead npe','','2013-07-22 13:33:53',1374510000,'resolved fixed','ab6f21d',1374500000,'java/org/apache/tomcat/websocket/server/WsServerContainer.java'),(79,55262,'Bug 55262  Duplicate preludes and codas in same <jsp-property-group> are ignored','If a <jsp-property-group> contains multiple <include-prelude> elements that happen to refer to the same file only one include is performed. The same applies to codas.\n\nThis happens because WebXml stores these in a LinkedHashSet rather than a List.\n\nWhen multiple <jsp-property-group>s are combined, JspConfig uses a Vector and so preserves duplicates as required by the JSP spec.\n\nI have a test case demonstrating this but before committing a fix I would like confirmation that WebXml\'s behaviour is incorrect.','duplic prelud coda jsp properti group jsppropertygroup ignor jsp properti group jsppropertygroup contain multipl includ prelud includeprelud element happen refer file one includ perform appli coda happen web xml webxml store link hash set linkedhashset rather list multipl jsp properti group jsppropertygroup combin jsp config jspconfig us vector preserv duplic requir jsp spec case demonstr commit fix would like confirm web xml webxml behaviour incorrect','duplic prelud coda jsp properti group jsppropertygroup ignor','jsp properti group jsppropertygroup contain multipl includ prelud includeprelud element happen refer file one includ perform appli coda happen web xml webxml store link hash set linkedhashset rather list multipl jsp properti group jsppropertygroup combin jsp config jspconfig us vector preserv duplic requir jsp spec case demonstr commit fix would like confirm web xml webxml behaviour incorrect','2013-07-14 01:44:18',1373780000,'resolved fixed','85f611e',1374350000,'java/org/apache/tomcat/util/descriptor/web/JspPropertyGroup.java\ntest/org/apache/jasper/compiler/TestCompiler.java\ntest/org/apache/jasper/servlet/TestJspCServletContext.java\ntest/org/apache/tomcat/util/descriptor/web/TestJspPropertyGroup.java'),(80,55259,'Bug 55259  Unnecessary work in JspConfig','JspProperty is the same for all url patterns in a group; the current code creates a new one each iteration','unnecessari work jsp config jspconfig jsp properti jspproperti url pattern group current code creat new one iter','unnecessari work jsp config jspconfig','jsp properti jspproperti url pattern group current code creat new one iter','2013-07-13 04:34:34',1373700000,'resolved fixed','c6a45a6',1373750000,'java/org/apache/jasper/compiler/JspConfig.java'),(81,55245,'Bug 55245  Add test cases for JspC','The test suite should include tests for the JspC Ant task','add case jsp jspc suit includ test jsp jspc ant task','add case jsp jspc','suit includ test jsp jspc ant task','2013-07-12 02:05:02',1373610000,'resolved fixed','c0c5017',1373620000,'test/org/apache/jasper/TestJspC.java'),(82,55250,'Bug 55250  JspC does not initialize tldLocationsCache resulting in NPE','Change in how ServletContext was created missed initialization of tldLocationsCache','jsp jspc initi tld locat cach tldlocationscach result npe chang servlet context servletcontext creat miss initi tld locat cach tldlocationscach','jsp jspc initi tld locat cach tldlocationscach result npe','chang servlet context servletcontext creat miss initi tld locat cach tldlocationscach','2013-07-12 03:37:02',1373610000,'resolved fixed','186a782',1373620000,'java/org/apache/jasper/JspC.java'),(83,55244,'Bug 55244  JspC throws ClassNotFoundException from Digester','','jsp jspc throw class not found except classnotfoundexcept digest','jsp jspc throw class not found except classnotfoundexcept digest','','2013-07-12 02:01:45',1373610000,'resolved fixed','8d6537d',1373620000,'java/org/apache/jasper/servlet/JspCServletContext.java\njava/org/apache/tomcat/util/descriptor/web/WebXmlParser.java'),(84,55240,'Bug 55240  [websocket] SOE in NioEndpoint','','websocket soe nio endpoint nioendpoint','websocket soe nio endpoint nioendpoint','','2013-07-11 11:54:55',1373560000,'resolved fixed','68f6f6f',1373570000,'java/org/apache/coyote/http11/upgrade/AbstractProcessor.java\njava/org/apache/coyote/http11/upgrade/AprProcessor.java\njava/org/apache/coyote/http11/upgrade/BioProcessor.java\njava/org/apache/coyote/http11/upgrade/NioProcessor.java\njava/org/apache/tomcat/util/net/NioEndpoint.java'),(85,55238,'Bug 55238  [websocket] NPE in clearHandler(WsRemoteEndpointImplServer.java:156)','','websocket npe clear handler clearhandl remot endpoint impl server wsremoteendpointimplserv java','websocket npe clear handler clearhandl remot endpoint impl server wsremoteendpointimplserv java','','2013-07-11 08:11:07',1373540000,'resolved fixed','4758796',1373560000,'java/org/apache/tomcat/websocket/server/WsRemoteEndpointImplServer.java'),(86,55228,'Bug 55228  AbstractHttp11Processor overwrites Date header, even when set by application','','abstract http11 processor abstracthttp11processor overwrit date header even set applic','abstract http11 processor abstracthttp11processor overwrit date header even set applic','','2013-07-10 00:35:33',1373430000,'resolved fixed','95ee699',1373560000,'java/org/apache/coyote/http11/AbstractHttp11Processor.java'),(87,55207,'Bug 55207  In XML syntax, jsp:text does not error on sub-elements from other namespaces','','xml syntax jsp text error sub element subel namespac','xml syntax jsp text error sub element subel namespac','','2013-07-07 01:11:30',1373170000,'resolved fixed','6c54031',1373480000,'java/org/apache/jasper/compiler/JspDocumentParser.java'),(88,55231,'Bug 55231  NPE and incorrect version detection in JspC','JspC\'s JspConfig now reads version and jsp-config information from the ServletContext. \n\nIt uses getMajorVersion() which returns the maximum version supported by the container. It should use getEffectiveVersion() to use the version of the web application.\n\nServletContext.getJspConfigDescriptor() can return null if there is no <jsp-config> in the web.xml. JspConfig does not allow for this and will throw a NPE e.g. if there is no web.xml in the application.','npe incorrect version detect jsp jspc jsp jspc jsp config jspconfig read version jsp config jspconfig inform servlet context servletcontext us get major version getmajorvers return maximum version support contain use get effect version geteffectivevers use version web applic servlet context servletcontext get jsp config descriptor getjspconfigdescriptor return null jsp config jspconfig web xml jsp config jspconfig allow throw npe web xml applic','npe incorrect version detect jsp jspc','jsp jspc jsp config jspconfig read version jsp config jspconfig inform servlet context servletcontext us get major version getmajorvers return maximum version support contain use get effect version geteffectivevers use version web applic servlet context servletcontext get jsp config descriptor getjspconfigdescriptor return null jsp config jspconfig web xml jsp config jspconfig allow throw npe web xml applic','2013-07-10 04:10:10',1373440000,'closed fixed','c8376e8',1373460000,'java/org/apache/jasper/compiler/JspConfig.java'),(89,55218,'Bug 55218  Upgrade Digester to be based on DefaultHandler2 and use LexicalHandler to detect publicId','Digester uses SAX2 features but is still based the SAX1 DefaultHandler. By upgrading to DefaultHandler2 it would be able to handle baseURIs when resolving entities and would have a default implementation of a LexicalHandler.\n\nUsing LexicalHandler would allow it to respond directly to the startDTD event that reports the DOCTYPE (if present) so that it would not need to infer that from the first attempt to resolve an entity.','upgrad digest base default handler2 defaulthandler2 use lexic handler lexicalhandl detect public id publicid digest us x2 sax2 featur still base x1 sax1 default handler defaulthandl upgrad default handler2 defaulthandler2 would abl handl base is baseuri resolv entiti would default implement lexic handler lexicalhandl use lexic handler lexicalhandl would allow respond directli start startdtd event report doctyp present would need infer first attempt resolv entiti','upgrad digest base default handler2 defaulthandler2 use lexic handler lexicalhandl detect public id publicid','digest us x2 sax2 featur still base x1 sax1 default handler defaulthandl upgrad default handler2 defaulthandler2 would abl handl base is baseuri resolv entiti would default implement lexic handler lexicalhandl use lexic handler lexicalhandl would allow respond directli start startdtd event report doctyp present would need infer first attempt resolv entiti','2013-07-09 07:27:23',1373370000,'closed fixed','aa7896b',1373360000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/tomcat/util/descriptor/web/WebXml.java\njava/org/apache/tomcat/util/digester/Digester.java\ntest/javax/servlet/resources/TestSchemaValidation.java\ntest/org/apache/tomcat/util/descriptor/web/TestWebXml.java'),(90,55217,'Bug 55217  Common EntityResolver that can be used by Catalina and Jasper','Duplicate functionality exists in both SchemaResolver and ParserUtils.MyEntityResolver. There\'s also a basic version in Digester.','common entiti resolv entityresolv use catalina jasper duplic function exist schema resolv schemaresolv parser util parserutil my entiti resolv myentityresolv basic version digest','common entiti resolv entityresolv use catalina jasper','duplic function exist schema resolv schemaresolv parser util parserutil my entiti resolv myentityresolv basic version digest','2013-07-09 07:09:00',1373370000,'closed fixed','5344de0',1373360000,'java/org/apache/tomcat/util/descriptor/LocalResolver.java\njava/org/apache/tomcat/util/descriptor/XmlIdentifiers.java\ntest/org/apache/tomcat/util/descriptor/TestLocalResolver.java'),(91,55166,'Bug 55166  schemaLocation references between servlet and jsp XSDs are invalid','The javax/servlet/resources package does not contain the JSP specification XSDs. These are referenced from the web-app or web-common xsds and define elements like <jsp-config>.','schema locat schemaloc refer servlet jsp xsd invalid javax servlet resourc packag contain jsp specif xsd referenc web app webapp web common webcommon xsd defin element like jsp config jspconfig','schema locat schemaloc refer servlet jsp xsd invalid','javax servlet resourc packag contain jsp specif xsd referenc web app webapp web common webcommon xsd defin element like jsp config jspconfig','2013-06-30 20:03:24',1372640000,'resolved fixed','f554475',1373280000,'java/org/apache/catalina/startup/Constants.java'),(92,55210,'Bug 55210  SEVERE: The ServletContentInitializer [# Licensed to the Apache Software Foundation (ASF) under one or more] could not be created','','sever servlet content initi servletcontentiniti licens apach softwar foundat asf one could creat','sever servlet content initi servletcontentiniti licens apach softwar foundat asf one could creat','','2013-07-07 21:44:14',1373250000,'resolved fixed','b932ace',1373270000,'java/org/apache/catalina/startup/ContextConfig.java'),(93,55200,'Bug 55200  [websocket] Problem writing many subsequent binary messages','I see sometimes failing connections due to IOException (see below).\nThis happens when trying to send thousands of binary messages (1024 bytes each) without any delay between the subsequent messages.\n\nHaving look at the code in AsyncChannelWrapperSecure$WriteTask.run(219), I think it is not correct to assume that if not all of the bytes in the buffer are written, this shall produce IOException. I think in this case, there shall be an attempt to write the rest of the bytes in a cycle.\n\n\nHere one exception I got during the test:\nException is :java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: Only wrote [460] of [1,098] bytes\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:204)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendBytes(WsRemoteEndpointImplBase.java:113)\n	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendBinary(WsRemoteEndpointBasic.java:43)\n	at WebsocketsTestManager$TestThread.run(WebsocketsTestManager.java:271)\nCaused by: java.util.concurrent.ExecutionException: java.io.IOException: Only wrote [460] of [1,098] bytes\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$FutureToSendHandler.get(WsRemoteEndpointImplBase.java:729)\n	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:202)\n	... 3 more\nCaused by: java.io.IOException: Only wrote [460] of [1,098] bytes\n	at org.apache.tomcat.websocket.AsyncChannelWrapperSecure$WriteTask.run(AsyncChannelWrapperSecure.java:220)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n	at java.lang.Thread.run(Thread.java:789)','websocket problem write mani subsequ binari messag see sometim fail connect due except ioexcept see happen tri send thousand binari messag byte without delay subsequ messag look code async channel wrapper secur asyncchannelwrappersecur write task writetask run think correct assum byte buffer written shall produc except ioexcept think case shall attempt write rest byte cycl one except got except java except ioexcept java util concurr execut except executionexcept java except ioexcept wrote byte apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas send byte sendbyt remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint basic wsremoteendpointbas send binari sendbinari remot endpoint basic wsremoteendpointbas java websocket test manag websocketstestmanag test thread testthread run websocket test manag websocketstestmanag java caus java util concurr execut except executionexcept java except ioexcept wrote byte apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas futur to send handler futuretosendhandl get remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java caus java except ioexcept wrote byte apach tomcat websocket async channel wrapper secur asyncchannelwrappersecur write task writetask run async channel wrapper secur asyncchannelwrappersecur java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','websocket problem write mani subsequ binari messag','see sometim fail connect due except ioexcept see happen tri send thousand binari messag byte without delay subsequ messag look code async channel wrapper secur asyncchannelwrappersecur write task writetask run think correct assum byte buffer written shall produc except ioexcept think case shall attempt write rest byte cycl one except got except java except ioexcept java util concurr execut except executionexcept java except ioexcept wrote byte apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas send byte sendbyt remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint basic wsremoteendpointbas send binari sendbinari remot endpoint basic wsremoteendpointbas java websocket test manag websocketstestmanag test thread testthread run websocket test manag websocketstestmanag java caus java util concurr execut except executionexcept java except ioexcept wrote byte apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas futur to send handler futuretosendhandl get remot endpoint impl base wsremoteendpointimplbas java apach tomcat websocket remot endpoint impl base wsremoteendpointimplbas start messag block startmessageblock remot endpoint impl base wsremoteendpointimplbas java caus java except ioexcept wrote byte apach tomcat websocket async channel wrapper secur asyncchannelwrappersecur write task writetask run async channel wrapper secur asyncchannelwrappersecur java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2013-07-05 14:27:48',1373050000,'resolved fixed','00e4f3f',1373040000,'java/org/apache/tomcat/websocket/AsyncChannelWrapperSecure.java'),(94,55186,'Bug 55186  useIPVHosts=true , incorrect to get Request.localName','','use host useipvhost true incorrect get request local name localnam','use host useipvhost true incorrect get request local name localnam','','2013-07-03 00:54:24',1372830000,'resolved fixed','2eb065f',1373030000,'java/org/apache/coyote/Request.java'),(95,55184,'Bug 55184  NPE in PojoMethodMapping getMessageHandler','','npe pojo method map pojomethodmap get messag handler getmessagehandl','npe pojo method map pojomethodmap get messag handler getmessagehandl','','2013-07-02 13:14:35',1372790000,'resolved fixed','a267dbf',1372780000,'java/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java'),(96,55183,'Bug 55183  Missing WS Protocol Header in session negotiatedHeaders','','miss w protocol header session negoti header negotiatedhead','miss w protocol header session negoti header negotiatedhead','','2013-07-02 12:04:47',1372780000,'resolved fixed','a634d85',1372780000,'java/org/apache/tomcat/websocket/Constants.java\njava/org/apache/tomcat/websocket/WsWebSocketContainer.java\ntest/org/apache/tomcat/websocket/TestWsSubprotocols.java'),(97,55165,'Bug 55165  subprotocols not available with  annotated serverendpoint','','subprotocol avail annot serverendpoint','subprotocol avail annot serverendpoint','','2013-06-30 19:49:03',1372640000,'resolved fixed','b069c78',1372760000,'java/org/apache/tomcat/websocket/server/WsServerContainer.java'),(98,55181,'Bug 55181  Ping and Pong messages should have identical application data','','ping pong messag ident applic data','ping pong messag ident applic data','','2013-07-02 08:01:55',1372770000,'resolved fixed','19c0bd3',1372750000,'java/org/apache/tomcat/websocket/WsPongMessage.java\ntest/org/apache/tomcat/websocket/TestWsPingPongMessages.java'),(99,55180,'Bug 55180  connectionTimeout=\"-1\" causes timeout can\'t be negative','I configured server.xml like this:\nconnectionTimeout=\"-1\" disableUploadTimeout=\"false\" connectionUploadTimeout=\"200\"\n(maybe it is stupid to configure like this,if connectionTimeout=-1,can i make disableUploadTimeout=false?).\nIt will cause :\n\njava.lang.IllegalArgumentException: timeout can\'t be negative\n	at sun.nio.ch.SocketAdaptor.setSoTimeout(SocketAdaptor.java:361)\n	at org.apache.coyote.http11.Http11NioProcessor.setSocketTimeout(Http11NioProcessor.java:251)\n......\nbecause of :\n      if (!disableUploadTimeout) {\n//endpoint.getSoTimeout()=-1.\n           setSocketTimeout(endpoint.getSoTimeout());\n       }\n\n~~~~~~~~~~~~~~~~~~~~~~~~~\nanother thing:\nif i configure connectionTimeout=\"0\". \nin NioBlockingSelector.read(ByteBuffer buf, NioChannel socket, long readTimeout),readTimeout = 0, in case socket.read(buf) == 0, it make timeout=true.\nif (readTimeout >= 0 && (keycount == 0))\n    timedout = (System.currentTimeMillis() - time) >= readTimeout;\nthen throw the SocketTimeoutException().\n\nthank you.','connect timeout connectiontimeout caus timeout neg configur server xml like connect timeout connectiontimeout disabl upload timeout disableuploadtimeout fals connect upload timeout connectionuploadtimeout mayb stupid configur like connect timeout connectiontimeout make disabl upload timeout disableuploadtimeout fals caus java lang illeg argument except illegalargumentexcept timeout neg sun nio ch socket adaptor socketadaptor set so timeout setsotimeout socket adaptor socketadaptor java apach coyot http11 http11 nio processor http11nioprocessor set socket timeout setsockettimeout http11 nio processor http11nioprocessor java disabl upload timeout disableuploadtimeout endpoint get so timeout getsotimeout set socket timeout setsockettimeout endpoint get so timeout getsotimeout anoth thing configur connect timeout connectiontimeout nio block selector nioblockingselector read byte buffer bytebuff buf nio channel niochannel socket long read timeout readtimeout read timeout readtimeout case socket read buf make timeout true read timeout readtimeout keycount timedout system current time milli currenttimemilli time read timeout readtimeout throw socket timeout except sockettimeoutexcept thank','connect timeout connectiontimeout caus timeout neg','configur server xml like connect timeout connectiontimeout disabl upload timeout disableuploadtimeout fals connect upload timeout connectionuploadtimeout mayb stupid configur like connect timeout connectiontimeout make disabl upload timeout disableuploadtimeout fals caus java lang illeg argument except illegalargumentexcept timeout neg sun nio ch socket adaptor socketadaptor set so timeout setsotimeout socket adaptor socketadaptor java apach coyot http11 http11 nio processor http11nioprocessor set socket timeout setsockettimeout http11 nio processor http11nioprocessor java disabl upload timeout disableuploadtimeout endpoint get so timeout getsotimeout set socket timeout setsockettimeout endpoint get so timeout getsotimeout anoth thing configur connect timeout connectiontimeout nio block selector nioblockingselector read byte buffer bytebuff buf nio channel niochannel socket long read timeout readtimeout read timeout readtimeout case socket read buf make timeout true read timeout readtimeout keycount timedout system current time milli currenttimemilli time read timeout readtimeout throw socket timeout except sockettimeoutexcept thank','2013-07-02 00:01:40',1372740000,'resolved fixed','4da2de0',1372750000,'java/org/apache/coyote/http11/AbstractHttp11Processor.java'),(100,55174,'Bug 55174  [jsr 356][websocket] MessageHandler never gets notified again after it throws exception','I have a test which adds a MessageHandler which gets notified on text messages. If its implementation method onMessage(String text) throws some exception (e.g. runtime exception), this MessageHandler will never ever be notified again for any new text messages received by the session.\n\nI suppose this happens because the exception actually kills the underlying thread in which the notification has happened. I think the client side implementation shall be more robust and expect and be prepared for exceptions coming from calls to user code.','jsr websocket messag handler messagehandl never get notifi throw except add messag handler messagehandl get notifi text messag implement method on messag onmessag string text throw except runtim except messag handler messagehandl never ever notifi new text messag receiv session suppos happen except actual kill underli thread notif happen think client side implement shall robust expect prepar except come call user code','jsr websocket messag handler messagehandl never get notifi throw except','add messag handler messagehandl get notifi text messag implement method on messag onmessag string text throw except runtim except messag handler messagehandl never ever notifi new text messag receiv session suppos happen except actual kill underli thread notif happen think client side implement shall robust expect prepar except come call user code','2013-07-01 12:14:30',1372700000,'resolved fixed','ddd73d0',1372720000,'java/org/apache/tomcat/websocket/WsFrameBase.java'),(101,55179,'Bug 55179  Incorrect Parameter Name in RemoteIpValve Examples','','incorrect paramet name remot ip valv remoteipvalv exampl','incorrect paramet name remot ip valv remoteipvalv exampl','','2013-07-01 20:54:45',1372730000,'resolved fixed','21f0a5c',1372710000,'java/org/apache/catalina/valves/RemoteIpValve.java'),(102,55177,'Bug 55177  connectionTimeout=-1 causes high CPU','','connect timeout connectiontimeout caus high cpu','connect timeout connectiontimeout caus high cpu','','2013-07-01 19:49:21',1372720000,'resolved fixed','df6cee7',1372710000,'java/org/apache/coyote/http11/Http11Processor.java'),(103,53777,'Bug 53777  Ability to bundle JAAS Configuration in Webappp','','abil bundl jaa configur webappp','abil bundl jaa configur webappp','','2012-08-24 13:50:52',1345830000,'resolved fixed','6871d4c',1372690000,'java/org/apache/catalina/realm/JAASRealm.java'),(104,55160,'Bug 55160  NIO connectionUploadTimeout can\'t work','when i configure disableUploadTimeout=\"false\" and connectionTimeout=\"20000\" ,connectionUploadTimeout=\"30000\" .\nI found the connectionUploadTimeout doesn\'t work, because the code in internalNioInputBuffer.readSocket():\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ntry {\n                NioEndpoint.KeyAttachment att = (NioEndpoint.KeyAttachment)socket.getAttachment(false);\n                if ( att == null ) throw new IOException(\"Key must be cancelled.\");\n                nRead = pool.read(socket.getBufHandler().getReadBuffer(),socket,selector,att.getTimeout());\n            } catch ( EOFException eof ) {\n                nRead = -1;\n            } finally { \n                if ( selector != null ) pool.put(selector);\n            }\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\natt.getTimeout() is the connectionTimeout ,not the connectionUploadTimeout.\nso , in NioBlockingSelector.read(), the readTimeout is connectionTimeout','nio connect upload timeout connectionuploadtimeout work configur disabl upload timeout disableuploadtimeout fals connect timeout connectiontimeout connect upload timeout connectionuploadtimeout found connect upload timeout connectionuploadtimeout doesn work code intern nio input buffer internalnioinputbuff read socket readsocket tri nio endpoint nioendpoint key attach keyattach nio endpoint nioendpoint key attach keyattach socket get attach getattach fals null throw new except ioexcept key must cancel read nread pool read socket get buf handler getbufhandl get read buffer getreadbuff socket selector get timeout gettimeout catch except eofexcept eof read nread final selector null pool put selector get timeout gettimeout connect timeout connectiontimeout connect upload timeout connectionuploadtimeout nio block selector nioblockingselector read read timeout readtimeout connect timeout connectiontimeout','nio connect upload timeout connectionuploadtimeout work','configur disabl upload timeout disableuploadtimeout fals connect timeout connectiontimeout connect upload timeout connectionuploadtimeout found connect upload timeout connectionuploadtimeout doesn work code intern nio input buffer internalnioinputbuff read socket readsocket tri nio endpoint nioendpoint key attach keyattach nio endpoint nioendpoint key attach keyattach socket get attach getattach fals null throw new except ioexcept key must cancel read nread pool read socket get buf handler getbufhandl get read buffer getreadbuff socket selector get timeout gettimeout catch except eofexcept eof read nread final selector null pool put selector get timeout gettimeout connect timeout connectiontimeout connect upload timeout connectionuploadtimeout nio block selector nioblockingselector read read timeout readtimeout connect timeout connectiontimeout','2013-06-29 21:35:09',1372560000,'resolved fixed','9a01f2d',1372690000,'java/org/apache/coyote/http11/InternalNioInputBuffer.java'),(105,55158,'Bug 55158  Wasted work in AttributeNamesEnumerator constructor','','wast work attribut name enumer attributenamesenumer constructor','wast work attribut name enumer attributenamesenumer constructor','','2013-06-29 18:55:30',1372550000,'resolved fixed','ca956bd',1372680000,'java/org/apache/catalina/core/ApplicationHttpRequest.java'),(106,55159,'Bug 55159  Wasted work in ErrorReportValve.getPartialServletStackTrace','','wast work error report valv errorreportvalv get partial servlet stack trace getpartialservletstacktrac','wast work error report valv errorreportvalv get partial servlet stack trace getpartialservletstacktrac','','2013-06-29 19:12:03',1372550000,'resolved fixed','b7cad6b',1372680000,'java/org/apache/catalina/valves/ErrorReportValve.java'),(107,55017,'Bug 55017  Ability to configure RMI bind address','','abil configur rmi bind address','abil configur rmi bind address','','2013-05-24 14:50:10',1369420000,'resolved fixed','45f59bb',1372670000,'java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java'),(108,55151,'Bug 55151  Fix in MsgByte encoder and decoder TestEncodingDecoding websocket test','','fix msg byte msgbyte encod decod test encod decod testencodingdecod websocket','fix msg byte msgbyte encod decod test encod decod testencodingdecod websocket','','2013-06-27 18:00:57',1372370000,'resolved fixed','d71136a',1372360000,'test/org/apache/tomcat/websocket/pojo/TestEncodingDecoding.java'),(109,55102,'Bug 55102  Add ability to report time taken to prepare response','','add abil report time taken prepar respons','add abil report time taken prepar respons','','2013-06-15 17:09:47',1371330000,'closed fixed','7aea9cb',1372020000,'java/org/apache/catalina/valves/AccessLogValve.java\njava/org/apache/coyote/Response.java'),(110,55125,'Bug 55125  Tomcat does not shut down if LifecycleListener throws an exception','','tomcat shut lifecycl listen lifecyclelisten throw except','tomcat shut lifecycl listen lifecyclelisten throw except','','2013-06-21 11:23:54',1371830000,'resolved fixed','3a36a8f',1372020000,'java/org/apache/catalina/core/StandardService.java\njava/org/apache/catalina/startup/Catalina.java'),(111,55127,'Bug 55127  Encoders init and destroy methods are never called','','encod init destroy method never call','encod init destroy method never call','','2013-06-22 06:04:48',1371900000,'resolved fixed','93bcdde',1371910000,'java/org/apache/tomcat/websocket/WsRemoteEndpointImplBase.java\njava/org/apache/tomcat/websocket/WsRemoteEndpointImplClient.java\njava/org/apache/tomcat/websocket/WsSession.java\njava/org/apache/tomcat/websocket/WsWebSocketContainer.java\njava/org/apache/tomcat/websocket/server/WsHttpUpgradeHandler.java\njava/org/apache/tomcat/websocket/server/WsRemoteEndpointImplServer.java\ntest/org/apache/tomcat/websocket/pojo/TestEncodingDecoding.java'),(112,55126,'Bug 55126  IAE is thrown during deployment of ServerEndPoint having multiple text decoders','','iae thrown deploy server end point serverendpoint multipl text decod','iae thrown deploy server end point serverendpoint multipl text decod','','2013-06-21 13:16:22',1371840000,'resolved fixed','366ddff',1371850000,'java/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java'),(113,55101,'Bug 55101  BasicAuthenticator parser and associated unit tests','','basic authent basicauthent parser associ unit test','basic authent basicauthent parser associ unit test','','2013-06-15 15:01:40',1371320000,'resolved fixed','c4a50f5',1371760000,'java/org/apache/catalina/authenticator/BasicAuthenticator.java\ntest/org/apache/catalina/authenticator/TestBasicAuthParser.java\ntest/org/apache/catalina/authenticator/TestNonLoginAndBasicAuthenticator.java'),(114,54745,'Bug 54745  Tomcat JarScanning does not work when Tomcat started with Java Web Start','','tomcat jar scan jarscan work tomcat start java web start','tomcat jar scan jarscan work tomcat start java web start','','2013-03-22 23:07:06',1364010000,'resolved fixed','c7c30b6',1371740000,'java/org/apache/tomcat/util/scan/StandardJarScanner.java'),(115,53987,'Bug 53987  Log uncovered HTTP methods in combined security constraints','It is usually an error (and a security hole) if security constraints are defined for some but not all HTTP methods for a given URL. If such a situation is detected on web application start, log it.','log uncov http method combin secur constraint usual error secur hole secur constraint defin http method given url situat detect web applic start log','log uncov http method combin secur constraint','usual error secur hole secur constraint defin http method given url situat detect web applic start log','2012-10-09 19:02:28',1349820000,'resolved fixed','f78c1a4',1371680000,'java/org/apache/catalina/core/StandardContext.java'),(116,55073,'Bug 55073  wasted work in ValidateVisitor.isExpression()','','wast work valid visitor validatevisitor is express isexpress','wast work valid visitor validatevisitor is express isexpress','','2013-06-07 14:23:24',1370630000,'resolved fixed','3e2ceee',1371540000,'java/org/apache/jasper/compiler/Validator.java'),(117,55108,'Bug 55108  Wasted work in \"AbstractReplicatedMap.excludeFromSet\"','','wast work abstract replic map abstractreplicatedmap exclud from set excludefromset','wast work abstract replic map abstractreplicatedmap exclud from set excludefromset','','2013-06-17 18:12:00',1371510000,'resolved fixed','4979721',1371540000,'java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(118,55109,'Bug 55109  Wasted work in \"WebdavServlet.isLocked\"','','wast work webdav servlet webdavservlet is lock islock','wast work webdav servlet webdavservlet is lock islock','','2013-06-17 18:24:46',1371510000,'resolved fixed','82bccd2',1371540000,'java/org/apache/catalina/servlets/WebdavServlet.java'),(119,55110,'Bug 55110  Wasted work in \"TestNonLoginAndBasicAuthenticator.doTestBasic\"','','wast work test non login and basic authent testnonloginandbasicauthent do test basic dotestbas','wast work test non login and basic authent testnonloginandbasicauthent do test basic dotestbas','','2013-06-17 18:37:18',1371510000,'resolved fixed','c48a2ed',1371540000,'test/org/apache/catalina/authenticator/TestNonLoginAndBasicAuthenticator.java\ntest/org/apache/tomcat/websocket/TestWsWebSocketContainer.java'),(120,55052,'Bug 55052  [JULI] Make ClassLoaderLogManager.getProperty() to try unprefixed property if prefixed one does not exist','','juli make class loader log manag classloaderlogmanag get properti getproperti tri unprefix properti prefix one exist','juli make class loader log manag classloaderlogmanag get properti getproperti tri unprefix properti prefix one exist','','2013-06-03 13:08:20',1370280000,'resolved fixed','99562d3',1370350000,'java/org/apache/juli/ClassLoaderLogManager.java'),(121,55046,'Bug 55046  CORS Filter','','cor filter','cor filter','','2013-06-02 00:48:49',1370150000,'resolved fixed','72edec7',1370340000,'java/org/apache/catalina/filters/CorsFilter.java\ntest/org/apache/catalina/filters/TestCorsFilter.java\ntest/org/apache/catalina/filters/TesterFilterChain.java\ntest/org/apache/catalina/filters/TesterFilterConfigs.java\ntest/org/apache/catalina/filters/TesterHttpServletRequest.java\ntest/org/apache/catalina/filters/TesterHttpServletResponse.java\ntest/org/apache/catalina/filters/TesterServletContext.java'),(122,55035,'Bug 55035  Deploy ROOT webapp with version through text manager using Ant','Currently Ant \"deploy\" task does not support separate parameter \"version\" and, thanks to URLEncoder, there is no workaround for that.\n\nBut for apps with not empty context it\'s possible to define version using ##, like setting path to \"/someContext#someVersion\".\n\nFor apps with empty context we receive error:\n\nCase #1:\n<deploy url=\"{tomcat.manager}/text\" username=\"${username}\", password=\"${password}\" path=\"/ROOT##12345\" war=\"${pathtowar}\" />\n\nResult:\nFailed to deploy application at context path /ROOT##12345\n\nCase #1:\n<deploy url=\"{tomcat.manager}/text\" username=\"${username}\", password=\"${password}\" path=\"/##12345\" war=\"${pathtowar}\" />\n\nResult:\nFailed to deploy application at context path /##12345','deploy root webapp version text manag use ant current ant deploy task support separ paramet version thank encod urlencod workaround app empti context possibl defin version use like set path some context somecontext some version somevers app empti context receiv error case deploy url tomcat manag text usernam usernam password password path root pathtowar result fail deploy applic context path root case deploy url tomcat manag text usernam usernam password password path pathtowar result fail deploy applic context path','deploy root webapp version text manag use ant','current ant deploy task support separ paramet version thank encod urlencod workaround app empti context possibl defin version use like set path some context somecontext some version somevers app empti context receiv error case deploy url tomcat manag text usernam usernam password password path root pathtowar result fail deploy applic context path root case deploy url tomcat manag text usernam usernam password password path pathtowar result fail deploy applic context path','2013-05-31 16:05:20',1370030000,'resolved fixed','712a351',1370290000,'java/org/apache/catalina/ant/DeployTask.java'),(123,54999,'Bug 54999  JSESSIONIDSSO not re-created upon re-authentication on the same request - logout() and login(username,password)','In testing I found that the JSESSIONIDSSO was not re-created upon re-authentication via logout() and login(username,password) in the same request.  The problem stemmed from the REQ_SSOID_NOTE that was was not reset upon request.logout(), whereas the documentation indicates that a logout() from any web-app should logout() from all web-apps.  When the REQ_SSOID_NOTE is not removed upon logout(), a subsequent login(username,password) on the same request will re-create a JSESSIONID for the current web-app but fails to re-create a JSESSIONIDSSO since the REQ_SSO_ID_NOTE still lingers on the request.\n\nAuthenticatorBase.java adjustment for logout(request) that removes the REQ_SSOID_NOTE so that a subsequent login(username,password) will work on the same request:\n\n    @Override\n    public void logout(Request request) throws ServletException {\n        register(request, request.getResponse(), null,\n                null, null, null);\n    	request.removeNote(Constants.REQ_SSOID_NOTE);\n    }\n\nI\'ll upload a diff-patch against the trunk and for 7.0.40.','jsessionidsso re creat recreat upon re authent reauthent request logout login usernam password test found jsessionidsso re creat recreat upon re authent reauthent via logout login usernam password request problem stem req ssoid note reset upon request logout wherea document indic logout web app webapp logout web app webapp req ssoid note remov upon logout subsequ login usernam password request re creat recreat jsessionid current web app webapp fail re creat recreat jsessionidsso sinc req sso id note still linger request authent base authenticatorbas java adjust logout request remov req ssoid note subsequ login usernam password work request overrid public void logout request request throw servlet except servletexcept regist request request get respons getrespons null null null null request remov note removenot constant req ssoid note ll upload diff patch diffpatch trunk','jsessionidsso re creat recreat upon re authent reauthent request logout login usernam password','test found jsessionidsso re creat recreat upon re authent reauthent via logout login usernam password request problem stem req ssoid note reset upon request logout wherea document indic logout web app webapp logout web app webapp req ssoid note remov upon logout subsequ login usernam password request re creat recreat jsessionid current web app webapp fail re creat recreat jsessionidsso sinc req sso id note still linger request authent base authenticatorbas java adjust logout request remov req ssoid note subsequ login usernam password work request overrid public void logout request request throw servlet except servletexcept regist request request get respons getrespons null null null null request remov note removenot constant req ssoid note ll upload diff patch diffpatch trunk','2013-05-21 19:50:48',1369180000,'resolved fixed','6d789fe',1369920000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(124,54997,'Bug 54997  SSL Handshake implementation in AsycnChannelWrapperSecure does not handle SSLEngineResult.Status.BUFFER_UNDERFLOW and SSLEngineResult.Status.BUFFER_OVERFLOW states','','ssl handshak implement asycn channel wrapper secur asycnchannelwrappersecur handl engin result sslengineresult statu buffer underflow engin result sslengineresult statu buffer overflow state','ssl handshak implement asycn channel wrapper secur asycnchannelwrappersecur handl engin result sslengineresult statu buffer underflow engin result sslengineresult statu buffer overflow state','','2013-05-21 07:22:32',1369140000,'resolved fixed','6c6b25c',1369820000,'java/org/apache/tomcat/websocket/AsyncChannelWrapperSecure.java'),(125,54971,'Bug 54971  javax.servlet.http.Part.write(String fileName) is not properly implemented','1. fileName parameter / relative vs absolute\nfilaName parameter specification in\n<1><JSR-000315 Java Servlet 3.0 Final Release javadocs>\nis different from the <2><javax API tomcat refers to>.\n\n<1> <JSR-000315 Java Servlet 3.0 Final Release javadocs>\n\nParameters:fileName - the name of the file to which the stream will be written. The file is created relative to the location as specified in the MultipartConfig\n\n<2> javax. API tomcat refers to\n\n * @param fileName  The location into which the uploaded part should be\n     *                  stored. Relative locations are relative to {@link\n     *                  javax.servlet.MultipartConfigElement#getLocation()}\n\n\nTomcat is implemented as specified in <2> so that it can process \"absolute path\",\nbut it should only accept \"relative path\" as specified in <1>\n<JSR-000315 Java Servlet 3.0 Final Release javadocs>\n\n2.\nIf MultiPartConfig.location is not set,\nwrite( String relative path ) throws FileNotFound Exception.\nA default location needs to be set in order to avoid such exception.\n\nexample) os: windows8\n\npart.write(\"/test\");\n\njava.io.IOException: java.io.FileNotFoundException: \\test (Access is denied)\n	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:123)\n	at servlet.multipart.MultipleUploadServlet.doPost(MultipleUploadServlet.java:76)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:947)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1009)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n	at java.lang.Thread.run(Thread.java:662)','javax servlet http part write string file name filenam properli implement file name filenam paramet rel v absolut filum name filanam paramet specif jsr java servlet final releas javadoc differ javax api tomcat refer jsr java servlet final releas javadoc paramet file name filenam name file stream written file creat rel locat specifi multipart config multipartconfig javax api tomcat refer param file name filenam locat upload part store rel locat rel link javax servlet multipart config element multipartconfigel get locat getloc tomcat implement specifi process absolut path accept rel path specifi jsr java servlet final releas javadoc multi part config multipartconfig locat set write string rel path throw file not found filenotfound except default locat need set order avoid except exampl windows8 part write java except ioexcept java file not found except filenotfoundexcept access deni apach catalina core applic part applicationpart write applic part applicationpart java servlet multipart multipl upload servlet multipleuploadservlet do post dopost multipl upload servlet multipleuploadservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','javax servlet http part write string file name filenam properli implement','file name filenam paramet rel v absolut filum name filanam paramet specif jsr java servlet final releas javadoc differ javax api tomcat refer jsr java servlet final releas javadoc paramet file name filenam name file stream written file creat rel locat specifi multipart config multipartconfig javax api tomcat refer param file name filenam locat upload part store rel locat rel link javax servlet multipart config element multipartconfigel get locat getloc tomcat implement specifi process absolut path accept rel path specifi jsr java servlet final releas javadoc multi part config multipartconfig locat set write string rel path throw file not found filenotfound except default locat need set order avoid except exampl windows8 part write java except ioexcept java file not found except filenotfoundexcept access deni apach catalina core applic part applicationpart write applic part applicationpart java servlet multipart multipl upload servlet multipleuploadservlet do post dopost multipl upload servlet multipleuploadservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2013-05-15 02:16:03',1368600000,'resolved fixed','cccd0ac',1369750000,'java/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/core/ApplicationPart.java'),(126,54964,'Bug 54964  Class loading issue of \"TagPlugin\" in TagPluginManager','','class load issu tag plugin tagplugin tag plugin manag tagpluginmanag','class load issu tag plugin tagplugin tag plugin manag tagpluginmanag','','2013-05-14 06:57:34',1368530000,'resolved fixed','65ab66e',1369740000,'java/org/apache/jasper/compiler/TagPluginManager.java'),(127,54963,'Bug 54963  Concurrent issue of Spdy/NetSupportSocket','','concurr issu spdi net support socket netsupportsocket','concurr issu spdi net support socket netsupportsocket','','2013-05-14 06:50:20',1368530000,'resolved fixed','6272fca',1369740000,'java/org/apache/tomcat/spdy/NetSupportSocket.java'),(128,54961,'Bug 54961  Make \"compress\" configurable in SpdyProxyProtocol','','make compress configur spdi proxi protocol spdyproxyprotocol','make compress configur spdi proxi protocol spdyproxyprotocol','','2013-05-14 02:56:42',1368510000,'resolved fixed','c25112b',1369740000,'java/org/apache/coyote/spdy/SpdyProxyProtocol.java'),(129,54947,'Bug 54947  Http11NioProtocol generates HTTP 505 responses on valid requests if request is split across multiple packets','If an HTTP request is broken up across multiple packets *and* the first packet contains a GET request up to \"\\r\" AND the \"\\n\" terminating the first line of the request is included in the next packet Tomcat incorrectly throws an HTTP \"505 Version Not Supported\" response.  This is with the Http11NioProtocol connector only - the default HTTP/1.1 connector does not exhibit this problem.\n\nAn example request:\nPacket 1: GET / HTTP/1.1\\r\nPacket 2: \\nHost: localhost\\r\\n\nPacket 3: Connection: Close\\r\\n\\r\\n\n\nResponse:\nHTTP/1.1 505 HTTP Version Not Supported\nServer: Apache-Coyote/1.1\nDate: Thu, 09 May 2013 20:23:58 GMT\nConnection: close\n\nThe following Python program reproduces the problem for me in both Tomcat 6.0.37 and Tomcat 7.0.39:\n\"\"\"\n#!/usr/bin/python\n\nimport socket\nimport time\n\ns = socket.socket()\ns.connect((\"localhost\",8080))\ns.sendall(\"GET / HTTP/1.1\\r\")\ntime.sleep(1.5) # make sure the above goes out in its own packet\ns.sendall(\"\\nHost: localhost\\r\\n\")\ns.sendall(\"Connection: close\\r\\n\\r\\n\")\nprint s.makefile().read()\n\"\"\"\n\nMoving the \"\\n\" to from the second sendall to the end of the first sendall causes Tomcat to respond correctly.','http11 nio protocol http11nioprotocol gener http respons valid request request split across multipl packet http request broken across multipl packet first packet contain get request termin first line request includ next packet tomcat incorrectli throw http version support respons http11 nio protocol http11nioprotocol connector default http connector exhibit problem exampl request packet get http packet host nhost localhost packet connect close respons http http version support server apach coyot date thu may gmt connect close follow python program reproduc problem tomcat tomcat usr python import socket import time socket socket connect localhost sendal get http time sleep make sure go packet sendal host nhost localhost sendal connect close print makefil read move second sendal first sendal caus tomcat respond correctli','http11 nio protocol http11nioprotocol gener http respons valid request request split across multipl packet','http request broken across multipl packet first packet contain get request termin first line request includ next packet tomcat incorrectli throw http version support respons http11 nio protocol http11nioprotocol connector default http connector exhibit problem exampl request packet get http packet host nhost localhost packet connect close respons http http version support server apach coyot date thu may gmt connect close follow python program reproduc problem tomcat tomcat usr python import socket import time socket socket connect localhost sendal get http time sleep make sure go packet sendal host nhost localhost sendal connect close print makefil read move second sendal first sendal caus tomcat respond correctli','2013-05-09 20:27:01',1368150000,'resolved fixed','f763975',1369740000,'java/org/apache/coyote/http11/InternalNioInputBuffer.java\ntest/org/apache/catalina/startup/SimpleHttpClient.java\ntest/org/apache/coyote/http11/TestInternalInputBuffer.java'),(130,54944,'Bug 54944  Enhancements to TestFormAuthenticator','','enhanc test form authent testformauthent','enhanc test form authent testformauthent','','2013-05-09 14:33:23',1368120000,'resolved fixed','0de078e',1369740000,'test/org/apache/catalina/authenticator/TestFormAuthenticator.java'),(131,55019,'Bug 55019  <jsp:include page=\"blabla\" flush=\"true\"/> failed to compile under security manager','','jsp includ page blabla flush true fail compil secur manag','jsp includ page blabla flush true fail compil secur manag','','2013-05-27 12:55:28',1369670000,'resolved fixed','76a7098',1369670000,'java/org/apache/coyote/http11/AbstractOutputBuffer.java'),(132,54984,'Bug 54984  multipart/form-data is not always read with correct encoding','The bug occurs when form data is posted as multipart/form-data and using Servlet 3 API to get posted files.\nIn a servlet, if we set the encoding:\n\nrequest.setCharacterEncoding(\"UTF-8\");\n\nThen invoke:\n\nrequest.getParts()\n\nAnd then invoke:\n\nString text = request.getParameter(\"sometextfield\");\n\nUTF-8 characters in the text have been garbled.\n\nOrder of method calls are significant, if a getParameter is called before getParts, the correct encoding will be used.\nHowever, the order which you invoke the methods should not matter.','multipart form data formdata alway read correct encod occur form data post multipart form data formdata use servlet api get post file servlet set encod request set charact encod setcharacterencod utf invok request get part getpart invok string text request get paramet getparamet sometextfield utf charact text garbl order method call signific get paramet getparamet call get part getpart correct encod use howev order invok method matter','multipart form data formdata alway read correct encod','occur form data post multipart form data formdata use servlet api get post file servlet set encod request set charact encod setcharacterencod utf invok request get part getpart invok string text request get paramet getparamet sometextfield utf charact text garbl order method call signific get paramet getparamet call get part getpart correct encod use howev order invok method matter','2013-05-16 11:15:20',1368720000,'resolved fixed','7558546',1369420000,'java/org/apache/catalina/connector/Request.java\ntest/org/apache/catalina/connector/TestRequest.java'),(133,54928,'Bug 54928  IllegalStateException: Calling [asyncError()] is not valid for a request with Async state [COMPLETING]','In an async scenario (request.startAsync), when the client goes away, trying to write to the response raises an IOException. If I then call asyncContext.complete() in order to finalize and clean up the request, soon after the following exception occurs:\n\njava.lang.IllegalStateException: Calling [asyncError()] is not valid for a request with Async state [COMPLETING]\n        at org.apache.coyote.AsyncStateMachine.asyncError(AsyncStateMachine.java:304)\n        at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:793)\n        at org.apache.coyote.Request.action(Request.java:373)\n        at org.apache.catalina.core.AsyncContextImpl.setErrorState(AsyncContextImpl.java:441)\n        at org.apache.catalina.connector.CoyoteAdapter.asyncDispatch(CoyoteAdapter.java:312)\n        at org.apache.coyote.http11.AbstractHttp11Processor.asyncDispatch(AbstractHttp11Processor.java:1509)\n        at org.apache.coyote.http11.Http11NioProcessor.asyncDispatch(Http11NioProcessor.java:221)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:619)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1581)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1540)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)\n\nIt looks like an attempt to maybe to send an error event to AsyncListener\'s but asyncContext.complete has already been called.\n\nIs calling asyncContext.complete() a reasonable way to handle an IOException from the response in order to finalize the request and release any resorces associated with it?','illeg state except illegalstateexcept call async error asyncerror valid request async state complet async scenario request start async startasync client go away tri write respons rais except ioexcept call async context asynccontext complet order final clean request soon follow except occur java lang illeg state except illegalstateexcept call async error asyncerror valid request async state complet apach coyot async state machin asyncstatemachin async error asyncerror async state machin asyncstatemachin java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina core async context impl asynccontextimpl set error state seterrorst async context impl asynccontextimpl java apach catalina connector coyot adapt coyoteadapt async dispatch asyncdispatch coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor async dispatch asyncdispatch abstract http11 processor abstracthttp11processor java apach coyot http11 http11 nio processor http11nioprocessor async dispatch asyncdispatch http11 nio processor http11nioprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor do run dorun nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java look like attempt mayb send error event async listen asynclisten async context asynccontext complet alreadi call call async context asynccontext complet reason way handl except ioexcept respons order final request releas resorc associ','illeg state except illegalstateexcept call async error asyncerror valid request async state complet','async scenario request start async startasync client go away tri write respons rais except ioexcept call async context asynccontext complet order final clean request soon follow except occur java lang illeg state except illegalstateexcept call async error asyncerror valid request async state complet apach coyot async state machin asyncstatemachin async error asyncerror async state machin asyncstatemachin java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina core async context impl asynccontextimpl set error state seterrorst async context impl asynccontextimpl java apach catalina connector coyot adapt coyoteadapt async dispatch asyncdispatch coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor async dispatch asyncdispatch abstract http11 processor abstracthttp11processor java apach coyot http11 http11 nio processor http11nioprocessor async dispatch asyncdispatch http11 nio processor http11nioprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor do run dorun nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java look like attempt mayb send error event async listen asynclisten async context asynccontext complet alreadi call call async context asynccontext complet reason way handl except ioexcept respons order final request releas resorc associ','2013-05-04 12:41:30',1367690000,'resolved fixed','3960b22',1369400000,'test/org/apache/catalina/connector/TestCoyoteAdapter.java'),(134,54955,'Bug 54955  Mapping to application context root returns 404 after reload','','map applic context root return reload','map applic context root return reload','','2013-05-13 03:50:12',1368430000,'resolved fixed','cdbf6b0',1369080000,'java/org/apache/catalina/mapper/Mapper.java'),(135,54981,'Bug 54981  ServletContext.getJspConfigDescriptor() should return null when there is no jsp configuration','According to Servlet 3.0 javadoc ServletContext.getJspConfigDescriptor() must return NULL when there is no jsp configuration:\n\n\"\nReturns:\nthe <jsp-config> related configuration that was aggregated from the web.xml and web-fragment.xml descriptor files of the web application represented by this ServletContext, or null if no such configuration exists\n\"','servlet context servletcontext get jsp config descriptor getjspconfigdescriptor return null jsp configur accord servlet javadoc servlet context servletcontext get jsp config descriptor getjspconfigdescriptor must return null jsp configur return jsp config jspconfig relat configur aggreg web xml web fragment webfrag xml descriptor file web applic repres servlet context servletcontext null configur exist','servlet context servletcontext get jsp config descriptor getjspconfigdescriptor return null jsp configur','accord servlet javadoc servlet context servletcontext get jsp config descriptor getjspconfigdescriptor must return null jsp configur return jsp config jspconfig relat configur aggreg web xml web fragment webfrag xml descriptor file web applic repres servlet context servletcontext null configur exist','2013-05-16 08:02:36',1368710000,'resolved fixed','aabef09',1368690000,'java/org/apache/catalina/core/ApplicationContext.java\ntest/org/apache/catalina/core/TestApplicationContext.java'),(136,54974,'Bug 54974  SessionCookieConfig.setXXX methods must throw IllegalStateException when invoked after initialization phase','According to Servlet 3.0 javadoc \njavax.servlet.SessionCookieConfig setter methods must throw IllegalStateException when invoked after initialization phase\n\nsetComment(String) \nsetDomain(String)\nsetHttpOnly(boolean)\nsetMaxAge(int)\nsetName(String) \nsetPath(String)\nsetSecure(boolean)\n\n\"\nThrows: java.lang.IllegalStateException - if the ServletContext from which this SessionCookieConfig was acquired has already been initialized\n\"','session cooki config sessioncookieconfig set setxxx method must throw illeg state except illegalstateexcept invok initi phase accord servlet javadoc javax servlet session cooki config sessioncookieconfig setter method must throw illeg state except illegalstateexcept invok initi phase set comment setcom string set domain setdomain string set http onli sethttponli boolean set max age setmaxag int set name setnam string set path setpath string set secur setsecur boolean throw java lang illeg state except illegalstateexcept servlet context servletcontext session cooki config sessioncookieconfig acquir alreadi initi','session cooki config sessioncookieconfig set setxxx method must throw illeg state except illegalstateexcept invok initi phase','accord servlet javadoc javax servlet session cooki config sessioncookieconfig setter method must throw illeg state except illegalstateexcept invok initi phase set comment setcom string set domain setdomain string set http onli sethttponli boolean set max age setmaxag int set name setnam string set path setpath string set secur setsecur boolean throw java lang illeg state except illegalstateexcept servlet context servletcontext session cooki config sessioncookieconfig acquir alreadi initi','2013-05-15 08:23:39',1368620000,'resolved fixed','41462ca',1368610000,'java/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/core/ApplicationSessionCookieConfig.java\ntest/org/apache/catalina/core/TestApplicationSessionCookieConfig.java'),(137,54703,'Bug 54703  Nullpointer exception in HttpParser.parseMediaType','input for parseMediaType() is\n\n----------\nmultipart/signed; protocol=\"application/pkcs7-signature\"; micalg=sha-256; \n	boundary=\"----=_Part_121_929034657.1363355797756\"\n----------\n\nexception trace\n\njava.lang.NullPointerException\n        at org.apache.tomcat.util.http.parser.HttpParser.parseMediaType(HttpParser.java:215)\n        at org.apache.tomcat.util.http.parser.MediaTypeCache.parse(MediaTypeCache.java:54)\n        at org.apache.catalina.connector.Response.setContentType(Response.java:806)\n        at org.apache.catalina.connector.Response.checkSpecialHeader(Response.java:1119)\n        at org.apache.catalina.connector.Response.setHeader(Response.java:1446)\n        at org.apache.catalina.connector.ResponseFacade.setHeader(ResponseFacade.java:535)','nullpoint except http parser httpparser pars medium type parsemediatyp input pars medium type parsemediatyp multipart sign protocol applic pkcs7 signatur pkcs7signatur micalg sha boundari part except trace java lang null pointer except nullpointerexcept apach tomcat util http parser http parser httpparser pars medium type parsemediatyp http parser httpparser java apach tomcat util http parser medium type cach mediatypecach pars medium type cach mediatypecach java apach catalina connector respons set content type setcontenttyp respons java apach catalina connector respons check special header checkspecialhead respons java apach catalina connector respons set header sethead respons java apach catalina connector respons facad responsefacad set header sethead respons facad responsefacad java','nullpoint except http parser httpparser pars medium type parsemediatyp','input pars medium type parsemediatyp multipart sign protocol applic pkcs7 signatur pkcs7signatur micalg sha boundari part except trace java lang null pointer except nullpointerexcept apach tomcat util http parser http parser httpparser pars medium type parsemediatyp http parser httpparser java apach tomcat util http parser medium type cach mediatypecach pars medium type cach mediatypecach java apach catalina connector respons set content type setcontenttyp respons java apach catalina connector respons check special header checkspecialhead respons java apach catalina connector respons set header sethead respons java apach catalina connector respons facad responsefacad set header sethead respons facad responsefacad java','2013-03-15 14:09:19',1363370000,'resolved fixed','7aeab0e',1367940000,'java/org/apache/tomcat/util/http/parser/HttpParser.java\ntest/org/apache/tomcat/util/http/parser/TestMediaType.java'),(138,54906,'Bug 54906  WebappClassLoader.loadedByThisOrChild can throw ConcurrentModificationException','','webapp class loader webappclassload load by thi or child loadedbythisorchild throw concurr modif except concurrentmodificationexcept','webapp class loader webappclassload load by thi or child loadedbythisorchild throw concurr modif except concurrentmodificationexcept','','2013-04-29 19:25:04',1367280000,'resolved fixed','c06707c',1367700000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(139,54926,'Bug 54926  WsFilter performs handshake validation even if it doesn\'t have a mapped endpoint','WsFilter performs several validations on WebSocket requests before checking if there is a registered Endpoint. I think the check for registered Endponts (and delegation to the next Filter) should take place first and the filter should do no further processing if there is mapped Endpoint for that URL.\n\nFor example a SockJS protocol test send a POST request with a connection and upgrade headers but no ws version header and expects back a 405 (invalid HTTP method) where WsFilter sends 426 even though it has no Endpoint mapped at that URL.','filter wsfilter perform handshak valid even doesn map endpoint filter wsfilter perform sever valid web socket websocket request check regist endpoint think check regist endpont deleg next filter take place first filter process map endpoint url exampl sock sockj protocol send post request connect upgrad header w version header expect back invalid http method filter wsfilter send even though endpoint map url','filter wsfilter perform handshak valid even doesn map endpoint','filter wsfilter perform sever valid web socket websocket request check regist endpoint think check regist endpont deleg next filter take place first filter process map endpoint url exampl sock sockj protocol send post request connect upgrad header w version header expect back invalid http method filter wsfilter send even though endpoint map url','2013-05-04 01:23:20',1367650000,'resolved fixed','2df191f',1367660000,'java/org/apache/tomcat/websocket/server/WsFilter.java'),(140,54888,'Bug 54888  TagPlugin \"ForEach\" doesn\'t support CSV items','','tag plugin tagplugin for each foreach doesn support csv item','tag plugin tagplugin for each foreach doesn support csv item','','2013-04-24 16:49:45',1366840000,'resolved fixed','d440ae2',1367240000,'java/org/apache/jasper/tagplugins/jstl/core/ForEach.java\ntest/org/apache/jasper/tagplugins/jstl/core/TestForEach.java'),(141,54801,'Bug 54801  EL-like expressions in jsp:scriptlet break compilation of JSP XML documents','','like ellik express jsp scriptlet break compil jsp xml document','like ellik express jsp scriptlet break compil jsp xml document','','2013-04-04 22:24:00',1365130000,'resolved fixed','1631be1',1366900000,'java/org/apache/jasper/compiler/JspDocumentParser.java\ntest/org/apache/jasper/compiler/TestJspDocumentParser.java'),(142,54178,'Bug 54178  [CVE-2013-2071] runtime exception in onComplete of AsyncListener, will make org.apache.catalina.connector.Request not recycled (orginally reported MESSAGE POST to tomcat, but it called doGet)','one HTTP request use POST method, but in tomcat it calls doGet() what is really strage.\n\nas I only tested in 7.0.23, and 7.0.32. in 7.0.32, 7.0.32 is more reproduceable than 7.0.23.\n\nI know it must be a very strange issue, as tomcat has so many release. I can\'t believe it if I didn\'t see it with my own eyes.\n\nso I attache the image.','cve runtim except on complet oncomplet async listen asynclisten make apach catalina connector request recycl orgin report messag post tomcat call do get doget one http request use post method tomcat call do get doget realli strage test reproduc know must strang issu tomcat mani releas believ didn see eye attach imag','cve runtim except on complet oncomplet async listen asynclisten make apach catalina connector request recycl orgin report messag post tomcat call do get doget','one http request use post method tomcat call do get doget realli strage test reproduc know must strang issu tomcat mani releas believ didn see eye attach imag','2012-11-21 08:22:00',1353500000,'resolved fixed','4171baf',1366800000,'java/org/apache/catalina/core/AsyncContextImpl.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java'),(143,54708,'Bug 54708  Use base file name (\"ROOT\") as the work directory for the default webapp instead of \"_\"','','use base file name root work directori default webapp instead','use base file name root work directori default webapp instead','','2013-03-15 22:22:13',1363400000,'resolved fixed','59a0676',1366750000,'java/org/apache/catalina/core/StandardContext.java'),(144,54781,'Bug 54781  NPE in WsServerContainer if there is no matching path','','npe server contain wsservercontain match path','npe server contain wsservercontain match path','','2013-04-01 19:32:18',1364860000,'resolved fixed','67ed3e7',1366750000,'java/org/apache/tomcat/websocket/server/WsFilter.java\njava/org/apache/tomcat/websocket/server/WsServerContainer.java'),(145,54792,'Bug 54792  IllegalStateException with chat sample','This looks related to 54659 and 54724 but possibly a new issue. To reproduce, open the chat sample page, send a message or two, and then close the browser tab. The following exception appears in the log and it doesn\'t seem to step from anything done in the application:\n\njava.lang.IllegalStateException: The WebSocket session has been closed and no method (apart from close()) may be called on a closed session\n        at org.apache.tomcat.websocket.WsSession.checkState(WsSession.java:516)\n        at org.apache.tomcat.websocket.WsSession.getMessageHandlers(WsSession.java:191)\n        at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:113)\n        at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:392)\n        at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:370)\n        at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.close(WsHttpUpgradeHandler.java:166)\n        at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.access$200(WsHttpUpgradeHandler.java:44)\n        at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler$WsReadListener.onDataAvailable(WsHttpUpgradeHandler.java:192)\n        at org.apache.coyote.http11.upgrade.AbstractServletInputStream.onDataAvailable(AbstractServletInputStream.java:169)\n        at org.apache.coyote.http11.upgrade.AbstractProcessor.upgradeDispatch(AbstractProcessor.java:94)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:618)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1581)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1537)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)','illeg state except illegalstateexcept chat sampl look relat possibl new issu reproduc open chat sampl page send messag two close browser tab follow except appear log doesn seem step anyth done applic java lang illeg state except illegalstateexcept web socket websocket session close method apart close may call close session apach tomcat websocket session wssession check state checkstat session wssession java apach tomcat websocket session wssession get messag handler getmessagehandl session wssession java apach tomcat websocket pojo pojo endpoint base pojoendpointbas on close onclos pojo endpoint base pojoendpointbas java apach tomcat websocket session wssession fire endpoint on close fireendpointonclos session wssession java apach tomcat websocket session wssession on close onclos session wssession java apach tomcat websocket server http upgrad handler wshttpupgradehandl close http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl access http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl read listen wsreadlisten on data avail ondataavail http upgrad handler wshttpupgradehandl java apach coyot http11 upgrad abstract servlet input stream abstractservletinputstream on data avail ondataavail abstract servlet input stream abstractservletinputstream java apach coyot http11 upgrad abstract processor abstractprocessor upgrad dispatch upgradedispatch abstract processor abstractprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor do run dorun nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','illeg state except illegalstateexcept chat sampl','look relat possibl new issu reproduc open chat sampl page send messag two close browser tab follow except appear log doesn seem step anyth done applic java lang illeg state except illegalstateexcept web socket websocket session close method apart close may call close session apach tomcat websocket session wssession check state checkstat session wssession java apach tomcat websocket session wssession get messag handler getmessagehandl session wssession java apach tomcat websocket pojo pojo endpoint base pojoendpointbas on close onclos pojo endpoint base pojoendpointbas java apach tomcat websocket session wssession fire endpoint on close fireendpointonclos session wssession java apach tomcat websocket session wssession on close onclos session wssession java apach tomcat websocket server http upgrad handler wshttpupgradehandl close http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl access http upgrad handler wshttpupgradehandl java apach tomcat websocket server http upgrad handler wshttpupgradehandl read listen wsreadlisten on data avail ondataavail http upgrad handler wshttpupgradehandl java apach coyot http11 upgrad abstract servlet input stream abstractservletinputstream on data avail ondataavail abstract servlet input stream abstractservletinputstream java apach coyot http11 upgrad abstract processor abstractprocessor upgrad dispatch upgradedispatch abstract processor abstractprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor do run dorun nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2013-04-02 20:54:28',1364950000,'resolved fixed','e26d61d',1366730000,'webapps/examples/WEB-INF/classes/websocket/chat/ChatAnnotation.java'),(146,54800,'Bug 54800  Possible thread/memory leak with use of WebSocketContainer','Whenever WebSocketContainer is used to connect to a server endpoint, the following message appears when Tomcat shuts down:\n\nSEVERE: The web application [/websocket-test] appears to have started a thread named [Thread-4] but has failed to stop it. This is very likely to create a memory leak.\n\nThe message is repeated for 6 different threads. I don\'t have proof this is caused by the use of WebSocketContainer but the messages don\'t appear when it isn\'t used.\n\nThe Endpoint used to connect is very simple. It sends a message when the session is opened to the EchoEndpoint on the server side, and prints the response and closes when the message is echoed back.','possibl thread memori leak use web socket contain websocketcontain whenev web socket contain websocketcontain use connect server endpoint follow messag appear tomcat shut sever web applic websocket test websockettest appear start thread name thread fail stop like creat memori leak messag repeat differ thread proof caus use web socket contain websocketcontain messag appear isn use endpoint use connect simpl send messag session open echo endpoint echoendpoint server side print respons close messag echo back','possibl thread memori leak use web socket contain websocketcontain','whenev web socket contain websocketcontain use connect server endpoint follow messag appear tomcat shut sever web applic websocket test websockettest appear start thread name thread fail stop like creat memori leak messag repeat differ thread proof caus use web socket contain websocketcontain messag appear isn use endpoint use connect simpl send messag session open echo endpoint echoendpoint server side print respons close messag echo back','2013-04-04 21:47:00',1365130000,'resolved fixed','d2630df',1366730000,'java/org/apache/tomcat/websocket/WsWebSocketContainer.java'),(147,54807,'Bug 54807  [jsr356] java.lang.ClassCastException: org.apache.tomcat.websocket.server.WsServerContainer$TemplatePathMatch','Caused by: java.lang.ClassCastException: org.apache.tomcat.websocket.server.WsServerContainer$TemplatePathMatch cannot be cast to java.lang.Comparable\n	at java.util.TreeMap.compare(TreeMap.java:1188)\n	at java.util.TreeMap.put(TreeMap.java:531)\n	at java.util.TreeSet.add(TreeSet.java:255)\n	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:144)\n	at org.apache.tomcat.websocket.server.WsSci.onStartup(WsSci.java:118)\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5195)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n	... 11 more\n\nReproducible when a path is defined as {path}. For example:\n\n    @Override\n    public Set<ServerEndpointConfig> getEndpointConfigs(Set<Class<? extends Endpoint>> endpointClasses) {\n        logger.debug(\"{} detected\", JSR356ServerEndpointConfig.class.getName());\n        return new HashSet<ServerEndpointConfig>() {{\n            add(ServerEndpointConfig.Builder.create(JSR356Endpoint.class, \"/{path}\").configurator(c).build());\n        }};\n    }','jsr356 java lang class cast except classcastexcept apach tomcat websocket server server contain wsservercontain templat path match templatepathmatch caus java lang class cast except classcastexcept apach tomcat websocket server server contain wsservercontain templat path match templatepathmatch cannot cast java lang compar java util tree map treemap compar tree map treemap java java util tree map treemap put tree map treemap java java util tree set treeset add tree set treeset java apach tomcat websocket server server contain wsservercontain add endpoint addendpoint server contain wsservercontain java apach tomcat websocket server sci wssci on startup onstartup sci wssci java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java reproduc path defin path exampl overrid public set server endpoint config serverendpointconfig get endpoint config getendpointconfig set class extend endpoint endpoint class endpointclass logger debug detect r356 server endpoint config jsr356serverendpointconfig class get name getnam return new hash set hashset server endpoint config serverendpointconfig add server endpoint config serverendpointconfig builder creat r356 endpoint jsr356endpoint class path configur build','jsr356 java lang class cast except classcastexcept apach tomcat websocket server server contain wsservercontain templat path match templatepathmatch','caus java lang class cast except classcastexcept apach tomcat websocket server server contain wsservercontain templat path match templatepathmatch cannot cast java lang compar java util tree map treemap compar tree map treemap java java util tree map treemap put tree map treemap java java util tree set treeset add tree set treeset java apach tomcat websocket server server contain wsservercontain add endpoint addendpoint server contain wsservercontain java apach tomcat websocket server sci wssci on startup onstartup sci wssci java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java reproduc path defin path exampl overrid public set server endpoint config serverendpointconfig get endpoint config getendpointconfig set class extend endpoint endpoint class endpointclass logger debug detect r356 server endpoint config jsr356serverendpointconfig class get name getnam return new hash set hashset server endpoint config serverendpointconfig add server endpoint config serverendpointconfig builder creat r356 endpoint jsr356endpoint class path configur build','2013-04-05 15:38:39',1365190000,'resolved fixed','0339fec',1366400000,'java/org/apache/tomcat/websocket/server/WsServerContainer.java\ntest/org/apache/tomcat/websocket/server/TestWebSocketServerContainer.java'),(148,54822,'Bug 54822  URL with Query String can\'t work over SPDY','','url queri string work spdi','url queri string work spdi','','2013-04-10 07:13:22',1365590000,'resolved fixed','3da2133',1366380000,'java/org/apache/coyote/spdy/SpdyProcessor.java'),(149,54851,'Bug 54851  Folder without web-fragment.xml should not impact the status of distributable','','folder without web fragment webfrag xml impact statu distribut','folder without web fragment webfrag xml impact statu distribut','','2013-04-16 08:47:44',1366120000,'resolved fixed','e97e158',1366120000,'java/org/apache/catalina/startup/ContextConfig.java'),(150,54755,'Bug 54755  Type-based Endpoint\'s cannot be deployed by instance','For type-based Endpoint\'s, WsServlet instantiates the Endpoint via reflection instead of using the Configurator as is done in PojoEndpointServer:\n\nsec.getConfigurator().getEndpointInstance(sec.getEndpointClass())','type base typebas endpoint cannot deploy instanc type base typebas endpoint servlet wsservlet instanti endpoint via reflect instead use configur done pojo endpoint server pojoendpointserv sec get configur getconfigur get endpoint instanc getendpointinst sec get endpoint class getendpointclass','type base typebas endpoint cannot deploy instanc','type base typebas endpoint servlet wsservlet instanti endpoint via reflect instead use configur done pojo endpoint server pojoendpointserv sec get configur getconfigur get endpoint instanc getendpointinst sec get endpoint class getendpointclass','2013-03-26 14:52:29',1364320000,'resolved fixed','d025179',1364330000,'java/org/apache/tomcat/websocket/server/WsServlet.java'),(151,54748,'Bug 54748  IOException in echo WebSocket example','The IOException \"New frame received after a close control frame\" is raised after pressing Disconnect. The exception can be detected by adding an onError method to EchoEndpoint.','except ioexcept echo web socket websocket exampl except ioexcept new frame receiv close control frame rais press disconnect except detect ad on error onerror method echo endpoint echoendpoint','except ioexcept echo web socket websocket exampl','except ioexcept new frame receiv close control frame rais press disconnect except detect ad on error onerror method echo endpoint echoendpoint','2013-03-25 09:23:09',1364220000,'resolved fixed','cf0c064',1364250000,'java/org/apache/tomcat/websocket/WsFrameBase.java\njava/org/apache/tomcat/websocket/WsFrameClient.java\njava/org/apache/tomcat/websocket/server/WsFrameServer.java'),(152,54732,'Bug 54732  StatementCache interceptor does not forward calls to Statement.close() which causes memory leaks','','statement cach statementcach interceptor forward call statement close caus memori leak','statement cach statementcach interceptor forward call statement close caus memori leak','','2013-03-20 16:09:31',1363810000,'resolved fixed','8cf47b4',1363960000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/interceptor/StatementCache.java\nmodules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/pool/interceptor/StatementCounterInterceptor.java\nmodules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/TestStatementCache.java'),(153,54599,'Bug 54599  DataSource password is exposed to applications via toString method','On the server side, create a DataSource using \"org.apache.tomcat.jdbc.pool.DataSourceFactory\".\n\nEx:\n\n        <Resource auth=\"Container\"\n                  description=\"\"\n                  name=\"jdbc/testTomcatJdbc\"\n                  factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\"\n                  type=\"javax.sql.DataSource\"\n                  username=\"sa\"\n                  password=\"super-secret\"\n                  driverClassName=\"org.h2.Driver\"\n                  url=\"jdbc:h2:mem:test\"\n                  minIdle=\"1\"\n                  initialSize=\"1\" />\n\nIn a web application, create a JSP file, add the following:\n\n<%@ page import=\"javax.naming.*\" session=\"false\" %>\n<!DOCTYPE HTML>\n<html>\n\n<head>\n    <title>Display Password!</title>\n</head>\n<body>\n    <h1>toString for Tomcat JDBC</h1>\n    <%\n      dataSource = (javax.sql.DataSource) ctx.lookup(\"java:/comp/env/jdbc/testTomcatJdbc\");\n      out.println(\"<p>\" + dataSource.toString() + \"</p>\");\n    %>\n</body>\n</html>\n\nAccess the JSP in your browser.  The output from toString on the DataSource will display the password that was configured in the <Resource/> tag.\n\nExample Output:\n\ntoString for Tomcat JDBC\n\norg.apache.tomcat.jdbc.pool.DataSource@75cae120{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=org.h2.Driver; maxActive=100; maxIdle=100; minIdle=1; initialSize=1; maxWait=30000; testOnBorrow=false; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=false; testOnConnect=false; password=super-secret; url=jdbc:h2:mem:test; username=sa; validationQuery=null; validatorClassName=null; validationInterval=30000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=false; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; }','data sourc datasourc password expos applic via to string tostr method server side creat data sourc datasourc use apach tomcat jdbc pool data sourc factori datasourcefactori ex resourc auth contain descript name jdbc test tomcat jdbc testtomcatjdbc factori apach tomcat jdbc pool data sourc factori datasourcefactori type javax sql data sourc datasourc usernam password super secret supersecret driver class name driverclassnam h2 driver url jdbc h2 mem min idl minidl initi size initials web applic creat jsp file add follow page import javax name session fals doctyp html html head titl display password titl head bodi h1 to string tostr tomcat jdbc h1 data sourc datasourc javax sql data sourc datasourc ctx lookup java comp env jdbc test tomcat jdbc testtomcatjdbc println data sourc datasourc to string tostr bodi html access jsp browser output to string tostr data sourc datasourc display password configur resourc tag exampl output to string tostr tomcat jdbc apach tomcat jdbc pool data sourc datasourc 75cae120 connect pool connectionpool default auto commit defaultautocommit null default read onli defaultreadonli null default transact isol defaulttransactionisol default catalog defaultcatalog null driver class name driverclassnam h2 driver max activ maxact max idl maxidl min idl minidl initi size initials max wait maxwait test on borrow testonborrow fals test on return testonreturn fals time between evict run milli timebetweenevictionrunsmilli num test per evict run numtestsperevictionrun min evict idl time milli minevictableidletimemilli test while idl testwhileidl fals test on connect testonconnect fals password super secret supersecret url jdbc h2 mem usernam valid queri validationqueri null valid class name validatorclassnam null valid interv validationinterv access to underli connect allow accesstounderlyingconnectionallow true remov abandon removeabandon fals remov abandon timeout removeabandonedtimeout log abandon logabandon fals connect properti connectionproperti null init initsql null jdbc interceptor jdbcinterceptor null jmx enabl jmxenabl true fair queue fairqueu true use equal useequ true abandon when percentag full abandonwhenpercentageful max age maxag use lock uselock fals data sourc datasourc null data sourc datasourcejndi null suspect timeout suspecttimeout altern usernam allow alternateusernameallow fals commit on return commitonreturn fals rollback on return rollbackonreturn fals use dispos connect facad usedisposableconnectionfacad true log valid error logvalidationerror fals propag interrupt state propagateinterruptst fals','data sourc datasourc password expos applic via to string tostr method','server side creat data sourc datasourc use apach tomcat jdbc pool data sourc factori datasourcefactori ex resourc auth contain descript name jdbc test tomcat jdbc testtomcatjdbc factori apach tomcat jdbc pool data sourc factori datasourcefactori type javax sql data sourc datasourc usernam password super secret supersecret driver class name driverclassnam h2 driver url jdbc h2 mem min idl minidl initi size initials web applic creat jsp file add follow page import javax name session fals doctyp html html head titl display password titl head bodi h1 to string tostr tomcat jdbc h1 data sourc datasourc javax sql data sourc datasourc ctx lookup java comp env jdbc test tomcat jdbc testtomcatjdbc println data sourc datasourc to string tostr bodi html access jsp browser output to string tostr data sourc datasourc display password configur resourc tag exampl output to string tostr tomcat jdbc apach tomcat jdbc pool data sourc datasourc 75cae120 connect pool connectionpool default auto commit defaultautocommit null default read onli defaultreadonli null default transact isol defaulttransactionisol default catalog defaultcatalog null driver class name driverclassnam h2 driver max activ maxact max idl maxidl min idl minidl initi size initials max wait maxwait test on borrow testonborrow fals test on return testonreturn fals time between evict run milli timebetweenevictionrunsmilli num test per evict run numtestsperevictionrun min evict idl time milli minevictableidletimemilli test while idl testwhileidl fals test on connect testonconnect fals password super secret supersecret url jdbc h2 mem usernam valid queri validationqueri null valid class name validatorclassnam null valid interv validationinterv access to underli connect allow accesstounderlyingconnectionallow true remov abandon removeabandon fals remov abandon timeout removeabandonedtimeout log abandon logabandon fals connect properti connectionproperti null init initsql null jdbc interceptor jdbcinterceptor null jmx enabl jmxenabl true fair queue fairqueu true use equal useequ true abandon when percentag full abandonwhenpercentageful max age maxag use lock uselock fals data sourc datasourc null data sourc datasourcejndi null suspect timeout suspecttimeout altern usernam allow alternateusernameallow fals commit on return commitonreturn fals rollback on return rollbackonreturn fals use dispos connect facad usedisposableconnectionfacad true log valid error logvalidationerror fals propag interrupt state propagateinterruptst fals','2013-02-22 16:37:23',1361570000,'resolved fixed','8445d9a',1363940000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java'),(154,54724,'Bug 54724  WsSession does not throw IllegalStateException if closed when methods on it are called','Spec JavaDoc says:\n\n\"Once the session is closed, it is no longer valid for use by applications. Calling any of its methods once the session has been closed will result in an IllegalStateException being thrown. Developers should retrieve any information from the session during the Endpoint.onClose(Session, CloseReason) method.\"\n\nOf course, the rules of Closeable also apply here, and calling Session#close(...) more than once should have no effect subsequent times.\n\nThere are actually three problems here:\n\n1) None of the methods throw IllegalStateException if the session is closed. Instead, they return things (like the basic remote, for example), and some methods in the endpoint implementation will not notice concurrent exceptions from the socket and then block forever waiting four the Countdown to clear.\n\n2) The Session#state is never actually changed to State.CLOSED unless Session#onClose is called. However, Session#onClose is never actually called that I can find (though I will look harder before I make changes).\n\n3) Even in Session#onClose, the state is incorrectly changed to State.CLOSED BEFORE Endpoint#onClose is called, when it should be changed AFTER.\n\nI\'m working on a patch for this.','session wssession throw illeg state except illegalstateexcept close method call spec java doc javadoc say session close longer valid use applic call method session close result illeg state except illegalstateexcept thrown develop retriev inform session endpoint on close onclos session close reason closereason method cours rule closeabl appli call session close effect subsequ time actual three problem none method throw illeg state except illegalstateexcept session close instead return thing like basic remot exampl method endpoint implement notic concurr except socket block forev wait four countdown clear session state never actual chang state close unless session on close onclos call howev session on close onclos never actual call find though look harder make chang even session on close onclos state incorrectli chang state close endpoint on close onclos call chang work patch','session wssession throw illeg state except illegalstateexcept close method call','spec java doc javadoc say session close longer valid use applic call method session close result illeg state except illegalstateexcept thrown develop retriev inform session endpoint on close onclos session close reason closereason method cours rule closeabl appli call session close effect subsequ time actual three problem none method throw illeg state except illegalstateexcept session close instead return thing like basic remot exampl method endpoint implement notic concurr except socket block forev wait four countdown clear session state never actual chang state close unless session on close onclos call howev session on close onclos never actual call find though look harder make chang even session on close onclos state incorrectli chang state close endpoint on close onclos call chang work patch','2013-03-19 13:22:56',1363710000,'resolved fixed','12f89ff',1363720000,'java/org/apache/tomcat/websocket/WsSession.java\ntest/org/apache/tomcat/websocket/TestWsWebSocketContainer.java'),(155,54721,'Bug 54721  RemoteEndpoint blocks indefinitely if sendObject called with BinaryStream of TextStream encoders','','remot endpoint remoteendpoint block indefinit send object sendobject call binari stream binarystream text stream textstream encod','remot endpoint remoteendpoint block indefinit send object sendobject call binari stream binarystream text stream textstream encod','','2013-03-18 22:01:43',1363660000,'resolved fixed','80ef59a',1363700000,'java/org/apache/tomcat/websocket/WsRemoteEndpointImplBase.java'),(156,54710,'Bug 54710  Java WebSocket specification says @OnMessage methods can have InputStream/Reader parameters; @OnClose can have CloseReason parameters','','java web socket websocket specif say on messag onmessag method input stream inputstream reader paramet on close onclos close reason closereason paramet','java web socket websocket specif say on messag onmessag method input stream inputstream reader paramet on close onclos close reason closereason paramet','','2013-03-17 09:59:10',1363530000,'resolved fixed','06800eb',1363640000,'java/org/apache/tomcat/websocket/pojo/PojoEndpointBase.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerBase.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerPartialBase.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerPartialBinary.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerPartialText.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeBase.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeBinary.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholePong.java\njava/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeText.java\njava/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java'),(157,54709,'Bug 54709  Official schemes for WebSocket are \"ws\"/\"wss\"; WsWebSocketContainer only allows \"http\"/\"https\"','','offici scheme web socket websocket w w web socket contain wswebsocketcontain allow http http','offici scheme web socket websocket w w web socket contain wswebsocketcontain allow http http','','2013-03-17 08:54:31',1363520000,'resolved fixed','ad148dd',1363550000,'java/org/apache/tomcat/websocket/WsWebSocketContainer.java\ntest/org/apache/tomcat/websocket/TestWsRemoteEndpoint.java\ntest/org/apache/tomcat/websocket/TestWsWebSocketContainer.java\ntest/org/apache/tomcat/websocket/pojo/TestEncodingDecoding.java\ntest/org/apache/tomcat/websocket/pojo/TestPojoMethodMapping.java'),(158,54712,'Bug 54712  Prefer Locale.ENGLISH over Locale.US for case conversion','','prefer local english local u case convers','prefer local english local u case convers','','2013-03-17 12:54:09',1363540000,'resolved fixed','dc16474',1363530000,'java/org/apache/catalina/connector/Connector.java\njava/org/apache/tomcat/util/buf/B2CConverter.java\njava/org/apache/tomcat/util/http/parser/HttpParser.java\njava/org/apache/tomcat/util/http/parser/MediaType.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\ntest/org/apache/catalina/startup/SimpleHttpClient.java'),(159,54631,'Bug 54631  @PathParam is not working with @OnMessage','I have defined server end-point as:\n\n@ServerEndpoint(value = \"/ws/{mid}/{rid}/{uid}\")\n\nWhen using @PathParam with @OnMessage, values are null. Other annotations like @OnOpen and @OnClose print values specified in URL.\n\n@OnMessage\npublic void onTextMessage(@PathParam(\"mid\") Long mid, @PathParam(\"rid\") Integer rid, @PathParam(\"uid\") Long uid, Session session, String message, boolean pair) {\n	log.debug(\"[TEXT]\" + \" : \" + mid + \" : \" + rid + \" : \" + uid + message + \" : \" + session.getRequestURI());\n}','path param pathparam work on messag onmessag defin server end point endpoint server endpoint serverendpoint valu w mid rid uid use path param pathparam on messag onmessag valu null annot like on open onopen on close onclos print valu specifi url on messag onmessag public void on text messag ontextmessag path param pathparam mid long mid path param pathparam rid integ rid path param pathparam uid long uid session session string messag boolean pair log debug text mid rid uid messag session get request getrequesturi','path param pathparam work on messag onmessag','defin server end point endpoint server endpoint serverendpoint valu w mid rid uid use path param pathparam on messag onmessag valu null annot like on open onopen on close onclos print valu specifi url on messag onmessag public void on text messag ontextmessag path param pathparam mid long mid path param pathparam rid integ rid path param pathparam uid long uid session session string messag boolean pair log debug text mid rid uid messag session get request getrequesturi','2013-03-04 05:03:35',1362390000,'resolved fixed','7fd7279',1363380000,'test/org/apache/tomcat/websocket/pojo/TestPojoMethodMapping.java'),(160,54702,'Bug 54702  File descriptor leak at web.xml loading','Hello\n\nI think I\'ve found a file descriptor leak in file /tomcat/trunk/java/org/apache/catalina/startup/ContextConfig.java (method getGlobalWebXmlSource).\n\nA stream is from file \"web.xml\" is not closed.\n\nprivate WebXml getDefaultWebXmlFragment() {\n... \n\n1284	        InputSource globalWebXml = getGlobalWebXmlSource();\n...\n1337	            // Parse global web.xml if present\n1338	            if (globalWebXml == null) {\n1339	                // This is unusual enough to log\n1340	                log.info(sm.getString(\"contextConfig.defaultMissing\"));\n1341	            } else {\n1342	                parseWebXml(globalWebXml, webXmlDefaultFragment, false);\n1343	            }\n\nHere is the full stack trace\n\n[java.io.FileInputStream.<init>(FileInputStream.java:109)] [org.apache.catalina.startup.ContextConfig.getWebXmlSource(ContextConfig.java:1837)] [org.apache.catalina.startup.ContextConfig.getGlobalWebXmlSource(ContextConfig.java:1744)] [org.apache.catalina.startup.ContextConfig.getDefaultWebXmlFragment(ContextConfig.java:1417)] [org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1253)] [org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)] [org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:369)] [org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)] [org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)] [org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5173)] [org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)] [org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)] [org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)] [org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)] [org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)] [org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:542)] [org.apache.catalina.startup.HostConfig.check(HostConfig.java:1462)] [sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)] [sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)] [sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)] [java.lang.reflect.Method.invoke(Method.java:597)] [org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:301)] [com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)] [com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)] [org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1445)] [org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:301)] [org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:208)] [javax.servlet.http.HttpServlet.service(HttpServlet.java:647)] [javax.servlet.http.HttpServlet.service(HttpServlet.java:728)] [org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)] [org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)] [org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:213)] [org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)] [org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)] [org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)] [org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)] [org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)] [org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)] [org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)] [org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)] [org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)] [org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)] [org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:931)] [org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)] [org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)] [org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)] [org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)] [org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1822)] [java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)] [java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)] [java.lang.Thread.run(Thread.java:662)]','file descriptor leak web xml load hello think found file descriptor leak file tomcat trunk java apach catalina startup context config contextconfig java method get global web xml sourc getglobalwebxmlsourc stream file web xml close privat web xml webxml get default web xml fragment getdefaultwebxmlfrag input sourc inputsourc global web xml globalwebxml get global web xml sourc getglobalwebxmlsourc pars global web xml present global web xml globalwebxml null unusu enough log log info sm get string getstr context config contextconfig default miss defaultmiss els pars web xml parsewebxml global web xml globalwebxml web xml default fragment webxmldefaultfrag fals full stack trace java file input stream fileinputstream init file input stream fileinputstream java apach catalina startup context config contextconfig get web xml sourc getwebxmlsourc context config contextconfig java apach catalina startup context config contextconfig get global web xml sourc getglobalwebxmlsourc context config contextconfig java apach catalina startup context config contextconfig get default web xml fragment getdefaultwebxmlfrag context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach tomcat util model base model bean basemodelmbean invok base model bean basemodelmbean java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor invok default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv invok jmx bean server jmxmbeanserv java apach catalina manag manag servlet managerservlet check manag servlet managerservlet java apach catalina manag manag servlet htmlmanagerservlet upload manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do post dopost manag servlet htmlmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina filter csrf prevent filter csrfpreventionfilt do filter dofilt csrf prevent filter csrfpreventionfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina filter set charact encod filter setcharacterencodingfilt do filter dofilt set charact encod filter setcharacterencodingfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net apr endpoint aprendpoint socket processor socketprocessor run apr endpoint aprendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','file descriptor leak web xml load','hello think found file descriptor leak file tomcat trunk java apach catalina startup context config contextconfig java method get global web xml sourc getglobalwebxmlsourc stream file web xml close privat web xml webxml get default web xml fragment getdefaultwebxmlfrag input sourc inputsourc global web xml globalwebxml get global web xml sourc getglobalwebxmlsourc pars global web xml present global web xml globalwebxml null unusu enough log log info sm get string getstr context config contextconfig default miss defaultmiss els pars web xml parsewebxml global web xml globalwebxml web xml default fragment webxmldefaultfrag fals full stack trace java file input stream fileinputstream init file input stream fileinputstream java apach catalina startup context config contextconfig get web xml sourc getwebxmlsourc context config contextconfig java apach catalina startup context config contextconfig get global web xml sourc getglobalwebxmlsourc context config contextconfig java apach catalina startup context config contextconfig get default web xml fragment getdefaultwebxmlfrag context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach tomcat util model base model bean basemodelmbean invok base model bean basemodelmbean java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor invok default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv invok jmx bean server jmxmbeanserv java apach catalina manag manag servlet managerservlet check manag servlet managerservlet java apach catalina manag manag servlet htmlmanagerservlet upload manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do post dopost manag servlet htmlmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina filter csrf prevent filter csrfpreventionfilt do filter dofilt csrf prevent filter csrfpreventionfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina filter set charact encod filter setcharacterencodingfilt do filter dofilt set charact encod filter setcharacterencodingfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net apr endpoint aprendpoint socket processor socketprocessor run apr endpoint aprendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2013-03-15 08:53:36',1363350000,'resolved fixed','7c88af9',1363360000,'java/org/apache/catalina/startup/ContextConfig.java'),(161,54658,'Bug 54658  Implement Part#getSubmittedFileName from SERVLET_SPEC-57','','implement part get submit file name getsubmittedfilenam servlet spec','implement part get submit file name getsubmittedfilenam servlet spec','','2013-03-09 21:46:36',1362880000,'resolved fixed','ca205c1',1363290000,'java/javax/servlet/http/Part.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/core/ApplicationPart.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java'),(162,54660,'Bug 54660  AccessLogValve fileDateFormat can not be changed through JMX','When an AccessLogValve is added to a catalina host with the JMX addVale() operation on the Host object name, the valve will start with the default fileDateFormat.\n\nChanging the attribute on the valve through it\'s JMX object name has no effect because the valve is already started.\n\nExecuting a rotate() operation on the valve does also have no effect.\n\nSteps to Reproduce:\n- Start tomcat server\n- Add Host using JMX\n- Add valve to Host using JMX\n- Set valve attribute fileDateFormat to something else than yyyy-MM-dd, for example yy-MM\n\nActual Results:\nThe access log file format will include the default fileDateFormat of yyyy-MM-dd\n\nExpected Results:\nThe access log file format with yy-MM, as from the example.','access log valv accesslogvalv file date format filedateformat chang jmx access log valv accesslogvalv ad catalina host jmx add vale addval oper host object name valv start default file date format filedateformat chang attribut valv jmx object name effect valv alreadi start execut rotat oper valv effect step reproduc start tomcat server add host use jmx add valv host use jmx set valv attribut file date format filedateformat someth els yyyi dd mmdd exampl yy mm actual result access log file format includ default file date format filedateformat yyyi dd mmdd expect result access log file format yy mm exampl','access log valv accesslogvalv file date format filedateformat chang jmx','access log valv accesslogvalv ad catalina host jmx add vale addval oper host object name valv start default file date format filedateformat chang attribut valv jmx object name effect valv alreadi start execut rotat oper valv effect step reproduc start tomcat server add host use jmx add valv host use jmx set valv attribut file date format filedateformat someth els yyyi dd mmdd exampl yy mm actual result access log file format includ default file date format filedateformat yyyi dd mmdd expect result access log file format yy mm exampl','2013-03-10 07:09:11',1362910000,'resolved fixed','2a03ca6',1363280000,'java/org/apache/catalina/valves/AccessLogValve.java'),(163,54690,'Bug 54690  HTTPS BIO/NIO connector does not enable TLS 1.1 and TLS 1.2 by default','','http bio nio connector enabl tl tl default','http bio nio connector enabl tl tl default','','2013-03-13 17:07:20',1363210000,'closed fixed','fedf189',1363270000,'java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(164,54671,'Bug 54671  Spec says ServerContainerProvider#getServerContainer() should be public, but implemented package-private in Tomcat 8.0','','spec say server contain provid servercontainerprovid get server contain getservercontain public implement packag privat packagepriv tomcat','spec say server contain provid servercontainerprovid get server contain getservercontain public implement packag privat packagepriv tomcat','','2013-03-11 22:31:14',1363060000,'resolved fixed','28c599f',1363040000,'java/javax/websocket/server/ServerContainerProvider.java'),(165,54628,'Bug 54628  there is something wrong when send binary data by websocket.','there is something wrong when send binary data by websocket.\n\nsee org.apache.catalina.websocket.WsOutbound.doWriteBytes(ByteBuffer, boolean)\n\nI think \n\n// Write the content\n        upgradeOutbound.write(buffer.array(), 0, buffer.limit());\n        upgradeOutbound.flush();\n\nshould change to :\n\n// Write the content\n        upgradeOutbound.write(buffer.array(), buffer.arrayOffset(), buffer.limit());\n        upgradeOutbound.flush();\n\n\nFor example:\nbyte[] bts = new byte[]{1,2,3,4,5}\nByteBuffer bf = ByteBuffer.wrap(bts, 2, 2);\nout.writeBinaryMessage(bf);\n\nI mean write [3,4] to the client, but in fact [1,2,3,4] be sent;','someth wrong send binari data websocket someth wrong send binari data websocket see apach catalina websocket outbound wsoutbound do write byte dowritebyt byte buffer bytebuff boolean think write content upgrad outbound upgradeoutbound write buffer array buffer limit upgrad outbound upgradeoutbound flush chang write content upgrad outbound upgradeoutbound write buffer array buffer array offset arrayoffset buffer limit upgrad outbound upgradeoutbound flush exampl byte bt new byte byte buffer bytebuff bf byte buffer bytebuff wrap bt write binari messag writebinarymessag bf mean write client fact sent','someth wrong send binari data websocket','someth wrong send binari data websocket see apach catalina websocket outbound wsoutbound do write byte dowritebyt byte buffer bytebuff boolean think write content upgrad outbound upgradeoutbound write buffer array buffer limit upgrad outbound upgradeoutbound flush chang write content upgrad outbound upgradeoutbound write buffer array buffer array offset arrayoffset buffer limit upgrad outbound upgradeoutbound flush exampl byte bt new byte byte buffer bytebuff bf byte buffer bytebuff wrap bt write binari messag writebinarymessag bf mean write client fact sent','2013-03-02 08:37:25',1362230000,'resolved fixed','e1d16fd',1362600000,'java/org/apache/catalina/websocket/WsOutbound.java'),(166,54624,'Bug 54624  Form authenticator hangs on re-authentication of POST request behind mod_proxy_ajp','Setup: Tomcat AJP connector behind mod_proxy_ajp, form-based authentication.\n\nWhen session expires and a POST request is submitted, Tomcat shows login form, user logs in, authenticator tries to restore the original POST request. Doing that, it tries to swallow the AJP message body before replacing the body of the request with the original POST request body. It tries to read the first 4 bytes of the AJP message (the message length) and blocks forever waiting for those 4 bytes.','form authent hang re authent reauthent post request behind proxi ajp setup tomcat ajp connector behind proxi ajp form base formbas authent session expir post request submit tomcat show login form user log authent tri restor origin post request tri swallow ajp messag bodi replac bodi request origin post request bodi tri read first byte ajp messag messag length block forev wait byte','form authent hang re authent reauthent post request behind proxi ajp','setup tomcat ajp connector behind proxi ajp form base formbas authent session expir post request submit tomcat show login form user log authent tri restor origin post request tri swallow ajp messag bodi replac bodi request origin post request bodi tri read first byte ajp messag messag length block forev wait byte','2013-02-28 21:44:55',1362110000,'resolved fixed','c9e056c',1362600000,'java/org/apache/catalina/authenticator/FormAuthenticator.java'),(167,54612,'Bug 54612  Fatal Error when trying to send data to WebSocket with conection closed','','fatal error tri send data web socket websocket conect close','fatal error tri send data web socket websocket conect close','','2013-02-27 06:32:43',1361960000,'resolved fixed','1255d32',1362590000,'java/org/apache/catalina/websocket/WsOutbound.java'),(168,54638,'Bug 54638  /manager/status?XML=true','Hi all,\nin /manager/status?XML=true, informations about memory pools are incorrect.\nfor every row all the values (initial,committed,maximum,used) are the same:\n\nMemory Pools\nName:Eden Space	Type:Heap memory	Initial:143130624	Committed:143130624	Maximum:143130624	Used:143130624\nName:Survivor Space	Type:Heap memory	Initial:17891328	Committed:17891328	Maximum:17891328	Used:17891328\nName:Tenured Gen	Type:Heap memory	Initial:357957632	Committed:357957632	Maximum:357957632	Used:357957632\nName:Code Cache	Type:Non-heap memory	Initial:163840	Committed:8421376	Maximum:33554432	Used:163840\nName:Perm Gen	Type:Non-heap memory	Initial:12582912	Committed:23330816	Maximum:67108864	Used:12582912\nName:Perm Gen [shared-ro]	Type:Non-heap memory	Initial:10485760	Committed:10485760	Maximum:10485760	Used:10485760\nName:Perm Gen [shared-rw]	Type:Non-heap memory	Initial:12582912	Committed:12582912	Maximum:12582912	Used:12582912\n\n\nInstead in the gui page values are correct.','manag statu xml true hi manag statu xml true inform memori pool incorrect everi row valu initi commit maximum use memori pool name eden space type heap memori initi commit maximum use name survivor space type heap memori initi commit maximum use name tenur gen type heap memori initi commit maximum use name code cach type non heap nonheap memori initi commit maximum use name perm gen type non heap nonheap memori initi commit maximum use name perm gen share ro sharedro type non heap nonheap memori initi commit maximum use name perm gen share rw sharedrw type non heap nonheap memori initi commit maximum use instead gui page valu correct','manag statu xml true','hi manag statu xml true inform memori pool incorrect everi row valu initi commit maximum use memori pool name eden space type heap memori initi commit maximum use name survivor space type heap memori initi commit maximum use name tenur gen type heap memori initi commit maximum use name code cach type non heap nonheap memori initi commit maximum use name perm gen type non heap nonheap memori initi commit maximum use name perm gen share ro sharedro type non heap nonheap memori initi commit maximum use name perm gen share rw sharedrw type non heap nonheap memori initi commit maximum use instead gui page valu correct','2013-03-05 12:29:57',1362500000,'resolved fixed','78b3c10',1362530000,'java/org/apache/catalina/manager/StatusTransformer.java'),(169,54585,'Bug 54585  WebappLoader doesn\'t honor delegate attr while constructing jsp_classpath','If custom WebappClassLoader is created with delegate=true then parent-first classloading model is used. Everything works here as expected. However jsp_classpath is always constructed in the following manner:\ncustomWebappClassLoader.urls;parent.urls;parent...parent.urls\nWhereas it is expected to me that if delegate=true then parent\'s urls should come first.','webapp loader webappload doesn honor deleg attr construct jsp classpath custom webapp class loader webappclassload creat deleg true parent first parentfirst classload model use everyth work expect howev jsp classpath alway construct follow manner custom webapp class loader customwebappclassload url parent url parent parent url wherea expect deleg true parent url first','webapp loader webappload doesn honor deleg attr construct jsp classpath','custom webapp class loader webappclassload creat deleg true parent first parentfirst classload model use everyth work expect howev jsp classpath alway construct follow manner custom webapp class loader customwebappclassload url parent url parent parent url wherea expect deleg true parent url first','2013-02-19 20:50:13',1361330000,'resolved fixed','9ad4904',1362010000,'java/org/apache/catalina/loader/WebappLoader.java'),(170,54602,'Bug 54602  B2CConverter character decode underflow leaves bytes in buffer','If a request contains a uri that ends in a multi byte character which is missing a byte the extra bytes are left in a buffer which is reused by a future request.\n\nThe problem comes from two different things:\n1) If B2CConverter tries to convert a ByteChunk which ends in a character underflow it does not convert that last character and it is left in a buffer in B2CConver.\n\n2) The B2CConverter in org.apache.catalina.connector.Request is not recycled with the rest of the objects. It looks like this is done intentionally based on the comment above it\'s declaration.\n\nThe issue with B2CConverter can be demonstrated with the code below, which is a simplification of what is done inside of CoyoteAdapter.convertURI():\n\n<code>\nB2CConverter conv = new B2CConverter(\"UTF-8\");\nByteChunk bc = new ByteChunk();\nCharChunk cc = new CharChunk();\nbyte[] bytes = { 0x61, 0x62, 0x63, 0x64, -8, -69, -73, -77 };\n\nbc.append(bytes, 0, bytes.length);\ncc.allocate(bc.getLength(), -1);\nconv.convert(bc, cc, cc.getBuffer().length - cc.getEnd());\nSystem.out.println(cc);\n\ncc.recycle();\nbc.recycle();\n\nbc.append(bytes, 0, bytes.length);\ncc.allocate(bc.getLength(), -1);\nconv.convert(bc, cc, cc.getBuffer().length - cc.getEnd());\nSystem.out.println(cc);\n</code>\n\nIf the B2CConverter was recycled with everything else in Request this would prevent a previous request from corrupting the next request but it doesn\'t fix the issue that a character is dropped from the initial decode.\n\nI tried playing with B2CConverter and the only way I could get the convert to get everything was by ignoring the limit argument and reading to the end of the stream. It looks like tomcat8 is moving in this direction with the move to NIO, however I tried playing with the latest B2CConverter and was still seeing issues with the given byte sequence.','b2 convert b2cconvert charact decod underflow leaf byte buffer request contain uri end multi byte charact miss byte extra byte left buffer reus futur request problem come two differ thing b2 convert b2cconvert tri convert byte chunk bytechunk end charact underflow convert last charact left buffer b2 conver b2cconver b2 convert b2cconvert apach catalina connector request recycl rest object look like done intent base comment declar issu b2 convert b2cconvert demonstr code simplif done insid coyot adapt coyoteadapt convert converturi code b2 convert b2cconvert conv new b2 convert b2cconvert utf byte chunk bytechunk bc new byte chunk bytechunk char chunk charchunk cc new char chunk charchunk byte byte 0x61 0x62 0x63 0x64 bc append byte byte length cc alloc bc get length getlength conv convert bc cc cc get buffer getbuff length cc get end getend system println cc cc recycl bc recycl bc append byte byte length cc alloc bc get length getlength conv convert bc cc cc get buffer getbuff length cc get end getend system println cc code b2 convert b2cconvert recycl everyth els request would prevent previou request corrupt next request doesn fix issu charact drop initi decod tri play b2 convert b2cconvert way could get convert get everyth ignor limit argument read stream look like tomcat8 move direct move nio howev tri play latest b2 convert b2cconvert still see issu given byte sequenc','b2 convert b2cconvert charact decod underflow leaf byte buffer','request contain uri end multi byte charact miss byte extra byte left buffer reus futur request problem come two differ thing b2 convert b2cconvert tri convert byte chunk bytechunk end charact underflow convert last charact left buffer b2 conver b2cconver b2 convert b2cconvert apach catalina connector request recycl rest object look like done intent base comment declar issu b2 convert b2cconvert demonstr code simplif done insid coyot adapt coyoteadapt convert converturi code b2 convert b2cconvert conv new b2 convert b2cconvert utf byte chunk bytechunk bc new byte chunk bytechunk char chunk charchunk cc new char chunk charchunk byte byte 0x61 0x62 0x63 0x64 bc append byte byte length cc alloc bc get length getlength conv convert bc cc cc get buffer getbuff length cc get end getend system println cc cc recycl bc recycl bc append byte byte length cc alloc bc get length getlength conv convert bc cc cc get buffer getbuff length cc get end getend system println cc code b2 convert b2cconvert recycl everyth els request would prevent previou request corrupt next request doesn fix issu charact drop initi decod tri play b2 convert b2cconvert way could get convert get everyth ignor limit argument read stream look like tomcat8 move direct move nio howev tri play latest b2 convert b2cconvert still see issu given byte sequenc','2013-02-22 20:06:36',1361580000,'resolved fixed','b2f0e7c',1361570000,'java/org/apache/catalina/connector/CoyoteAdapter.java'),(171,54203,'Bug 54203  Part class missing documentation','','part class miss document','part class miss document','','2012-11-25 09:02:17',1353850000,'resolved fixed','81eaf63',1360750000,'java/javax/servlet/http/Part.java'),(172,54552,'Bug 54552  Completed Servlet 3.1 spec for changeSessionId, HttpSessionIdListener','','complet servlet spec chang session id changesessionid http session id listen httpsessionidlisten','complet servlet spec chang session id changesessionid http session id listen httpsessionidlisten','','2013-02-12 13:56:32',1360700000,'resolved fixed','c11952d',1360750000,'java/javax/servlet/http/HttpServletRequest.java\njava/javax/servlet/http/HttpServletRequestWrapper.java\njava/javax/servlet/http/HttpSessionIdListener.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/connector/RequestFacade.java\njava/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/session/ManagerBase.java\njava/org/apache/catalina/websocket/WsHttpServletRequestWrapper.java'),(173,54536,'Bug 54536  ErrorReportValve doesn\'t respect HttpServletResponse.sendError(int sc, String msg)','','error report valv errorreportvalv doesn respect http servlet respons httpservletrespons send error senderror int sc string msg','error report valv errorreportvalv doesn respect http servlet respons httpservletrespons send error senderror int sc string msg','','2013-02-07 12:33:41',1360260000,'resolved fixed','ef9ed07',1360700000,'java/org/apache/catalina/valves/ErrorReportValve.java\ntest/org/apache/catalina/valves/TestErrorReportValve.java'),(174,54239,'Bug 54239  Extensible EL Interpreter','','extens interpret','extens interpret','','2012-12-04 06:56:18',1354620000,'resolved fixed','f8ac6a0',1360680000,'java/org/apache/jasper/compiler/ELInterpreter.java\njava/org/apache/jasper/compiler/ELInterpreterFactory.java\njava/org/apache/jasper/compiler/Generator.java\ntest/org/apache/jasper/compiler/TestELInterpreterFactory.java'),(175,54456,'Bug 54456  ChunkedInputFilter returning EOF when client closes connection without sending end chunk','','chunk input filter chunkedinputfilt return eof client close connect without send chunk','chunk input filter chunkedinputfilt return eof client close connect without send chunk','','2013-01-21 16:45:51',1358800000,'resolved fixed','cc2f8db',1360240000,'java/org/apache/coyote/http11/filters/ChunkedInputFilter.java'),(176,54521,'Bug 54521  DigestAuthenticator: nonceCountValid() fails in case of simultaneous asynchronous requests of the same client','Concerned components:\norg.apache.catalina.authenticator.DigestAuthenticator\norg.apache.catalina.authenticator.DigestAuthenticator.NonceInfo\n\nScenario:\nA multithreaded client sends two requests within one millisecond. The DigestAuthenticator creates for each request a nonce as well as a NonceInfo instance. The two nonces are equal, as they were created within the same millisecond. When writing data into the cache (method generateNonce()), the second NonceInfo instance overwrites the first one (same key!).\n\nProblem:\nThe two client threads then send a second request with a digest authentication header. In both requests, nc (nonce count) is equal 1, as the nonce has been newly created. In the NonceInfo of the first request, array seen is set to true for index ((nonceCount + offset) % seen.length). In the second request the same NonceInfo instance is used, as the instance is retrieved from map nonces using nonce as a key, that is, in both requests the same key is used. Consequently, method nonceCountValid() returns false, as  seen[(nonceCount + offset) % seen.length)] has already been set to true.  Therefore the authentication fails, although the client has sent a valid digest authentication header.\n\nConclusion:\nWorking with multi-threaded clients with many requests, digest authentication does not function reliably.','digest authent digestauthent nonc count valid noncecountvalid fail case simultan asynchron request client concern compon apach catalina authent digest authent digestauthent apach catalina authent digest authent digestauthent nonc info nonceinfo scenario multithread client send two request within one millisecond digest authent digestauthent creat request nonc well nonc info nonceinfo instanc two nonc equal creat within millisecond write data cach method gener nonc generatenonc second nonc info nonceinfo instanc overwrit first one key problem two client thread send second request digest authent header request nc nonc count equal nonc newli creat nonc info nonceinfo first request array seen set true index nonc count noncecount offset seen length second request nonc info nonceinfo instanc use instanc retriev map nonc use nonc key request key use consequ method nonc count valid noncecountvalid return fals seen nonc count noncecount offset seen length alreadi set true therefor authent fail although client sent valid digest authent header conclus work multi thread multithread client mani request digest authent function reliabl','digest authent digestauthent nonc count valid noncecountvalid fail case simultan asynchron request client','concern compon apach catalina authent digest authent digestauthent apach catalina authent digest authent digestauthent nonc info nonceinfo scenario multithread client send two request within one millisecond digest authent digestauthent creat request nonc well nonc info nonceinfo instanc two nonc equal creat within millisecond write data cach method gener nonc generatenonc second nonc info nonceinfo instanc overwrit first one key problem two client thread send second request digest authent header request nc nonc count equal nonc newli creat nonc info nonceinfo first request array seen set true index nonc count noncecount offset seen length second request nonc info nonceinfo instanc use instanc retriev map nonc use nonc key request key use consequ method nonc count valid noncecountvalid return fals seen nonc count noncecount offset seen length alreadi set true therefor authent fail although client sent valid digest authent header conclus work multi thread multithread client mani request digest authent function reliabl','2013-02-04 10:54:16',1359990000,'resolved fixed','b68bbb8',1360230000,'java/org/apache/catalina/authenticator/DigestAuthenticator.java\ntest/org/apache/catalina/authenticator/TestDigestAuthenticator.java'),(177,54534,'Bug 54534  JMX connection may load servlet with invalid ClassLoader','','jmx connect may load servlet invalid class loader classload','jmx connect may load servlet invalid class loader classload','','2013-02-06 19:14:48',1360200000,'resolved fixed','a993d7c2',1360230000,'java/org/apache/catalina/core/StandardWrapper.java'),(178,54513,'Bug 54513  NullPointerException in AprEndpoint$Poller.run','Trunk at r1441188, running the test suite with APR connector, Native 1.1.26 Windows 32-bit with JDK 7u11.\n\nI encountered the following when running org.apache.catalina.loader.TestVirtualContext test\n\nOn second re-run of the test the same issue happened, so it is as if there is something specific here. I have not encountered the issue with the rest of testsuite yet.\n\n[[[\nFeb 01, 2013 2:07:26 AM org.apache.tomcat.util.net.AprEndpoint$Poller run\nWARNING: Unexpected poller error\njava.lang.NullPointerException\n	at org.apache.tomcat.util.net.AprEndpoint$AprSocketWrapper.access$200(AprEndpoint.java:2198)\n	at org.apache.tomcat.util.net.AprEndpoint$Poller.run(AprEndpoint.java:1632)\n	at java.lang.Thread.run(Thread.java:722)\n]]]\n\nThe code at AprEndpoint$Poller.run(AprEndpoint.java:1632) is\n\n1628 for (int n = 0; n < rv; n++) {\n1629  timeouts.remove(desc[n*2+1]);\n1630  AprSocketWrapper wrapper = connections.get(\n1631          Long.valueOf(desc[n*2+1]));\n1632  wrapper.pollerFlags = wrapper.pollerFlags & ~((int) desc[n*2]);\n\nI suspect that \"wrapper\" is null here.\n\nThe above code is specific to Tomcat trunk and is not present in 7.0.x.\n\n\nWhen this happened, the test hung for 15 minutes (1000 secs) waiting on a socket read. When time out passed, it continued to run all the other tests.\n\n[[[\nTestcase: testAdditionalWebInfClassesPaths took 1 006,735 sec\n	Caused an ERROR\nRead timed out\njava.net.SocketTimeoutException: Read timed out\n	at java.net.SocketInputStream.socketRead0(Native Method)\n	at java.net.SocketInputStream.read(SocketInputStream.java:150)\n	at java.net.SocketInputStream.read(SocketInputStream.java:121)\n	at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n	at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\n	at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n	at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:633)\n	at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\n	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\n	at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\n	at org.apache.catalina.startup.TomcatBaseTest.methodUrl(TomcatBaseTest.java:247)\n	at org.apache.catalina.startup.TomcatBaseTest.getUrl(TomcatBaseTest.java:219)\n	at org.apache.catalina.startup.TomcatBaseTest.getUrl(TomcatBaseTest.java:213)\n	at org.apache.catalina.startup.TomcatBaseTest.getUrl(TomcatBaseTest.java:202)\n	at org.apache.catalina.loader.TestVirtualContext.assertPageContains(TestVirtualContext.java:326)\n	at org.apache.catalina.loader.TestVirtualContext.assertPageContains(TestVirtualContext.java:320)\n	at org.apache.catalina.loader.TestVirtualContext.testAdditionalWebInfClassesPaths(TestVirtualContext.java:311)\n]]]','null pointer except nullpointerexcept apr endpoint aprendpoint poller run trunk r1441188 run suit apr connector nativ window 32 bit 32bit jdk 7u11 encount follow run apach catalina loader test virtual context testvirtualcontext second re run rerun issu happen someth specif encount issu rest testsuit yet feb apach tomcat util net apr endpoint aprendpoint poller run warn unexpect poller error java lang null pointer except nullpointerexcept apach tomcat util net apr endpoint aprendpoint apr socket wrapper aprsocketwrapp access apr endpoint aprendpoint java apach tomcat util net apr endpoint aprendpoint poller run apr endpoint aprendpoint java java lang thread run thread java code apr endpoint aprendpoint poller run apr endpoint aprendpoint java int rv timeout remov desc apr socket wrapper aprsocketwrapp wrapper connect get long valu of valueof desc wrapper poller flag pollerflag wrapper poller flag pollerflag int desc suspect wrapper null code specif tomcat trunk present happen hung minut sec wait socket read time pass continu run test testcas test addit web inf class path testadditionalwebinfclassespath took sec caus error read time java net socket timeout except sockettimeoutexcept read time java net socket input stream socketinputstream socket read0 socketread0 nativ method java net socket input stream socketinputstream read socket input stream socketinputstream java java net socket input stream socketinputstream read socket input stream socketinputstream java java buffer input stream bufferedinputstream fill buffer input stream bufferedinputstream java java buffer input stream bufferedinputstream read1 buffer input stream bufferedinputstream java java buffer input stream bufferedinputstream read buffer input stream bufferedinputstream java sun net www http http client httpclient pars header parsehttphead http client httpclient java sun net www http http client httpclient pars parsehttp http client httpclient java sun net www protocol http http connect httpurlconnect get input stream getinputstream http connect httpurlconnect java java net http connect httpurlconnect get respons code getresponsecod http connect httpurlconnect java apach catalina startup tomcat base test tomcatbasetest method url methodurl tomcat base test tomcatbasetest java apach catalina startup tomcat base test tomcatbasetest get url geturl tomcat base test tomcatbasetest java apach catalina startup tomcat base test tomcatbasetest get url geturl tomcat base test tomcatbasetest java apach catalina startup tomcat base test tomcatbasetest get url geturl tomcat base test tomcatbasetest java apach catalina loader test virtual context testvirtualcontext assert page contain assertpagecontain test virtual context testvirtualcontext java apach catalina loader test virtual context testvirtualcontext assert page contain assertpagecontain test virtual context testvirtualcontext java apach catalina loader test virtual context testvirtualcontext test addit web inf class path testadditionalwebinfclassespath test virtual context testvirtualcontext java','null pointer except nullpointerexcept apr endpoint aprendpoint poller run','trunk r1441188 run suit apr connector nativ window 32 bit 32bit jdk 7u11 encount follow run apach catalina loader test virtual context testvirtualcontext second re run rerun issu happen someth specif encount issu rest testsuit yet feb apach tomcat util net apr endpoint aprendpoint poller run warn unexpect poller error java lang null pointer except nullpointerexcept apach tomcat util net apr endpoint aprendpoint apr socket wrapper aprsocketwrapp access apr endpoint aprendpoint java apach tomcat util net apr endpoint aprendpoint poller run apr endpoint aprendpoint java java lang thread run thread java code apr endpoint aprendpoint poller run apr endpoint aprendpoint java int rv timeout remov desc apr socket wrapper aprsocketwrapp wrapper connect get long valu of valueof desc wrapper poller flag pollerflag wrapper poller flag pollerflag int desc suspect wrapper null code specif tomcat trunk present happen hung minut sec wait socket read time pass continu run test testcas test addit web inf class path testadditionalwebinfclassespath took sec caus error read time java net socket timeout except sockettimeoutexcept read time java net socket input stream socketinputstream socket read0 socketread0 nativ method java net socket input stream socketinputstream read socket input stream socketinputstream java java net socket input stream socketinputstream read socket input stream socketinputstream java java buffer input stream bufferedinputstream fill buffer input stream bufferedinputstream java java buffer input stream bufferedinputstream read1 buffer input stream bufferedinputstream java java buffer input stream bufferedinputstream read buffer input stream bufferedinputstream java sun net www http http client httpclient pars header parsehttphead http client httpclient java sun net www http http client httpclient pars parsehttp http client httpclient java sun net www protocol http http connect httpurlconnect get input stream getinputstream http connect httpurlconnect java java net http connect httpurlconnect get respons code getresponsecod http connect httpurlconnect java apach catalina startup tomcat base test tomcatbasetest method url methodurl tomcat base test tomcatbasetest java apach catalina startup tomcat base test tomcatbasetest get url geturl tomcat base test tomcatbasetest java apach catalina startup tomcat base test tomcatbasetest get url geturl tomcat base test tomcatbasetest java apach catalina startup tomcat base test tomcatbasetest get url geturl tomcat base test tomcatbasetest java apach catalina loader test virtual context testvirtualcontext assert page contain assertpagecontain test virtual context testvirtualcontext java apach catalina loader test virtual context testvirtualcontext assert page contain assertpagecontain test virtual context testvirtualcontext java apach catalina loader test virtual context testvirtualcontext test addit web inf class path testadditionalwebinfclassespath test virtual context testvirtualcontext java','2013-01-31 23:15:59',1359690000,'resolved fixed','bbb13f6',1359840000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(179,54497,'Bug 54497  RuntimeException in WebappClassLoader.checkThreadLocalMapForLeaks() causes LifecycleException','Observed this when testing Tomcat trunk at r1438747, at WinXP 32-bit, JDK 7u11.\n(running TestWsWebSocketContainer with APR, Tomcat-Native 1.1.26 RC)\n\nThere occurred an NPE in WebappClassLoader.checkThreadLocalMapForLeaks(). It was uncaught and caused LifecycleException and ultimately a failure to stop Tomcat.\n\n===============\nIn stderr:\nSEVERE: A child container failed during stop\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to stop component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\n	at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)\n	at java.util.concurrent.FutureTask.get(FutureTask.java:111)\n	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:974)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1404)\n	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1393)\n	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n	at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n	at java.lang.Thread.run(Thread.java:722)\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n	... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[]]\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5365)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n	... 7 more\nCaused by: java.lang.NullPointerException\n	at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:54)\n	at sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\n	at java.lang.reflect.Field.get(Field.java:372)\n	at org.apache.catalina.loader.WebappClassLoader.checkThreadLocalMapForLeaks(WebappClassLoader.java:2247)\n	at org.apache.catalina.loader.WebappClassLoader.checkThreadLocalsForLeaks(WebappClassLoader.java:2188)\n	at org.apache.catalina.loader.WebappClassLoader.clearReferences(WebappClassLoader.java:1731)\n	at org.apache.catalina.loader.WebappClassLoader.stop(WebappClassLoader.java:1641)\n	at org.apache.catalina.loader.WebappLoader.stopInternal(WebappLoader.java:491)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n	... 9 more\n===============\nIn testcase:\nTestcase: testSmallTextBufferClientTextMessage took 2,328 sec\n	Caused an ERROR\nFailed to stop component [StandardServer[-1]]\norg.apache.catalina.LifecycleException: Failed to stop component [StandardServer[-1]]\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:336)\n	at org.apache.catalina.startup.TomcatBaseTest.tearDown(TomcatBaseTest.java:163)\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [StandardService[Tomcat]]\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:766)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [StandardEngine[Tomcat]]\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:501)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during stop\n	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:981)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n===============\n\nThoughts:\n1. We should catch throwables in those checkFor**Leaks methods. It should not cause a \"failed to stop component\" failure.\n2. In that method there are many calls to \"table[j]\". The array member should be evaluated only once, so that it does not become null unexpectedly.','runtim except runtimeexcept webapp class loader webappclassload check thread local map for leak checkthreadlocalmapforleak caus lifecycl except lifecycleexcept observ test tomcat trunk r1438747 win winxp 32 bit 32bit jdk 7u11 run test web socket contain testwswebsocketcontain apr tomcat nativ rc occur npe webapp class loader webappclassload check thread local map for leak checkthreadlocalmapforleak uncaught caus lifecycl except lifecycleexcept ultim failur stop tomcat stderr sever child contain fail stop java util concurr execut except executionexcept apach catalina lifecycl except lifecycleexcept fail stop compon standard engin standardengin tomcat standard host standardhost localhost standard context standardcontext java util concurr futur task futuretask sync inner get innerget futur task futuretask java java util concurr futur task futuretask get futur task futuretask java apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core contain base containerbas stop child stopchild call contain base containerbas java apach catalina core contain base containerbas stop child stopchild call contain base containerbas java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus apach catalina lifecycl except lifecycleexcept fail stop compon standard engin standardengin tomcat standard host standardhost localhost standard context standardcontext apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus apach catalina lifecycl except lifecycleexcept fail stop compon webapp loader webappload apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard context standardcontext stop intern stopintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus java lang null pointer except nullpointerexcept sun reflect unsaf field accessor impl unsafefieldaccessorimpl ensur obj ensureobj unsaf field accessor impl unsafefieldaccessorimpl java sun reflect unsaf object field accessor impl unsafeobjectfieldaccessorimpl get unsaf object field accessor impl unsafeobjectfieldaccessorimpl java java lang reflect field get field java apach catalina loader webapp class loader webappclassload check thread local map for leak checkthreadlocalmapforleak webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload check thread local for leak checkthreadlocalsforleak webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload clear refer clearrefer webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload stop webapp class loader webappclassload java apach catalina loader webapp loader webappload stop intern stopintern webapp loader webappload java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java testcas testcas test small text buffer client text messag testsmalltextbufferclienttextmessag took sec caus error fail stop compon standard server standardserv apach catalina lifecycl except lifecycleexcept fail stop compon standard server standardserv apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina startup tomcat stop tomcat java apach catalina startup tomcat base test tomcatbasetest tear down teardown tomcat base test tomcatbasetest java caus apach catalina lifecycl except lifecycleexcept fail stop compon standard servic standardservic tomcat apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard server standardserv stop intern stopintern standard server standardserv java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus apach catalina lifecycl except lifecycleexcept fail stop compon standard engin standardengin tomcat apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard servic standardservic stop intern stopintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus apach catalina lifecycl except lifecycleexcept child contain fail stop apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java thought catch throwabl check for checkfor leak method caus fail stop compon failur method mani call tabl array member evalu becom null unexpectedli','runtim except runtimeexcept webapp class loader webappclassload check thread local map for leak checkthreadlocalmapforleak caus lifecycl except lifecycleexcept','observ test tomcat trunk r1438747 win winxp 32 bit 32bit jdk 7u11 run test web socket contain testwswebsocketcontain apr tomcat nativ rc occur npe webapp class loader webappclassload check thread local map for leak checkthreadlocalmapforleak uncaught caus lifecycl except lifecycleexcept ultim failur stop tomcat stderr sever child contain fail stop java util concurr execut except executionexcept apach catalina lifecycl except lifecycleexcept fail stop compon standard engin standardengin tomcat standard host standardhost localhost standard context standardcontext java util concurr futur task futuretask sync inner get innerget futur task futuretask java java util concurr futur task futuretask get futur task futuretask java apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core contain base containerbas stop child stopchild call contain base containerbas java apach catalina core contain base containerbas stop child stopchild call contain base containerbas java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus apach catalina lifecycl except lifecycleexcept fail stop compon standard engin standardengin tomcat standard host standardhost localhost standard context standardcontext apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus apach catalina lifecycl except lifecycleexcept fail stop compon webapp loader webappload apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard context standardcontext stop intern stopintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus java lang null pointer except nullpointerexcept sun reflect unsaf field accessor impl unsafefieldaccessorimpl ensur obj ensureobj unsaf field accessor impl unsafefieldaccessorimpl java sun reflect unsaf object field accessor impl unsafeobjectfieldaccessorimpl get unsaf object field accessor impl unsafeobjectfieldaccessorimpl java java lang reflect field get field java apach catalina loader webapp class loader webappclassload check thread local map for leak checkthreadlocalmapforleak webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload check thread local for leak checkthreadlocalsforleak webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload clear refer clearrefer webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload stop webapp class loader webappclassload java apach catalina loader webapp loader webappload stop intern stopintern webapp loader webappload java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java testcas testcas test small text buffer client text messag testsmalltextbufferclienttextmessag took sec caus error fail stop compon standard server standardserv apach catalina lifecycl except lifecycleexcept fail stop compon standard server standardserv apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina startup tomcat stop tomcat java apach catalina startup tomcat base test tomcatbasetest tear down teardown tomcat base test tomcatbasetest java caus apach catalina lifecycl except lifecycleexcept fail stop compon standard servic standardservic tomcat apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard server standardserv stop intern stopintern standard server standardserv java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus apach catalina lifecycl except lifecycleexcept fail stop compon standard engin standardengin tomcat apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard servic standardservic stop intern stopintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java caus apach catalina lifecycl except lifecycleexcept child contain fail stop apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java thought catch throwabl check for checkfor leak method caus fail stop compon failur method mani call tabl array member evalu becom null unexpectedli','2013-01-25 23:16:17',1359170000,'resolved fixed','ea16bda',1359720000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(180,54496,'Bug 54496  ..tribes.membership.MemberImpl.toString() might be better using .getClass().getName()','public String toString()  {\n StringBuilder buf = new  \n StringBuilder(\"org.apache.catalina.tribes.membership.MemberImpl[\");\n\nMight be better to use .getClass().getName() to cover StaticMember and any other sub-classes that might arise.','tribe membership member impl memberimpl to string tostr might better use get class getclass get name getnam public string to string tostr string builder stringbuild buf new string builder stringbuild apach catalina tribe membership member impl memberimpl might better use get class getclass get name getnam cover static member staticmemb sub class subclass might aris','tribe membership member impl memberimpl to string tostr might better use get class getclass get name getnam','public string to string tostr string builder stringbuild buf new string builder stringbuild apach catalina tribe membership member impl memberimpl might better use get class getclass get name getnam cover static member staticmemb sub class subclass might aris','2013-01-25 18:34:53',1359160000,'resolved fixed','e1e4e4e',1359390000,'java/org/apache/catalina/tribes/membership/MemberImpl.java'),(181,53869,'Bug 53869  Performance tuning solution to resolve too many cascaded JspContextWrapper issue','','perform tune solut resolv mani cascad jsp context wrapper jspcontextwrapp issu','perform tune solut resolv mani cascad jsp context wrapper jspcontextwrapp issu','','2012-09-13 13:56:24',1347560000,'resolved fixed','ce55f25',1359120000,'java/org/apache/jasper/runtime/JspContextWrapper.java'),(182,54476,'Bug 54476  incorrect param specification in javadoc ...tribes.group.GroupChannel send methods','* @param destination Member[] - destination.length > 1\n\nI believe this should be:\n\n    * @param destination Member[] - destination.length > 0','incorrect param specif javadoc tribe group group channel groupchannel send method param destin member destin length believ param destin member destin length','incorrect param specif javadoc tribe group group channel groupchannel send method','param destin member destin length believ param destin member destin length','2013-01-23 20:05:14',1358990000,'resolved fixed','6647531',1359020000,'java/org/apache/catalina/tribes/group/GroupChannel.java'),(183,54466,'Bug 54466  No file name information in detail error when compiling the java file generated from a tag file','','file name inform detail error compil java file gener tag file','file name inform detail error compil java file gener tag file','','2013-01-22 09:07:46',1358860000,'resolved fixed','d7f744c',1358970000,'java/org/apache/jasper/compiler/DefaultErrorHandler.java'),(184,54458,'Bug 54458  DataSourceRealm should provide more info on SQLException','The getPassword() method of the DataSourceRealm does not log enough information when it encounters an SQL error.  The catch block is:\n\n        } catch(SQLException e) {\n            containerLog.error(\n                    sm.getString(\"dataSourceRealm.getPassword.exception\",\n                                 username));\n        } finally {\n\nit would be really helpful to have some details of what the SQLException is.  I am getting this intermittently, and have resorted to subclassing getPassword() in an attempt to figure out what is going wrong.','data sourc realm datasourcerealm provid info except sqlexcept get password getpassword method data sourc realm datasourcerealm log enough inform encount sql error catch block catch except sqlexcept contain log containerlog error sm get string getstr data sourc realm datasourcerealm get password getpassword except usernam final would realli help detail except sqlexcept get intermitt resort subclass get password getpassword attempt figur go wrong','data sourc realm datasourcerealm provid info except sqlexcept','get password getpassword method data sourc realm datasourcerealm log enough inform encount sql error catch block catch except sqlexcept contain log containerlog error sm get string getstr data sourc realm datasourcerealm get password getpassword except usernam final would realli help detail except sqlexcept get intermitt resort subclass get password getpassword attempt figur go wrong','2013-01-21 21:56:02',1358820000,'resolved fixed','07a930d',1358960000,'java/org/apache/catalina/realm/DataSourceRealm.java'),(185,54450,'Bug 54450  Injection fails when part of the servlet properties uses @Resource and the other uses \'injection-target\'','Hi,\n\nI have a servlet with:\n- annotated properties\n- and injection-target declarations in web.xml\n\nWhen I try to request this servlet I receive:\n\n\njavax.naming.NameNotFoundException: Name [envEntry1] is not bound in this Context. Unable to find [envEntry1].\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:820)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:154)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:831)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:168)\n	at org.apache.catalina.core.DefaultInstanceManager.lookupMethodResource(DefaultInstanceManager.java:622)\n	at org.apache.catalina.core.DefaultInstanceManager.processAnnotations(DefaultInstanceManager.java:466)\n	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:157)\n	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:138)\n	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1137)\n	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:858)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	at java.lang.Thread.run(Thread.java:680)\n\n\nThe problem is that when the application uses \'injection-target\' declarations in \n\norg.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(Class<?>, Map<String, String>)\n\nonly the first setter method is evaluated and the rest are skipped.\n\n\nI would like to propose a patch and test case.\n\nI\'m looking forward to your comments.\n\nRegards\nVioleta','inject fail part servlet properti us resourc us inject target injectiontarget hi servlet annot properti inject target injectiontarget declar web xml tri request servlet receiv javax name name not found except namenotfoundexcept name env entry1 enventry1 bound context unabl find env entry1 enventry1 apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach catalina core default instanc manag defaultinstancemanag lookup method resourc lookupmethodresourc default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag process annot processannot default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp alloc standard wrapper standardwrapp java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java problem applic us inject target injectiontarget declar apach catalina core default instanc manag defaultinstancemanag popul annot cach populateannotationscach class map string string first setter method evalu rest skip would like propos patch case look forward comment regard violeta','inject fail part servlet properti us resourc us inject target injectiontarget','hi servlet annot properti inject target injectiontarget declar web xml tri request servlet receiv javax name name not found except namenotfoundexcept name env entry1 enventry1 bound context unabl find env entry1 enventry1 apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach catalina core default instanc manag defaultinstancemanag lookup method resourc lookupmethodresourc default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag process annot processannot default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp alloc standard wrapper standardwrapp java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java problem applic us inject target injectiontarget declar apach catalina core default instanc manag defaultinstancemanag popul annot cach populateannotationscach class map string string first setter method evalu rest skip would like propos patch case look forward comment regard violeta','2013-01-18 18:18:08',1358550000,'resolved fixed','ac78456',1358940000,'java/org/apache/catalina/core/DefaultInstanceManager.java\ntest/org/apache/catalina/startup/TestContextConfig.java\ntest/org/apache/catalina/startup/TesterServletWithAnnotations.java'),(186,54448,'Bug 54448  Field of primitive type, annotated with @Resource is not recognized as env entry','Hi,\n\nI have a servlet with one field of primitive type.\nThe field is annotated with @Resource.\n\n\npublic class MyServlet extends HttpServlet {\n\n    @Resource(mappedName = \"1\")\n    private int envEntry;\n\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n            throws ServletException, IOException {\n        ...\n    }\n}\n\n\nWhen I request this servlet I receive the following exception:\n\n\nSEVERE: Allocate exception for servlet MyServlet\njavax.naming.NamingException: Cannot create resource instance\n	at org.apache.naming.factory.ResourceEnvFactory.getObjectInstance(ResourceEnvFactory.java:117)\n	at javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:304)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:843)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:154)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:831)\n	at org.apache.naming.NamingContext.lookup(NamingContext.java:168)\n	at org.apache.catalina.core.DefaultInstanceManager.lookupFieldResource(DefaultInstanceManager.java:581)\n	at org.apache.catalina.core.DefaultInstanceManager.processAnnotations(DefaultInstanceManager.java:470)\n	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:157)\n	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:138)\n	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1137)\n	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:858)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	at java.lang.Thread.run(Thread.java:680)\n\n\nThat\'s because in the method below the primitive types are not \'converted\' to their corresponding wrappers and this field is interpreted not as env entry but as resource env ref. org.apache.catalina.startup.WebAnnotationSet.addResource(Context, Resource, \nString, String)\n\n\nI\'m attaching a patch that solves this issue and a test case.\n\nI\'m looking forward to your comments.\n\nRegards\nVioleta','field primit type annot resourc recogn env entri hi servlet one field primit type field annot resourc public class my servlet myservlet extend http servlet httpservlet resourc map name mappednam privat int env entri enventri protect void do get doget http servlet request httpservletrequest req http servlet respons httpservletrespons resp throw servlet except servletexcept except ioexcept request servlet receiv follow except sever alloc except servlet my servlet myservlet javax name name except namingexcept cannot creat resourc instanc apach name factori resourc env factori resourceenvfactori get object instanc getobjectinst resourc env factori resourceenvfactori java javax name spi name manag namingmanag get object instanc getobjectinst name manag namingmanag java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach catalina core default instanc manag defaultinstancemanag lookup field resourc lookupfieldresourc default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag process annot processannot default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp alloc standard wrapper standardwrapp java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java method primit type convert correspond wrapper field interpret env entri resourc env ref apach catalina startup web annot set webannotationset add resourc addresourc context resourc string string attach patch solv issu case look forward comment regard violeta','field primit type annot resourc recogn env entri','hi servlet one field primit type field annot resourc public class my servlet myservlet extend http servlet httpservlet resourc map name mappednam privat int env entri enventri protect void do get doget http servlet request httpservletrequest req http servlet respons httpservletrespons resp throw servlet except servletexcept except ioexcept request servlet receiv follow except sever alloc except servlet my servlet myservlet javax name name except namingexcept cannot creat resourc instanc apach name factori resourc env factori resourceenvfactori get object instanc getobjectinst resourc env factori resourceenvfactori java javax name spi name manag namingmanag get object instanc getobjectinst name manag namingmanag java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach name name context namingcontext lookup name context namingcontext java apach catalina core default instanc manag defaultinstancemanag lookup field resourc lookupfieldresourc default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag process annot processannot default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default instanc manag defaultinstancemanag java apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp alloc standard wrapper standardwrapp java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java method primit type convert correspond wrapper field interpret env entri resourc env ref apach catalina startup web annot set webannotationset add resourc addresourc context resourc string string attach patch solv issu case look forward comment regard violeta','2013-01-17 21:48:35',1358480000,'resolved fixed','74f5b3a',1358940000,'java/org/apache/catalina/deploy/NamingResources.java\njava/org/apache/catalina/startup/WebAnnotationSet.java\njava/org/apache/catalina/util/Introspection.java\ntest/org/apache/catalina/startup/TestContextConfig.java\ntest/org/apache/catalina/startup/TesterServletWithAnnotations.java'),(187,54324,'Bug 54324  Support is required to disable TLS compression to prevent against CRIME attacks','','support requir disabl tl compress prevent crime attack','support requir disabl tl compress prevent crime attack','','2012-12-18 21:51:15',1355890000,'resolved fixed','ab44514',1358450000,'java/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/tomcat/jni/SSL.java\njava/org/apache/tomcat/util/net/AprEndpoint.java'),(188,54438,'Bug 54438  Bug fix 52953 introduces NullPointerException in RealmBase.java line 409 when user not found in JDBC','','fix introduc null pointer except nullpointerexcept realm base realmbas java line user found jdbc','fix introduc null pointer except nullpointerexcept realm base realmbas java line user found jdbc','','2013-01-16 21:14:31',1358390000,'resolved fixed','c8d5d88',1358430000,'java/org/apache/catalina/realm/RealmBase.java'),(189,54440,'Bug 54440  TagPluginManager.init() throws NPE when used in Ant <jasper> task','','tag plugin manag tagpluginmanag init throw npe use ant jasper task','tag plugin manag tagpluginmanag init throw npe use ant jasper task','','2013-01-17 03:29:19',1358410000,'resolved fixed','297b26a',1358430000,'java/org/apache/jasper/JspC.java\njava/org/apache/jasper/servlet/JspCServletContext.java'),(190,54406,'Bug 54406  NIO and BIO connectors handle unsupported SSL ciphers and sslEnabledProtocols differently','The NIO and BIO connectors share (most of) a JSSE based SSLImplementation, but differ in their handling of the ciphers and sslEnabledProtocols attributes.\n\nThe NIO connector sets the configured values for both attributes directly on the SSLEngine, which will fail immediately if any of them are unsupported. This makes creating a portable/superset collection of ciphers impossible - i.e. IBM JDKs do not support many of the cipher suite names used by JSSE and vice versa (usually TLS_ vs SSL_ prefixes differ) and the supported options differ between Java 6/7 etc.\n\nThe BIO connector attempts to filter the specified values down to those supported by the SSL implementation, but has issues as well: if none of the specified ciphers/protocols are supported it will silently use the defaults of the SSL implementation, which can lead to unexpectedly (and unwittingly) insecure configurations.\n\nI propose to:\n - modify the NIO connector to use the same logic as the BIO connector to filter requested ciphers/protocols to supported values (by placing these operations on the SSLUtil interface). \n - modify the ciphers/protocols filtering logic to treat an explicit list of unsupported options as setting no supported ciphers/protocols and warn when this is done (it will also fail visibly with errors if SSL connections are attempted).','nio bio connector handl unsupport ssl cipher ssl enabl protocol sslenabledprotocol differ nio bio connector share jsse base implement sslimplement differ handl cipher ssl enabl protocol sslenabledprotocol attribut nio connector set configur valu attribut directli engin sslengin fail immedi unsupport make creat portabl superset collect cipher imposs ibm jdk support mani cipher suit name use jsse vice versa usual tl v ssl prefix differ support option differ java etc bio connector attempt filter specifi valu support ssl implement issu well none specifi cipher protocol support silent use default ssl implement lead unexpectedli unwittingli insecur configur propos modifi nio connector use logic bio connector filter request cipher protocol support valu place oper util sslutil interfac modifi cipher protocol filter logic treat explicit list unsupport option set support cipher protocol warn done fail visibl error ssl connect attempt','nio bio connector handl unsupport ssl cipher ssl enabl protocol sslenabledprotocol differ','nio bio connector share jsse base implement sslimplement differ handl cipher ssl enabl protocol sslenabledprotocol attribut nio connector set configur valu attribut directli engin sslengin fail immedi unsupport make creat portabl superset collect cipher imposs ibm jdk support mani cipher suit name use jsse vice versa usual tl v ssl prefix differ support option differ java etc bio connector attempt filter specifi valu support ssl implement issu well none specifi cipher protocol support silent use default ssl implement lead unexpectedli unwittingli insecur configur propos modifi nio connector use logic bio connector filter request cipher protocol support valu place oper util sslutil interfac modifi cipher protocol filter logic treat explicit list unsupport option set support cipher protocol warn done fail visibl error ssl connect attempt','2013-01-10 21:09:19',1357870000,'resolved fixed','9f657ac',1358110000,'java/org/apache/tomcat/util/net/NioEndpoint.java\njava/org/apache/tomcat/util/net/SSLUtil.java\njava/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(191,54387,'Bug 54387  Having servlets with same url should at least cause warning','I\'ve found this interesting \"mal functioning\" in a application where I just copied the mapping portion of web.xml for a new created servlet, but forgot to change de URI.\n\nTomcat deployed the application without any warning, but when running the application only the last referenced servlet was working (like if the mapping of the first has been overwritten by the last in the XML file).\n\nI made additional tests using annotations in servlets, and the behavior of having more than one servlet with same mapping causes random access to one or another (I cannot determine a predictable way).\n\nIn order to prevent breaking existing applications, I would like to have just a \"big warning\" in the log at startup and/or deployment of the application that have more than one servlet mapped to same URL.\n\nExamples of the problem:\n\nExample 1: Web.xml\n...\n  <servlet>\n    <servlet-name>PrintDacteServlet</servlet-name>\n    <servlet-class>br.com.simfreteV1.web.PrintDacteServlet</servlet-class>\n  </servlet>\n  <servlet>\n    <servlet-name>CotacaoReportServlet</servlet-name>\n    <servlet-class>br.com.simfreteV1.web.CotacaoReportServlet</servlet-class>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>PrintDacteServlet</servlet-name>\n    <url-pattern>/secure/relatorios/Action</url-pattern>\n  </servlet-mapping>\n  <servlet-mapping>\n    <servlet-name>CotacaoReportServlet</servlet-name>\n    <url-pattern>/secure/relatorios/Action</url-pattern>\n  </servlet-mapping>\n...\n\n\nExample 2: annotations in java servlet files\n\n@WebServlet(name = \"PdfReportPrint\", urlPatterns = {\"/secure/relatorios/doReport\"})\npublic class PdfReportPrint extends AbstractBaseServlet {\n...\n\n\n@WebServlet(name = \"PrintBoletoServlet\", urlPatterns = {\"/secure/relatorios/doReport\"})\npublic class PrintBoletoServlet extends HttpServlet {\n...','servlet url least caus warn found interest mal function applic copi map portion web xml new creat servlet forgot chang uri tomcat deploy applic without warn run applic last referenc servlet work like map first overwritten last xml file made addit test use annot servlet behavior one servlet map caus random access one anoth cannot determin predict way order prevent break exist applic would like big warn log startup deploy applic one servlet map url exampl problem exampl web xml servlet servlet name servletnam print dact servlet printdacteservlet servlet name servletnam servlet class servletclass br simfret v1 simfretev1 web print dact servlet printdacteservlet servlet class servletclass servlet servlet servlet name servletnam cotacao report servlet cotacaoreportservlet servlet name servletnam servlet class servletclass br simfret v1 simfretev1 web cotacao report servlet cotacaoreportservlet servlet class servletclass servlet servlet map servletmap servlet name servletnam print dact servlet printdacteservlet servlet name servletnam url pattern urlpattern secur relatorio action url pattern urlpattern servlet map servletmap servlet map servletmap servlet name servletnam cotacao report servlet cotacaoreportservlet servlet name servletnam url pattern urlpattern secur relatorio action url pattern urlpattern servlet map servletmap exampl annot java servlet file web servlet webservlet name pdf report print pdfreportprint url pattern urlpattern secur relatorio do report doreport public class pdf report print pdfreportprint extend abstract base servlet abstractbaseservlet web servlet webservlet name print boleto servlet printboletoservlet url pattern urlpattern secur relatorio do report doreport public class print boleto servlet printboletoservlet extend http servlet httpservlet','servlet url least caus warn','found interest mal function applic copi map portion web xml new creat servlet forgot chang uri tomcat deploy applic without warn run applic last referenc servlet work like map first overwritten last xml file made addit test use annot servlet behavior one servlet map caus random access one anoth cannot determin predict way order prevent break exist applic would like big warn log startup deploy applic one servlet map url exampl problem exampl web xml servlet servlet name servletnam print dact servlet printdacteservlet servlet name servletnam servlet class servletclass br simfret v1 simfretev1 web print dact servlet printdacteservlet servlet class servletclass servlet servlet servlet name servletnam cotacao report servlet cotacaoreportservlet servlet name servletnam servlet class servletclass br simfret v1 simfretev1 web cotacao report servlet cotacaoreportservlet servlet class servletclass servlet servlet map servletmap servlet name servletnam print dact servlet printdacteservlet servlet name servletnam url pattern urlpattern secur relatorio action url pattern urlpattern servlet map servletmap servlet map servletmap servlet name servletnam cotacao report servlet cotacaoreportservlet servlet name servletnam url pattern urlpattern secur relatorio action url pattern urlpattern servlet map servletmap exampl annot java servlet file web servlet webservlet name pdf report print pdfreportprint url pattern urlpattern secur relatorio do report doreport public class pdf report print pdfreportprint extend abstract base servlet abstractbaseservlet web servlet webservlet name print boleto servlet printboletoservlet url pattern urlpattern secur relatorio do report doreport public class print boleto servlet printboletoservlet extend http servlet httpservlet','2013-01-08 12:58:37',1357670000,'resolved fixed','334c466',1357820000,'java/org/apache/catalina/deploy/WebXml.java\ntest/org/apache/catalina/deploy/TestWebXml.java'),(192,54379,'Bug 54379  Implement support for post-construct and pre-destroy elements in web.xml','','implement support post construct postconstruct pre destroy predestroy element web xml','implement support post construct postconstruct pre destroy predestroy element web xml','','2013-01-07 04:07:15',1357550000,'resolved fixed','71d075e',1357820000,'java/org/apache/catalina/Context.java\njava/org/apache/catalina/core/DefaultInstanceManager.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/deploy/WebXml.java\njava/org/apache/catalina/startup/FailedContext.java\njava/org/apache/catalina/startup/WebRuleSet.java\njava/org/apache/catalina/util/Introspection.java\ntest/org/apache/catalina/core/TestStandardContext.java\ntest/org/apache/catalina/core/TesterContext.java\ntest/org/apache/catalina/deploy/TestWebXml.java\ntest/org/apache/catalina/startup/TestContextConfig.java\ntest/org/apache/catalina/startup/TestWebRuleSet.java\ntest/org/apache/catalina/startup/TesterServletWithLifeCycleMethods.java'),(193,54382,'Bug 54382  Nullpointer Exception after activating SSI and loading of any html-file with a specific comment','1. Activate SSI on Tomcat and restart Tomcat\n2. create an any html-file with a comment like this \"<!--#-->\" \n3. put this html-file to the webapp folder of tomcat\n4. when you now go to the html file via tomcat, you will get an Nullpointer Exception. The SSIServlet.class and other necessary SSI-classes cannot be found','nullpoint except activ ssi load html file htmlfile specif comment activ ssi tomcat restart tomcat creat html file htmlfile comment like put html file htmlfile webapp folder tomcat go html file via tomcat get nullpoint except servlet ssiservlet class necessari class ssiclass cannot found','nullpoint except activ ssi load html file htmlfile specif comment','activ ssi tomcat restart tomcat creat html file htmlfile comment like put html file htmlfile webapp folder tomcat go html file via tomcat get nullpoint except servlet ssiservlet class necessari class ssiclass cannot found','2013-01-07 23:56:21',1357620000,'resolved fixed','d83a5e5',1357680000,'java/org/apache/catalina/ssi/SSIProcessor.java'),(194,54381,'Bug 54381  Websocket StreamInbound never reports receipt of a Pong','The tomcat websocket api now allows the send of a Ping frame by the server (as of 7.0.33), via WsOutbound, but never reports the receipt of a Pong. See StreamInbound in the onData() method...\n\n                } else if (opCode == Constants.OPCODE_PONG) {\n                    // NO-OP\n                }\n\nAs the intended use of Pings is for heartbeat messages, allowing a Ping without informing the server extension of the returned Pong leaves out half the utility.\n\nI would suggest these changes to StreamInbound as a fix...\n\n1) In the onData() method...\n\n                } else if (opCode == Constants.OPCODE_PONG) {\n                    onPong(frame.getPayLoad());\n                }\n\n2) Add a method onPong (ByteBuffer buffer)...\n\n    protected void onPong(ByteBuffer buffer) {\n        // NO-OP\n    }\n\n...which implementations may now override to handle Pong receipt and heartbeat logic. This is necessary as onData() is marked final, so there\'s no alternate workaround.','websocket stream inbound streaminbound never report receipt pong tomcat websocket api allow send ping frame server via outbound wsoutbound never report receipt pong see stream inbound streaminbound on data ondata method els op code opcod constant opcod pong intend use ping heartbeat messag allow ping without inform server extens return pong leaf half util would suggest chang stream inbound streaminbound fix on data ondata method els op code opcod constant opcod pong on pong onpong frame get pay load getpayload add method on pong onpong byte buffer bytebuff buffer protect void on pong onpong byte buffer bytebuff buffer implement may overrid handl pong receipt heartbeat logic necessari on data ondata mark final altern workaround','websocket stream inbound streaminbound never report receipt pong','tomcat websocket api allow send ping frame server via outbound wsoutbound never report receipt pong see stream inbound streaminbound on data ondata method els op code opcod constant opcod pong intend use ping heartbeat messag allow ping without inform server extens return pong leaf half util would suggest chang stream inbound streaminbound fix on data ondata method els op code opcod constant opcod pong on pong onpong frame get pay load getpayload add method on pong onpong byte buffer bytebuff buffer protect void on pong onpong byte buffer bytebuff buffer implement may overrid handl pong receipt heartbeat logic necessari on data ondata mark final altern workaround','2013-01-07 19:44:37',1357610000,'resolved fixed','5f7af1b',1357680000,'java/org/apache/catalina/websocket/StreamHandler.java'),(195,54377,'Bug 54377  RemoteIpFilter does not correctly set request attributes for AccessLog','In RemoteIpFilter class, there is code that publishes the new request attributes to AccessLog (see below).\n\n821             if (requestAttributesEnabled) {\n822                 request.setAttribute(AccessLog.REMOTE_ADDR_ATTRIBUTE,\n823                         request.getRemoteAddr());\n824                 request.setAttribute(AccessLog.REMOTE_HOST_ATTRIBUTE,\n825                         request.getRemoteHost());\n826                 request.setAttribute(AccessLog.PROTOCOL_ATTRIBUTE,\n827                         request.getProtocol());\n828                 request.setAttribute(AccessLog.SERVER_PORT_ATTRIBUTE,\n829                         Integer.valueOf(request.getServerPort()));\n830             }\n\nThe problem is that the source values should come from xRequest, e.g. xRequest.getRemoteAddr() and xRequest.getRemoteHost(), etc.\n\nAs it is written above, RemoteIpFilter simply republishes the current values, and AccessLog therefore does not display the correct values.','remot ip filter remoteipfilt correctli set request attribut access log accesslog remot ip filter remoteipfilt class code publish new request attribut access log accesslog see request attribut enabl requestattributesen request set attribut setattribut access log accesslog remot addr attribut request get remot addr getremoteaddr request set attribut setattribut access log accesslog remot host attribut request get remot host getremotehost request set attribut setattribut access log accesslog protocol attribut request get protocol getprotocol request set attribut setattribut access log accesslog server port attribut integ valu of valueof request get server port getserverport problem sourc valu request xrequest request xrequest get remot addr getremoteaddr request xrequest get remot host getremotehost etc written remot ip filter remoteipfilt simpli republish current valu access log accesslog therefor display correct valu','remot ip filter remoteipfilt correctli set request attribut access log accesslog','remot ip filter remoteipfilt class code publish new request attribut access log accesslog see request attribut enabl requestattributesen request set attribut setattribut access log accesslog remot addr attribut request get remot addr getremoteaddr request set attribut setattribut access log accesslog remot host attribut request get remot host getremotehost request set attribut setattribut access log accesslog protocol attribut request get protocol getprotocol request set attribut setattribut access log accesslog server port attribut integ valu of valueof request get server port getserverport problem sourc valu request xrequest request xrequest get remot addr getremoteaddr request xrequest get remot host getremotehost etc written remot ip filter remoteipfilt simpli republish current valu access log accesslog therefor display correct valu','2013-01-05 23:52:37',1357450000,'resolved fixed','95e6056',1357680000,'java/org/apache/catalina/filters/RemoteIpFilter.java\ntest/org/apache/catalina/filters/TestRemoteIpFilter.java\ntest/org/apache/catalina/valves/TestRemoteIpValve.java'),(196,54380,'Bug 54380  In MapperListener.lifecycleEvent(..): check state of parent before calling registerWrapper()','','mapper listen mapperlisten lifecycl event lifecycleev check state parent call regist wrapper registerwrapp','mapper listen mapperlisten lifecycl event lifecycleev check state parent call regist wrapper registerwrapp','','2013-01-07 12:37:27',1357580000,'resolved fixed','3a9990b',1357630000,'java/org/apache/catalina/mapper/MapperListener.java'),(197,54248,'Bug 54248  Retrieving content that contains a BOM via request.getReader() issue','If a request contains Content that includes the BOM - in my case Content-Type: application/xml; charset-utf-16 - and the content has a BOM (FF FE), when fetched utilizing the BufferedReader from getReader() - the first request serviced on the AJP thread works correctly (encoded correctly, only characters fetched), however, any subsequent request on the thread which includes the BOM has the BOM being delivered to the application. It appears via review of the Tomcat code, that the recycle() method in B2CConverter simply ensures the socket\'s data has been completely flushed and the underlying InputStream doesn\'t get reset (don\'t really know if there is a way to do this without re-instantiating it) to ensure subsequent requests BOM is consumed. I proved this as a test by adding a call to reset() within the recycle() method which re-instantiates the underlying InputStreams and the problem resolved itself. \n\nI\'ve temporarily resolved the issue in my application code by using request.getInputStream() and using request.getCharacterEncoding() and encoding the content inside my application.','retriev content contain bom via request get reader getread issu request contain content includ bom case content type applic xml charset utf charsetutf content bom ff fe fetch util buffer reader bufferedread get reader getread first request servic ajp thread work correctli encod correctli charact fetch howev subsequ request thread includ bom bom deliv applic appear via review tomcat code recycl method b2 convert b2cconvert simpli ensur socket data complet flush underli input stream inputstream doesn get reset realli know way without re instanti reinstanti ensur subsequ request bom consum prove ad call reset within recycl method re instanti reinstanti underli input stream inputstream problem resolv temporarili resolv issu applic code use request get input stream getinputstream use request get charact encod getcharacterencod encod content insid applic','retriev content contain bom via request get reader getread issu','request contain content includ bom case content type applic xml charset utf charsetutf content bom ff fe fetch util buffer reader bufferedread get reader getread first request servic ajp thread work correctli encod correctli charact fetch howev subsequ request thread includ bom bom deliv applic appear via review tomcat code recycl method b2 convert b2cconvert simpli ensur socket data complet flush underli input stream inputstream doesn get reset realli know way without re instanti reinstanti ensur subsequ request bom consum prove ad call reset within recycl method re instanti reinstanti underli input stream inputstream problem resolv temporarili resolv issu applic code use request get input stream getinputstream use request get charact encod getcharacterencod encod content insid applic','2012-12-05 11:56:08',1354730000,'resolved fixed','f7fc27a',1357600000,'java/org/apache/tomcat/util/buf/B2CConverter.java\ntest/org/apache/tomcat/util/buf/TestB2CConverter.java'),(198,54284,'Bug 54284  Util.objectNameValueNeedsQuote throws NPE for anonymous Filters','How to reproduce?\n\nFrom inside the contextInitialized-Method of an ServletContextListener instance, call\n\ncontext.addFilter(null,\n      new ArbitraryFilter(pathPrefix)).addMappingForUrlPatterns(null, false, pathPrefix);\n\nWhat happens?\n\nDec 12, 2012 3:59:03 PM org.apache.catalina.core.StandardContext filterStart\nSEVERE: Exception starting filter null\njava.lang.NullPointerException\n        at org.apache.tomcat.util.modeler.Util.objectNameValueNeedsQuote(Util.java:26)\n        at org.apache.catalina.core.ApplicationFilterConfig.registerJMX(ApplicationFilterConfig.java:421)\n        at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:282)\n        at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:108)\n        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)\n\nDec 12, 2012 3:59:03 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error filterStart\nDec 12, 2012 3:59:03 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [] startup failed due to previous errors\n\n\nWhat should happen?\nEither - if null is not an allowed filter name, throw a IllegalArgumentException on context.addFilter(...)\nOr, if it is an allowed filter name, handle null-values gracefully','util object name valu need quot objectnamevalueneedsquot throw npe anonym filter reproduc insid context initi contextiniti method servlet context listen servletcontextlisten instanc call context add filter addfilt null new arbitrari filter arbitraryfilt path prefix pathprefix add map for url pattern addmappingforurlpattern null fals path prefix pathprefix happen dec pm apach catalina core standard context standardcontext filter start filterstart sever except start filter null java lang null pointer except nullpointerexcept apach tomcat util model util object name valu need quot objectnamevalueneedsquot util java apach catalina core applic filter config applicationfilterconfig regist registerjmx applic filter config applicationfilterconfig java apach catalina core applic filter config applicationfilterconfig init filter initfilt applic filter config applicationfilterconfig java apach catalina core applic filter config applicationfilterconfig init applic filter config applicationfilterconfig java apach catalina core standard context standardcontext filter start filterstart standard context standardcontext java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy descriptor deploydescriptor run host config hostconfig java java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java dec pm apach catalina core standard context standardcontext start intern startintern sever error filter start filterstart dec pm apach catalina core standard context standardcontext start intern startintern sever context startup fail due previou error happen either null allow filter name throw illeg argument except illegalargumentexcept context add filter addfilt allow filter name handl null valu nullvalu grace','util object name valu need quot objectnamevalueneedsquot throw npe anonym filter','reproduc insid context initi contextiniti method servlet context listen servletcontextlisten instanc call context add filter addfilt null new arbitrari filter arbitraryfilt path prefix pathprefix add map for url pattern addmappingforurlpattern null fals path prefix pathprefix happen dec pm apach catalina core standard context standardcontext filter start filterstart sever except start filter null java lang null pointer except nullpointerexcept apach tomcat util model util object name valu need quot objectnamevalueneedsquot util java apach catalina core applic filter config applicationfilterconfig regist registerjmx applic filter config applicationfilterconfig java apach catalina core applic filter config applicationfilterconfig init filter initfilt applic filter config applicationfilterconfig java apach catalina core applic filter config applicationfilterconfig init applic filter config applicationfilterconfig java apach catalina core standard context standardcontext filter start filterstart standard context standardcontext java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy descriptor deploydescriptor run host config hostconfig java java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java dec pm apach catalina core standard context standardcontext start intern startintern sever error filter start filterstart dec pm apach catalina core standard context standardcontext start intern startintern sever context startup fail due previou error happen either null allow filter name throw illeg argument except illegalargumentexcept context add filter addfilt allow filter name handl null valu nullvalu grace','2012-12-12 15:51:40',1355350000,'resolved fixed','113c0bd',1357590000,'java/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/deploy/FilterDef.java\njava/org/apache/catalina/deploy/ServletDef.java\ntest/org/apache/catalina/core/TestApplicationContext.java\ntest/org/apache/catalina/deploy/TestFilterDef.java\ntest/org/apache/catalina/deploy/TestServletDef.java'),(199,54262,'Bug 54262  An empty <absolute-ordering /> should turn off all web-fragments','The use of an <absolute-ordering> element does disable ServletContainerInitializer classpath scanning as discussed also in issue 53619. However, it does seem to require having at least one web-fragment name to be listed. In other words I would this:\n\n<absolute-ordering />\n\nTo turn off all web-fragments since none are named. A workaround is to list a web-fragment even if it doesn\'t exist but that shouldn\'t be necessary.','empti absolut order absoluteord turn web fragment webfrag use absolut order absoluteord element disabl servlet contain initi servletcontaineriniti classpath scan discuss issu howev seem requir least one web fragment webfrag name list word would absolut order absoluteord turn web fragment webfrag sinc none name workaround list web fragment webfrag even doesn exist shouldn necessari','empti absolut order absoluteord turn web fragment webfrag','use absolut order absoluteord element disabl servlet contain initi servletcontaineriniti classpath scan discuss issu howev seem requir least one web fragment webfrag name list word would absolut order absoluteord turn web fragment webfrag sinc none name workaround list web fragment webfrag even doesn exist shouldn necessari','2012-12-07 22:00:09',1354940000,'resolved fixed','5418e2b',1357580000,'java/org/apache/catalina/deploy/WebXml.java\njava/org/apache/catalina/startup/WebRuleSet.java\ntest/org/apache/catalina/startup/TestContextConfig.java'),(200,54370,'Bug 54370  NPE mapping method in EL','','npe map method','npe map method','','2013-01-03 14:20:38',1357240000,'resolved fixed','5361e86',1357230000,'java/org/apache/el/util/ReflectionUtil.java\ntest/org/apache/el/util/TestReflectionUtil.java\ntest/org/apache/el/util/Tester.java'),(201,54260,'Bug 54260  JSP unloading - NullPointerException when using \".tag\" files','','jsp unload null pointer except nullpointerexcept use tag file','jsp unload null pointer except nullpointerexcept use tag file','','2012-12-07 17:58:25',1354920000,'resolved fixed','94da507',1357220000,'java/org/apache/jasper/util/FastRemovalDequeue.java'),(202,54256,'Bug 54256  Enhance Exception reporting on JAR file error','(I posted this to the mailing list on Oct 28, 2011, but didn\'t end up creating a report on it until now.  I have the same error with Tomcat 7.)\n\nPROBLEM DESCRIPTION:\n\nI have an exception (appended below), and I think it would be nice to have more information about what is going on.\n\nIf I had more context, it would help me find the cause of my problem much more quickly.  For example, if the exception indicated what the file/resource that was having the problem was, it would speed up troubleshooting immensely.\n\nHOW TO REPRODUCE:\n\nIn a JAR file contained in WAR file\'s WEB-INF/lib folder:  Change the MANIFEST.MF file in the JAR file.  Put in a line with ONLY \"Class-Path:\".  Note there is no space after the period, which is what causes the error.  During load of the application, the exception which I have appended at the end of this message will show up.\n\nSUGGESTED IMPROVEMENT:\n\nMy suggestion would be to modify ExtensionValidator.validateApplication(...), around line 195.  This is the location that actually knows about what the resource is.  It would be nice if the IOException was caught, and information about the Resource was added to the exception, probably by wrapping the exception.\n\nBecause I have not gone through the overhead of getting a version of Tomcat running from source, these changes have not been compiled and tested, but I think the suggestion is relatively straight-forward.\n\nHere are the suggested code changes:\n\nFirst code change - move the definition of \"resource\" outside of the try/catch:\n\n         // Locate the Manifests for all bundled JARs\n         Resource resource = null; // ADDED\n         NamingEnumeration<Binding> ne = null;\n\nSecond code change - make the existing declaration of \"resource\" just an assignment:\n\n                 resource = (Resource) obj; // MODIFIED\n                 inputStream = resource.streamContent();\n                 Manifest jmanifest = getManifest(inputStream);\n\nThird code change: add a catch clause and re-throw:\n\n         } catch (NamingException nex) {\n             // Jump out of the check for this application because it\n             // has no resources\n         } catch (IOException ioex) { // ADDED\n             throw new IOException(\"validation problem in \" + resource.toString(), ioex); // ADDED\n         } finally {\n\nThe problem is that the resource may not have a proper toString().  I would suggest changing FileDirContext:898 (inner class=FileResource) to have a toString method, something along the lines of:\n\n         public String toString() { // ADDED\n             return file == null ? \"null\" : file.toString(); // ADDED\n         } // ADDED\n\nNote: about this, in the original email thread, Konstantin Kolinko said:\n\"Not sure about FileResource.toString(), but adding a catch for IOException looks like doable.\"\n\n\nFinally, here\'s the exception:\n\n28-Oct-2011 11:03:03 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error in dependencyCheck\njava.io.IOException: invalid header field\n     at java.util.jar.Attributes.read(Attributes.java:410)\n     at java.util.jar.Manifest.read(Manifest.java:199)\n     at java.util.jar.JarInputStream.<init>(JarInputStream.java:83)\n     at java.util.jar.JarInputStream.<init>(JarInputStream.java:60)\n     at org.apache.catalina.util.ExtensionValidator.getManifest(ExtensionValidator.java:394)\n     at org.apache.catalina.util.ExtensionValidator.validateApplication(ExtensionValidator.java:195)\n     at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5037)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148)\n     at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033)\n     at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:774)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148)\n     at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033)\n     at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148)\n     at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148)\n     at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:727)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148)\n     at org.apache.catalina.startup.Catalina.start(Catalina.java:621)\n     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n     at java.lang.reflect.Method.invoke(Method.java:616)\n     at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n     at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450)\n\n(And if only java.util.jar.Attributes.read reported WHICH attribute had the problem, we\'d really be in business.)','enhanc except report jar file error post mail list oct didn creat report error tomcat problem descript except append think would nice inform go context would help find caus problem much quickli exampl except indic file resourc problem would speed troubleshoot immens reproduc jar file contain file web inf lib folder chang manifest mf file jar file put line class path note space period caus error load applic except append messag show suggest improv suggest would modifi extens valid extensionvalid valid applic validateappl around line locat actual know resourc would nice except ioexcept caught inform resourc ad except probabl wrap except gone overhead get version tomcat run sourc chang compil test think suggest rel straight forward straightforward suggest code chang first code chang move definit resourc outsid tri catch locat manifest bundl jar resourc resourc null ad name enumer namingenumer bind null second code chang make exist declar resourc assign resourc resourc obj modifi input stream inputstream resourc stream content streamcont manifest jmanifest get manifest getmanifest input stream inputstream third code chang add catch claus re throw rethrow catch name except namingexcept nex jump check applic resourc catch except ioexcept ioex ad throw new except ioexcept valid problem resourc to string tostr ioex ad final problem resourc may proper to string tostr would suggest chang file dir context filedircontext inner class file resourc fileresourc to string tostr method someth along line public string to string tostr ad return file null null file to string tostr ad ad note origin email thread konstantin kolinko said sure file resourc fileresourc to string tostr ad catch except ioexcept look like doabl final except oct apach catalina core standard context standardcontext start intern startintern sever error depend check dependencycheck java except ioexcept invalid header field java util jar attribut read attribut java java util jar manifest read manifest java java util jar jar input stream jarinputstream init jar input stream jarinputstream java java util jar jar input stream jarinputstream init jar input stream jarinputstream java apach catalina util extens valid extensionvalid get manifest getmanifest extens valid extensionvalid java apach catalina util extens valid extensionvalid valid applic validateappl extens valid extensionvalid java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard host standardhost start intern startintern standard host standardhost java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard engin standardengin start intern startintern standard engin standardengin java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard servic standardservic start intern startintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard server standardserv start intern startintern standard server standardserv java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java java util jar attribut read report attribut problem realli busi','enhanc except report jar file error','post mail list oct didn creat report error tomcat problem descript except append think would nice inform go context would help find caus problem much quickli exampl except indic file resourc problem would speed troubleshoot immens reproduc jar file contain file web inf lib folder chang manifest mf file jar file put line class path note space period caus error load applic except append messag show suggest improv suggest would modifi extens valid extensionvalid valid applic validateappl around line locat actual know resourc would nice except ioexcept caught inform resourc ad except probabl wrap except gone overhead get version tomcat run sourc chang compil test think suggest rel straight forward straightforward suggest code chang first code chang move definit resourc outsid tri catch locat manifest bundl jar resourc resourc null ad name enumer namingenumer bind null second code chang make exist declar resourc assign resourc resourc obj modifi input stream inputstream resourc stream content streamcont manifest jmanifest get manifest getmanifest input stream inputstream third code chang add catch claus re throw rethrow catch name except namingexcept nex jump check applic resourc catch except ioexcept ioex ad throw new except ioexcept valid problem resourc to string tostr ioex ad final problem resourc may proper to string tostr would suggest chang file dir context filedircontext inner class file resourc fileresourc to string tostr method someth along line public string to string tostr ad return file null null file to string tostr ad ad note origin email thread konstantin kolinko said sure file resourc fileresourc to string tostr ad catch except ioexcept look like doabl final except oct apach catalina core standard context standardcontext start intern startintern sever error depend check dependencycheck java except ioexcept invalid header field java util jar attribut read attribut java java util jar manifest read manifest java java util jar jar input stream jarinputstream init jar input stream jarinputstream java java util jar jar input stream jarinputstream init jar input stream jarinputstream java apach catalina util extens valid extensionvalid get manifest getmanifest extens valid extensionvalid java apach catalina util extens valid extensionvalid valid applic validateappl extens valid extensionvalid java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard host standardhost start intern startintern standard host standardhost java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard engin standardengin start intern startintern standard engin standardengin java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard servic standardservic start intern startintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard server standardserv start intern startintern standard server standardserv java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java java util jar attribut read report attribut problem realli busi','2012-12-06 20:44:32',1354840000,'resolved fixed','0ae2f34',1357160000,'java/org/apache/catalina/util/ExtensionValidator.java'),(203,54247,'Bug 54247  Exception in JmxRemoteLifecycleListener.destroyServer','','except jmx remot lifecycl listen jmxremotelifecyclelisten destroy server destroyserv','except jmx remot lifecycl listen jmxremotelifecyclelisten destroy server destroyserv','','2012-12-05 10:00:36',1354720000,'resolved fixed','29c4a0e',1357160000,'java/org/apache/catalina/startup/Bootstrap.java'),(204,54241,'Bug 54241  NPE in BodyContentImpl','','npe bodi content impl bodycontentimpl','npe bodi content impl bodycontentimpl','','2012-12-04 07:53:25',1354630000,'resolved fixed','ffc4525',1357140000,'java/org/apache/jasper/runtime/JspWriterImpl.java\ntest/org/apache/jasper/runtime/TestJspWriterImpl.java'),(205,54194,'Bug 54194  NPE in DataSource.registerJmx() although DataSource is created with setJmxEnabled(false)','','npe data sourc datasourc regist jmx registerjmx although data sourc datasourc creat set jmx enabl setjmxen fals','npe data sourc datasourc regist jmx registerjmx although data sourc datasourc creat set jmx enabl setjmxen fals','','2012-11-23 14:35:58',1353700000,'resolved fixed','1c61fb1',1354600000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSource.java'),(206,54150,'Bug 54150  SlowQueryReportJmx mbean deregistration failure due to NPE - properties not set during pool close callback','Found while debugging version 7.0.29\n\nI found that our SlowQueryReportJmx mbean was not being deregistered during webapp shutdown.  I tracked this down to a NPE.  The interceptor properties are not being set (as is done in setupConnection) prior to the pool close callback.\n\nConnectionPool.close(boolean) poolClosed callback produces NPE in SlowQueryReportJmx.\n{code}\n        PoolProperties.InterceptorDefinition[] proxies = getPoolProperties().getJdbcInterceptorsAsArray();\n        for (int i=0; i<proxies.length; i++) {\n            try {\n                proxies[i].getInterceptorClass().newInstance().poolClosed(this);\n            }catch (Exception x) {\n                log.debug(\"Unable to inform interceptor of pool closure.\",x);\n            }\n        }\n...\n{code}\n\nNPE in SlowQueryReportJmx - null.containsKey\n\n{code}\n    public ObjectName getObjectName(Class<?> clazz, String poolName) throws MalformedObjectNameException {\n... NPE\n        if (getProperties().containsKey(objectNameAttribute)) {\n...\n{code}\n\nSounds reasonable to set properties any time you need to instantiate interceptors.\nAs is done in ConnectionPool.init(PoolConfiguration)\n\n{code}\n                JdbcInterceptor interceptor = proxies[i].getInterceptorClass().newInstance();\n                interceptor.setProperties(proxies[i].getProperties());\n                interceptor.poolStarted(this);\n{code}','slow queri report jmx slowqueryreportjmx mbean deregistr failur due npe properti set pool close callback found debug version found slow queri report jmx slowqueryreportjmx mbean deregist webapp shutdown track npe interceptor properti set done setup connect setupconnect prior pool close callback connect pool connectionpool close boolean pool close poolclos callback produc npe slow queri report jmx slowqueryreportjmx code pool properti poolproperti interceptor definit interceptordefinit proxi get pool properti getpoolproperti get jdbc interceptor array getjdbcinterceptorsasarray int proxi length tri proxi get interceptor class getinterceptorclass new instanc newinst pool close poolclos catch except log debug unabl inform interceptor pool closur code npe slow queri report jmx slowqueryreportjmx null contain key containskey code public object name objectnam get object name getobjectnam class clazz string pool name poolnam throw malform object name except malformedobjectnameexcept npe get properti getproperti contain key containskey object name attribut objectnameattribut code sound reason set properti time need instanti interceptor done connect pool connectionpool init pool configur poolconfigur code jdbc interceptor jdbcinterceptor interceptor proxi get interceptor class getinterceptorclass new instanc newinst interceptor set properti setproperti proxi get properti getproperti interceptor pool start poolstart code','slow queri report jmx slowqueryreportjmx mbean deregistr failur due npe properti set pool close callback','found debug version found slow queri report jmx slowqueryreportjmx mbean deregist webapp shutdown track npe interceptor properti set done setup connect setupconnect prior pool close callback connect pool connectionpool close boolean pool close poolclos callback produc npe slow queri report jmx slowqueryreportjmx code pool properti poolproperti interceptor definit interceptordefinit proxi get pool properti getpoolproperti get jdbc interceptor array getjdbcinterceptorsasarray int proxi length tri proxi get interceptor class getinterceptorclass new instanc newinst pool close poolclos catch except log debug unabl inform interceptor pool closur code npe slow queri report jmx slowqueryreportjmx null contain key containskey code public object name objectnam get object name getobjectnam class clazz string pool name poolnam throw malform object name except malformedobjectnameexcept npe get properti getproperti contain key containskey object name attribut objectnameattribut code sound reason set properti time need instanti interceptor done connect pool connectionpool init pool configur poolconfigur code jdbc interceptor jdbcinterceptor interceptor proxi get interceptor class getinterceptorclass new instanc newinst interceptor set properti setproperti proxi get properti getproperti interceptor pool start poolstart code','2012-11-15 18:38:29',1353020000,'resolved fixed','b021a22',1354600000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java'),(207,54220,'Bug 54220  ErrorReportValve invoked on non-error responses too','','error report valv errorreportvalv invok non error nonerror respons','error report valv errorreportvalv invok non error nonerror respons','','2012-11-28 20:19:49',1354150000,'resolved fixed','a2d1441',1354540000,'java/org/apache/catalina/valves/ErrorReportValve.java\ntest/org/apache/catalina/valves/TestErrorReportValve.java'),(208,54217,'Bug 54217  JDBC connection pool runs out of connections when Context reload=true is enabled in Tomcat','','jdbc connect pool run connect context reload true enabl tomcat','jdbc connect pool run connect context reload true enabl tomcat','','2012-11-28 10:35:43',1354120000,'resolved fixed','a81538d',1354540000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java'),(209,54207,'Bug 54207  javaURLContextFactory javadoc refers to defunct package names in initial context properties','Javadoc for org.apache.naming.java.javaURLContextFactory:\n\n/**\n * Context factory for the \"java:\" namespace.\n * <p>\n * <b>Important note</b> : This factory MUST be associated with the \"java\" URL\n * prefix, which can be done by either :\n * <ul>\n * <li>Adding a \n * java.naming.factory.url.pkgs=org.apache.catalina.util.naming property\n * to the JNDI properties file</li>\n * <li>Setting an environment variable named Context.URL_PKG_PREFIXES with \n * its value including the org.apache.catalina.util.naming package name. \n * More detail about this can be found in the JNDI documentation : \n * {@link javax.naming.spi.NamingManager#getURLContext(java.lang.String, java.util.Hashtable)}.</li>\n * </ul>\n * \n * @author Remy Maucherat\n * @version $Id$\n */\n\norg.apache.catalina.util.naming is a very old package name.  The correct name for both TC6 and TC7 is org.apache.naming .','java context factori javaurlcontextfactori javadoc refer defunct packag name initi context properti javadoc apach name java java context factori javaurlcontextfactori context factori java namespac import note factori must associ java url prefix done either ul ad java name factori url pkg apach catalina util name properti jndi properti file set environ variabl name context url pkg prefix valu includ apach catalina util name packag name detail found jndi document link javax name spi name manag namingmanag get context geturlcontext java lang string java util hashtabl ul author remi maucherat version id apach catalina util name old packag name correct name c6 tc6 c7 tc7 apach name','java context factori javaurlcontextfactori javadoc refer defunct packag name initi context properti','javadoc apach name java java context factori javaurlcontextfactori context factori java namespac import note factori must associ java url prefix done either ul ad java name factori url pkg apach catalina util name properti jndi properti file set environ variabl name context url pkg prefix valu includ apach catalina util name packag name detail found jndi document link javax name spi name manag namingmanag get context geturlcontext java lang string java util hashtabl ul author remi maucherat version id apach catalina util name old packag name correct name c6 tc6 c7 tc7 apach name','2012-11-26 02:10:22',1353910000,'resolved fixed','d6b4740',1353930000,'java/org/apache/naming/java/javaURLContextFactory.java'),(210,54198,'Bug 54198  Improve HttpServletResponse#sendError(int) JavaDoc description','This methods calls sendError(int, null) internally. Thus generating a HTML page without a message. This is not mentioned in the docs. One could assume that the response will be empty.\n\nOne could duplicate the first paragraph of the sendError(int,String) method and alter it to \"The server defaults to creating the response to look like an HTML-formatted server error page with any specific message, setting the content type to \"text/html\",...\" further \"If an error-page declaration has been made for the web application corresponding to the status code passed in, it will be served back.\" (Might need improvement in this case, I am not a native speaker).\n\nMoreover, I would add \"This method is effectively the same as calling sendError(int, null)\". Plus add @see #sendError(int,String).\n\nThough the JavaDocs seems to be a verbatim copy of Oracle\'s Servlet API, it does not reveal this information explicitly.\n\nShould I provide a patch if that doc is available in svn.apache.org?','improv http servlet respons httpservletrespons send error senderror int java doc javadoc descript method call send error senderror int null intern thu gener html page without messag mention doc one could assum respons empti one could duplic first paragraph send error senderror int string method alter server default creat respons look like format htmlformat server error page specif messag set content type text html error page errorpag declar made web applic correspond statu code pass serv back might need improv case nativ speaker moreov would add method effect call send error senderror int null plu add see send error senderror int string though java doc javadoc seem verbatim copi oracl servlet api reveal inform explicitli provid patch doc avail svn apach','improv http servlet respons httpservletrespons send error senderror int java doc javadoc descript','method call send error senderror int null intern thu gener html page without messag mention doc one could assum respons empti one could duplic first paragraph send error senderror int string method alter server default creat respons look like format htmlformat server error page specif messag set content type text html error page errorpag declar made web applic correspond statu code pass serv back might need improv case nativ speaker moreov would add method effect call send error senderror int null plu add see send error senderror int string though java doc javadoc seem verbatim copi oracl servlet api reveal inform explicitli provid patch doc avail svn apach','2012-11-23 22:33:12',1353730000,'resolved fixed','3c13e90',1353930000,'java/javax/servlet/http/HttpServletResponse.java'),(211,54144,'Bug 54144  Processing of java.io.Reader in \"Out\" tagplugin','','process java reader tagplugin','process java reader tagplugin','','2012-11-14 08:38:29',1352900000,'resolved fixed','7c4a841',1353110000,'java/org/apache/jasper/tagplugins/jstl/Util.java\njava/org/apache/jasper/tagplugins/jstl/core/Out.java\ntest/org/apache/jasper/tagplugins/jstl/core/TestOut.java'),(212,54143,'Bug 54143  Add display of PermGen memory pool usage to the Status page of the Manager webapp','','add display perm gen permgen memori pool usag statu page manag webapp','add display perm gen permgen memori pool usag statu page manag webapp','','2012-11-13 22:39:44',1352860000,'resolved fixed','9998c80',1352850000,'java/org/apache/catalina/manager/StatusTransformer.java'),(213,54141,'Bug 54141  Configuration does not allow Realms to be nested more than 2 levels deep','','configur allow realm nest level deep','configur allow realm nest level deep','','2012-11-13 01:55:35',1352790000,'resolved fixed','2ed3d7d',1352820000,'java/org/apache/catalina/startup/RealmRuleSet.java'),(214,54087,'Bug 54087  HTTP Connector incorrectly throws Exception on Invalid If-Modified-Since Header','','http connector incorrectli throw except invalid modifi sinc header','http connector incorrectli throw except invalid modifi sinc header','','2012-11-01 16:10:42',1351800000,'resolved fixed','810732d',1352720000,'java/javax/servlet/http/HttpServlet.java'),(215,54115,'Bug 54115  Minor enhancements to HttpClient test helper class','','minor enhanc http client httpclient helper class','minor enhanc http client httpclient helper class','','2012-11-07 17:10:11',1352330000,'resolved fixed','8f53c89',1352680000,'test/org/apache/catalina/startup/SimpleHttpClient.java'),(216,54124,'Bug 54124  wrong javax.servlet.async.request_uri information and javax.servlet.async.path_info is missing','As it is clearly shown that\n\norg.apache.catalina.core.AsyncContextImpl.dispatch(ServletContext, String)\n\n    @Override\n    public void dispatch(ServletContext context, String path) {\n        if (log.isDebugEnabled()) {\n            logDebug(\"dispatch   \");\n        }\n        check();\n        if (request.getAttribute(ASYNC_REQUEST_URI)==null) {\n            request.setAttribute(ASYNC_REQUEST_URI, request.getRequestURI()+\"?\"+request.getQueryString());\n            request.setAttribute(ASYNC_CONTEXT_PATH, request.getContextPath());\n            request.setAttribute(ASYNC_SERVLET_PATH, request.getServletPath());\n            request.setAttribute(ASYNC_QUERY_STRING, request.getQueryString());\n        }\n        ....\n    }\n\nthe value of ASYNC_REQUEST_URI is not the same as request.getRequestURI().\nThey must be equal to each other as defined by Servlet 3.0, 9.7.2\nDispatched Request Parameters.\n\nAnd ASYNC_PATH_INFO is missing.','wrong javax servlet async request uri inform javax servlet async path info miss clearli shown apach catalina core async context impl asynccontextimpl dispatch servlet context servletcontext string overrid public void dispatch servlet context servletcontext context string path log is debug enabl isdebugen log debug logdebug dispatch check request get attribut getattribut async request uri null request set attribut setattribut async request uri request get request getrequesturi request get queri string getquerystr request set attribut setattribut async context path request get context path getcontextpath request set attribut setattribut async servlet path request get servlet path getservletpath request set attribut setattribut async queri string request get queri string getquerystr valu async request uri request get request getrequesturi must equal defin servlet dispatch request paramet async path info miss','wrong javax servlet async request uri inform javax servlet async path info miss','clearli shown apach catalina core async context impl asynccontextimpl dispatch servlet context servletcontext string overrid public void dispatch servlet context servletcontext context string path log is debug enabl isdebugen log debug logdebug dispatch check request get attribut getattribut async request uri null request set attribut setattribut async request uri request get request getrequesturi request get queri string getquerystr request set attribut setattribut async context path request get context path getcontextpath request set attribut setattribut async servlet path request get servlet path getservletpath request set attribut setattribut async queri string request get queri string getquerystr valu async request uri request get request getrequesturi must equal defin servlet dispatch request paramet async path info miss','2012-11-09 10:42:29',1352480000,'resolved fixed','76f84eb',1352680000,'java/org/apache/catalina/core/AsyncContextImpl.java'),(217,54123,'Bug 54123  servlet 3.0 spec violation in async timeout processing','','servlet spec violat async timeout process','servlet spec violat async timeout process','','2012-11-09 10:30:48',1352480000,'resolved fixed','14637ef',1352680000,'java/org/apache/catalina/core/AsyncContextImpl.java\njava/org/apache/catalina/core/StandardHostValve.java\njava/org/apache/coyote/AsyncStateMachine.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java'),(218,54127,'Bug 54127  WsOutbound is missing a ping method','','outbound wsoutbound miss ping method','outbound wsoutbound miss ping method','','2012-11-09 20:23:13',1352510000,'resolved fixed','8fea85c',1352490000,'java/org/apache/catalina/websocket/WsOutbound.java'),(219,54096,'Bug 54096  env-entry rejects legal types','In servlet 3.0 the type in an env-entry can be any type which has a public constructor taking a single String (or character) as an argument. Tomcat only accepts a fixed list of types (see NamingContextListener from line 813).\n\nThis is legal in web.xml but not accepted by tomcat:\n\n<env-entry>\n  <env-entry-name>location</env-entry-name>\n  <env-entry-type>java.io.File</env-entry-type>\n  <env-entry-value>/var/lib/tomcat</env-entry-value>\n</env-entry>','env entri enventri reject legal type servlet type env entri enventri type public constructor take singl string charact argument tomcat accept fix list type see name context listen namingcontextlisten line legal web xml accept tomcat env entri enventri env entri name enventrynam locat env entri name enventrynam env entri type enventrytyp java file env entri type enventrytyp env entri valu enventryvalu lib tomcat env entri valu enventryvalu env entri enventri','env entri enventri reject legal type','servlet type env entri enventri type public constructor take singl string charact argument tomcat accept fix list type see name context listen namingcontextlisten line legal web xml accept tomcat env entri enventri env entri name enventrynam locat env entri name enventrynam env entri type enventrytyp java file env entri type enventrytyp env entri valu enventryvalu lib tomcat env entri valu enventryvalu env entri enventri','2012-11-04 18:43:14',1352070000,'resolved fixed','48314f9',1352490000,'java/org/apache/catalina/core/NamingContextListener.java\ntest/org/apache/catalina/core/TestNamingContextListener.java'),(220,54076,'Bug 54076  SPNEGO authenticator\'s stateless-ness incompatible with stateful clients','','spnego authent stateless ness stateless incompat state client','spnego authent stateless ness stateless incompat state client','','2012-10-30 13:49:27',1351620000,'resolved fixed','9f65875',1351980000,'java/org/apache/catalina/authenticator/SpnegoAuthenticator.java'),(221,54068,'Bug 54068  Web fragment sorting incorrectly detects circular reference','','web fragment sort incorrectli detect circular refer','web fragment sort incorrectli detect circular refer','','2012-10-30 05:30:27',1351590000,'resolved fixed','07d343a',1351720000,'java/org/apache/catalina/deploy/WebXml.java\ntest/org/apache/catalina/deploy/TestWebXmlOrdering.java'),(222,54067,'Bug 54067  Upgrade Response with Transfer-Encoding: chunked invalid','','upgrad respons transfer encod chunk invalid','upgrad respons transfer encod chunk invalid','','2012-10-29 17:23:09',1351550000,'resolved fixed','9308b3f',1351540000,'java/org/apache/coyote/http11/AbstractHttp11Processor.java'),(223,53867,'Bug 53867  Performance tuning solution for PageContextImpl.XmlEscape','','perform tune solut page context impl pagecontextimpl xml escap xmlescap','perform tune solut page context impl pagecontextimpl xml escap xmlescap','','2012-09-13 13:33:48',1347560000,'resolved fixed','c40ca99',1351460000,'java/org/apache/jasper/runtime/PageContextImpl.java\ntest/org/apache/jasper/runtime/TesterPageContextImpl.java'),(224,54054,'Bug 54054  2 CGIServlet\'s with different Parameter passShellEnvironment','','servlet cgiservlet differ paramet pa shell environ passshellenviron','servlet cgiservlet differ paramet pa shell environ passshellenviron','','2012-10-26 07:24:33',1351250000,'resolved fixed','05fe671',1351280000,'java/org/apache/catalina/servlets/CGIServlet.java'),(225,54022,'Bug 54022  CometEvent.END event is not sent on a suspended socket disconnect when running with Tomcat Native (tcnative-1.dll) on Windows Vista / Windows Server 2008 or newer.','','comet event cometev event sent suspend socket disconnect run tomcat nativ tcnativ dll window vista window server newer','comet event cometev event sent suspend socket disconnect run tomcat nativ tcnativ dll window vista window server newer','','2012-10-17 18:18:23',1350510000,'resolved fixed','874c332',1351200000,'java/org/apache/coyote/AbstractProtocol.java'),(226,54017,'Bug 54017  new String instance is generated for constant string in Generator.convertString','If the target class is \"Object.class\", the generator generates\n        \"new String(\" + quoted + \")\";\nas attribute value for Tag Handler.\n\nHow about using quoted directly same as when the target class is \"Object.class\"?\n\nCreating a String instance will cause some overhead from memory allocation and hash code recaluation when it is used as a key on HashMap.\n\n\nHere is the detail code,\n\n        /*\n         * @param c The target class to which to coerce the given string @param\n         * s The string value @param attrName The name of the attribute whose\n         * value is being supplied @param propEditorClass The property editor\n         * for the given attribute @param isNamedAttribute true if the given\n         * attribute is a named attribute (that is, specified using the\n         * jsp:attribute standard action), and false otherwise\n         */\n        private String convertString(Class<?> c, String s, String attrName,\n                Class<?> propEditorClass, boolean isNamedAttribute) {\n\n            String quoted = s;\n            if (!isNamedAttribute) {\n                quoted = quote(s);\n            }\n\n            if (propEditorClass != null) {\n                String className = c.getCanonicalName();\n                return \"(\"\n                        + className\n                        + \")org.apache.jasper.runtime.JspRuntimeLibrary.getValueFromBeanInfoPropertyEditor(\"\n                        + className + \".class, \\\"\" + attrName + \"\\\", \" + quoted\n                        + \", \" + propEditorClass.getCanonicalName() + \".class)\";\n            } else if (c == String.class) {\n                return quoted;\n            } else if (c == boolean.class) {\n                return JspUtil.coerceToPrimitiveBoolean(s, isNamedAttribute);\n            } else if (c == Boolean.class) {\n                return JspUtil.coerceToBoolean(s, isNamedAttribute);\n            } else if (c == byte.class) {\n                return JspUtil.coerceToPrimitiveByte(s, isNamedAttribute);\n            } else if (c == Byte.class) {\n                return JspUtil.coerceToByte(s, isNamedAttribute);\n            } else if (c == char.class) {\n                return JspUtil.coerceToChar(s, isNamedAttribute);\n            } else if (c == Character.class) {\n                return JspUtil.coerceToCharacter(s, isNamedAttribute);\n            } else if (c == double.class) {\n                return JspUtil.coerceToPrimitiveDouble(s, isNamedAttribute);\n            } else if (c == Double.class) {\n                return JspUtil.coerceToDouble(s, isNamedAttribute);\n            } else if (c == float.class) {\n                return JspUtil.coerceToPrimitiveFloat(s, isNamedAttribute);\n            } else if (c == Float.class) {\n                return JspUtil.coerceToFloat(s, isNamedAttribute);\n            } else if (c == int.class) {\n                return JspUtil.coerceToInt(s, isNamedAttribute);\n            } else if (c == Integer.class) {\n                return JspUtil.coerceToInteger(s, isNamedAttribute);\n            } else if (c == short.class) {\n                return JspUtil.coerceToPrimitiveShort(s, isNamedAttribute);\n            } else if (c == Short.class) {\n                return JspUtil.coerceToShort(s, isNamedAttribute);\n            } else if (c == long.class) {\n                return JspUtil.coerceToPrimitiveLong(s, isNamedAttribute);\n            } else if (c == Long.class) {\n                return JspUtil.coerceToLong(s, isNamedAttribute);\n            } else if (c == Object.class) {\n                return \"new String(\" + quoted + \")\";\n            } else {\n                String className = c.getCanonicalName();\n                return \"(\"\n                        + className\n                        + \")org.apache.jasper.runtime.JspRuntimeLibrary.getValueFromPropertyEditorManager(\"\n                        + className + \".class, \\\"\" + attrName + \"\\\", \" + quoted\n                        + \")\";\n            }\n        }','new string instanc gener constant string gener convert string convertstr target class object class gener gener new string quot attribut valu tag handler use quot directli target class object class creat string instanc caus overhead memori alloc hash code recalu use key hash map hashmap detail code param target class coerc given string param string valu param attr name attrnam name attribut whose valu suppli param prop editor class propeditorclass properti editor given attribut param is name attribut isnamedattribut true given attribut name attribut specifi use jsp attribut standard action fals otherwis privat string convert string convertstr class string string attr name attrnam class prop editor class propeditorclass boolean is name attribut isnamedattribut string quot is name attribut isnamedattribut quot quot prop editor class propeditorclass null string class name classnam get canon name getcanonicalnam return class name classnam apach jasper runtim jsp runtim librari jspruntimelibrari get valu from bean info properti editor getvaluefrombeaninfopropertyeditor class name classnam class attr name attrnam quot prop editor class propeditorclass get canon name getcanonicalnam class els string class return quot els boolean class return jsp util jsputil coerc to primit boolean coercetoprimitiveboolean is name attribut isnamedattribut els boolean class return jsp util jsputil coerc to boolean coercetoboolean is name attribut isnamedattribut els byte class return jsp util jsputil coerc to primit byte coercetoprimitivebyt is name attribut isnamedattribut els byte class return jsp util jsputil coerc to byte coercetobyt is name attribut isnamedattribut els char class return jsp util jsputil coerc to char coercetochar is name attribut isnamedattribut els charact class return jsp util jsputil coerc to charact coercetocharact is name attribut isnamedattribut els doubl class return jsp util jsputil coerc to primit doubl coercetoprimitivedoubl is name attribut isnamedattribut els doubl class return jsp util jsputil coerc to doubl coercetodoubl is name attribut isnamedattribut els float class return jsp util jsputil coerc to primit float coercetoprimitivefloat is name attribut isnamedattribut els float class return jsp util jsputil coerc to float coercetofloat is name attribut isnamedattribut els int class return jsp util jsputil coerc to int coercetoint is name attribut isnamedattribut els integ class return jsp util jsputil coerc to integ coercetointeg is name attribut isnamedattribut els short class return jsp util jsputil coerc to primit short coercetoprimitiveshort is name attribut isnamedattribut els short class return jsp util jsputil coerc to short coercetoshort is name attribut isnamedattribut els long class return jsp util jsputil coerc to primit long coercetoprimitivelong is name attribut isnamedattribut els long class return jsp util jsputil coerc to long coercetolong is name attribut isnamedattribut els object class return new string quot els string class name classnam get canon name getcanonicalnam return class name classnam apach jasper runtim jsp runtim librari jspruntimelibrari get valu from properti editor manag getvaluefrompropertyeditormanag class name classnam class attr name attrnam quot','new string instanc gener constant string gener convert string convertstr','target class object class gener gener new string quot attribut valu tag handler use quot directli target class object class creat string instanc caus overhead memori alloc hash code recalu use key hash map hashmap detail code param target class coerc given string param string valu param attr name attrnam name attribut whose valu suppli param prop editor class propeditorclass properti editor given attribut param is name attribut isnamedattribut true given attribut name attribut specifi use jsp attribut standard action fals otherwis privat string convert string convertstr class string string attr name attrnam class prop editor class propeditorclass boolean is name attribut isnamedattribut string quot is name attribut isnamedattribut quot quot prop editor class propeditorclass null string class name classnam get canon name getcanonicalnam return class name classnam apach jasper runtim jsp runtim librari jspruntimelibrari get valu from bean info properti editor getvaluefrombeaninfopropertyeditor class name classnam class attr name attrnam quot prop editor class propeditorclass get canon name getcanonicalnam class els string class return quot els boolean class return jsp util jsputil coerc to primit boolean coercetoprimitiveboolean is name attribut isnamedattribut els boolean class return jsp util jsputil coerc to boolean coercetoboolean is name attribut isnamedattribut els byte class return jsp util jsputil coerc to primit byte coercetoprimitivebyt is name attribut isnamedattribut els byte class return jsp util jsputil coerc to byte coercetobyt is name attribut isnamedattribut els char class return jsp util jsputil coerc to char coercetochar is name attribut isnamedattribut els charact class return jsp util jsputil coerc to charact coercetocharact is name attribut isnamedattribut els doubl class return jsp util jsputil coerc to primit doubl coercetoprimitivedoubl is name attribut isnamedattribut els doubl class return jsp util jsputil coerc to doubl coercetodoubl is name attribut isnamedattribut els float class return jsp util jsputil coerc to primit float coercetoprimitivefloat is name attribut isnamedattribut els float class return jsp util jsputil coerc to float coercetofloat is name attribut isnamedattribut els int class return jsp util jsputil coerc to int coercetoint is name attribut isnamedattribut els integ class return jsp util jsputil coerc to integ coercetointeg is name attribut isnamedattribut els short class return jsp util jsputil coerc to primit short coercetoprimitiveshort is name attribut isnamedattribut els short class return jsp util jsputil coerc to short coercetoshort is name attribut isnamedattribut els long class return jsp util jsputil coerc to primit long coercetoprimitivelong is name attribut isnamedattribut els long class return jsp util jsputil coerc to long coercetolong is name attribut isnamedattribut els object class return new string quot els string class name classnam get canon name getcanonicalnam return class name classnam apach jasper runtim jsp runtim librari jspruntimelibrari get valu from properti editor manag getvaluefrompropertyeditormanag class name classnam class attr name attrnam quot','2012-10-17 08:47:42',1350480000,'resolved fixed','095a403',1351170000,'java/org/apache/jasper/compiler/Generator.java'),(227,54012,'Bug 54012  No \"pageContext\" in tag files\' generated java code when using code generation by JSTL tagplugin \"Set\"','','page context pagecontext tag file gener java code use code gener jstl tagplugin set','page context pagecontext tag file gener java code use code gener jstl tagplugin set','','2012-10-16 09:01:56',1350390000,'resolved fixed','a0ff3f9',1351170000,'java/org/apache/jasper/compiler/Compiler.java\njava/org/apache/jasper/compiler/PageInfo.java\njava/org/apache/jasper/compiler/TagPluginManager.java\njava/org/apache/jasper/compiler/tagplugin/TagPluginContext.java\njava/org/apache/jasper/tagplugins/jstl/core/Set.java'),(228,54045,'Bug 54045  ReplicatedMap don\'t like TcpFailureDetector in static configuration','Tribes stack using:\n* TcpPingInterceptor\n* TcpFailureDetector\n* MessageDispatchInterceptor\n* StaticMembershipInterceptor\nDo not work well in static cluster.\n\nFirst side (ie one thread):\n* call to TcpFailureDetector.heartbeat()\n* call to checkMembers(false)\n* call to performBasicCheck() in synchronized(membership)\n* in performBasicCheck, for a missing static node:\n*   add \"missing\" member to membership with membership.memberAlive(m)\n*       HERE THE SECOND THREAD HAVE SOME TIME TO WORK\n*   check it with memberAlive(m)\n*   remove it since if it doesn\'t exist\n\nSecond side (ie another thread):\n* some call to channel.getMembers() like what the done by AbstractReplicatedMap\n* this call will call the TcpFailureDetector.getMembers()\n* this one could return a wrong value since it can contains unavailable nodes\n\nNote:\n* synchronize on membership isn\'t use by TcpFailureDetector in getMember(), getMembers(), hasMembers(), neither in Membership equivalent method (maybe because it\'s too heavy to lock every thread while the TcpFailureDetector check if node are alive).\n\nIt must not be an issue for AbstractReplicatedMap since with or without TcpFailureDetector a node could disapear while replicated map try to use it.\nBut ReplicatedMap use always Channel.SEND_OPTIONS_DEFAULT where the value is Channel.SEND_OPTIONS_USE_ACK. So a message sent to a missing node will fail with an exception.\n\nPersonnaly I override TcpFailureDetector.heartbeat() to avoid performBasicCheck() if I use a static configuration (TcpPingInterceptor call performForcedCheck()).\nBut this doesn\'t fix ReplicatedMap issue.\n\nBetter fix could avoid adding missing member to membership list:\n* Add a method like memberAlive(MemberImpl) to Membership without side effect (add the member)\n* in TcpFailureDetector.performBasicCheck(): check this new method before adding the node\n\n\nThis doesn\'t fix the AbstractReplicatedMap issue which work always with acknoledge from other nodes.\n\n\nSame code for Tomcat 6.\n\n\nbest regards\nF.Arnoud','replic map replicatedmap like tcp failur detector tcpfailuredetector static configur tribe stack use tcp ping interceptor tcppinginterceptor tcp failur detector tcpfailuredetector messag dispatch interceptor messagedispatchinterceptor static membership interceptor staticmembershipinterceptor work well static cluster first side ie one thread call tcp failur detector tcpfailuredetector heartbeat call check member checkmemb fals call perform basic check performbasiccheck synchron membership perform basic check performbasiccheck miss static node add miss member membership membership member aliv memberal second thread time work check member aliv memberal remov sinc doesn exist second side ie anoth thread call channel get member getmemb like done abstract replic map abstractreplicatedmap call call tcp failur detector tcpfailuredetector get member getmemb one could return wrong valu sinc contain unavail node note synchron membership isn use tcp failur detector tcpfailuredetector get member getmemb get member getmemb ha member hasmemb neither membership equival method mayb heavi lock everi thread tcp failur detector tcpfailuredetector check node aliv must issu abstract replic map abstractreplicatedmap sinc without tcp failur detector tcpfailuredetector node could disapear replic map tri use replic map replicatedmap use alway channel send option default valu channel send option use ack messag sent miss node fail except personnali overrid tcp failur detector tcpfailuredetector heartbeat avoid perform basic check performbasiccheck use static configur tcp ping interceptor tcppinginterceptor call perform forc check performforcedcheck doesn fix replic map replicatedmap issu better fix could avoid ad miss member membership list add method like member aliv memberal member impl memberimpl membership without side effect add member tcp failur detector tcpfailuredetector perform basic check performbasiccheck check new method ad node doesn fix abstract replic map abstractreplicatedmap issu work alway acknoledg node code tomcat best regard arnoud','replic map replicatedmap like tcp failur detector tcpfailuredetector static configur','tribe stack use tcp ping interceptor tcppinginterceptor tcp failur detector tcpfailuredetector messag dispatch interceptor messagedispatchinterceptor static membership interceptor staticmembershipinterceptor work well static cluster first side ie one thread call tcp failur detector tcpfailuredetector heartbeat call check member checkmemb fals call perform basic check performbasiccheck synchron membership perform basic check performbasiccheck miss static node add miss member membership membership member aliv memberal second thread time work check member aliv memberal remov sinc doesn exist second side ie anoth thread call channel get member getmemb like done abstract replic map abstractreplicatedmap call call tcp failur detector tcpfailuredetector get member getmemb one could return wrong valu sinc contain unavail node note synchron membership isn use tcp failur detector tcpfailuredetector get member getmemb get member getmemb ha member hasmemb neither membership equival method mayb heavi lock everi thread tcp failur detector tcpfailuredetector check node aliv must issu abstract replic map abstractreplicatedmap sinc without tcp failur detector tcpfailuredetector node could disapear replic map tri use replic map replicatedmap use alway channel send option default valu channel send option use ack messag sent miss node fail except personnali overrid tcp failur detector tcpfailuredetector heartbeat avoid perform basic check performbasiccheck use static configur tcp ping interceptor tcppinginterceptor call perform forc check performforcedcheck doesn fix replic map replicatedmap issu better fix could avoid ad miss member membership list add method like member aliv memberal member impl memberimpl membership without side effect add member tcp failur detector tcpfailuredetector perform basic check performbasiccheck check new method ad node doesn fix abstract replic map abstractreplicatedmap issu work alway acknoledg node code tomcat best regard arnoud','2012-10-23 16:03:53',1351020000,'resolved fixed','d2b41b5',1351170000,'java/org/apache/catalina/tribes/group/interceptors/TcpFailureDetector.java'),(229,54010,'Bug 54010  Suggestion for code improvement (avoiding potential bug)','In connectors/jk/java/org/apache/jk/common/HandlerRequest.java\n\ncoyote.Request\'s schemeMB is assigned in 2 places.\n\n1st place: \n400         boolean isSSL = msg.getByte() != 0;\n401         if( isSSL ) {\n402             // XXX req.setSecure( true );\n403             req.scheme().setString(\"https\");\n404         }\n\n2nd place:\n518             case AjpConstants.SC_A_SSL_CERT     :\n519                 req.scheme().setString( \"https\" );\nand similar assignments for SC_A_SSL_CIPHER and SC_A_SSL_SESSION cases below.\n\nIt seems they do not make sense because the packet\'s 8-bit field is designated for telling whether it\'s SSL or not. So the 1st place is enough. Adding the 2nd place may pose potential bug in that a packet with the 8-bit SSL field being 0 and suffixes of SC_A_SSL_* key-value pairs can later incorrect trigger a wrong redirection message pointing to a https location.\n\nA simple correction is to honor the 8-bit SSL-field in packet and delete the 3 lines of 2nd place assigning \"https\". \n\nEven though the chances of such spurious packet is low, but it\'s best we can have threat-free, semantic-correct tomcat code.\n\nThe same lines of code remain in 6.0 and 7.0.\n\nBut maybe I misunderstand the code, in which case please kindly point out. Thanks.','suggest code improv avoid potenti connector jk java apach jk common handler request handlerrequest java coyot request scheme schememb assign place 1st place boolean is isssl msg get byte getbyt is isssl xxx req set secur setsecur true req scheme set string setstr http 2nd place case ajp constant ajpconst sc ssl cert req scheme set string setstr http similar assign sc ssl cipher sc ssl session case seem make sens packet bit 8bit field design tell whether ssl 1st place enough ad 2nd place may pose potenti packet bit 8bit ssl field suffix sc ssl key valu keyvalu pair later incorrect trigger wrong redirect messag point http locat simpl correct honor bit 8bit field sslfield packet delet line 2nd place assign http even though chanc spuriou packet low best threat free threatfre semant correct semanticcorrect tomcat code line code remain mayb misunderstand code case pleas kindli point thank','suggest code improv avoid potenti','connector jk java apach jk common handler request handlerrequest java coyot request scheme schememb assign place 1st place boolean is isssl msg get byte getbyt is isssl xxx req set secur setsecur true req scheme set string setstr http 2nd place case ajp constant ajpconst sc ssl cert req scheme set string setstr http similar assign sc ssl cipher sc ssl session case seem make sens packet bit 8bit field design tell whether ssl 1st place enough ad 2nd place may pose potenti packet bit 8bit ssl field suffix sc ssl key valu keyvalu pair later incorrect trigger wrong redirect messag point http locat simpl correct honor bit 8bit field sslfield packet delet line 2nd place assign http even though chanc spuriou packet low best threat free threatfre semant correct semanticcorrect tomcat code line code remain mayb misunderstand code case pleas kindli point thank','2012-10-16 02:20:47',1350370000,'resolved fixed','9f04094',1350950000,'java/org/apache/coyote/ajp/AbstractAjpProcessor.java'),(230,53993,'Bug 53993  NPE in AccessLogValve','During a load test of tomcat 7.0.30, we occasionally see NPEs from the AccessLogValve.  Some of the requests that are being executed as part of the load test call HttpSession.invalidate.  I mention this because the code in question appears to be susceptible to multithreaded manipulation of the session.  I think the fix should be as simple as a check for null on the return value of request.getSessionInternal.\n\nOf course, our access log pattern includes logging the session id.\n\njava.lang.NullPointerException \n    org.apache.catalina.valves.AccessLogValve$SessionIdElement.addElement(AccessLogValve.java:1733) \n    org.apache.catalina.valves.AccessLogValve.log(AccessLogValve.java:955) \n    org.apache.catalina.core.AccessLogAdapter.log(AccessLogAdapter.java:51) \n    org.apache.catalina.core.StandardEngine.logAccess(StandardEngine.java:332) \n    org.apache.catalina.core.ContainerBase.logAccess(ContainerBase.java:1270) \n    org.apache.catalina.core.ContainerBase.logAccess(ContainerBase.java:1270) \n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:441) \n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002) \n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585) \n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312) \n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) \n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) \n    java.lang.Thread.run(Thread.java:722)\n\nexisting code for convenience:\n\n    protected static class SessionIdElement implements AccessLogElement {\n        @Override\n        public void addElement(StringBuilder buf, Date date, Request request,\n                Response response, long time) {\n            if (request != null) {\n                if (request.getSession(false) != null) {\n                    buf.append(request.getSessionInternal(false) // LINE 1733\n                            .getIdInternal());\n                } else {\n                    buf.append(\'-\');\n                }\n            } else {\n                buf.append(\'-\');\n            }\n        }\n    }\n\n\npossible fix:\n\n...\n                if (request.getSession(false) != null) {\n                    Session internalSession = request.getSessionInternal(false);\n                    if (internalSession != null) {\n                        buf.append(internalSession.getIdInternal());\n                    } else {\n                        buf.append(\'-\');\n                    }\n                } else {\n                    buf.append(\'-\');\n                }','npe access log valv accesslogvalv load tomcat occasion see npe access log valv accesslogvalv request execut part load call http session httpsession invalid mention code question appear suscept multithread manipul session think fix simpl check null return valu request get session intern getsessionintern cours access log pattern includ log session id java lang null pointer except nullpointerexcept apach catalina valv access log valv accesslogvalv session id element sessionidel add element addel access log valv accesslogvalv java apach catalina valv access log valv accesslogvalv log access log valv accesslogvalv java apach catalina core access log adapt accesslogadapt log access log adapt accesslogadapt java apach catalina core standard engin standardengin log access logaccess standard engin standardengin java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java exist code conveni protect static class session id element sessionidel implement access log element accesslogel overrid public void add element addel string builder stringbuild buf date date request request respons respons long time request null request get session getsess fals null buf append request get session intern getsessionintern fals line get id intern getidintern els buf append els buf append possibl fix request get session getsess fals null session intern session internalsess request get session intern getsessionintern fals intern session internalsess null buf append intern session internalsess get id intern getidintern els buf append els buf append','npe access log valv accesslogvalv','load tomcat occasion see npe access log valv accesslogvalv request execut part load call http session httpsession invalid mention code question appear suscept multithread manipul session think fix simpl check null return valu request get session intern getsessionintern cours access log pattern includ log session id java lang null pointer except nullpointerexcept apach catalina valv access log valv accesslogvalv session id element sessionidel add element addel access log valv accesslogvalv java apach catalina valv access log valv accesslogvalv log access log valv accesslogvalv java apach catalina core access log adapt accesslogadapt log access log adapt accesslogadapt java apach catalina core standard engin standardengin log access logaccess standard engin standardengin java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java exist code conveni protect static class session id element sessionidel implement access log element accesslogel overrid public void add element addel string builder stringbuild buf date date request request respons respons long time request null request get session getsess fals null buf append request get session intern getsessionintern fals line get id intern getidintern els buf append els buf append possibl fix request get session getsess fals null session intern session internalsess request get session intern getsessionintern fals intern session internalsess null buf append intern session internalsess get id intern getidintern els buf append els buf append','2012-10-11 19:56:38',1350000000,'resolved fixed','39c4270',1350140000,'java/org/apache/catalina/valves/AccessLogValve.java'),(231,53986,'Bug 53986  Comment end tag preceded directly by a dash causes JSP fail compilation','','comment tag preced directli dash caus jsp fail compil','comment tag preced directli dash caus jsp fail compil','','2012-10-09 18:40:08',1349820000,'resolved fixed','88d8dd5',1349880000,'java/org/apache/jasper/compiler/JspReader.java\ntest/org/apache/jasper/compiler/TestJspReader.java'),(232,53854,'Bug 53854  DefaultServlet directory listings for aliased directories do not seem to work','','default servlet defaultservlet directori list alias directori seem work','default servlet defaultservlet directori list alias directori seem work','','2012-09-11 20:28:09',1347410000,'resolved fixed','a3e0f09',1349030000,'java/org/apache/naming/resources/BaseDirContext.java\njava/org/apache/naming/resources/FileDirContext.java\njava/org/apache/naming/resources/WARDirContext.java'),(233,53863,'Bug 53863  Unable to override default servlet when using Tomcat in embedded mode','An implementation of ServletContainerInitializer can\'t add a mapping to \"/\" because the default servlet is loaded first, as first reported in 51278:\n\npublic final class SampleServletContainerInitializer implements ServletContainerInitializer {\n\n  public void onStartup(final Set<Class<?>> c, final ServletContext ctx) throws ServletException {\n    final XmlWebApplicationContext appCtx = new XmlWebApplicationContext();\n\n    appCtx.setConfigLocation(\"/WEB-INF/DispatcherServlet-servlet.xml\");\n\n    final ServletRegistration.Dynamic dispatcher = ctx.addServlet(\"DispatcherServlet\", new DispatcherServlet(appCtx));\n\n    dispatcher.setLoadOnStartup(1);\n\n    final Set<String> conflictSet = dispatcher.addMapping(\"/\");\n\n    for (final String conflict : conflictSet)\n      out.println(conflict); // prints \"/\"\n\n  }\n\n}\n\nA test case follows attached.','unabl overrid default servlet use tomcat embed mode implement servlet contain initi servletcontaineriniti add map default servlet load first first report public final class sampl servlet contain initi sampleservletcontaineriniti implement servlet contain initi servletcontaineriniti public void on startup onstartup final set class final servlet context servletcontext ctx throw servlet except servletexcept final xml web applic context xmlwebapplicationcontext app ctx appctx new xml web applic context xmlwebapplicationcontext app ctx appctx set config locat setconfigloc web inf dispatch servlet servlet dispatcherservletservlet xml final servlet registr servletregistr dynam dispatch ctx add servlet addservlet dispatch servlet dispatcherservlet new dispatch servlet dispatcherservlet app ctx appctx dispatch set load on startup setloadonstartup final set string conflict set conflictset dispatch add map addmap final string conflict conflict set conflictset println conflict print case follow attach','unabl overrid default servlet use tomcat embed mode','implement servlet contain initi servletcontaineriniti add map default servlet load first first report public final class sampl servlet contain initi sampleservletcontaineriniti implement servlet contain initi servletcontaineriniti public void on startup onstartup final set class final servlet context servletcontext ctx throw servlet except servletexcept final xml web applic context xmlwebapplicationcontext app ctx appctx new xml web applic context xmlwebapplicationcontext app ctx appctx set config locat setconfigloc web inf dispatch servlet servlet dispatcherservletservlet xml final servlet registr servletregistr dynam dispatch ctx add servlet addservlet dispatch servlet dispatcherservlet new dispatch servlet dispatcherservlet app ctx appctx dispatch set load on startup setloadonstartup final set string conflict set conflictset dispatch add map addmap final string conflict conflict set conflictset println conflict print case follow attach','2012-09-13 03:44:28',1347520000,'resolved fixed','7f6f99e',1347820000,'java/org/apache/catalina/startup/Tomcat.java'),(234,52777,'Bug 52777  Automatically shut down old versions in parallel deployment','Under parallel deployment, when an older version in an application has zero sessions, shut it down automatically to release tomcat and JVM resources.\n\nChristopher Schultz suggested these approaches might be possible (on the Tomcat user list):\n\n1. Modify the parallel deployment code to register an MBean\nNotificationListener that filters for useful events (such as expiring\nsession notifications on the outgoing webapp).\n\n2. When the listener receives a notification, check the current state\n(e.g. session count=0; or, I suppose you could make this a part of\nyour filter in step #1). If session count = 0, start a new thread that\nstops the outgoing webapp and de-registers the listener.\n\nOr.\n\n1. Install a SessionEventListener that counts-down the sessions\n(you\'ll have to get the count from JMX, I suppose) until they equal 0,\nthen starts a new thread that ... etc.\n\nOr.\n\n1. Install a Timer thread that polls at intervals (1 minute?) to see\nif all the sessions are dead and then starts a thread ... etc.\n\nThe first idea seems the cleanest, though Tomcat might not actually\nfire MBean events for things like session count changing.','automat shut old version parallel deploy parallel deploy older version applic zero session shut automat releas tomcat jvm resourc christoph schultz suggest approach might possibl tomcat user list modifi parallel deploy code regist bean mbean notif listen notificationlisten filter use event expir session notif outgo webapp listen receiv notif check current state session count suppos could make part filter step session count start new thread stop outgo webapp de regist deregist listen instal session event listen sessioneventlisten count down countsdown session ll get count jmx suppos equal start new thread etc instal timer thread poll interv minut see session dead start thread etc first idea seem cleanest though tomcat might actual fire bean mbean event thing like session count chang','automat shut old version parallel deploy','parallel deploy older version applic zero session shut automat releas tomcat jvm resourc christoph schultz suggest approach might possibl tomcat user list modifi parallel deploy code regist bean mbean notif listen notificationlisten filter use event expir session notif outgo webapp listen receiv notif check current state session count suppos could make part filter step session count start new thread stop outgo webapp de regist deregist listen instal session event listen sessioneventlisten count down countsdown session ll get count jmx suppos equal start new thread etc instal timer thread poll interv minut see session dead start thread etc first idea seem cleanest though tomcat might actual fire bean mbean event thing like session count chang','2012-02-27 03:30:27',1330330000,'resolved fixed','97cefcc',1347140000,'java/org/apache/catalina/Host.java\njava/org/apache/catalina/core/StandardHost.java\njava/org/apache/catalina/startup/HostConfig.java'),(235,53713,'Bug 53713  Performance tuning solution for JspReader','','perform tune solut jsp reader jspreader','perform tune solut jsp reader jspreader','','2012-08-14 06:28:58',1344940000,'resolved fixed','5fccf68',1346880000,'java/org/apache/jasper/compiler/JspReader.java\njava/org/apache/jasper/compiler/Mark.java'),(236,53828,'Bug 53828  StreamInbound.closeOutboundConnection(WsFrame) closes with an opcode instead of status','201	private void closeOutboundConnection(WsFrame frame) throws IOException {\n202	  try {\n203	    getWsOutbound().close(frame);\n204	  } finally {\n205	    doOnClose(Constants.OPCODE_CLOSE);\n206	  }\n207	}\n\nLine 205 uses the close opcode instead of a valid status (Constants.STATUS_*).\n\nNot sure of the exact context of this called but it seems to only be called when the last frame from the client was a close frame, thus a Constants.STATUS_NORMAL may be in order.\n\nIf not, the frame\'s opcode could be inspected and mapped to an appropriate status (normal, shutdown, etc...).\n\nThanks,\nMichael','stream inbound streaminbound close outbound connect closeoutboundconnect frame wsframe close opcod instead statu privat void close outbound connect closeoutboundconnect frame wsframe frame throw except ioexcept tri get outbound getwsoutbound close frame final do on close doonclos constant opcod close line us close opcod instead valid statu constant statu sure exact context call seem call last frame client close frame thu constant statu normal may order frame opcod could inspect map appropri statu normal shutdown etc thank michael','stream inbound streaminbound close outbound connect closeoutboundconnect frame wsframe close opcod instead statu','privat void close outbound connect closeoutboundconnect frame wsframe frame throw except ioexcept tri get outbound getwsoutbound close frame final do on close doonclos constant opcod close line us close opcod instead valid statu constant statu sure exact context call seem call last frame client close frame thu constant statu normal may order frame opcod could inspect map appropri statu normal shutdown etc thank michael','2012-09-04 16:55:42',1346790000,'resolved fixed','a81d941',1346790000,'java/org/apache/catalina/websocket/StreamInbound.java'),(237,53801,'Bug 53801  Nondeterministic behaviour of security constraints','','nondeterminist behaviour secur constraint','nondeterminist behaviour secur constraint','','2012-08-30 09:14:42',1346330000,'resolved fixed','95d7a0f',1346370000,'java/org/apache/catalina/realm/RealmBase.java'),(238,53800,'Bug 53800  Infinte loop cause by FileDirContext in a CDI/Weld project when using Eclipse\'s \"Server modules without publishing\"','','infint loop caus file dir context filedircontext cdi weld project use server modul without publish','infint loop caus file dir context filedircontext cdi weld project use server modul without publish','','2012-08-30 06:19:19',1346320000,'resolved fixed','44eabba',1346310000,'java/org/apache/naming/resources/FileDirContext.java'),(239,53793,'Bug 53793  Change webapp links in Manager to point to /appname/ instead of /appname','The first column of the table that lists Web Applications in Tomcat Manager webapp contains links to those applications, e.g.\n\n  <a href=\"/examples\">/examples</a>\n\nWhen the link is clicked and browser navigates to \"/examples\", it results in 302 redirect to \"/examples/\".\n\nIt would be better to change that link to point directly to \"/examples/\".\n\n  <a href=\"/examples/\">/examples</a>\n\nI am changing the link address only, but not the text on it. That is because the \"Path\" of the web application displayed in that column (and used in Manager commands elsewhere) does not have the additional \'/\'.','chang webapp link manag point appnam instead appnam first column tabl list web applic tomcat manag webapp contain link applic href exampl exampl link click browser navig exampl result redirect exampl would better chang link point directli exampl href exampl exampl chang link address text path web applic display column use manag command elsewher addit','chang webapp link manag point appnam instead appnam','first column tabl list web applic tomcat manag webapp contain link applic href exampl exampl link click browser navig exampl result redirect exampl would better chang link point directli exampl href exampl exampl chang link address text path web applic display column use manag command elsewher addit','2012-08-28 21:50:21',1346210000,'resolved fixed','fcc3d65',1346190000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(240,42181,'Bug 42181  ArrayIndexOutOfBoundsException in parseChunkHeader','Apr 22, 2007 11:53:32 AM org.apache.coyote.http11.Http11Processor process\nSEVERE: Error finishing request\njava.lang.ArrayIndexOutOfBoundsException: -28\n        at\norg.apache.coyote.http11.filters.ChunkedInputFilter.parseChunkHeader(ChunkedInputFilter.java:256)\n        at\norg.apache.coyote.http11.filters.ChunkedInputFilter.doRead(ChunkedInputFilter.java:129)\n        at\norg.apache.coyote.http11.filters.ChunkedInputFilter.end(ChunkedInputFilter.java:179)\n        at\norg.apache.coyote.http11.InternalInputBuffer.endRequest(InternalInputBuffer.java:368)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:894)\n        at\norg.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)\n        at\norg.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at\norg.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)','array index out of bound except arrayindexoutofboundsexcept pars chunk header parsechunkhead apr apach coyot http11 http11 processor http11processor process sever error finish request java lang array index out of bound except arrayindexoutofboundsexcept apach coyot http11 filter chunk input filter chunkedinputfilt pars chunk header parsechunkhead chunk input filter chunkedinputfilt java apach coyot http11 filter chunk input filter chunkedinputfilt do read doread chunk input filter chunkedinputfilt java apach coyot http11 filter chunk input filter chunkedinputfilt chunk input filter chunkedinputfilt java apach coyot http11 intern input buffer internalinputbuff end request endrequest intern input buffer internalinputbuff java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','array index out of bound except arrayindexoutofboundsexcept pars chunk header parsechunkhead','apr apach coyot http11 http11 processor http11processor process sever error finish request java lang array index out of bound except arrayindexoutofboundsexcept apach coyot http11 filter chunk input filter chunkedinputfilt pars chunk header parsechunkhead chunk input filter chunkedinputfilt java apach coyot http11 filter chunk input filter chunkedinputfilt do read doread chunk input filter chunkedinputfilt java apach coyot http11 filter chunk input filter chunkedinputfilt chunk input filter chunkedinputfilt java apach coyot http11 intern input buffer internalinputbuff end request endrequest intern input buffer internalinputbuff java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','2007-04-21 22:48:21',1177210000,'resolved fixed','cd05aa1',1346110000,'java/org/apache/coyote/http11/filters/ChunkedInputFilter.java\njava/org/apache/tomcat/util/buf/HexUtils.java\ntest/org/apache/tomcat/util/buf/TestHexUtils.java'),(241,53783,'Bug 53783  Static resources and jsp files under WEB-INF/lib/*.jar!/META-INF/resources are not found','','static resourc jsp file web inf lib jar meta inf resourc found','static resourc jsp file web inf lib jar meta inf resourc found','','2012-08-27 13:32:16',1346090000,'resolved fixed','6b934d8',1346090000,'java/org/apache/catalina/startup/ContextConfig.java'),(242,53758,'Bug 53758  Dynamic Filter Registration mapping logic inverted','In the class org.apache.catalina.core.ApplicationFilterRegistration, the methods addMappingForServletNames and addMappingForUrlPatterns have inverted logic on how to register the filter to the context.\n\nIf the parameter isMatchAfter is passed as true, the filter is placed in the context using the addFilterMapBefore method.\n\nif (isMatchAfter) {\n    context.addFilterMapBefore(filterMap);\n} else {\n    context.addFilterMap(filterMap);\n}\n\nThe logic should ultimate be (in both methods):\n\nif (!isMatchAfter) {\n    context.addFilterMapBefore(filterMap);\n} else {\n    context.addFilterMap(filterMap);\n}\n\nor\n\nif (isMatchAfter) {\n    context.addFilterMap(filterMap);\n} else {\n    context.addFilterMapBefore(filterMap);\n}\n\n\n\nsvn rev on trunk is 1375614','dynam filter registr map logic invert class apach catalina core applic filter registr applicationfilterregistr method add map for servlet name addmappingforservletnam add map for url pattern addmappingforurlpattern invert logic regist filter context paramet is match after ismatchaft pass true filter place context use add filter map befor addfiltermapbefor method is match after ismatchaft context add filter map befor addfiltermapbefor filter map filtermap els context add filter map addfiltermap filter map filtermap logic ultim method is match after ismatchaft context add filter map befor addfiltermapbefor filter map filtermap els context add filter map addfiltermap filter map filtermap is match after ismatchaft context add filter map addfiltermap filter map filtermap els context add filter map befor addfiltermapbefor filter map filtermap svn rev trunk','dynam filter registr map logic invert','class apach catalina core applic filter registr applicationfilterregistr method add map for servlet name addmappingforservletnam add map for url pattern addmappingforurlpattern invert logic regist filter context paramet is match after ismatchaft pass true filter place context use add filter map befor addfiltermapbefor method is match after ismatchaft context add filter map befor addfiltermapbefor filter map filtermap els context add filter map addfiltermap filter map filtermap logic ultim method is match after ismatchaft context add filter map befor addfiltermapbefor filter map filtermap els context add filter map addfiltermap filter map filtermap is match after ismatchaft context add filter map addfiltermap filter map filtermap els context add filter map befor addfiltermapbefor filter map filtermap svn rev trunk','2012-08-21 19:59:03',1345590000,'resolved fixed','8f169e4',1346020000,'java/org/apache/catalina/core/ApplicationFilterRegistration.java'),(243,53725,'Bug 53725  Some GZipped responses result in java.io.IOException: Corrupt GZIP trailer during gunzip.','','zip gzip respons result java except ioexcept corrupt gzip trailer gunzip','zip gzip respons result java except ioexcept corrupt gzip trailer gunzip','','2012-08-15 18:28:36',1345070000,'resolved fixed','3dff241',1345930000,'java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java'),(244,53714,'Bug 53714  misleading log output when jarsToSkip cointains web-fragments','I have a jar which contains a web-fragment and no TLDs. When starting the server I get the Message:\n\norg.apache.jasper.compiler.TldLocationsCache tldScanJar\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\nso far so good.\n\nWhen adding it to the tomcat.util.scan.DefaultJarScanner.jarsToSkip property the web-fragment won\'t be scanned either.\n\nThe log message should only be printed when no TLDs and web-fragments could be found in the jar.','mislead log output jar to skip jarstoskip cointain web fragment webfrag jar contain web fragment webfrag tld start server get messag apach jasper compil tld locat cach tldlocationscach tld scan jar tldscanjar info least one jar scan tld yet contain tld enabl debug log logger complet list jar scan tld found skip unneed jar scan improv startup time jsp compil time far good ad tomcat util scan default jar scanner defaultjarscann jar to skip jarstoskip properti web fragment webfrag won scan either log messag print tld web fragment webfrag could found jar','mislead log output jar to skip jarstoskip cointain web fragment webfrag','jar contain web fragment webfrag tld start server get messag apach jasper compil tld locat cach tldlocationscach tld scan jar tldscanjar info least one jar scan tld yet contain tld enabl debug log logger complet list jar scan tld found skip unneed jar scan improv startup time jsp compil time far good ad tomcat util scan default jar scanner defaultjarscann jar to skip jarstoskip properti web fragment webfrag won scan either log messag print tld web fragment webfrag could found jar','2012-08-14 09:13:38',1344950000,'resolved fixed','15e8d8e',1345840000,'java/org/apache/catalina/startup/Constants.java\njava/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/startup/TldConfig.java\njava/org/apache/jasper/Constants.java\njava/org/apache/jasper/compiler/TldLocationsCache.java'),(245,53697,'Bug 53697  java.lang.NullPointerException at org.apache.coyote.http11.Http11AprProcessor.actionInternal(Http11AprProcessor.java:277)','I hit tomcat with ~20 different urls in ~2 seconds, test some functionality, wait ~3 minutes, then do it again and I always get this exception and then I get (intermitent) connection interrupted messages in the browser.  Here\'s the full trace:\n\nAug 10, 2012 6:33:14 PM org.apache.catalina.connector.CoyoteAdapter event\nSEVERE: null\nAug 10, 2012 6:33:14 PM org.apache.catalina.connector.CoyoteAdapter event\njava.lang.NullPointerException\n	at org.apache.coyote.http11.Http11AprProcessor.actionInternal(Http11AprProcessor.java:277)\n	at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:846)\n	at org.apache.coyote.Response.action(Response.java:172)\n	at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:229)\n	at org.apache.coyote.http11.Http11AprProcessor.event(Http11AprProcessor.java:133)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:581)\n	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1770)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n	at java.lang.Thread.run(Thread.java:722)\n\nAug 10, 2012 6:33:14 PM org.apache.coyote.http11.Http11AprProcessor event\nSEVERE: Error processing request\njava.lang.NullPointerException\n	at org.apache.coyote.http11.Http11AprProcessor.actionInternal(Http11AprProcessor.java:277)\n	at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:846)\n	at org.apache.coyote.Request.action(Request.java:346)\n	at org.apache.catalina.connector.Request.getRemoteAddr(Request.java:1281)\n	at org.apache.catalina.connector.Request.getRemoteHost(Request.java:1296)\n	at org.apache.catalina.valves.AccessLogValve$HostElement.addElement(AccessLogValve.java:1327)\n	at org.apache.catalina.valves.AccessLogValve.log(AccessLogValve.java:953)\n	at org.apache.catalina.core.AccessLogAdapter.log(AccessLogAdapter.java:51)\n	at org.apache.catalina.core.ContainerBase.logAccess(ContainerBase.java:1263)\n	at org.apache.catalina.core.ContainerBase.logAccess(ContainerBase.java:1270)\n	at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:250)\n	at org.apache.coyote.http11.Http11AprProcessor.event(Http11AprProcessor.java:133)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:581)\n	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1770)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n	at java.lang.Thread.run(Thread.java:722)\n\nAdditional information:\n - hp Proliant DL360 with two 3ghz processors\n - CentOS 6.3\n - One app runs websockets under bleading edge Atmosphere and Grails\n - the 20 urls come from chrome and firefox, simulatneously','java lang null pointer except nullpointerexcept apach coyot http11 http11 apr processor http11aprprocessor action intern actionintern http11 apr processor http11aprprocessor java hit tomcat differ url second function wait minut alway get except get intermit connect interrupt messag browser full trace aug pm apach catalina connector coyot adapt coyoteadapt event sever null aug pm apach catalina connector coyot adapt coyoteadapt event java lang null pointer except nullpointerexcept apach coyot http11 http11 apr processor http11aprprocessor action intern actionintern http11 apr processor http11aprprocessor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot respons action respons java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 apr processor http11aprprocessor event http11 apr processor http11aprprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net apr endpoint aprendpoint socket processor socketprocessor run apr endpoint aprendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java aug pm apach coyot http11 http11 apr processor http11aprprocessor event sever error process request java lang null pointer except nullpointerexcept apach coyot http11 http11 apr processor http11aprprocessor action intern actionintern http11 apr processor http11aprprocessor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina connector request get remot addr getremoteaddr request java apach catalina connector request get remot host getremotehost request java apach catalina valv access log valv accesslogvalv host element hostel add element addel access log valv accesslogvalv java apach catalina valv access log valv accesslogvalv log access log valv accesslogvalv java apach catalina core access log adapt accesslogadapt log access log adapt accesslogadapt java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 apr processor http11aprprocessor event http11 apr processor http11aprprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net apr endpoint aprendpoint socket processor socketprocessor run apr endpoint aprendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java addit inform hp proliant l360 dl360 two 3ghz processor cent cento one app run websocket blead edg atmospher grail url chrome firefox simulatn','java lang null pointer except nullpointerexcept apach coyot http11 http11 apr processor http11aprprocessor action intern actionintern http11 apr processor http11aprprocessor java','hit tomcat differ url second function wait minut alway get except get intermit connect interrupt messag browser full trace aug pm apach catalina connector coyot adapt coyoteadapt event sever null aug pm apach catalina connector coyot adapt coyoteadapt event java lang null pointer except nullpointerexcept apach coyot http11 http11 apr processor http11aprprocessor action intern actionintern http11 apr processor http11aprprocessor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot respons action respons java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 apr processor http11aprprocessor event http11 apr processor http11aprprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net apr endpoint aprendpoint socket processor socketprocessor run apr endpoint aprendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java aug pm apach coyot http11 http11 apr processor http11aprprocessor event sever error process request java lang null pointer except nullpointerexcept apach coyot http11 http11 apr processor http11aprprocessor action intern actionintern http11 apr processor http11aprprocessor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina connector request get remot addr getremoteaddr request java apach catalina connector request get remot host getremotehost request java apach catalina valv access log valv accesslogvalv host element hostel add element addel access log valv accesslogvalv java apach catalina valv access log valv accesslogvalv log access log valv accesslogvalv java apach catalina core access log adapt accesslogadapt log access log adapt accesslogadapt java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina core contain base containerbas log access logaccess contain base containerbas java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 apr processor http11aprprocessor event http11 apr processor http11aprprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net apr endpoint aprendpoint socket processor socketprocessor run apr endpoint aprendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java addit inform hp proliant l360 dl360 two 3ghz processor cent cento one app run websocket blead edg atmospher grail url chrome firefox simulatn','2012-08-11 08:33:54',1344690000,'resolved fixed','6c13431',1345070000,'java/org/apache/coyote/http11/AbstractHttp11Processor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java'),(246,53702,'Bug 53702  Only the last url-pattern from jsp-property-group is processed','','last url pattern urlpattern jsp properti group jsppropertygroup process','last url pattern urlpattern jsp properti group jsppropertygroup process','','2012-08-12 14:54:17',1344800000,'resolved fixed','e38a097',1345060000,'java/org/apache/catalina/core/ApplicationJspPropertyGroupDescriptor.java\njava/org/apache/catalina/deploy/JspPropertyGroup.java\njava/org/apache/catalina/deploy/WebXml.java\njava/org/apache/catalina/startup/WebRuleSet.java'),(247,53654,'Bug 53654  JSP file is always recompiled for using file based TLD URL','Now, in Jasper codes, it only supports jar URL and relative URL, that may be enough for common web applications. While, it is possible that the third-party uses other protocol URL, like file: protocol based URL. So, the JSP files will be always recompiled for each access for the target page.\nThe codes are located in Compiler.isOutDated() method.\nIs it possible to provide more generic handlering for the URL ?','jsp file alway recompil use file base tld url jasper code support jar url rel url may enough common web applic possibl third parti thirdparti us protocol url like file protocol base url jsp file alway recompil access target page code locat compil is out date isoutd method possibl provid gener handler url','jsp file alway recompil use file base tld url','jasper code support jar url rel url may enough common web applic possibl third parti thirdparti us protocol url like file protocol base url jsp file alway recompil access target page code locat compil is out date isoutd method possibl provid gener handler url','2012-08-05 14:47:43',1344190000,'resolved fixed','1efc23d',1345050000,'java/org/apache/jasper/compiler/Compiler.java'),(248,53624,'Bug 53624  sendRedirect doesn\'t work after a dispatch through the AsyncContext','','send redirect sendredirect doesn work dispatch async context asynccontext','send redirect sendredirect doesn work dispatch async context asynccontext','','2012-07-30 19:07:39',1343690000,'resolved fixed','e37b01e',1344980000,'java/org/apache/catalina/core/ApplicationDispatcher.java'),(249,53701,'Bug 53701  Javadoc fixes','','javadoc fix','javadoc fix','','2012-08-12 12:25:04',1344790000,'resolved fixed','2a3b42d',1344970000,'java/javax/servlet/ServletInputStream.java\njava/javax/servlet/ServletOutputStream.java\njava/javax/servlet/jsp/JspException.java\njava/org/apache/catalina/Executor.java\njava/org/apache/catalina/Manager.java\njava/org/apache/catalina/tribes/ErrorHandler.java\njava/org/apache/naming/SelectorContext.java\njava/org/apache/tomcat/util/http/fileupload/FileItem.java\nwebapps/examples/WEB-INF/classes/compressionFilters/CompressionResponseStream.java'),(250,53700,'Bug 53700  InternalNioOutputBuffer unused (debug?) code','The class InternalNioOutputBuffer includes the field:\n\nint total = 0;\n\nThis is currently defined at line 227, which is between the Javadoc and method body to which the Javadoc applies, i.e. private synchronized int writeToSocket.\n\nThis invalidates the method Javadoc.\n\nThe field is used to keep a running total of bytes written by the method; however the field is not actually referenced - the System.out.println statement is commented out.\n\nThe field and associated code shcould probably be deleted.\n\nIf the field is to be kept, it should be private, and it should probably be changed to long, and of course should be moved so it does not invalidate the method Javadoc.','intern nio output buffer internalniooutputbuff unus debug code class intern nio output buffer internalniooutputbuff includ field int total current defin line javadoc method bodi javadoc appli privat synchron int write to socket writetosocket invalid method javadoc field use keep run total byte written method howev field actual referenc system println statement comment field associ code shcould probabl delet field kept privat probabl chang long cours move invalid method javadoc','intern nio output buffer internalniooutputbuff unus debug code','class intern nio output buffer internalniooutputbuff includ field int total current defin line javadoc method bodi javadoc appli privat synchron int write to socket writetosocket invalid method javadoc field use keep run total byte written method howev field actual referenc system println statement comment field associ code shcould probabl delet field kept privat probabl chang long cours move invalid method javadoc','2012-08-12 11:17:07',1344780000,'resolved fixed','a2ca744',1344970000,'java/org/apache/coyote/http11/InternalNioOutputBuffer.java'),(251,53574,'Bug 53574  metadata-complete=\"true\" and servlet defined as jsp not working','We have a servlet defined as \n\n<servlet>\n        <servlet-name>VersionInfoServlet</servlet-name>\n        <jsp-file>/WEB-INF/svnrevision.jsp</jsp-file>\n</servlet>\n\nand mapped as \n\n<servlet-mapping>\n        <servlet-name>VersionInfoServlet</servlet-name>\n        <url-pattern>/svnrevision</url-pattern>\n</servlet-mapping>\n\n\n\nIt worked fine. Then we changed metadata-complete to \"true\", and from now on we receive \n\nINFO: Marking servlet VersionInfoServlet as unavailable\nlip 20, 2012 11:05:36 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet VersionInfoServlet\njavax.servlet.ServletException: No servlet class has been specified for servlet VersionInfoServlet\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1130)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n        at org.apache.coyote.ajp.AjpNioProcessor.process(AjpNioProcessor.java:184)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)','metadata complet metadatacomplet true servlet defin jsp work servlet defin servlet servlet name servletnam version info servlet versioninfoservlet servlet name servletnam jsp file jspfile web inf svnrevis jsp jsp file jspfile servlet map servlet map servletmap servlet name servletnam version info servlet versioninfoservlet servlet name servletnam url pattern urlpattern svnrevis url pattern urlpattern servlet map servletmap work fine chang metadata complet metadatacomplet true receiv info mark servlet version info servlet versioninfoservlet unavail lip apach catalina core standard wrapper valv standardwrappervalv invok sever alloc except servlet version info servlet versioninfoservlet javax servlet servlet except servletexcept servlet class specifi servlet version info servlet versioninfoservlet apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp alloc standard wrapper standardwrapp java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot ajp ajp nio processor ajpnioprocessor process ajp nio processor ajpnioprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','metadata complet metadatacomplet true servlet defin jsp work','servlet defin servlet servlet name servletnam version info servlet versioninfoservlet servlet name servletnam jsp file jspfile web inf svnrevis jsp jsp file jspfile servlet map servlet map servletmap servlet name servletnam version info servlet versioninfoservlet servlet name servletnam url pattern urlpattern svnrevis url pattern urlpattern servlet map servletmap work fine chang metadata complet metadatacomplet true receiv info mark servlet version info servlet versioninfoservlet unavail lip apach catalina core standard wrapper valv standardwrappervalv invok sever alloc except servlet version info servlet versioninfoservlet javax servlet servlet except servletexcept servlet class specifi servlet version info servlet versioninfoservlet apach catalina core standard wrapper standardwrapp load servlet loadservlet standard wrapper standardwrapp java apach catalina core standard wrapper standardwrapp alloc standard wrapper standardwrapp java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot ajp ajp nio processor ajpnioprocessor process ajp nio processor ajpnioprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2012-07-20 09:35:23',1342790000,'resolved fixed','f9b0182',1344710000,'java/org/apache/catalina/startup/ContextConfig.java\ntest/org/apache/catalina/startup/TestContextConfig.java'),(252,53545,'Bug 53545  jsp:forward action to static resources causes IllegalStateException when inside classic custom tag','','jsp forward action static resourc caus illeg state except illegalstateexcept insid classic custom tag','jsp forward action static resourc caus illeg state except illegalstateexcept insid classic custom tag','','2012-07-13 07:53:20',1342180000,'resolved fixed','5a6b27b',1344680000,'java/org/apache/jasper/runtime/PageContextImpl.java\ntest/org/apache/jasper/runtime/TestPageContextImpl.java\ntest/org/apache/tomcat/unittest/tags/Bug53545.java'),(253,53541,'Bug 53541  Bug in virtual webapp feature. Custom tags badly supported. Error is \"org.apache.jasper.JasperException: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application','','virtual webapp featur custom tag badli support error apach jasper jasper except jasperexcept absolut uri http java sun jsp jstl core cannot resolv either web xml jar file deploy applic','virtual webapp featur custom tag badli support error apach jasper jasper except jasperexcept absolut uri http java sun jsp jstl core cannot resolv either web xml jar file deploy applic','','2012-07-12 18:16:08',1342130000,'resolved fixed','432bd0f',1344630000,'java/org/apache/naming/resources/VirtualDirContext.java'),(254,53481,'Bug 53481  Support SSL_OP_CIPHER_SERVER_PREFERENCE / SSLHonorCipherOrder','','support ssl cipher server prefer honor cipher order sslhonorcipherord','support ssl cipher server prefer honor cipher order sslhonorcipherord','','2012-06-28 14:27:30',1340910000,'resolved fixed','82e5dce',1344530000,'java/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/tomcat/util/net/AprEndpoint.java'),(255,53641,'Bug 53641  Wrong websocket\'s subprotocol implementation','According to RFC6455 Section 4.3. the handling of subprotocol requests is not correct.\nIt must be checked for \"Sec-WebSocket-Protocol\" instead of \"Sec-WebSocket-Protocol-Client\" in WebSocketServlet class.','wrong websocket subprotocol implement accord c6455 rfc6455 section handl subprotocol request correct must check sec web socket websocket protocol instead sec web socket websocket protocol client web socket servlet websocketservlet class','wrong websocket subprotocol implement','accord c6455 rfc6455 section handl subprotocol request correct must check sec web socket websocket protocol instead sec web socket websocket protocol client web socket servlet websocketservlet class','2012-08-02 12:52:08',1343930000,'resolved fixed','af45441',1344380000,'java/org/apache/catalina/websocket/WebSocketServlet.java'),(256,53607,'Bug 53607  No message set for PING: TcpPingInterceptor fail with NullPointerException in ChannelData.getDataPackageLength()','I added \n        data.setMessage(new XByteBuffer(TCP_PING_DATA, false));\n\nto TcpPingInterceptor send ping message function by:\n\n    protected void sendPingMessage(Member[] members) {\n        if ( members == null || members.length == 0 ) return;\n        ChannelData data = new ChannelData(true);//generates a unique Id\n        data.setAddress(getLocalMember(false));\n        data.setTimestamp(System.currentTimeMillis());\n        data.setOptions(getOptionFlag());\n        data.setMessage(new XByteBuffer(TCP_PING_DATA, false));\n        try {\n            super.sendMessage(members, data, null);\n        }catch (ChannelException x) {\n            log.warn(\"Unable to send TCP ping.\",x);\n        }\n    }\n\n\nerror also for Tomcat 6\nregards\nfred','messag set ping tcp ping interceptor tcppinginterceptor fail null pointer except nullpointerexcept channel data channeldata get data packag length getdatapackagelength ad data set messag setmessag new byte buffer xbytebuff tcp ping data fals tcp ping interceptor tcppinginterceptor send ping messag function protect void send ping messag sendpingmessag member member member null member length return channel data channeldata data new channel data channeldata true gener uniqu id data set address setaddress get local member getlocalmemb fals data set timestamp settimestamp system current time milli currenttimemilli data set option setopt get option flag getoptionflag data set messag setmessag new byte buffer xbytebuff tcp ping data fals tri super send messag sendmessag member data null catch channel except channelexcept log warn unabl send tcp ping error tomcat regard fred','messag set ping tcp ping interceptor tcppinginterceptor fail null pointer except nullpointerexcept channel data channeldata get data packag length getdatapackagelength','ad data set messag setmessag new byte buffer xbytebuff tcp ping data fals tcp ping interceptor tcppinginterceptor send ping messag function protect void send ping messag sendpingmessag member member member null member length return channel data channeldata data new channel data channeldata true gener uniqu id data set address setaddress get local member getlocalmemb fals data set timestamp settimestamp system current time milli currenttimemilli data set option setopt get option flag getoptionflag data set messag setmessag new byte buffer xbytebuff tcp ping data fals tri super send messag sendmessag member data null catch channel except channelexcept log warn unabl send tcp ping error tomcat regard fred','2012-07-26 18:33:54',1343340000,'resolved fixed','57b56f2',1343720000,'java/org/apache/catalina/tribes/group/interceptors/TcpPingInterceptor.java'),(257,53606,'Bug 53606  NullPointerException in TcpPingInterceptor','start(int) method initializes failureDetector (resp. staticMembers) only if TcpFailureDetector (resp. StaticMembershipInterceptor) was found in channel interceptors stack.\n\nWithout TcpFailureDetector (resp. StaticMembershipInterceptor), futur calls to sendPing() will fail because failureDetector (resp. staticMembers) wasn\'t initialized at least to new WeakReference<StaticMembershipInterceptor>(null).\n\nFix:\nv1) initializes weak references containers:\nReplace:\n    WeakReference<TcpFailureDetector> failureDetector = null;\n    WeakReference<StaticMembershipInterceptor> staticMembers = null;\nfor:\n    WeakReference<TcpFailureDetector> failureDetector = new WeakReference<TcpFailureDetector>();\n    WeakReference<StaticMembershipInterceptor> staticMembers = new WeakReference<StaticMembershipInterceptor>();\n\nv2) checks field before dereferencing it:\nsendPing becomes:\n    protected void sendPing() {\n        if (failureDetector!=null && failureDetector.get()!=null) {\n            //we have a reference to the failure detector\n            //piggy back on that dude\n            failureDetector.get().checkMembers(true);\n        }else {\n            if (staticOnly && staticMembers!=null && staticMembers.get()!=null) {\n                sendPingMessage(staticMembers.get().getMembers());\n            } else {\n                sendPingMessage(getMembers());\n            }\n        }\n    }\n\n\n\naffect also tomcat 6\nregards\nfred arnoud','null pointer except nullpointerexcept tcp ping interceptor tcppinginterceptor start int method initi failur detector failuredetector resp static member staticmemb tcp failur detector tcpfailuredetector resp static membership interceptor staticmembershipinterceptor found channel interceptor stack without tcp failur detector tcpfailuredetector resp static membership interceptor staticmembershipinterceptor futur call send ping sendp fail failur detector failuredetector resp static member staticmemb wasn initi least new weak refer weakrefer static membership interceptor staticmembershipinterceptor null fix v1 initi weak refer contain replac weak refer weakrefer tcp failur detector tcpfailuredetector failur detector failuredetector null weak refer weakrefer static membership interceptor staticmembershipinterceptor static member staticmemb null weak refer weakrefer tcp failur detector tcpfailuredetector failur detector failuredetector new weak refer weakrefer tcp failur detector tcpfailuredetector weak refer weakrefer static membership interceptor staticmembershipinterceptor static member staticmemb new weak refer weakrefer static membership interceptor staticmembershipinterceptor v2 check field dereferenc send ping sendp becom protect void send ping sendp failur detector failuredetector null failur detector failuredetector get null refer failur detector piggi back dude failur detector failuredetector get check member checkmemb true els static onli staticonli static member staticmemb null static member staticmemb get null send ping messag sendpingmessag static member staticmemb get get member getmemb els send ping messag sendpingmessag get member getmemb affect tomcat regard fred arnoud','null pointer except nullpointerexcept tcp ping interceptor tcppinginterceptor','start int method initi failur detector failuredetector resp static member staticmemb tcp failur detector tcpfailuredetector resp static membership interceptor staticmembershipinterceptor found channel interceptor stack without tcp failur detector tcpfailuredetector resp static membership interceptor staticmembershipinterceptor futur call send ping sendp fail failur detector failuredetector resp static member staticmemb wasn initi least new weak refer weakrefer static membership interceptor staticmembershipinterceptor null fix v1 initi weak refer contain replac weak refer weakrefer tcp failur detector tcpfailuredetector failur detector failuredetector null weak refer weakrefer static membership interceptor staticmembershipinterceptor static member staticmemb null weak refer weakrefer tcp failur detector tcpfailuredetector failur detector failuredetector new weak refer weakrefer tcp failur detector tcpfailuredetector weak refer weakrefer static membership interceptor staticmembershipinterceptor static member staticmemb new weak refer weakrefer static membership interceptor staticmembershipinterceptor v2 check field dereferenc send ping sendp becom protect void send ping sendp failur detector failuredetector null failur detector failuredetector get null refer failur detector piggi back dude failur detector failuredetector get check member checkmemb true els static onli staticonli static member staticmemb null static member staticmemb get null send ping messag sendpingmessag static member staticmemb get get member getmemb els send ping messag sendpingmessag get member getmemb affect tomcat regard fred arnoud','2012-07-26 16:15:05',1343330000,'resolved fixed','eb9f94e',1343600000,'java/org/apache/catalina/tribes/group/interceptors/TcpPingInterceptor.java'),(258,53535,'Bug 53535  Out of memory while performing ContextConfig.webConfig','','memori perform context config contextconfig web config webconfig','memori perform context config contextconfig web config webconfig','','2012-07-11 10:29:10',1342020000,'resolved fixed','7db08d3',1343600000,'java/org/apache/catalina/startup/ContextConfig.java'),(259,53469,'Bug 53469  possible bug in Response.normalize(CharChunk cc)','The Response.normalize(CharChunk cc) introduced in 7.0.28 introduced a bug.\nSee Bug ID 53062\n\nThe URL that is being encoded is:\n../../resources/org.apache.wicket.markup.html.WicketEventReference/wicket-event.js?w:lm=1340711670\nwhich causes a IllegalArgumentException in this method\n\njava.lang.IllegalArgumentException\n	at org.apache.catalina.connector.Response.normalize(Response.java:1799)\n	at org.apache.catalina.connector.Response.toAbsolute(Response.java:1732)\n	at org.apache.catalina.connector.Response.encodeURL(Response.java:1242)\n	at org.apache.catalina.connector.ResponseFacade.encodeURL(ResponseFacade.java:406)\n	at org.apache.wicket.protocol.http.WebResponse.encodeURL(WebResponse.java:149)\n	at org.apache.wicket.protocol.http.request.WebRequestCodingStrategy.encode(WebRequestCodingStrategy.java:387)\n\nRunning the same application in tomcat 7.0.27 and 6.0.18 works without issue','possibl respons normal char chunk charchunk cc respons normal char chunk charchunk cc introduc introduc see id url encod resourc apach wicket markup html wicket event refer wicketeventrefer wicket event wicketev j lm caus illeg argument except illegalargumentexcept method java lang illeg argument except illegalargumentexcept apach catalina connector respons normal respons java apach catalina connector respons to absolut toabsolut respons java apach catalina connector respons encod encodeurl respons java apach catalina connector respons facad responsefacad encod encodeurl respons facad responsefacad java apach wicket protocol http web respons webrespons encod encodeurl web respons webrespons java apach wicket protocol http request web request code strategi webrequestcodingstrategi encod web request code strategi webrequestcodingstrategi java run applic tomcat work without issu','possibl respons normal char chunk charchunk cc','respons normal char chunk charchunk cc introduc introduc see id url encod resourc apach wicket markup html wicket event refer wicketeventrefer wicket event wicketev j lm caus illeg argument except illegalargumentexcept method java lang illeg argument except illegalargumentexcept apach catalina connector respons normal respons java apach catalina connector respons to absolut toabsolut respons java apach catalina connector respons encod encodeurl respons java apach catalina connector respons facad responsefacad encod encodeurl respons facad responsefacad java apach wicket protocol http web respons webrespons encod encodeurl web respons webrespons java apach wicket protocol http request web request code strategi webrequestcodingstrategi encod web request code strategi webrequestcodingstrategi java run applic tomcat work without issu','2012-06-26 12:45:09',1340730000,'resolved fixed','9a80d06',1343590000,'java/org/apache/catalina/connector/Response.java\ntest/org/apache/catalina/connector/TestResponse.java'),(260,53529,'Bug 53529  Call interrupt() after InterruptedException instead interrupted()','In class:\n\norg\\apache\\catalina\\tribes\\group\\GroupChannel.java\n    line 692\norg\\apache\\catalina\\tribes\\group\\interceptors\\NonBlockingCoordinator.java\n    line 228\norg\\apache\\catalina\\tribes\\group\\interceptors\\TcpPingInterceptor.java\n    line 173\norg\\apache\\catalina\\tribes\\membership\\McastServiceImpl.java\n    line 542\norg\\apache\\juli\\AsyncFileHandler.java\n    line 124\n    line 146\norg\\apache\\tomcat\\util\\net\\AprEndpoint.java\n    line 640\norg\\apache\\tomcat\\util\\net\\NioBlockingSelector.java\n    line 112\n    line 177\norg\\apache\\tomcat\\util\\threads\\ThreadPoolExecutor.java\n    line 187\n\n\nAffect 7.0.29 (and previous release) but affect also Tomcat 6.','call interrupt interrupt except interruptedexcept instead interrupt class apach catalina tribe group group channel groupchannel java line apach catalina tribe group interceptor non block coordin nonblockingcoordin java line apach catalina tribe group interceptor tcp ping interceptor tcppinginterceptor java line apach catalina tribe membership mcast servic impl mcastserviceimpl java line apach juli async file handler asyncfilehandl java line line apach tomcat util net apr endpoint aprendpoint java line apach tomcat util net nio block selector nioblockingselector java line line apach tomcat util thread thread pool executor threadpoolexecutor java line affect previou releas affect tomcat','call interrupt interrupt except interruptedexcept instead interrupt','class apach catalina tribe group group channel groupchannel java line apach catalina tribe group interceptor non block coordin nonblockingcoordin java line apach catalina tribe group interceptor tcp ping interceptor tcppinginterceptor java line apach catalina tribe membership mcast servic impl mcastserviceimpl java line apach juli async file handler asyncfilehandl java line line apach tomcat util net apr endpoint aprendpoint java line apach tomcat util net nio block selector nioblockingselector java line line apach tomcat util thread thread pool executor threadpoolexecutor java line affect previou releas affect tomcat','2012-07-10 11:27:42',1341930000,'resolved fixed','3ea8285',1343430000,'java/org/apache/catalina/tribes/group/GroupChannel.java\njava/org/apache/catalina/tribes/group/interceptors/NonBlockingCoordinator.java\njava/org/apache/catalina/tribes/group/interceptors/TcpPingInterceptor.java\njava/org/apache/catalina/tribes/membership/McastServiceImpl.java\njava/org/apache/juli/AsyncFileHandler.java\njava/org/apache/tomcat/util/net/AprEndpoint.java\njava/org/apache/tomcat/util/net/NioBlockingSelector.java\njava/org/apache/tomcat/util/threads/ThreadPoolExecutor.java'),(261,53526,'Bug 53526  .ConnectionPool.terminateTransaction unsafe == check of Boolean','The method ConnectionPool.terminateTransaction(PooledConnection con) uses == to check the value of a Boolean, viz:\n\nif (con.getPoolProperties().getDefaultAutoCommit()==Boolean.FALSE) {\n\nThis is not 100% safe - if the user sets the property as follows:\n\nString value; // e.g. derived from property file\n...\nsetDefaultAutoCommit(new Boolean(value));\n\nthen the condition will never be true, even if value=\"false\".\n\nAlthough it is better to use Boolean.valueOf(value), which would not have the same problem, the code ought to work regardless.','connect pool connectionpool termin transact terminatetransact unsaf check boolean method connect pool connectionpool termin transact terminatetransact pool connect pooledconnect us check valu boolean viz get pool properti getpoolproperti get default auto commit getdefaultautocommit boolean fals safe user set properti follow string valu deriv properti file set default auto commit setdefaultautocommit new boolean valu condit never true even valu fals although better use boolean valu of valueof valu would problem code ought work regardless','connect pool connectionpool termin transact terminatetransact unsaf check boolean','method connect pool connectionpool termin transact terminatetransact pool connect pooledconnect us check valu boolean viz get pool properti getpoolproperti get default auto commit getdefaultautocommit boolean fals safe user set properti follow string valu deriv properti file set default auto commit setdefaultautocommit new boolean valu condit never true even valu fals although better use boolean valu of valueof valu would problem code ought work regardless','2012-07-09 20:08:39',1341880000,'resolved fixed','eac6366',1341930000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java'),(262,53523,'Bug 53523  rollbackOnReturn/commitOnReturn does not work without defaultAutoCommit=false','Hi,\n\nThe properties rollbackOnReturn and commitOnReturn, which are critical for cleaning up connections after they are used and returned to the pool, does not work when the defaultAutoCommit property is not set or when it is set to true. The code segment at ConnectionPool class has this,\n\n   protected boolean terminateTransaction(PooledConnection con) {\n        try {\n            if (con.getPoolProperties().getDefaultAutoCommit()==Boolean.FALSE) {\n            ....\n\nThe full logic is wrapped in that first if statement, and as I see, that is not correct. Because, the actual default auto commit value when we don\'t set this property can either be autoCommit true or false, which depends on the database driver. And also, even when we have a default setting provided, the user has the freedom to change the autoCommit flag to either true or false at the beginning when they get the connection from the pool. So we should not be reading the pool properties in this place, but just check the current live connection\'s autoCommit value and act accordingly. So I suppose the fix should be to simply remove the outer if statement. \n\nCheers,\nAnjana.','rollback on return rollbackonreturn commit on return commitonreturn work without default auto commit defaultautocommit fals hi properti rollback on return rollbackonreturn commit on return commitonreturn critic clean connect use return pool work default auto commit defaultautocommit properti set set true code segment connect pool connectionpool class protect boolean termin transact terminatetransact pool connect pooledconnect tri get pool properti getpoolproperti get default auto commit getdefaultautocommit boolean fals full logic wrap first statement see correct actual default auto commit valu set properti either auto commit autocommit true fals depend databas driver even default set provid user freedom chang auto commit autocommit flag either true fals begin get connect pool read pool properti place check current live connect auto commit autocommit valu act accordingli suppos fix simpli remov outer statement cheer anjana','rollback on return rollbackonreturn commit on return commitonreturn work without default auto commit defaultautocommit fals','hi properti rollback on return rollbackonreturn commit on return commitonreturn critic clean connect use return pool work default auto commit defaultautocommit properti set set true code segment connect pool connectionpool class protect boolean termin transact terminatetransact pool connect pooledconnect tri get pool properti getpoolproperti get default auto commit getdefaultautocommit boolean fals full logic wrap first statement see correct actual default auto commit valu set properti either auto commit autocommit true fals depend databas driver even default set provid user freedom chang auto commit autocommit flag either true fals begin get connect pool read pool properti place check current live connect auto commit autocommit valu act accordingli suppos fix simpli remov outer statement cheer anjana','2012-07-09 11:21:38',1341850000,'resolved wontfix','f54bb45',1341860000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolConfiguration.java'),(263,53513,'Bug 53513  Race condition / out of order operation in session replication at node startup','My configuration:\n\n2 nodes running Tomcat 7.0.26\nUsing a custom session manager, which extends the DeltaManager\n\nMy startInternal() method first calls super.startInternal(), then performs a few additional initializations.\n\nI reviewed the code of DeltaManager.startInternal(), and it calls getAllClusterSessions() which in turn calls waitForSendAllSessions(), which requires either getStateTransfered() to return true, or a timeout.\n\nSo by this, I should be able to trust that as the second node starts, the initial sync up of all session data from the first node has completed prior to the startInternal() method exiting (and thus prior to my initializations).\n\nThis is, however, not the case!  I can confirm this by repeatedly logging the value of findSessions().length during my inializations, and see that number going up!\n\nThere appears to be a race condition between the processing of the message containing the actual session data & the \"transfer complete\" message.  After tracing this through a little further, I see the stateTransfered is set to true in the handleALL_SESSION_TRANSFERCOMPLETE() callback method.  And that callback is being called PRIOR to the session data itself even being received!\n\nHere is the debug logging output (slightly scrubbed) which shows this out of order messaging:\n\nJul 5, 2012 4:20:41 PM org.apache.catalina.ha.session.DeltaManager getAllClusterSessions\nINFO: Manager [wwwtest#], requesting session state from org.apache.catalina.tribes.membership.MemberImpl[...].\nThis operation will timeout if no session state has been received within 60 seconds.\n\nJul 5, 2012 4:20:41 PM org.apache.catalina.ha.session.DeltaManager messageReceived\nFINE: Manager [wwwtest#]: Received SessionMessage of type=(SESSION-STATE-TRANSFERED) from [org.apache.catalina.tribes.membership.MemberImpl[...]\n\nJul 5, 2012 4:20:41 PM org.apache.catalina.ha.session.DeltaManager handleALL_SESSION_TRANSFERCOMPLETE\nFINE: Manager [wwwtest#] received from node [[B@6789b939:4,000] session state transfered.\n\nJul 5, 2012 4:20:41 PM org.apache.catalina.ha.session.DeltaManager messageReceived\nFINE: Manager [wwwtest#]: Received SessionMessage of type=(ALL-SESSION-DATA) from [org.apache.catalina.tribes.membership.MemberImpl[...]\n\nJul 5, 2012 4:20:41 PM org.apache.catalina.ha.session.DeltaManager handleALL_SESSION_DATA\nFINE: Manager [wwwtest#]: received session state data','race condit order oper session replic node startup configur node run tomcat use custom session manag extend delta manag deltamanag start intern startintern method first call super start intern startintern perform addit initi review code delta manag deltamanag start intern startintern call get all cluster session getallclustersess turn call wait for send all session waitforsendallsess requir either get state transfer getstatetransf return true timeout abl trust second node start initi sync session data first node complet prior start intern startintern method exit thu prior initi howev case confirm repeatedli log valu find session findsess length inial see number go appear race condit process messag contain actual session data transfer complet messag trace littl see state transfer statetransf set true handl handleal session transfercomplet callback method callback call prior session data even receiv debug log output slightli scrub show order messag jul pm apach catalina session delta manag deltamanag get all cluster session getallclustersess info manag wwwtest request session state apach catalina tribe membership member impl memberimpl oper timeout session state receiv within second jul pm apach catalina session delta manag deltamanag messag receiv messagereceiv fine manag wwwtest receiv session messag sessionmessag type session state transfer apach catalina tribe membership member impl memberimpl jul pm apach catalina session delta manag deltamanag handl handleal session transfercomplet fine manag wwwtest receiv node 6789b939 session state transfer jul pm apach catalina session delta manag deltamanag messag receiv messagereceiv fine manag wwwtest receiv session messag sessionmessag type session data apach catalina tribe membership member impl memberimpl jul pm apach catalina session delta manag deltamanag handl handleal session data fine manag wwwtest receiv session state data','race condit order oper session replic node startup','configur node run tomcat use custom session manag extend delta manag deltamanag start intern startintern method first call super start intern startintern perform addit initi review code delta manag deltamanag start intern startintern call get all cluster session getallclustersess turn call wait for send all session waitforsendallsess requir either get state transfer getstatetransf return true timeout abl trust second node start initi sync session data first node complet prior start intern startintern method exit thu prior initi howev case confirm repeatedli log valu find session findsess length inial see number go appear race condit process messag contain actual session data transfer complet messag trace littl see state transfer statetransf set true handl handleal session transfercomplet callback method callback call prior session data even receiv debug log output slightli scrub show order messag jul pm apach catalina session delta manag deltamanag get all cluster session getallclustersess info manag wwwtest request session state apach catalina tribe membership member impl memberimpl oper timeout session state receiv within second jul pm apach catalina session delta manag deltamanag messag receiv messagereceiv fine manag wwwtest receiv session messag sessionmessag type session state transfer apach catalina tribe membership member impl memberimpl jul pm apach catalina session delta manag deltamanag handl handleal session transfercomplet fine manag wwwtest receiv node 6789b939 session state transfer jul pm apach catalina session delta manag deltamanag messag receiv messagereceiv fine manag wwwtest receiv session messag sessionmessag type session data apach catalina tribe membership member impl memberimpl jul pm apach catalina session delta manag deltamanag handl handleal session data fine manag wwwtest receiv session state data','2012-07-05 21:56:22',1341540000,'resolved fixed','4c03dff',1341830000,'java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java'),(264,53498,'Bug 53498  Atomicity violation bugs because of misusing concurrent collections','','atom violat bug misus concurr collect','atom violat bug misus concurr collect','','2012-07-02 21:19:45',1341280000,'resolved fixed','4aef8e3',1341440000,'java/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/ha/context/ReplicatedContext.java'),(265,45995,'Bug 45995  RFE - MIME type extension not case sensitive','Hi,\n\nOn the dev-tomcat list I described in the topic \"Byte Serving and PDFs with the DefaultServlet\" an issue that I had with Tomcat to serve PDFs.\n\nAnalysing the answers I could find that the matter was related to the case of the file extension. Today Tomcat is case sensitive for MIME type extensions.\n\nSo the solution for me was enter two MIME specifications on the web.xml file. One is for \"pdf\" and another one for \"PDF\".\n\nThis way I would like to ask for and request for enhancement to make Tomcat be able to, due a setup on configuration file, consider or not case for MIME type extensions.\n\nRegards,\n\nVitor','rfe mime type extens case sensit hi dev tomcat devtomcat list describ topic byte serv pdf default servlet defaultservlet issu tomcat serv pdf analys answer could find matter relat case file extens today tomcat case sensit mime type extens solut enter two mime specif web xml file one pdf anoth one pdf way would like ask request enhanc make tomcat abl due setup configur file consid case mime type extens regard vitor','rfe mime type extens case sensit','hi dev tomcat devtomcat list describ topic byte serv pdf default servlet defaultservlet issu tomcat serv pdf analys answer could find matter relat case file extens today tomcat case sensit mime type extens solut enter two mime specif web xml file one pdf anoth one pdf way would like ask request enhanc make tomcat abl due setup configur file consid case mime type extens regard vitor','2008-10-13 04:32:38',1223890000,'resolved fixed','f8e173b',1341220000,'java/org/apache/catalina/core/StandardContext.java'),(266,52135,'Bug 52135  Global error page is not handled','The new Servlet 3.0 global error page\n\n    <error-page>\n        <location>/error.jsp</location>\n    </error-page>\n\nis not handled in Tomcat 7.\n\nOn Glassfish 3 for example, it works fine.','global error page handl new servlet global error page error page errorpag locat error jsp locat error page errorpag handl tomcat glassfish exampl work fine','global error page handl','new servlet global error page error page errorpag locat error jsp locat error page errorpag handl tomcat glassfish exampl work fine','2011-11-04 14:15:58',1320430000,'resolved fixed','6213b38',1341060000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/core/StandardHostValve.java\njava/org/apache/catalina/deploy/ErrorPage.java\ntest/org/apache/catalina/core/TestStandardHostValve.java'),(267,53467,'Bug 53467  7.0.28 will no longer accept our jsp filenames','','longer accept jsp filenam','longer accept jsp filenam','','2012-06-25 21:56:46',1340680000,'resolved fixed','4de4325',1340820000,'java/org/apache/catalina/core/ApplicationContext.java\ntest/org/apache/catalina/core/TestApplicationContext.java'),(268,53416,'Bug 53416  Two datasources with the same name in different web applications results in javax.management.InstanceAlreadyExistsException','Deploy two different web applications onto Tomcat.\n\nEach web application has a resource that:\n\n* uses the Use Tomcat JDBC Connection Pool\n* has an identical name to the other one\n\n<Resource name=\"jdbc/collision\" factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\" ... />\n\nWhen starting the server you get a non fatal error in the logs InstanceAlreadyExistsException.  Both applications appear to still work OK\n\nERROR org.apache.tomcat.jdbc.pool.DataSource - Unable to register JDBC pool with JMX\njavax.management.InstanceAlreadyExistsException: tomcat.jdbc:name=\"jdbc/soscvuk\",context=/,type=ConnectionPool,host=localhost,class=org.apache.tomcat.jdbc.pool.\nDataSource\n	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:453) ~[na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.internal_addObject(DefaultMBeanServerInterceptor.java:1484) [na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:963) [na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:917) [na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:312) [na:1.6.0_32]\n	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:482) [na:1.6.0_32]\n	at org.apache.tomcat.jdbc.pool.DataSource.registerJmx(DataSource.java:135) [tomcat-jdbc.jar:na]\n	at org.apache.tomcat.jdbc.pool.DataSource.preRegister(DataSource.java:102) [tomcat-jdbc.jar:na]\n	at org.apache.tomcat.util.modeler.BaseModelMBean.preRegister(BaseModelMBean.java:1132) [tomcat-coyote.jar:7.0.27]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegisterInvoke(DefaultMBeanServerInterceptor.java:1010) [na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:938) [na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:917) [na:1.6.0_32]\n	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:312) [na:1.6.0_32]\n	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:482) [na:1.6.0_32]\n	at org.apache.tomcat.util.modeler.Registry.registerComponent(Registry.java:742) [tomcat-coyote.jar:7.0.27]\n	at org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:1062) [catalina.jar:7.0.27]\n	at org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:671) [catalina.jar:7.0.27]\n	at org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:270) [catalina.jar:7.0.27]\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) [catalina.jar:7.0.27]\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) [catalina.jar:7.0.27]\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161) [catalina.jar:7.0.27]\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [catalina.jar:7.0.27]\n	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895) [catalina.jar:7.0.27]\n	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871) [catalina.jar:7.0.27]\n	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615) [catalina.jar:7.0.27]\n	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649) [catalina.jar:7.0.27]\n	at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585) [catalina.jar:7.0.27]\n	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [na:1.6.0_32]\n	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [na:1.6.0_32]\n	at java.util.concurrent.FutureTask.run(FutureTask.java:138) [na:1.6.0_32]\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [na:1.6.0_32]\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [na:1.6.0_32]\n	at java.lang.Thread.run(Thread.java:662) [na:1.6.0_32]','two datasourc name differ web applic result javax manag instanc alreadi exist except instancealreadyexistsexcept deploy two differ web applic onto tomcat web applic resourc us use tomcat jdbc connect pool ident name one resourc name jdbc collis factori apach tomcat jdbc pool data sourc factori datasourcefactori start server get fatal error log instanc alreadi exist except instancealreadyexistsexcept applic appear still work ok error apach tomcat jdbc pool data sourc datasourc unabl regist jdbc pool jmx javax manag instanc alreadi exist except instancealreadyexistsexcept tomcat jdbc name jdbc soscvuk context type connect pool connectionpool host localhost class apach tomcat jdbc pool data sourc datasourc sun jmx mbeanserv repositori add bean addmbean repositori java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor intern add object addobject default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist dynam bean registerdynamicmbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist object registerobject default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist bean registermbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv regist bean registermbean jmx bean server jmxmbeanserv java apach tomcat jdbc pool data sourc datasourc regist jmx registerjmx data sourc datasourc java tomcat jdbc tomcatjdbc jar apach tomcat jdbc pool data sourc datasourc pre regist preregist data sourc datasourc java tomcat jdbc tomcatjdbc jar apach tomcat util model base model bean basemodelmbean pre regist preregist base model bean basemodelmbean java tomcat coyot tomcatcoyot jar sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor pre regist invok preregisterinvok default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist dynam bean registerdynamicmbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist object registerobject default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist bean registermbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv regist bean registermbean jmx bean server jmxmbeanserv java apach tomcat util model registri regist compon registercompon registri java tomcat coyot tomcatcoyot jar apach catalina core name context listen namingcontextlisten add resourc addresourc name context listen namingcontextlisten java catalina jar apach catalina core name context listen namingcontextlisten creat name context createnamingcontext name context listen namingcontextlisten java catalina jar apach catalina core name context listen namingcontextlisten lifecycl event lifecycleev name context listen namingcontextlisten java catalina jar apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java catalina jar apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java catalina jar apach catalina core standard context standardcontext start intern startintern standard context standardcontext java catalina jar apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java catalina jar apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java catalina jar apach catalina core contain base containerbas add child addchild contain base containerbas java catalina jar apach catalina core standard host standardhost add child addchild standard host standardhost java catalina jar apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java catalina jar apach catalina startup host config hostconfig deploy descriptor deploydescriptor run host config hostconfig java catalina jar java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','two datasourc name differ web applic result javax manag instanc alreadi exist except instancealreadyexistsexcept','deploy two differ web applic onto tomcat web applic resourc us use tomcat jdbc connect pool ident name one resourc name jdbc collis factori apach tomcat jdbc pool data sourc factori datasourcefactori start server get fatal error log instanc alreadi exist except instancealreadyexistsexcept applic appear still work ok error apach tomcat jdbc pool data sourc datasourc unabl regist jdbc pool jmx javax manag instanc alreadi exist except instancealreadyexistsexcept tomcat jdbc name jdbc soscvuk context type connect pool connectionpool host localhost class apach tomcat jdbc pool data sourc datasourc sun jmx mbeanserv repositori add bean addmbean repositori java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor intern add object addobject default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist dynam bean registerdynamicmbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist object registerobject default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist bean registermbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv regist bean registermbean jmx bean server jmxmbeanserv java apach tomcat jdbc pool data sourc datasourc regist jmx registerjmx data sourc datasourc java tomcat jdbc tomcatjdbc jar apach tomcat jdbc pool data sourc datasourc pre regist preregist data sourc datasourc java tomcat jdbc tomcatjdbc jar apach tomcat util model base model bean basemodelmbean pre regist preregist base model bean basemodelmbean java tomcat coyot tomcatcoyot jar sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor pre regist invok preregisterinvok default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist dynam bean registerdynamicmbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist object registerobject default bean server interceptor defaultmbeanserverinterceptor java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor regist bean registermbean default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv regist bean registermbean jmx bean server jmxmbeanserv java apach tomcat util model registri regist compon registercompon registri java tomcat coyot tomcatcoyot jar apach catalina core name context listen namingcontextlisten add resourc addresourc name context listen namingcontextlisten java catalina jar apach catalina core name context listen namingcontextlisten creat name context createnamingcontext name context listen namingcontextlisten java catalina jar apach catalina core name context listen namingcontextlisten lifecycl event lifecycleev name context listen namingcontextlisten java catalina jar apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java catalina jar apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java catalina jar apach catalina core standard context standardcontext start intern startintern standard context standardcontext java catalina jar apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java catalina jar apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java catalina jar apach catalina core contain base containerbas add child addchild contain base containerbas java catalina jar apach catalina core standard host standardhost add child addchild standard host standardhost java catalina jar apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java catalina jar apach catalina startup host config hostconfig deploy descriptor deploydescriptor run host config hostconfig java catalina jar java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2012-06-14 13:37:06',1339700000,'resolved fixed','ff9a272',1340820000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSource.java'),(269,53465,'Bug 53465  mapped-name is read when in @Resource, but not when in web.xml','','map name mappednam read resourc web xml','map name mappednam read resourc web xml','','2012-06-25 20:31:48',1340670000,'resolved fixed','7ecd402',1340750000,'java/org/apache/catalina/startup/WebRuleSet.java\ntest/org/apache/naming/resources/TestNamingContext.java'),(270,53460,'Bug 53460  Use error handling when TooManyActiveSessionsException happens in JSP','','use error handl too mani activ session except toomanyactivesessionsexcept happen jsp','use error handl too mani activ session except toomanyactivesessionsexcept happen jsp','','2012-06-23 14:02:41',1340470000,'resolved fixed','294c52b',1340740000,'java/org/apache/jasper/compiler/Generator.java\njava/org/apache/jasper/runtime/JspFactoryImpl.java'),(271,53445,'Bug 53445  Support consistent Jmx object naming strategy across managed resources','Tomcat JDBC Pool Versions tested: 7.0.27 & 7.0.28\nMore of an inquiry.  Let me preface by saying we have recently adopted this pool and are very pleased so far.\n\nCurrently, Jmx managed resources like ConnectionPool and SlowQueryReportJmx are registered under the same domain (i.e. tomcat.jdbc).  Some users may want to employ an alternate object naming strategy.  With DataSource#createObjectName it is relatively easy to change the ConnectionPool ObjectName (i.e. subclass).  However, with SlowQueryReportJmx, due to a static getObjectName method, it requires overriding additional methods which is less desirable.\nIt appears that ConnectionPool has a constant POOL_JMX_TYPE_PREFIX.  SlowQueryReportJmx appears to use this but DataSource does not? \n\nIs there any reason that the SlowQueryReportJmx#getObjectName method is static?\nWhat about registering an object naming strategy with the pool that the various components would use, facilitating consistency?  This would mitigate the need to override just to alter the ObjectName.\n\nReference: Spring MBean exporters and their ObjectNamingStrategy interface.\n\nThanks.','support consist jmx object name strategi across manag resourc tomcat jdbc pool version test inquiri let prefac say recent adopt pool pleas far current jmx manag resourc like connect pool connectionpool slow queri report jmx slowqueryreportjmx regist domain tomcat jdbc user may employ altern object name strategi data sourc datasourc creat object name createobjectnam rel easi chang connect pool connectionpool object name objectnam subclass howev slow queri report jmx slowqueryreportjmx due static get object name getobjectnam method requir overrid addit method le desir appear connect pool connectionpool constant pool jmx type prefix slow queri report jmx slowqueryreportjmx appear use data sourc datasourc reason slow queri report jmx slowqueryreportjmx get object name getobjectnam method static regist object name strategi pool variou compon would use facilit consist would mitig need overrid alter object name objectnam refer spring bean mbean export object name strategi objectnamingstrategi interfac thank','support consist jmx object name strategi across manag resourc','tomcat jdbc pool version test inquiri let prefac say recent adopt pool pleas far current jmx manag resourc like connect pool connectionpool slow queri report jmx slowqueryreportjmx regist domain tomcat jdbc user may employ altern object name strategi data sourc datasourc creat object name createobjectnam rel easi chang connect pool connectionpool object name objectnam subclass howev slow queri report jmx slowqueryreportjmx due static get object name getobjectnam method requir overrid addit method le desir appear connect pool connectionpool constant pool jmx type prefix slow queri report jmx slowqueryreportjmx appear use data sourc datasourc reason slow queri report jmx slowqueryreportjmx get object name getobjectnam method static regist object name strategi pool variou compon would use facilit consist would mitig need overrid alter object name objectnam refer spring bean mbean export object name strategi objectnamingstrategi interfac thank','2012-06-20 19:20:53',1340230000,'resolved fixed','4e010fc',1340740000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSource.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/interceptor/SlowQueryReportJmx.java\nmodules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/TestSlowQueryReport.java'),(272,53430,'Bug 53430  JVM crash at startup if TC-Native version is too old','','jvm crash startup tc nativ version old','jvm crash startup tc nativ version old','','2012-06-17 10:16:07',1339940000,'resolved fixed','553259c',1340630000,'java/org/apache/catalina/connector/Connector.java\njava/org/apache/coyote/AbstractProtocol.java\njava/org/apache/coyote/ProtocolHandler.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/http11/Http11AprProtocol.java'),(273,53421,'Bug 53421  BeanELResolver\'s inner class BeanProperty throws incorrect message while PropertyNotFound','BeanELResolver\'s inner class BeanProperty(line: 264) has two methods (write, read) that will throw PropertyNotFoundException. And there current implementation are wrong:\n\n  throw new PropertyNotFoundException(message(ctx,\n                            \"propertyNotWritable\", new Object[] {\n                                    type.getName(), descriptor.getName() }));\n\nit should use owner.getName() instead of type.getName() because the assembled message will be:\n\nProperty \'[descriptor.getName()]\' not readable on type [type.getName()]\n\nHere the descriptor.getName() means the property name, type.getName() means the property type\'s name and the owner.getName() means the property owner - bean\'s type name.\n\nOf course we developer would prefer to receive a message that tells us which bean type doesn\'t contain such property because this is a PropertyNotFoundException.','bean resolv beanelresolv inner class bean properti beanproperti throw incorrect messag properti not found propertynotfound bean resolv beanelresolv inner class bean properti beanproperti line two method write read throw properti not found except propertynotfoundexcept current implement wrong throw new properti not found except propertynotfoundexcept messag ctx properti not writabl propertynotwrit new object type get name getnam descriptor get name getnam use owner get name getnam instead type get name getnam assembl messag properti descriptor get name getnam readabl type type get name getnam descriptor get name getnam mean properti name type get name getnam mean properti type name owner get name getnam mean properti owner bean type name cours develop would prefer receiv messag tell u bean type doesn contain properti properti not found except propertynotfoundexcept','bean resolv beanelresolv inner class bean properti beanproperti throw incorrect messag properti not found propertynotfound','bean resolv beanelresolv inner class bean properti beanproperti line two method write read throw properti not found except propertynotfoundexcept current implement wrong throw new properti not found except propertynotfoundexcept messag ctx properti not writabl propertynotwrit new object type get name getnam descriptor get name getnam use owner get name getnam instead type get name getnam assembl messag properti descriptor get name getnam readabl type type get name getnam descriptor get name getnam mean properti name type get name getnam mean properti type name owner get name getnam mean properti owner bean type name cours develop would prefer receiv messag tell u bean type doesn contain properti properti not found except propertynotfoundexcept','2012-06-15 13:54:17',1339780000,'resolved fixed','8a13b39',1340460000,'java/javax/el/BeanELResolver.java\ntest/javax/el/TestBeanELResolver.java'),(274,53450,'Bug 53450  Deployment of an application with \'ROOT\' context hangs forever','Hi,\n\nThe scenario is the following:\n- I have running Tomcat 7.0.28\n- I deploy an application with \'ROOT\' context\n- The deployment hangs forever. When taking a tread dump, the following is suspicious:\n\n\"localhost-startStop-2\" daemon prio=6 tid=0x0000000006607800 nid=0x2560 waiting on condition [0x0000000009ebf000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  <0x00000007d80f0108> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:842)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1178)\n        at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:807)\n        at org.apache.catalina.core.ContainerBase.removeContainerListener(ContainerBase.java:1071)\n        at org.apache.catalina.core.StandardEngine$AccessLogListener.uninstall(StandardEngine.java:463)\n        at org.apache.catalina.core.StandardEngine$AccessLogListener.containerEvent(StandardEngine.java:505)\n        at org.apache.catalina.core.ContainerBase.fireContainerEvent(ContainerBase.java:1431)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:907)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\n\n\n\nAs you can see\n- A read lock is acquired at org.apache.catalina.core.ContainerBase.fireContainerEvent(ContainerBase.java:1425)\n- Then every listener is invoked to process the container event\n- Then AccessLogListener is invoked org.apache.catalina.core.StandardEngine$AccessLogListener.uninstall(StandardEngine.java:463)\n- The latter causes a call for a write lock org.apache.catalina.core.ContainerBase.removeContainerListener(ContainerBase.java:1071)\n- Unfortunately in the ReentrantReadWriteLock it is stated that upgrade from read to write lock is not possible\n\"Reentrancy also allows downgrading from the write lock to a read lock, by acquiring the write lock, then the read lock and then releasing the write lock. However, upgrading from a read lock to the write lock is not possible.\"\n\nRegards\nVioleta Georgieva','deploy applic root context hang forev hi scenario follow run tomcat deploy applic root context deploy hang forev take tread dump follow suspici localhost start stop localhoststartstop daemon prio tid 0x0000000006607800 nid 0x2560 wait condit 0x0000000009ebf000 java lang thread state wait park sun misc unsaf park nativ method park wait 0x00000007d80f0108 java util concurr lock reentrant read write lock reentrantreadwritelock nonfair sync nonfairsync java util concurr lock lock support locksupport park lock support locksupport java java util concurr lock abstract queu synchron abstractqueuedsynchron park and check interrupt parkandcheckinterrupt abstract queu synchron abstractqueuedsynchron java java util concurr lock abstract queu synchron abstractqueuedsynchron acquir queu acquirequeu abstract queu synchron abstractqueuedsynchron java java util concurr lock abstract queu synchron abstractqueuedsynchron acquir abstract queu synchron abstractqueuedsynchron java java util concurr lock reentrant read write lock reentrantreadwritelock write lock writelock lock reentrant read write lock reentrantreadwritelock java apach catalina core contain base containerbas remov contain listen removecontainerlisten contain base containerbas java apach catalina core standard engin standardengin access log listen accessloglisten uninstal standard engin standardengin java apach catalina core standard engin standardengin access log listen accessloglisten contain event containerev standard engin standardengin java apach catalina core contain base containerbas fire contain event firecontainerev contain base containerbas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy directori deploydirectori host config hostconfig java apach catalina startup host config hostconfig deploy directori deploydirectori run host config hostconfig java java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java see read lock acquir apach catalina core contain base containerbas fire contain event firecontainerev contain base containerbas java everi listen invok process contain event access log listen accessloglisten invok apach catalina core standard engin standardengin access log listen accessloglisten uninstal standard engin standardengin java latter caus call write lock apach catalina core contain base containerbas remov contain listen removecontainerlisten contain base containerbas java unfortun reentrant read write lock reentrantreadwritelock state upgrad read write lock possibl reentranc allow downgrad write lock read lock acquir write lock read lock releas write lock howev upgrad read lock write lock possibl regard violeta georgieva','deploy applic root context hang forev','hi scenario follow run tomcat deploy applic root context deploy hang forev take tread dump follow suspici localhost start stop localhoststartstop daemon prio tid 0x0000000006607800 nid 0x2560 wait condit 0x0000000009ebf000 java lang thread state wait park sun misc unsaf park nativ method park wait 0x00000007d80f0108 java util concurr lock reentrant read write lock reentrantreadwritelock nonfair sync nonfairsync java util concurr lock lock support locksupport park lock support locksupport java java util concurr lock abstract queu synchron abstractqueuedsynchron park and check interrupt parkandcheckinterrupt abstract queu synchron abstractqueuedsynchron java java util concurr lock abstract queu synchron abstractqueuedsynchron acquir queu acquirequeu abstract queu synchron abstractqueuedsynchron java java util concurr lock abstract queu synchron abstractqueuedsynchron acquir abstract queu synchron abstractqueuedsynchron java java util concurr lock reentrant read write lock reentrantreadwritelock write lock writelock lock reentrant read write lock reentrantreadwritelock java apach catalina core contain base containerbas remov contain listen removecontainerlisten contain base containerbas java apach catalina core standard engin standardengin access log listen accessloglisten uninstal standard engin standardengin java apach catalina core standard engin standardengin access log listen accessloglisten contain event containerev standard engin standardengin java apach catalina core contain base containerbas fire contain event firecontainerev contain base containerbas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy directori deploydirectori host config hostconfig java apach catalina startup host config hostconfig deploy directori deploydirectori run host config hostconfig java java util concurr executor runnabl adapt runnableadapt call executor java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java see read lock acquir apach catalina core contain base containerbas fire contain event firecontainerev contain base containerbas java everi listen invok process contain event access log listen accessloglisten invok apach catalina core standard engin standardengin access log listen accessloglisten uninstal standard engin standardengin java latter caus call write lock apach catalina core contain base containerbas remov contain listen removecontainerlisten contain base containerbas java unfortun reentrant read write lock reentrantreadwritelock state upgrad read write lock possibl reentranc allow downgrad write lock read lock acquir write lock read lock releas write lock howev upgrad read lock write lock possibl regard violeta georgieva','2012-06-21 18:22:10',1340320000,'resolved fixed','91a13d2',1340310000,'java/org/apache/catalina/core/ContainerBase.java'),(275,53406,'Bug 53406  Stack overflow in connector','found against trunk on Jun 18, 2012\n\nSEVERE:\njava.lang.StackOverflowError\n        at org.apache.catalina.core.StandardContextValve.event(StandardContextValve.java:128)\n        at org.apache.catalina.valves.ValveBase.event(ValveBase.java:204)\n        at org.apache.catalina.core.StandardHostValve.event(StandardHostValve.java:223)\n        at org.apache.catalina.valves.ValveBase.event(ValveBase.java:204)\n        at org.apache.catalina.valves.ValveBase.event(ValveBase.java:204)\n        at org.apache.catalina.core.StandardEngineValve.event(StandardEngineValve.java:110)\n        at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:209)\n        at org.apache.coyote.http11.Http11NioProcessor.event(Http11NioProcessor.java:124)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:569)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)\n        at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:730)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:1008)\n        at org.apache.tomcat.util.net.NioEndpoint$Poller.add(NioEndpoint.java:999)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.longPoll(Http11NioProtocol.java:277)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:596)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)','stack overflow connector found trunk jun sever java lang stack overflow error stackoverflowerror apach catalina core standard context valv standardcontextvalv event standard context valv standardcontextvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard host valv standardhostvalv event standard host valv standardhostvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard engin valv standardenginevalv event standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor event http11 nio processor http11nioprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java','stack overflow connector','found trunk jun sever java lang stack overflow error stackoverflowerror apach catalina core standard context valv standardcontextvalv event standard context valv standardcontextvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard host valv standardhostvalv event standard host valv standardhostvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard engin valv standardenginevalv event standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor event http11 nio processor http11nioprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller add nio endpoint nioendpoint java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl long poll longpol http11 nio protocol http11nioprotocol java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java','2012-06-13 03:51:40',1339570000,'resolved fixed','ce24a10',1339600000,'java/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java'),(276,52954,'Bug 52954  Allowing for broken android HTTP DIGEST support','','allow broken android http digest support','allow broken android http digest support','','2012-03-21 06:53:16',1332330000,'resolved fixed','bf41254',1339510000,'java/org/apache/catalina/authenticator/DigestAuthenticator.java'),(277,53266,'Bug 53266  ServletContainerInitializer will crash catalina if dependcy is not present.','When using a ServletContainerInitializer with a HandlesTypes annotation if any of the classes specified in the HandlesTypes annotation are not available due to a missing jar file catalina will crash with a \"java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\".\n\nCaused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\n	at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:653)\n	at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:460)\n	at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:286)\n	at sun.reflect.annotation.AnnotationParser.parseAnnotation(AnnotationParser.java:222)\n	at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:69)\n	at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:52)\n	at java.lang.Class.initAnnotationsIfNecessary(Class.java:3070)\n	at java.lang.Class.getAnnotation(Class.java:3029)\n	at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1546)\n	at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1222)\n	at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855)\n	at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n	... 7 more\n\nLine where exception is thrown: \"HandlesTypes ht = sci.getClass().getAnnotation(HandlesTypes.class);\"','servlet contain initi servletcontaineriniti crash catalina dependci present use servlet contain initi servletcontaineriniti handl type handlestyp annot class specifi handl type handlestyp annot avail due miss jar file catalina crash java lang array store except arraystoreexcept sun reflect annot type not present except proxi typenotpresentexceptionproxi caus java lang array store except arraystoreexcept sun reflect annot type not present except proxi typenotpresentexceptionproxi sun reflect annot annot parser annotationpars pars class array parseclassarray annot parser annotationpars java sun reflect annot annot parser annotationpars pars array parsearray annot parser annotationpars java sun reflect annot annot parser annotationpars pars member valu parsemembervalu annot parser annotationpars java sun reflect annot annot parser annotationpars pars annot parseannot annot parser annotationpars java sun reflect annot annot parser annotationpars pars annotations2 parseannotations2 annot parser annotationpars java sun reflect annot annot parser annotationpars pars annot parseannot annot parser annotationpars java java lang class init annot if necessari initannotationsifnecessari class java java lang class get annot getannot class java apach catalina startup context config contextconfig process servlet contain initi processservletcontaineriniti context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java line except thrown handl type handlestyp ht sci get class getclass get annot getannot handl type handlestyp class','servlet contain initi servletcontaineriniti crash catalina dependci present','use servlet contain initi servletcontaineriniti handl type handlestyp annot class specifi handl type handlestyp annot avail due miss jar file catalina crash java lang array store except arraystoreexcept sun reflect annot type not present except proxi typenotpresentexceptionproxi caus java lang array store except arraystoreexcept sun reflect annot type not present except proxi typenotpresentexceptionproxi sun reflect annot annot parser annotationpars pars class array parseclassarray annot parser annotationpars java sun reflect annot annot parser annotationpars pars array parsearray annot parser annotationpars java sun reflect annot annot parser annotationpars pars member valu parsemembervalu annot parser annotationpars java sun reflect annot annot parser annotationpars pars annot parseannot annot parser annotationpars java sun reflect annot annot parser annotationpars pars annotations2 parseannotations2 annot parser annotationpars java sun reflect annot annot parser annotationpars pars annot parseannot annot parser annotationpars java java lang class init annot if necessari initannotationsifnecessari class java java lang class get annot getannot class java apach catalina startup context config contextconfig process servlet contain initi processservletcontaineriniti context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java line except thrown handl type handlestyp ht sci get class getclass get annot getannot handl type handlestyp class','2012-05-20 14:32:34',1337540000,'resolved fixed','37e8c59',1339450000,'java/org/apache/catalina/startup/ContextConfig.java'),(278,53398,'Bug 53398  Incorrect tag on XML response when calling \'manager/status?XML=true\'','','incorrect tag xml respons call manag statu xml true','incorrect tag xml respons call manag statu xml true','','2012-06-11 16:39:14',1339450000,'resolved fixed','2bf1556',1339450000,'java/org/apache/catalina/manager/StatusTransformer.java'),(279,52955,'Bug 52955  Add a ThreadFactory implementation to the ExecutorService used to deploy applications','','add thread factori threadfactori implement executor servic executorservic use deploy applic','add thread factori threadfactori implement executor servic executorservic use deploy applic','','2012-03-21 07:55:31',1332330000,'resolved fixed','d73c07a',1339250000,'java/org/apache/catalina/core/ContainerBase.java'),(280,53374,'Bug 53374  DataSourceFactory does not support commitOnReturn property','DataSourceFactory does not support commitOnReturn property.\nDataSourceFactory.ALL_PROPERTIES and DataSourceFactory.parsePoolProperties() omit commitOnReturn property.','data sourc factori datasourcefactori support commit on return commitonreturn properti data sourc factori datasourcefactori support commit on return commitonreturn properti data sourc factori datasourcefactori properti data sourc factori datasourcefactori pars pool properti parsepoolproperti omit commit on return commitonreturn properti','data sourc factori datasourcefactori support commit on return commitonreturn properti','data sourc factori datasourcefactori support commit on return commitonreturn properti data sourc factori datasourcefactori properti data sourc factori datasourcefactori pars pool properti parsepoolproperti omit commit on return commitonreturn properti','2012-06-06 20:56:47',1339030000,'resolved fixed','0290e57',1339160000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceFactory.java'),(281,53373,'Bug 53373  Allow whitespace around delimiters in <Context> aliases for readability','','allow whitespac around delimit context alia readabl','allow whitespac around delimit context alia readabl','','2012-06-06 20:01:27',1339030000,'resolved fixed','cf703d2',1339010000,'java/org/apache/naming/resources/BaseDirContext.java\ntest/org/apache/naming/resources/TestNamingContext.java'),(282,53367,'Bug 53367  Database failure may cause pool to hang','during the \n con.connect(); \ncall in the method \n\nprotected PooledConnection borrowConnection(long now, PooledConnection con, String username, String password) in ConnectionPool.java\n\nThere is no counting down the size of the pool. This means, if a connection failure happens here, the pool size remains the same. This means that \'size\' will show the pool as full, but in reality the pool is empty','databas failur may caus pool hang connect call method protect pool connect pooledconnect borrow connect borrowconnect long pool connect pooledconnect string usernam string password connect pool connectionpool java count size pool mean connect failur happen pool size remain mean size show pool full realiti pool empti','databas failur may caus pool hang','connect call method protect pool connect pooledconnect borrow connect borrowconnect long pool connect pooledconnect string usernam string password connect pool connectionpool java count size pool mean connect failur happen pool size remain mean size show pool full realiti pool empti','2012-06-06 01:01:10',1338960000,'resolved fixed','1412935',1338940000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PooledConnection.java'),(283,53032,'Bug 53032  Ant Jasper task fails to run when using XML namespaces; no output; no errors','','ant jasper task fail run use xml namespac output error','ant jasper task fail run use xml namespac output error','','2012-04-03 21:41:35',1333500000,'resolved fixed','957d33b',1338940000,'java/org/apache/jasper/JspC.java'),(284,53230,'Bug 53230  Allow custom error mapping when Manager\'s maxActiveSessions is exceeded','','allow custom error map manag max activ session maxactivesess exceed','allow custom error map manag max activ session maxactivesess exceed','','2012-05-14 17:09:13',1337030000,'resolved fixed','ea77dfb',1338930000,'java/org/apache/catalina/session/ManagerBase.java\njava/org/apache/catalina/session/TooManyActiveSessionsException.java'),(285,53354,'Bug 53354  <filter-mapping> doesn\'t find the @WebFilter(filterName)','As it\'s not possible to specify the invocation order in a @WebFilter, users are forced to explicitly specify <filter-mapping> in web.xml. This works in combination with a @WebFilter(filterName) in Glassfish and JBoss AS as follows:\n\n@WebFilter(filterName=\"filter1\")\npublic class Filter1 implements Filter {}\n\n@WebFilter(filterName=\"filter2\")\npublic class Filter2 implements Filter {}\n\nwith\n\n<filter-mapping>\n    <filter-name>filter1</filter-name>\n    <url-pattern>/url1/*</url-pattern>\n</filter-mapping>\n<filter-mapping>\n    <filter-name>filter2</filter-name>\n    <url-pattern>/url2/*</url-pattern>\n</filter-mapping>\n\nHowever it fails in Tomcat 7.0.27 with the following confusing exception (the <url-pattern> *is* been set)\n\nCaused by: java.lang.IllegalArgumentException: Filter mapping must specify either a <url-pattern> or a <servlet-name>\n	at org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:3009)\n	at org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:2968)\n	at org.apache.catalina.deploy.WebXml.configureContext(WebXml.java:1207)\n	at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1294)\n	at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855)\n	at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n	... 7 more','filter map filtermap doesn find web filter webfilt filter name filternam possibl specifi invoc order web filter webfilt user forc explicitli specifi filter map filtermap web xml work combin web filter webfilt filter name filternam glassfish bo jboss follow web filter webfilt filter name filternam filter1 public class filter1 implement filter web filter webfilt filter name filternam filter2 public class filter2 implement filter filter map filtermap filter name filternam filter1 filter name filternam url pattern urlpattern url1 url pattern urlpattern filter map filtermap filter map filtermap filter name filternam filter2 filter name filternam url pattern urlpattern url2 url pattern urlpattern filter map filtermap howev fail tomcat follow confus except url pattern urlpattern set caus java lang illeg argument except illegalargumentexcept filter map must specifi either url pattern urlpattern servlet name servletnam apach catalina core standard context standardcontext valid filter map validatefiltermap standard context standardcontext java apach catalina core standard context standardcontext add filter map addfiltermap standard context standardcontext java apach catalina deploy web xml webxml configur context configurecontext web xml webxml java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java','filter map filtermap doesn find web filter webfilt filter name filternam','possibl specifi invoc order web filter webfilt user forc explicitli specifi filter map filtermap web xml work combin web filter webfilt filter name filternam glassfish bo jboss follow web filter webfilt filter name filternam filter1 public class filter1 implement filter web filter webfilt filter name filternam filter2 public class filter2 implement filter filter map filtermap filter name filternam filter1 filter name filternam url pattern urlpattern url1 url pattern urlpattern filter map filtermap filter map filtermap filter name filternam filter2 filter name filternam url pattern urlpattern url2 url pattern urlpattern filter map filtermap howev fail tomcat follow confus except url pattern urlpattern set caus java lang illeg argument except illegalargumentexcept filter map must specifi either url pattern urlpattern servlet name servletnam apach catalina core standard context standardcontext valid filter map validatefiltermap standard context standardcontext java apach catalina core standard context standardcontext add filter map addfiltermap standard context standardcontext java apach catalina deploy web xml webxml configur context configurecontext web xml webxml java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java','2012-06-03 19:16:25',1338770000,'resolved fixed','b82c47e',1338760000,'java/org/apache/catalina/startup/ContextConfig.java'),(286,53339,'Bug 53339  ClassNotFoundException when using WebSocketServlet','I\'m trying to do a JNDI lookup inside the \"onOpen\" method of my StreamInbound class, but it gives me the exception below.  The code works if I move my JNP JARs to the server lib instead of the webapp lib.  The code also works fine from anywhere else, like in the \"doGet\" method.\n\n\nERROR http-bio-8080-exec-3 Test \njavax.naming.NoInitialContextException: Cannot instantiate class: org.jnp.interfaces.NamingContextFactory [Root exception is java.lang.ClassNotFoundException: org.jnp.interfaces.NamingContextFactory]\n	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:657)\n	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)\n	at javax.naming.InitialContext.init(InitialContext.java:223)\n	at javax.naming.InitialContext.<init>(InitialContext.java:197)\n	at Test$TestStreamInbound.onOpen(Test.java:103)\n	at org.apache.catalina.websocket.StreamInbound.onUpgradeComplete(StreamInbound.java:180)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	at java.lang.Thread.run(Thread.java:662)','class not found except classnotfoundexcept use web socket servlet websocketservlet tri jndi lookup insid on open onopen method stream inbound streaminbound class give except code work move jnp jar server lib instead webapp lib code work fine anywher els like do get doget method error http bio httpbio 8080 exec 8080exec javax name no initi context except noinitialcontextexcept cannot instanti class jnp interfac name context factori namingcontextfactori root except java lang class not found except classnotfoundexcept jnp interfac name context factori namingcontextfactori javax name spi name manag namingmanag get initi context getinitialcontext name manag namingmanag java javax name initi context initialcontext get default init ctx getdefaultinitctx initi context initialcontext java javax name initi context initialcontext init initi context initialcontext java javax name initi context initialcontext init initi context initialcontext java test stream inbound teststreaminbound on open onopen java apach catalina websocket stream inbound streaminbound on upgrad complet onupgradecomplet stream inbound streaminbound java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','class not found except classnotfoundexcept use web socket servlet websocketservlet','tri jndi lookup insid on open onopen method stream inbound streaminbound class give except code work move jnp jar server lib instead webapp lib code work fine anywher els like do get doget method error http bio httpbio 8080 exec 8080exec javax name no initi context except noinitialcontextexcept cannot instanti class jnp interfac name context factori namingcontextfactori root except java lang class not found except classnotfoundexcept jnp interfac name context factori namingcontextfactori javax name spi name manag namingmanag get initi context getinitialcontext name manag namingmanag java javax name initi context initialcontext get default init ctx getdefaultinitctx initi context initialcontext java javax name initi context initialcontext init initi context initialcontext java javax name initi context initialcontext init initi context initialcontext java test stream inbound teststreaminbound on open onopen java apach catalina websocket stream inbound streaminbound on upgrad complet onupgradecomplet stream inbound streaminbound java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2012-05-31 18:20:53',1338500000,'resolved fixed','d713894',1338750000,'java/org/apache/catalina/websocket/StreamInbound.java\ntest/org/apache/catalina/websocket/TestWebSocket.java'),(287,53008,'Bug 53008  New test case for Basic Authenticator','','new case basic authent','new case basic authent','','2012-03-30 12:21:42',1333120000,'resolved fixed','a1c6165',1338740000,'test/org/apache/catalina/authenticator/TestNonLoginAndBasicAuthenticator.java'),(288,53337,'Bug 53337  IllegalStateException when trying to render a JSP after startAsync','','illeg state except illegalstateexcept tri render jsp start async startasync','illeg state except illegalstateexcept tri render jsp start async startasync','','2012-05-31 17:06:36',1338500000,'resolved fixed','c6b691d',1338740000,'java/org/apache/catalina/core/ApplicationDispatcher.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java'),(289,53301,'Bug 53301  Servlet init method called twice with embedded Tomcat','When using embedded Tomcat, the servlet init method is called twice by the container. This has been seen with an Apache DirectMemory unit test. I have checked with a normal Tomcat launched by the Tomcat Maven plugin (mvn tomcat7:run) and in this case, the init method is correctly called once.','servlet init method call twice embed tomcat use embed tomcat servlet init method call twice contain seen apach direct memori directmemori unit check normal tomcat launch tomcat maven plugin mvn tomcat7 run case init method correctli call','servlet init method call twice embed tomcat','use embed tomcat servlet init method call twice contain seen apach direct memori directmemori unit check normal tomcat launch tomcat maven plugin mvn tomcat7 run case init method correctli call','2012-05-26 21:36:56',1338080000,'resolved fixed','6ce3128',1338550000,'java/org/apache/catalina/startup/Tomcat.java\ntest/org/apache/catalina/startup/TestTomcat.java'),(290,53285,'Bug 53285  Web app configuration fails when security-role-ref does not contain role-link','','web app configur fail secur role ref securityroleref contain role link rolelink','web app configur fail secur role ref securityroleref contain role link rolelink','','2012-05-24 04:52:55',1337850000,'resolved fixed','ad3b503',1338540000,'java/org/apache/catalina/deploy/ServletDef.java\njava/org/apache/catalina/startup/WebRuleSet.java'),(291,53342,'Bug 53342  If starting immediately after Tomcat stop fail, BindException will throw.','e.g.\nWhen Context#stop throw LifecycleException, the main thread stops, \nbut startStopThreads of Host/Engine will remain for a while. \nBecause, startStopThreads is not a demon thread. \n\nAs a result, \neven if a main thread stops, Acceptor Threads of 8080/8009 is not stopped. \n\nkeepAliveTime for 10 seconds is set up now. \n===\nstartStopExecutor = new ThreadPoolExecutor(\n            getStartStopThreadsInternal(),\n            getStartStopThreadsInternal(), 10, TimeUnit.SECONDS,\n            startStopQueue);\n===\n\nTherefore, in order to avoid BindException, the waiting for 10 seconds is required. \n\nI think that I need to make startStopThreads into a demon thread. \n\nBest Regards.','start immedi tomcat stop fail bind except bindexcept throw context stop throw lifecycl except lifecycleexcept main thread stop start stop thread startstopthread host engin remain start stop thread startstopthread demon thread result even main thread stop acceptor thread stop keep aliv time keepalivetim second set start stop executor startstopexecutor new thread pool executor threadpoolexecutor get start stop thread intern getstartstopthreadsintern get start stop thread intern getstartstopthreadsintern time unit timeunit second start stop queue startstopqueu therefor order avoid bind except bindexcept wait second requir think need make start stop thread startstopthread demon thread best regard','start immedi tomcat stop fail bind except bindexcept throw','context stop throw lifecycl except lifecycleexcept main thread stop start stop thread startstopthread host engin remain start stop thread startstopthread demon thread result even main thread stop acceptor thread stop keep aliv time keepalivetim second set start stop executor startstopexecutor new thread pool executor threadpoolexecutor get start stop thread intern getstartstopthreadsintern get start stop thread intern getstartstopthreadsintern time unit timeunit second start stop queue startstopqueu therefor order avoid bind except bindexcept wait second requir think need make start stop thread startstopthread demon thread best regard','2012-06-01 09:34:18',1338560000,'resolved fixed','84342f5',1338540000,'java/org/apache/catalina/core/ContainerBase.java'),(292,53225,'Bug 53225  IllegalStateException \"zip file closed\" with resource from webfragment jar if JreMemoryLeakPreventionListener is removed','','illeg state except illegalstateexcept zip file close resourc webfrag jar jre memori leak prevent listen jrememoryleakpreventionlisten remov','illeg state except illegalstateexcept zip file close resourc webfrag jar jre memori leak prevent listen jrememoryleakpreventionlisten remov','','2012-05-12 20:32:50',1336870000,'resolved fixed','e90cd4b',1338460000,'java/org/apache/tomcat/util/scan/FileUrlJar.java'),(293,53169,'Bug 53169  [patch] don\'t do chunking with Connection: close','','patch chunk connect close','patch chunk connect close','','2012-05-01 09:35:06',1335880000,'resolved fixed','280beac',1338390000,'java/org/apache/coyote/http11/AbstractHttp11Processor.java\ntest/org/apache/coyote/http11/TestAbstractHttp11Processor.java'),(294,53322,'Bug 53322  Odd decapitalization when inferring JavaBean property from setter name for an injection target','','odd decapit infer java bean javabean properti setter name inject target','odd decapit infer java bean javabean properti setter name inject target','','2012-05-30 01:22:25',1338360000,'resolved fixed','13100e9',1338340000,'java/org/apache/catalina/core/DefaultInstanceManager.java'),(295,53180,'Bug 53180  DefaultInstanceManager#populateAnnotationsCache - incomplete check is used when validating for a setter method','','default instanc manag defaultinstancemanag popul annot cach populateannotationscach incomplet check use valid setter method','default instanc manag defaultinstancemanag popul annot cach populateannotationscach incomplet check use valid setter method','','2012-05-02 20:27:25',1336000000,'resolved fixed','39c8e18',1338300000,'java/org/apache/catalina/core/DefaultInstanceManager.java'),(296,53081,'Bug 53081  WebappClassLoader causes java.lang.OutOfMemoryError in findResourceInternal()','','webapp class loader webappclassload caus java lang out of memori error outofmemoryerror find resourc intern findresourceintern','webapp class loader webappclassload caus java lang out of memori error outofmemoryerror find resourc intern findresourceintern','','2012-04-13 21:46:53',1334370000,'resolved fixed','5d12129',1338300000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(297,53090,'Bug 53090  Servlet superclass injection targets are ignored','','servlet superclass inject target ignor','servlet superclass inject target ignor','','2012-04-17 08:07:14',1334660000,'resolved fixed','de1f763',1338240000,'java/org/apache/catalina/core/DefaultInstanceManager.java'),(298,53074,'Bug 53074  [websocket] java.net.SocketTimeoutException: Read timed caused by server.xml\' connectTimeout','The default connectTimeout value is set to 20000 and cause issue with WebSocket connection\n\njava.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.read(SocketInputStream.java:129)\n    at org.apache.coyote.http11.upgrade.UpgradeBioProcessor.read(UpgradeBioProcessor.java:75)\n    at org.apache.catalina.websocket.WsFrame.nextFrame(WsFrame.java:213)\n    at org.apache.catalina.websocket.WsInputStream.nextFrame(WsInputStream.java:68)\n    at org.apache.catalina.websocket.StreamInbound.onData(StreamInbound.java:143)\n    at org.apache.coyote.http11.upgrade.UpgradeProcessor.upgradeDispatch(UpgradeProcessor.java:83)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:563)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:680)\n\nIncreasing the value delay the issue (but the timeout should not occurs)','websocket java net socket timeout except sockettimeoutexcept read time caus server xml connect timeout connecttimeout default connect timeout connecttimeout valu set caus issu web socket websocket connect java net socket timeout except sockettimeoutexcept read time java net socket input stream socketinputstream socket read0 socketread0 nativ method java net socket input stream socketinputstream read socket input stream socketinputstream java apach coyot http11 upgrad upgrad bio processor upgradebioprocessor read upgrad bio processor upgradebioprocessor java apach catalina websocket frame wsframe next frame nextfram frame wsframe java apach catalina websocket input stream wsinputstream next frame nextfram input stream wsinputstream java apach catalina websocket stream inbound streaminbound on data ondata stream inbound streaminbound java apach coyot http11 upgrad upgrad processor upgradeprocessor upgrad dispatch upgradedispatch upgrad processor upgradeprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java increas valu delay issu timeout occur','websocket java net socket timeout except sockettimeoutexcept read time caus server xml connect timeout connecttimeout','default connect timeout connecttimeout valu set caus issu web socket websocket connect java net socket timeout except sockettimeoutexcept read time java net socket input stream socketinputstream socket read0 socketread0 nativ method java net socket input stream socketinputstream read socket input stream socketinputstream java apach coyot http11 upgrad upgrad bio processor upgradebioprocessor read upgrad bio processor upgradebioprocessor java apach catalina websocket frame wsframe next frame nextfram frame wsframe java apach catalina websocket input stream wsinputstream next frame nextfram input stream wsinputstream java apach catalina websocket stream inbound streaminbound on data ondata stream inbound streaminbound java apach coyot http11 upgrad upgrad processor upgradeprocessor upgrad dispatch upgradedispatch upgrad processor upgradeprocessor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java increas valu delay issu timeout occur','2012-04-13 13:45:11',1334340000,'resolved fixed','098a647',1337960000,'java/org/apache/catalina/websocket/StreamInbound.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/coyote/http11/upgrade/UpgradeAprProcessor.java\njava/org/apache/coyote/http11/upgrade/UpgradeBioProcessor.java\njava/org/apache/coyote/http11/upgrade/UpgradeInbound.java\njava/org/apache/coyote/http11/upgrade/UpgradeNioProcessor.java\njava/org/apache/tomcat/util/net/AprEndpoint.java'),(299,53254,'Bug 53254  Support for purging connection pool','It is a common function of a connection pool to support \"purging\" the pool of all current connections and getting all fresh connections.  Oracle UCP and Websphere pools are two such examples.  It would be great if this pool supported such an operation as well.\n\nIt would be useful if the operation were exposed through JMX too.','support purg connect pool common function connect pool support purg pool current connect get fresh connect oracl ucp webspher pool two exampl would great pool support oper well would use oper expos jmx','support purg connect pool','common function connect pool support purg pool current connect get fresh connect oracl ucp webspher pool two exampl would great pool support oper well would use oper expos jmx','2012-05-17 17:59:28',1337290000,'resolved fixed','f170929',1337360000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PooledConnection.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPoolMBean.java\nmodules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/PoolPurgeTest.java'),(300,53067,'Bug 53067  WebSocket implementation issue with wrapped requests','','web socket websocket implement issu wrap request','web socket websocket implement issu wrap request','','2012-04-12 17:56:58',1334270000,'resolved fixed','111dc8e',1336860000,'java/org/apache/catalina/websocket/WebSocketServlet.java'),(301,53063,'Bug 53063  Inconsistency in documentation regarding Connector\'s maxConnections property','','inconsist document regard connector max connect maxconnect properti','inconsist document regard connector max connect maxconnect properti','','2012-04-11 13:14:14',1334160000,'resolved fixed','be365e5',1336680000,'java/org/apache/tomcat/util/net/AbstractEndpoint.java\njava/org/apache/tomcat/util/net/JIoEndpoint.java'),(302,53087,'Bug 53087  BackupManager does not replicate session access time.','','backup manag backupmanag replic session access time','backup manag backupmanag replic session access time','','2012-04-17 05:44:46',1334660000,'resolved fixed','48b9153',1334640000,'java/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java\njava/org/apache/catalina/tribes/tipis/ReplicatedMapEntry.java'),(303,53056,'Bug 53056  Add APR version number to tcnative version INFO log message','When tcnative starts, it emits information like this to catalina.out:\n\npr 10, 2012 4:54:55 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: Loaded APR based Apache Tomcat Native library 1.1.23.\nApr 10, 2012 4:54:55 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\n\nIt would be nice if the APR version in use could also be displayed as well as the tcnative version. Maybe the OpenSSL version, too.','add apr version number tcnativ version info log messag tcnativ start emit inform like catalina pr pm apach catalina core apr lifecycl listen aprlifecyclelisten init info load apr base apach tomcat nativ librari apr pm apach catalina core apr lifecycl listen aprlifecyclelisten init info apr capabl pv6 ipv6 true sendfil true accept filter fals random true would nice apr version use could display well tcnativ version mayb open openssl version','add apr version number tcnativ version info log messag','tcnativ start emit inform like catalina pr pm apach catalina core apr lifecycl listen aprlifecyclelisten init info load apr base apach tomcat nativ librari apr pm apach catalina core apr lifecycl listen aprlifecyclelisten init info apr capabl pv6 ipv6 true sendfil true accept filter fals random true would nice apr version use could display well tcnativ version mayb open openssl version','2012-04-10 20:58:50',1334110000,'resolved fixed','df88ecb',1334090000,'java/org/apache/catalina/core/AprLifecycleListener.java'),(304,50864,'Bug 50864  Reconfigure pool on the fly using JMX','','reconfigur pool fli use jmx','reconfigur pool fli use jmx','','2011-03-03 11:15:31',1299170000,'resolved fixed','518662f',1334080000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java'),(305,52998,'Bug 52998  Performance issue with ExpressionFactory.newInstance()','','perform issu express factori expressionfactori new instanc newinst','perform issu express factori expressionfactori new instanc newinst','','2012-03-28 21:16:03',1332980000,'resolved fixed','7da5fa9',1333140000,'java/javax/el/ExpressionFactory.java'),(306,53001,'Bug 53001  Behaviour of ResourceBundleELResolver','','behaviour resourc bundl resolv resourcebundleelresolv','behaviour resourc bundl resolv resourcebundleelresolv','','2012-03-29 09:41:39',1333030000,'resolved fixed','1aced29',1333130000,'test/javax/el/TestResourceBundleELResolver.java'),(307,52974,'Bug 52974  NameNotFoundException is thrown when field/method is annotated with @Resource annotation','','name not found except namenotfoundexcept thrown field method annot resourc annot','name not found except namenotfoundexcept thrown field method annot resourc annot','','2012-03-22 20:43:20',1332460000,'resolved fixed','67a926c',1332880000,'java/org/apache/catalina/startup/WebAnnotationSet.java'),(308,52833,'Bug 52833  NPE with 7.0.26','Upgrading the maven plugin 7.0.26, the goal which runs tomcat with a conf dir (not the embed version) generate the following NPE \nLog:\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:141)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:645)\n	at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.startContainer(AbstractRunMojo.java:679)\n	at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.execute(AbstractRunMojo.java:365)\n	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:544)\n	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:197)\n	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)','npe upgrad maven plugin goal run tomcat conf emb version gener follow npe log apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java apach tomcat maven plugin tomcat7 run abstract run mojo abstractrunmojo start contain startcontain abstract run mojo abstractrunmojo java apach tomcat maven plugin tomcat7 run abstract run mojo abstractrunmojo execut abstract run mojo abstractrunmojo java apach maven plugin default build plugin manag defaultbuildpluginmanag execut mojo executemojo default build plugin manag defaultbuildpluginmanag java apach maven lifecycl intern mojo executor mojoexecutor execut mojo executor mojoexecutor java apach maven lifecycl intern mojo executor mojoexecutor execut mojo executor mojoexecutor java apach maven lifecycl intern mojo executor mojoexecutor execut mojo executor mojoexecutor java apach maven lifecycl intern lifecycl modul builder lifecyclemodulebuild build project buildproject lifecycl modul builder lifecyclemodulebuild java apach maven lifecycl intern lifecycl modul builder lifecyclemodulebuild build project buildproject lifecycl modul builder lifecyclemodulebuild java apach maven lifecycl intern lifecycl starter lifecyclestart singl thread build singlethreadedbuild lifecycl starter lifecyclestart java apach maven lifecycl intern lifecycl starter lifecyclestart execut lifecycl starter lifecyclestart java apach maven default maven defaultmaven do execut doexecut default maven defaultmaven java apach maven default maven defaultmaven execut default maven defaultmaven java apach maven cli maven cli mavencli execut maven cli mavencli java apach maven cli maven cli mavencli do main domain maven cli mavencli java apach maven cli maven cli mavencli main maven cli mavencli java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java codehau plexu classworld launcher launcher launch enhanc launchenhanc launcher java codehau plexu classworld launcher launcher launch launcher java codehau plexu classworld launcher launcher main with exit code mainwithexitcod launcher java codehau plexu classworld launcher launcher main launcher java','npe','upgrad maven plugin goal run tomcat conf emb version gener follow npe log apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java apach tomcat maven plugin tomcat7 run abstract run mojo abstractrunmojo start contain startcontain abstract run mojo abstractrunmojo java apach tomcat maven plugin tomcat7 run abstract run mojo abstractrunmojo execut abstract run mojo abstractrunmojo java apach maven plugin default build plugin manag defaultbuildpluginmanag execut mojo executemojo default build plugin manag defaultbuildpluginmanag java apach maven lifecycl intern mojo executor mojoexecutor execut mojo executor mojoexecutor java apach maven lifecycl intern mojo executor mojoexecutor execut mojo executor mojoexecutor java apach maven lifecycl intern mojo executor mojoexecutor execut mojo executor mojoexecutor java apach maven lifecycl intern lifecycl modul builder lifecyclemodulebuild build project buildproject lifecycl modul builder lifecyclemodulebuild java apach maven lifecycl intern lifecycl modul builder lifecyclemodulebuild build project buildproject lifecycl modul builder lifecyclemodulebuild java apach maven lifecycl intern lifecycl starter lifecyclestart singl thread build singlethreadedbuild lifecycl starter lifecyclestart java apach maven lifecycl intern lifecycl starter lifecyclestart execut lifecycl starter lifecyclestart java apach maven default maven defaultmaven do execut doexecut default maven defaultmaven java apach maven default maven defaultmaven execut default maven defaultmaven java apach maven cli maven cli mavencli execut maven cli mavencli java apach maven cli maven cli mavencli do main domain maven cli mavencli java apach maven cli maven cli mavencli main maven cli mavencli java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java codehau plexu classworld launcher launcher launch enhanc launchenhanc launcher java codehau plexu classworld launcher launcher launch launcher java codehau plexu classworld launcher launcher main with exit code mainwithexitcod launcher java codehau plexu classworld launcher launcher main launcher java','2012-03-05 23:28:06',1331010000,'resolved fixed','6a8e480',1332870000,'java/org/apache/catalina/core/StandardServer.java'),(309,52066,'Bug 52066  ConnectionPool.borrowConnection swallows interrupt state.','In this code snippet starting on line 6.15 of ConnectionPool.java version 7.0.22\n\n    try {\n        //retrieve an existing connection\n        con = idle.poll(timetowait, TimeUnit.MILLISECONDS);\n    } catch (InterruptedException ex) {\n        Thread.interrupted();//clear the flag, and bail out\n        SQLException sx = new SQLException(\"Pool wait interrupted.\");\n        sx.initCause(ex);\n        throw sx;\n    } finally {\n        waitcount.decrementAndGet();\n    }\n\nThe line marked \'//clear the flag, and bail out\' is wrong, because after that there is no way for calling code to find out that the thread has been interrupted.\n\nThe correct behavior should be\n\n    Thread.currentThread( ).interrupt( );\n\nHere is the excerpt from the Biran Goetz\'s \"Java Concurrency in Practice\" chapter 5.4.\n\n<!START QUOTATION>\nFor library code there are basically two choices:\n\n-- Propagate the InterruptedException. This is often the most sensible policy if you can get away with it -- just propagate the InterruptedException to your caller.  This could involve not catching InterruptedException, or catching it and throwing it again after performing some brief activity-specific cleanup. \n\n-- Restore the interrupt. Sometimes you cannot throw InterruptedException, for instance when your code is part of a Runnable. In these situations, you must catch InterruptedException and restore the interrupted status by calling interrupt on the current thread, so that code higher up the call stack can see that an interrupt was issued.\n<!END QUOTATION>\n\nIn the case of borrowConnection, #1 is not really a choice, as it is running in the confines of JDBC interface.  But it can definitely restore the interrupt status of the thread.','connect pool connectionpool borrow connect borrowconnect swallow interrupt state code snippet start line connect pool connectionpool java version tri retriev exist connect idl poll timetowait time unit timeunit millisecond catch interrupt except interruptedexcept ex thread interrupt clear flag bail except sqlexcept sx new except sqlexcept pool wait interrupt sx init caus initcaus ex throw sx final waitcount decrement and get decrementandget line mark clear flag bail wrong way call code find thread interrupt correct behavior thread current thread currentthread interrupt excerpt biran goetz java concurr practic chapter start quotat librari code basic two choic propag interrupt except interruptedexcept often sensibl polici get away propag interrupt except interruptedexcept caller could involv catch interrupt except interruptedexcept catch throw perform brief activ specif activityspecif cleanup restor interrupt sometim cannot throw interrupt except interruptedexcept instanc code part runnabl situat must catch interrupt except interruptedexcept restor interrupt statu call interrupt current thread code higher call stack see interrupt issu quotat case borrow connect borrowconnect realli choic run confin jdbc interfac definit restor interrupt statu thread','connect pool connectionpool borrow connect borrowconnect swallow interrupt state','code snippet start line connect pool connectionpool java version tri retriev exist connect idl poll timetowait time unit timeunit millisecond catch interrupt except interruptedexcept ex thread interrupt clear flag bail except sqlexcept sx new except sqlexcept pool wait interrupt sx init caus initcaus ex throw sx final waitcount decrement and get decrementandget line mark clear flag bail wrong way call code find thread interrupt correct behavior thread current thread currentthread interrupt excerpt biran goetz java concurr practic chapter start quotat librari code basic two choic propag interrupt except interruptedexcept often sensibl polici get away propag interrupt except interruptedexcept caller could involv catch interrupt except interruptedexcept catch throw perform brief activ specif activityspecif cleanup restor interrupt sometim cannot throw interrupt except interruptedexcept instanc code part runnabl situat must catch interrupt except interruptedexcept restor interrupt statu call interrupt current thread code higher call stack see interrupt issu quotat case borrow connect borrowconnect realli choic run confin jdbc interfac definit restor interrupt statu thread','2011-10-20 19:28:24',1319150000,'resolved fixed','fe16ac2',1332870000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolConfiguration.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java'),(310,52957,'Bug 52957  ClassCastException while removing Valve','','class cast except classcastexcept remov valv','class cast except classcastexcept remov valv','','2012-03-21 12:47:49',1332350000,'resolved fixed','d5cee34',1332430000,'java/org/apache/catalina/core/StandardPipeline.java'),(311,52839,'Bug 52839  New unit test for DigestAuthenticator and SingleSignOn','','new unit digest authent digestauthent singl sign on singlesignon','new unit digest authent digestauthent singl sign on singlesignon','','2012-03-06 16:12:53',1331070000,'resolved fixed','c0f1bb9',1332280000,'test/org/apache/catalina/authenticator/TestSSOnonLoginAndDigestAuthenticator.java'),(312,50860,'Bug 50860  In case of invalid or empty slqQuery connection are always invalidated without usefull information','The code is (in PooledConnection.java#validate(int validateAction,String sql) )\n        Statement stmt = null;\n        try {\n            stmt = connection.createStatement();\n            stmt.execute(query);\n            stmt.close();\n            this.lastValidated = now;\n            return true;\n        } catch (Exception ignore) {\n            if (log.isDebugEnabled())\n                log.debug(\"Unable to validate object:\",ignore);\n            if (stmt!=null)\n                try { stmt.close();} catch (Exception ignore2){/*NOOP*/}\n        }\n        return false;\n\nSo in the case of null or invalid query (connection is always invalidated : seems normal :-) ).\nBut without any usefull message (except if you use debug : but seems complicated in a production env).\nSo IMHO adding a log.warning in case of null query could be usefull.','case invalid empti slq queri slqqueri connect alway invalid without useful inform code pool connect pooledconnect java valid int valid action validateact string sql statement stmt null tri stmt connect creat statement createstat stmt execut queri stmt close last valid lastvalid return true catch except ignor log is debug enabl isdebugen log debug unabl valid object ignor stmt null tri stmt close catch except ignore2 noop return fals case null invalid queri connect alway invalid seem normal without useful messag except use debug seem complic product env imho ad log warn case null queri could useful','case invalid empti slq queri slqqueri connect alway invalid without useful inform','code pool connect pooledconnect java valid int valid action validateact string sql statement stmt null tri stmt connect creat statement createstat stmt execut queri stmt close last valid lastvalid return true catch except ignor log is debug enabl isdebugen log debug unabl valid object ignor stmt null tri stmt close catch except ignore2 noop return fals case null invalid queri connect alway invalid seem normal without useful messag except use debug seem complic product env imho ad log warn case null queri could useful','2011-03-03 06:51:14',1299150000,'resolved fixed','e092870',1332260000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolConfiguration.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PooledConnection.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java'),(313,51893,'Bug 51893  JMX notification/Exception for empty/exhausted connection pool','Currently, if there is an error getting a connection from the pool, a generic SQLException is thrown.  The only way to determine if the problem is a result of the connection pool being exhausted is to catch the SQLException and parse the message (i.e. look for \"Pool empty\" in ex.getMessage()).  Would like to see the following:\n\n1) A subclass of SQLException thrown in the case of an empty pool\n2) A JMX notification sent in the case of an empty pool (e.g. [POOL EXHAUSTED])','jmx notif except empti exhaust connect pool current error get connect pool gener except sqlexcept thrown way determin problem result connect pool exhaust catch except sqlexcept pars messag look pool empti ex get messag getmessag would like see follow subclass except sqlexcept thrown case empti pool jmx notif sent case empti pool pool exhaust','jmx notif except empti exhaust connect pool','current error get connect pool gener except sqlexcept thrown way determin problem result connect pool exhaust catch except sqlexcept pars messag look pool empti ex get messag getmessag would like see follow subclass except sqlexcept thrown case empti pool jmx notif sent case empti pool pool exhaust','2011-09-26 14:49:49',1317060000,'resolved fixed','9d687eb',1332260000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolExhaustedException.java\nmodules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java'),(314,51237,'Bug 51237  SlowQueryReport interceptor does not log anything','','slow queri report slowqueryreport interceptor log anyth','slow queri report slowqueryreport interceptor log anyth','','2011-05-20 22:01:35',1305940000,'resolved fixed','0eb38b8',1332250000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/interceptor/SlowQueryReport.java'),(315,52926,'Bug 52926  NPE in processSocket','We have sporadic issues triggering 502 proxy errors using the NIO connector behind Nginx, caused by dropped connections/end of streams in Tomcat. The Tomcat log shows:\n\nSEVERE: Error allocating socket processor\njava.lang.NullPointerException \nat org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:721)\nat org.apache.tomcat.util.net.NioEndpoint$Poller.cancelledKey(NioEndpoint.java:1048)\nat org.apache.tomcat.util.net.NioEndpoint$Poller.timeout(NioEndpoint.java:1392)\nat org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1174)\nat java.lang.Thread.run(Thread.java:662)\n\nLooking at the code in processSocket I see the line in NioEndpoint(721): \nattachment.setCometNotify(false); //will get reset upon next reg\n\nAttachment is fetched in line 720:\nKeyAttachment attachment = (KeyAttachment)socket.getAttachment(false);\n\nLooking at socket.getAttachement() method I see that this method is indeed capable of returning null, but no null-check for this is done (although it is in multiple other locations, so it seems inconsistent).','npe process socket processsocket sporad issu trigger proxi error use nio connector behind nginx caus drop connect stream tomcat tomcat log show sever error alloc socket processor java lang null pointer except nullpointerexcept apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller cancel key cancelledkey nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller timeout nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller run nio endpoint nioendpoint java java lang thread run thread java look code process socket processsocket see line nio endpoint nioendpoint attach set comet notifi setcometnotifi fals get reset upon next reg attach fetch line key attach keyattach attach key attach keyattach socket get attach getattach fals look socket get attach getattach method see method inde capabl return null null check nullcheck done although multipl locat seem inconsist','npe process socket processsocket','sporad issu trigger proxi error use nio connector behind nginx caus drop connect stream tomcat tomcat log show sever error alloc socket processor java lang null pointer except nullpointerexcept apach tomcat util net nio endpoint nioendpoint process socket processsocket nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller cancel key cancelledkey nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller timeout nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint poller run nio endpoint nioendpoint java java lang thread run thread java look code process socket processsocket see line nio endpoint nioendpoint attach set comet notifi setcometnotifi fals get reset upon next reg attach fetch line key attach keyattach attach key attach keyattach socket get attach getattach fals look socket get attach getattach method see method inde capabl return null null check nullcheck done although multipl locat seem inconsist','2012-03-16 08:19:25',1331900000,'resolved fixed','dcb8808',1332240000,'java/org/apache/tomcat/util/net/NioEndpoint.java'),(316,52723,'Bug 52723  An incomplete fix for the resource leak bugs in StandardManager.java','','incomplet fix resourc leak bug standard manag standardmanag java','incomplet fix resourc leak bug standard manag standardmanag java','','2012-02-21 10:22:02',1329840000,'resolved wontfix','9f8c8d6',1331330000,'java/org/apache/catalina/session/StandardManager.java'),(317,52850,'Bug 52850  Various miscellaneous fixes to Tomcat Memory Leak Detection code','Problem Description - \n----------------------\nTomcat memory leak detection has the following issues\n- Most of the detection and fixing code has been tested ONLY on Sun JVMs. A lot of  the reflection based code does not work with the IBM JDK. \n- Tests in tomcat7.source\\test\\org\\apache\\catalina\\loader do not seem to run successfully and are incomplete for all the protection that Tomcat provides for classloader memory leaks.\n- For some categories of threadlocal memory leaks the key and value are not displayed correctly in the warning messages; particularly ones dealing with indirect references to threadlocals\n-  org.apache.catalina.loader.WebappClassLoader.loadedByThisOrChild(Object) incorrectly traverses the object classloader hierarchy instead of the current (this) classloader hierarchy\n\nProblem Conclusion - \n--------------------\n- After extensive testing with the IBM JDKs, I have cleaned up and sanitized some of the reflection code to stop executors, timers, threads etc on the IBM JDK\n- Added new tests for detecting threadlocal leaks and thread leaks\n- Better ThreadLocal leak reporting with corrected loadedByThisOrChild method and addition of expungeStaleEntries method\n- Make code more resilient in certain leak detection scenarios.','variou miscellan fix tomcat memori leak detect code problem descript tomcat memori leak detect follow issu detect fix code test sun jvm lot reflect base code work ibm jdk test tomcat7 sourc apach catalina loader seem run success incomplet protect tomcat provid classload memori leak categori threadloc memori leak key valu display correctli warn messag particularli one deal indirect refer threadloc apach catalina loader webapp class loader webappclassload load by thi or child loadedbythisorchild object incorrectli travers object classload hierarchi instead current classload hierarchi problem conclus extens test ibm jdk clean sanit reflect code stop executor timer thread etc ibm jdk ad new test detect threadloc leak thread leak better thread local threadloc leak report correct load by thi or child loadedbythisorchild method addit expung stale entri expungestaleentri method make code resili certain leak detect scenario','variou miscellan fix tomcat memori leak detect code','problem descript tomcat memori leak detect follow issu detect fix code test sun jvm lot reflect base code work ibm jdk test tomcat7 sourc apach catalina loader seem run success incomplet protect tomcat provid classload memori leak categori threadloc memori leak key valu display correctli warn messag particularli one deal indirect refer threadloc apach catalina loader webapp class loader webappclassload load by thi or child loadedbythisorchild object incorrectli travers object classload hierarchi instead current classload hierarchi problem conclus extens test ibm jdk clean sanit reflect code stop executor timer thread etc ibm jdk ad new test detect threadloc leak thread leak better thread local threadloc leak report correct load by thi or child loadedbythisorchild method addit expung stale entri expungestaleentri method make code resili certain leak detect scenario','2012-03-07 14:57:15',1331150000,'resolved fixed','adbf442',1331320000,'java/org/apache/catalina/loader/WebappClassLoader.java\ntest/org/apache/catalina/loader/TestWebappClassLoaderExecutorMemoryLeak.java\ntest/org/apache/catalina/loader/TestWebappClassLoaderThreadLocalMemoryLeak.java'),(318,52776,'Bug 52776  Generator\'s JspFragment.invoke implementation does not reset ELContext[JspContext.class]','If a developer captures a JspFragment themselves and calls invoke on it, the JspContext.class attribute in the enclosing pageContext\'s ELContext is set by the generated JspFragment subclass, but not reset to its original value afterwards. Therefore after invoking a JspContext any EL expressions will be searching the wrong jspContext for attribute values.\n\norg.apache.jasper.compiler.Generator is responsible for creating the JspFragment subclass to represent the compiled fragment. The generatePostamble() method emits generated code to set the JspContext attribute in the ELContext:\n\nout.printil(\"this.jspContext.getELContext().putContext(javax.servlet.jsp.JspContext.class,this.jspContext);\");\n\nHowever it doesn\'t later put back the original value.\n\nIf you are using the <jsp:invoke> tag to invoke the fragment (which is undoubtedly what most people are doing) then the code generated by visit(Node.InvokeAction n) in Generator explicitly restores the EL context:\n\nout.printil(\"jspContext.getELContext().putContext(javax.servlet.jsp.JspContext.class,getJspContext());\");\n\nHowever if you call invoke(Writer) on the JspFragment yourself you don\'t get that tidy up code.\n\nI suggest the resolution is to have the JspFragment.invoke method tidy up after itself. It \"puts\" the change to the JspContext.class attribute so it should also re\"put\" it. Then there shouldn\'t be any need to restore the EL context in the generated <jsp:invoke> code.\n\nI have tested this solution successfully.','gener jsp fragment jspfragment invok implement reset context elcontext jsp context jspcontext class develop captur jsp fragment jspfragment call invok jsp context jspcontext class attribut enclos page context pagecontext context elcontext set gener jsp fragment jspfragment subclass reset origin valu afterward therefor invok jsp context jspcontext express search wrong jsp context jspcontext attribut valu apach jasper compil gener respons creat jsp fragment jspfragment subclass repres compil fragment gener postambl generatepostambl method emit gener code set jsp context jspcontext attribut context elcontext printil jsp context jspcontext get context getelcontext put context putcontext javax servlet jsp jsp context jspcontext class jsp context jspcontext howev doesn later put back origin valu use jsp invok tag invok fragment undoubtedli peopl code gener visit node invok action invokeact gener explicitli restor context printil jsp context jspcontext get context getelcontext put context putcontext javax servlet jsp jsp context jspcontext class get jsp context getjspcontext howev call invok writer jsp fragment jspfragment get tidi code suggest resolut jsp fragment jspfragment invok method tidi put chang jsp context jspcontext class attribut re put shouldn need restor context gener jsp invok code test solut success','gener jsp fragment jspfragment invok implement reset context elcontext jsp context jspcontext class','develop captur jsp fragment jspfragment call invok jsp context jspcontext class attribut enclos page context pagecontext context elcontext set gener jsp fragment jspfragment subclass reset origin valu afterward therefor invok jsp context jspcontext express search wrong jsp context jspcontext attribut valu apach jasper compil gener respons creat jsp fragment jspfragment subclass repres compil fragment gener postambl generatepostambl method emit gener code set jsp context jspcontext attribut context elcontext printil jsp context jspcontext get context getelcontext put context putcontext javax servlet jsp jsp context jspcontext class jsp context jspcontext howev doesn later put back origin valu use jsp invok tag invok fragment undoubtedli peopl code gener visit node invok action invokeact gener explicitli restor context printil jsp context jspcontext get context getelcontext put context putcontext javax servlet jsp jsp context jspcontext class get jsp context getjspcontext howev call invok writer jsp fragment jspfragment get tidi code suggest resolut jsp fragment jspfragment invok method tidi put chang jsp context jspcontext class attribut re put shouldn need restor context gener jsp invok code test solut success','2012-02-27 00:46:22',1330320000,'resolved fixed','faf26da',1331290000,'java/org/apache/jasper/compiler/Generator.java'),(319,52500,'Bug 52500  Improve client certificate authentication','','improv client certif authent','improv client certif authent','','2012-01-23 13:02:04',1327340000,'resolved fixed','401c703',1331230000,'java/org/apache/catalina/realm/RealmBase.java\njava/org/apache/catalina/realm/X509SubjectDnRetriever.java\njava/org/apache/catalina/realm/X509UsernameRetriever.java'),(320,52719,'Bug 52719  An incomplete fix for the resource leak bug in WebappClassLoader.java','','incomplet fix resourc leak webapp class loader webappclassload java','incomplet fix resourc leak webapp class loader webappclassload java','','2012-02-21 09:37:53',1329840000,'resolved fixed','78c02a7',1331160000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(321,52792,'Bug 52792  Incomplete error message when lookup a resource that is not bound in the naming','','incomplet error messag lookup resourc bound name','incomplet error messag lookup resourc bound name','','2012-02-28 20:30:12',1330480000,'resolved fixed','7cec4ff',1331150000,'java/org/apache/naming/NamingContext.java'),(322,52772,'Bug 52772  JspC : checking uriRoot option validness','In org.apache.jasper.JspC#execute() method,\nif uriRoot is not null,\nit scans all jsp files under uriRoot,\nand then checks if uriRoot is a directory.\n\nIt should be more desirable to check if uriRoot is a directory or not first and then scanning it.\n\n\nHere are my suggestion.\n\n            if (uriRoot == null) {\n                throw new JasperException(\n                    Localizer.getMessage(\"jsp.error.jspc.no_uriroot\"));\n            }\n\n            File uriRootF = new File(uriRoot);\n            if (!uriRootF.exists() || !uriRootF.isDirectory()) {\n                throw new JasperException(\n                    Localizer.getMessage(\"jsp.error.jspc.uriroot_not_dir\"));\n            }\n\n            if( context==null ) {\n                initServletContext();\n            }\n\n            // No explicit pages, we\'ll process all .jsp in the webapp\n            if (pages.size() == 0) {\n                scanFiles(uriRootF);\n            }','jsp jspc check uri root uriroot option valid apach jasper jsp jspc execut method uri root uriroot null scan jsp file uri root uriroot check uri root uriroot directori desir check uri root uriroot directori first scan suggest uri root uriroot null throw new jasper except jasperexcept local get messag getmessag jsp error jspc uriroot file uri root urirootf new file uri root uriroot uri root urirootf exist uri root urirootf is directori isdirectori throw new jasper except jasperexcept local get messag getmessag jsp error jspc uriroot context null init servlet context initservletcontext explicit page ll process jsp webapp page size scan file scanfil uri root urirootf','jsp jspc check uri root uriroot option valid','apach jasper jsp jspc execut method uri root uriroot null scan jsp file uri root uriroot check uri root uriroot directori desir check uri root uriroot directori first scan suggest uri root uriroot null throw new jasper except jasperexcept local get messag getmessag jsp error jspc uriroot file uri root urirootf new file uri root uriroot uri root urirootf exist uri root urirootf is directori isdirectori throw new jasper except jasperexcept local get messag getmessag jsp error jspc uriroot context null init servlet context initservletcontext explicit page ll process jsp webapp page size scan file scanfil uri root urirootf','2012-02-26 07:41:43',1330260000,'resolved fixed','35958df',1331130000,'java/org/apache/jasper/JspC.java'),(323,52770,'Bug 52770  Potential Bug or Inconsistency in NioBlockingSelector.java','This is Ken Cheung, a Computer Science M.Phil. student. I observed some\ncode clones in Tomcat and found inconsistent code:\n\n/tomcat/trunk/java/org/apache/tomcat/util/net/NioBlockingSelector.java\n\n103	                try {\n104	                    if ( att.getWriteLatch()==null || att.getWriteLatch().getCount()==0) att.startWriteLatch(1);\n105	                    poller.add(att,SelectionKey.OP_WRITE,reference);\n106	                    att.awaitWriteLatch(writeTimeout,TimeUnit.MILLISECONDS);\n107	                }catch (InterruptedException ignore) {\n108	                    Thread.interrupted();\n109	                }\n110	                if ( att.getWriteLatch()!=null && att.getWriteLatch().getCount()> 0) {\n111	                    //we got interrupted, but we haven\'t received notification from the poller.\n112	                    keycount = 0;\n113	                }else {\n114	                    //latch countdown has happened\n115	                    keycount = 1;\n116	                    att.resetWriteLatch();\n117	                }\n118	\n119	                if (writeTimeout > 0 && (keycount == 0))\n120	                    timedout = (System.currentTimeMillis() - time) >= writeTimeout;\n\n/tomcat/trunk/java/org/apache/tomcat/util/net/NioBlockingSelector.java\n\n164	                try {\n165	                    if ( att.getReadLatch()==null || att.getReadLatch().getCount()==0) att.startReadLatch(1);\n166	                    poller.add(att,SelectionKey.OP_READ, reference);\n167	                    if (readTimeout < 0) {\n168	                        att.awaitReadLatch(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\n169	                    } else {\n170	                        att.awaitReadLatch(readTimeout, TimeUnit.MILLISECONDS);\n171	                    }\n172	                }catch (InterruptedException ignore) {\n173	                    Thread.interrupted();\n174	                }\n175	                if ( att.getReadLatch()!=null && att.getReadLatch().getCount()> 0) {\n176	                    //we got interrupted, but we haven\'t received notification from the poller.\n177	                    keycount = 0;\n178	                }else {\n179	                    //latch countdown has happened\n180	                    keycount = 1;\n181	                    att.resetReadLatch();\n182	                }\n183	                if (readTimeout >= 0 && (keycount == 0))\n184	                    timedout = (System.currentTimeMillis() - time) >= readTimeout;\n\nQuick description of the inconsistency\nTwo code snippets are very similar code, but as you see, the first code does not check \"if (readTimeout < 0)\" while the second code has the checker.\n\nWe thought it could be a potential bug or inconsistency. Hope this helps.','potenti inconsist nio block selector nioblockingselector java ken cheung comput scienc phil student observ code clone tomcat found inconsist code tomcat trunk java apach tomcat util net nio block selector nioblockingselector java tri get write latch getwritelatch null get write latch getwritelatch get count getcount start write latch startwritelatch poller add select key selectionkey write refer await write latch awaitwritelatch write timeout writetimeout time unit timeunit millisecond catch interrupt except interruptedexcept ignor thread interrupt get write latch getwritelatch null get write latch getwritelatch get count getcount got interrupt haven receiv notif poller keycount els latch countdown happen keycount reset write latch resetwritelatch write timeout writetimeout keycount timedout system current time milli currenttimemilli time write timeout writetimeout tomcat trunk java apach tomcat util net nio block selector nioblockingselector java tri get read latch getreadlatch null get read latch getreadlatch get count getcount start read latch startreadlatch poller add select key selectionkey read refer read timeout readtimeout await read latch awaitreadlatch long max valu time unit timeunit millisecond els await read latch awaitreadlatch read timeout readtimeout time unit timeunit millisecond catch interrupt except interruptedexcept ignor thread interrupt get read latch getreadlatch null get read latch getreadlatch get count getcount got interrupt haven receiv notif poller keycount els latch countdown happen keycount reset read latch resetreadlatch read timeout readtimeout keycount timedout system current time milli currenttimemilli time read timeout readtimeout quick descript inconsist two code snippet similar code see first code check read timeout readtimeout second code checker thought could potenti inconsist hope help','potenti inconsist nio block selector nioblockingselector java','ken cheung comput scienc phil student observ code clone tomcat found inconsist code tomcat trunk java apach tomcat util net nio block selector nioblockingselector java tri get write latch getwritelatch null get write latch getwritelatch get count getcount start write latch startwritelatch poller add select key selectionkey write refer await write latch awaitwritelatch write timeout writetimeout time unit timeunit millisecond catch interrupt except interruptedexcept ignor thread interrupt get write latch getwritelatch null get write latch getwritelatch get count getcount got interrupt haven receiv notif poller keycount els latch countdown happen keycount reset write latch resetwritelatch write timeout writetimeout keycount timedout system current time milli currenttimemilli time write timeout writetimeout tomcat trunk java apach tomcat util net nio block selector nioblockingselector java tri get read latch getreadlatch null get read latch getreadlatch get count getcount start read latch startreadlatch poller add select key selectionkey read refer read timeout readtimeout await read latch awaitreadlatch long max valu time unit timeunit millisecond els await read latch awaitreadlatch read timeout readtimeout time unit timeunit millisecond catch interrupt except interruptedexcept ignor thread interrupt get read latch getreadlatch null get read latch getreadlatch get count getcount got interrupt haven receiv notif poller keycount els latch countdown happen keycount reset read latch resetreadlatch read timeout readtimeout keycount timedout system current time milli currenttimemilli time read timeout readtimeout quick descript inconsist two code snippet similar code see first code check read timeout readtimeout second code checker thought could potenti inconsist hope help','2012-02-25 15:04:31',1330200000,'resolved fixed','4f75b2d',1331130000,'java/org/apache/tomcat/util/net/NioBlockingSelector.java'),(324,52767,'Bug 52767  Potential Bug or Inconsistency in JDBCRealm.java and JDBCAccessLogValve.java','This is Ken Cheung, a Computer Science M.Phil. student. I observed some\ncode clones in Tomcat and found inconsistent code:\n\n/tomcat/trunk/java/org/apache/catalina/realm/JDBCRealm.java\n\n676	        if (driver == null) {\n677	            try {\n678	                Class<?> clazz = Class.forName(driverName);\n679	                driver = (Driver) clazz.newInstance();\n680	            } catch (Throwable e) {\n681	                ExceptionUtils.handleThrowable(e);\n682	                throw new SQLException(e.getMessage(), e);\n683	            }\n684	        }\n685	\n686	        // Open a new connection\n687	        Properties props = new Properties();\n688	        if (connectionName != null)\n689	            props.put(\"user\", connectionName);\n690	        if (connectionPassword != null)\n691	            props.put(\"password\", connectionPassword);\n692	        dbConnection = driver.connect(connectionURL, props);\n\n/tomcat/trunk/java/org/apache/catalina/valves/JDBCAccessLogValve.java\n\n566	        if (driver == null) {\n567	            try {\n568	                Class<?> clazz = Class.forName(driverName);\n569	                driver = (Driver) clazz.newInstance();\n570	            } catch (Throwable e) {\n571	                ExceptionUtils.handleThrowable(e);\n572	                throw new SQLException(e.getMessage(), e);\n573	            }\n574	        }\n575	\n576	        // Open a new connection\n577	        Properties props = new Properties();\n578	        props.put(\"autoReconnect\", \"true\");\n579	        if (connectionName != null) {\n580	            props.put(\"user\", connectionName);\n581	        }\n582	        if (connectionPassword != null) {\n583	            props.put(\"password\", connectionPassword);\n584	        }\n585	        conn = driver.connect(connectionURL, props);\n\nQuick description of the inconsistency\nTwo code snippets are very similar code, but as you see, in JDBCRealm.java does not use \"props.put(\"autoReconnect\", \"true\")\" while JDBCAccessLogValve.java has.\n\nWe thought it could be a potential bug or inconsistency. Hope this helps.','potenti inconsist realm jdbcrealm java access log valv jdbcaccesslogvalv java ken cheung comput scienc phil student observ code clone tomcat found inconsist code tomcat trunk java apach catalina realm realm jdbcrealm java driver null tri class clazz class for name fornam driver name drivernam driver driver clazz new instanc newinst catch throwabl except util exceptionutil handl throwabl handlethrow throw new except sqlexcept get messag getmessag open new connect properti prop new properti connect name connectionnam null prop put user connect name connectionnam connect password connectionpassword null prop put password connect password connectionpassword db connect dbconnect driver connect connect connectionurl prop tomcat trunk java apach catalina valv access log valv jdbcaccesslogvalv java driver null tri class clazz class for name fornam driver name drivernam driver driver clazz new instanc newinst catch throwabl except util exceptionutil handl throwabl handlethrow throw new except sqlexcept get messag getmessag open new connect properti prop new properti prop put auto reconnect autoreconnect true connect name connectionnam null prop put user connect name connectionnam connect password connectionpassword null prop put password connect password connectionpassword conn driver connect connect connectionurl prop quick descript inconsist two code snippet similar code see realm jdbcrealm java use prop put auto reconnect autoreconnect true access log valv jdbcaccesslogvalv java thought could potenti inconsist hope help','potenti inconsist realm jdbcrealm java access log valv jdbcaccesslogvalv java','ken cheung comput scienc phil student observ code clone tomcat found inconsist code tomcat trunk java apach catalina realm realm jdbcrealm java driver null tri class clazz class for name fornam driver name drivernam driver driver clazz new instanc newinst catch throwabl except util exceptionutil handl throwabl handlethrow throw new except sqlexcept get messag getmessag open new connect properti prop new properti connect name connectionnam null prop put user connect name connectionnam connect password connectionpassword null prop put password connect password connectionpassword db connect dbconnect driver connect connect connectionurl prop tomcat trunk java apach catalina valv access log valv jdbcaccesslogvalv java driver null tri class clazz class for name fornam driver name drivernam driver driver clazz new instanc newinst catch throwabl except util exceptionutil handl throwabl handlethrow throw new except sqlexcept get messag getmessag open new connect properti prop new properti prop put auto reconnect autoreconnect true connect name connectionnam null prop put user connect name connectionnam connect password connectionpassword null prop put password connect password connectionpassword conn driver connect connect connectionurl prop quick descript inconsist two code snippet similar code see realm jdbcrealm java use prop put auto reconnect autoreconnect true access log valv jdbcaccesslogvalv java thought could potenti inconsist hope help','2012-02-25 14:32:33',1330200000,'resolved fixed','1f4663d',1331130000,'java/org/apache/catalina/valves/JDBCAccessLogValve.java'),(325,52846,'Bug 52846  Programmatic login using UserDatabaseRealm returns 403 error.','IMHO,HttpServletRequest#login does not need to define a <login-config>.\nNonLoginAuthenticator is used when <login-config> is not specified in HttpServletRequest#login. \n\nWhen UserDatabaseRealm is used, not GenericPrincipal but Memory User is set to a session.\nIn AuthenticatorBase#invoke, principal registered into a session is set to a request. \nBecause MemoryUser is set to a request as principal, RealmBase#hasRole always returns false. \nAs a result, 403 error is returned.','programmat login use user databas realm userdatabaserealm return error imho http servlet request httpservletrequest login need defin login config loginconfig non login authent nonloginauthent use login config loginconfig specifi http servlet request httpservletrequest login user databas realm userdatabaserealm use gener princip genericprincip memori user set session authent base authenticatorbas invok princip regist session set request memori user memoryus set request princip realm base realmbas ha role hasrol alway return fals result error return','programmat login use user databas realm userdatabaserealm return error','imho http servlet request httpservletrequest login need defin login config loginconfig non login authent nonloginauthent use login config loginconfig specifi http servlet request httpservletrequest login user databas realm userdatabaserealm use gener princip genericprincip memori user set session authent base authenticatorbas invok princip regist session set request memori user memoryus set request princip realm base realmbas ha role hasrol alway return fals result error return','2012-03-07 08:40:46',1331130000,'resolved fixed','a01418d',1331110000,'java/org/apache/catalina/authenticator/NonLoginAuthenticator.java'),(326,52732,'Bug 52732  An incomplete fix for the resource leak bug in ExpressionFactory.java','','incomplet fix resourc leak express factori expressionfactori java','incomplet fix resourc leak express factori expressionfactori java','','2012-02-21 12:22:44',1329840000,'resolved fixed','6399c83',1331070000,'java/javax/el/ExpressionFactory.java'),(327,52731,'Bug 52731  An incomplete fix for the resource leak bug in JDTCompiler.java','','incomplet fix resourc leak compil jdtcompil java','incomplet fix resourc leak compil jdtcompil java','','2012-02-21 12:16:28',1329840000,'resolved fixed','2b1d195',1331070000,'java/org/apache/jasper/compiler/JDTCompiler.java'),(328,52729,'Bug 52729  An incomplete fix for the resource leak bug in CometConnectionManagerValve.java','','incomplet fix resourc leak comet connect manag valv cometconnectionmanagervalv java','incomplet fix resourc leak comet connect manag valv cometconnectionmanagervalv java','','2012-02-21 12:01:25',1329840000,'resolved fixed','683d5c1',1331070000,'java/org/apache/catalina/valves/CometConnectionManagerValve.java'),(329,52727,'Bug 52727  An incomplete fix for the resource leak bug in HostConfig.java','','incomplet fix resourc leak host config hostconfig java','incomplet fix resourc leak host config hostconfig java','','2012-02-21 11:58:35',1329840000,'resolved fixed','8293a6e',1331070000,'java/org/apache/catalina/startup/HostConfig.java'),(330,52726,'Bug 52726  An incomplete fix for the resource leak bug in MemoryUserDatabase.java','','incomplet fix resourc leak memori user databas memoryuserdatabas java','incomplet fix resourc leak memori user databas memoryuserdatabas java','','2012-02-21 11:50:36',1329840000,'resolved fixed','a30ce07',1331070000,'java/org/apache/catalina/users/MemoryUserDatabase.java'),(331,52725,'Bug 52725  org.apache.jasper.compiler.JspUtil#getTagHandlerClassName() does not use org.apache.jasper.Constants.TAG_FILE_PACKAGE_NAME','In the class org.apache.jasper.compiler.JspUtil, its method \n\n    public static String getTagHandlerClassName(String path, String urn,\n            ErrorDispatcher err) throws JasperException {\n        ...\n    }\n\nuses the string constants directly like \"org.apache.jsp.tag.web.\", \"org.apache.jsp.tag.meta.\".\n\nBut you know there is TAG_FILE_PACKAGE_NAME field in the class org.apache.jasper.Constants.\n\n\nThe code should be adjusted like below :\n\nConstants.TAG_FILE_PACKAGE_NAME + \".web\"\nConstants.TAG_FILE_PACKAGE_NAME + \".meta\"','apach jasper compil jsp util jsputil get tag handler class name gettaghandlerclassnam use apach jasper constant tag file packag name class apach jasper compil jsp util jsputil method public static string get tag handler class name gettaghandlerclassnam string path string urn error dispatch errordispatch err throw jasper except jasperexcept us string constant directli like apach jsp tag web apach jsp tag meta know tag file packag name field class apach jasper constant code adjust like constant tag file packag name web constant tag file packag name meta','apach jasper compil jsp util jsputil get tag handler class name gettaghandlerclassnam use apach jasper constant tag file packag name','class apach jasper compil jsp util jsputil method public static string get tag handler class name gettaghandlerclassnam string path string urn error dispatch errordispatch err throw jasper except jasperexcept us string constant directli like apach jsp tag web apach jsp tag meta know tag file packag name field class apach jasper constant code adjust like constant tag file packag name web constant tag file packag name meta','2012-02-21 11:28:46',1329840000,'resolved fixed','bf0287e',1330980000,'java/org/apache/jasper/compiler/JspUtil.java'),(332,52724,'Bug 52724  An incomplete fix for the resource leak bugs in Catalina.java','','incomplet fix resourc leak bug catalina java','incomplet fix resourc leak bug catalina java','','2012-02-21 10:35:32',1329840000,'resolved fixed','7c51f61',1330980000,'java/org/apache/catalina/startup/Catalina.java'),(333,52804,'Bug 52804  Make PoolProperties implement Cloneable.','It would be very useful to have the PoolProperties class implement the java.lang.Cloneable interface. \n\nWe have many databases that share the same schema, username, password, configuration etc but differ only in their URL. Implementing a routing datasource based on something like org.springframework.jdbc.datasource.AbstractDataSource can then just clone a PoolProperties object and set the one or two properties that differ in the clone. In a spring project the properties that are common across all the datasources are only supplied once.','make pool properti poolproperti implement cloneabl would use pool properti poolproperti class implement java lang cloneabl interfac mani databas share schema usernam password configur etc differ url implement rout datasourc base someth like springframework jdbc datasourc abstract data sourc abstractdatasourc clone pool properti poolproperti object set one two properti differ clone spring project properti common across datasourc suppli','make pool properti poolproperti implement cloneabl','would use pool properti poolproperti class implement java lang cloneabl interfac mani databas share schema usernam password configur etc differ url implement rout datasourc base someth like springframework jdbc datasourc abstract data sourc abstractdatasourc clone pool properti poolproperti object set one two properti differ clone spring project properti common across datasourc suppli','2012-03-01 17:18:03',1330640000,'resolved fixed','55baca6',1330630000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java'),(334,52760,'Bug 52760  Mime type for javascript incorrect  in documentation','','mime type javascript incorrect document','mime type javascript incorrect document','','2012-02-24 13:35:39',1330110000,'resolved fixed','833e6b1',1330260000,'java/org/apache/catalina/filters/ExpiresFilter.java'),(335,52758,'Bug 52758  Jasper illegally implements org.eclipse.jdt.internal.compiler.env.ICompilationUnit from Eclipse','','jasper illeg implement jdt intern compil env compil unit icompilationunit','jasper illeg implement jdt intern compil env compil unit icompilationunit','','2012-02-24 04:21:56',1330080000,'resolved fixed','2e7f5ab',1330080000,'java/org/apache/jasper/compiler/JDTCompiler.java'),(336,52671,'Bug 52671  NIO Connector: Exception invoking method readBufSize / writeBufSize in the JMX Proxy Servlet','','nio connector except invok method read buf size readbufs write buf size writebufs jmx proxi servlet','nio connector except invok method read buf size readbufs write buf size writebufs jmx proxi servlet','','2012-02-15 11:47:03',1329320000,'resolved fixed','3fe64a5',1329340000,'java/org/apache/catalina/mbeans/MBeanDumper.java'),(337,52669,'Bug 52669  Annotation processing, in WEB-INF/classes, for Servlets/Listeners/Filters is skipped when the web app is not extracted, classes do not have packages and for some embedded scenarios','','annot process web inf class servlet listen filter skip web app extract class packag embed scenario','annot process web inf class servlet listen filter skip web app extract class packag embed scenario','','2012-02-14 21:39:46',1329270000,'resolved fixed','34b1a7e',1329340000,'java/org/apache/catalina/startup/ContextConfig.java'),(338,52666,'Bug 52666  EL should coerce String to Integer in equals operation','','coerc string integ equal oper','coerc string integ equal oper','','2012-02-14 12:55:34',1329240000,'resolved fixed','bf9bf39',1329320000,'java/org/apache/el/lang/ELSupport.java\ntest/org/apache/el/lang/TestELSupport.java'),(339,52607,'Bug 52607  It is not well defined how \"Dependencies on extensions\" mechanism can be used in Tomcat','','well defin depend extens mechan use tomcat','well defin depend extens mechan use tomcat','','2012-02-05 22:19:35',1328500000,'resolved fixed','4b6d583',1328740000,'java/org/apache/catalina/core/StandardServer.java\njava/org/apache/catalina/util/ExtensionValidator.java'),(340,52606,'Bug 52606  FORM authentication POST replay broken for AJP','','form authent post replay broken ajp','form authent post replay broken ajp','','2012-02-05 18:10:19',1328480000,'resolved fixed','6f766be',1328720000,'java/org/apache/coyote/ajp/AbstractAjpProcessor.java'),(341,52591,'Bug 52591  UnsupportedOperationException logged when fetching BasicDataSource \'loginTimeout\'','With a BasicDataSource configured (using a <Resource>), simply list the available MBeans and this exception will be emitted to stdout:\n\nSEVERE: Error getting attribute Catalina:type=DataSource,context=/context,host=localhost,class=javax.sql.DataSource,name=\"jdbc/myDataSource\" loginTimeout\njavax.management.RuntimeOperationsException: Exception invoking method loginTimeout\n        at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:197)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638)\n        at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:81)\n        at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:166)\n        at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n[...]\nCaused by: java.lang.UnsupportedOperationException: Not supported by BasicDataSource\n        at org.apache.tomcat.dbcp.dbcp.BasicDataSource.getLoginTimeout(BasicDataSource.java:1083)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n\nThis exception does not cause the request to fail, but definitely puts an ugly stack trace in catalina.out. It might be better to catch UnsupportedOperationException and emit a one-line error message -- one that isn\'t SEVERE.','unsupport oper except unsupportedoperationexcept log fetch basic data sourc basicdatasourc login timeout logintimeout basic data sourc basicdatasourc configur use resourc simpli list avail bean mbean except emit stdout sever error get attribut catalina type data sourc datasourc context context host localhost class javax sql data sourc datasourc name jdbc my data sourc mydatasourc login timeout logintimeout javax manag runtim oper except runtimeoperationsexcept except invok method login timeout logintimeout apach tomcat util model base model bean basemodelmbean get attribut getattribut base model bean basemodelmbean java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor get attribut getattribut default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv get attribut getattribut jmx bean server jmxmbeanserv java apach catalina mbean bean dumper mbeandump dump bean dumpbean bean dumper mbeandump java apach catalina manag proxi servlet jmxproxyservlet list bean listbean proxi servlet jmxproxyservlet java apach catalina manag proxi servlet jmxproxyservlet do get doget proxi servlet jmxproxyservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java caus java lang unsupport oper except unsupportedoperationexcept support basic data sourc basicdatasourc apach tomcat dbcp dbcp basic data sourc basicdatasourc get login timeout getlogintimeout basic data sourc basicdatasourc java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method except caus request fail definit put ugli stack trace catalina might better catch unsupport oper except unsupportedoperationexcept emit one line onelin error messag one isn sever','unsupport oper except unsupportedoperationexcept log fetch basic data sourc basicdatasourc login timeout logintimeout','basic data sourc basicdatasourc configur use resourc simpli list avail bean mbean except emit stdout sever error get attribut catalina type data sourc datasourc context context host localhost class javax sql data sourc datasourc name jdbc my data sourc mydatasourc login timeout logintimeout javax manag runtim oper except runtimeoperationsexcept except invok method login timeout logintimeout apach tomcat util model base model bean basemodelmbean get attribut getattribut base model bean basemodelmbean java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor get attribut getattribut default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv get attribut getattribut jmx bean server jmxmbeanserv java apach catalina mbean bean dumper mbeandump dump bean dumpbean bean dumper mbeandump java apach catalina manag proxi servlet jmxproxyservlet list bean listbean proxi servlet jmxproxyservlet java apach catalina manag proxi servlet jmxproxyservlet do get doget proxi servlet jmxproxyservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java caus java lang unsupport oper except unsupportedoperationexcept support basic data sourc basicdatasourc apach tomcat dbcp dbcp basic data sourc basicdatasourc get login timeout getlogintimeout basic data sourc basicdatasourc java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method except caus request fail definit put ugli stack trace catalina might better catch unsupport oper except unsupportedoperationexcept emit one line onelin error messag one isn sever','2012-02-03 14:43:28',1328300000,'resolved fixed','fbf9166',1328710000,'java/org/apache/catalina/mbeans/MBeanDumper.java'),(342,52586,'Bug 52586  When requests are forwarded, the request attribute javax.servlet.forward.path_info is assigned an incorrect value.','As per the servlet spec, the values for:\n\njavax.servlet.forward.request_uri\njavax.servlet.forward.context\njavax.servlet.forward.servlet_path\njavax.servlet.forward.path_info\njavax.servlet.forward.query_string\n\nMUST be set to the values from the very first servlet that serviced the current request.  However, it seems that Tomcat is populating path_info with the value of the LAST path_info serviced in the request (i.e. the final servlet that serviced the request).  It\'s possible the other value assignments are afflicted by similar defects, I\'ve not explicitly tested for this.\n\nBecause of this issue, it\'s impossible to correctly reconstruct the original request\'s URI piecemeal by concatenating context+servlet_path+path_info+?+query_string, since path_info will contain the path to another servlet and thus this concatenation will produce a probably invalid URI target.\n\nTherefore, creating \"click here to retry\" links is impossible without workaround code.\n\nThe critical issue here is the deviation from the servlet spec, which spells out the behavior of those attributes.','request forward request attribut javax servlet forward path info assign incorrect valu servlet spec valu javax servlet forward request uri javax servlet forward context javax servlet forward servlet path javax servlet forward path info javax servlet forward queri string must set valu first servlet servic current request howev seem tomcat popul path info valu last path info servic request final servlet servic request possibl valu assign afflict similar defect explicitli test issu imposs correctli reconstruct origin request uri piecem concaten context servlet path path info queri string sinc path info contain path anoth servlet thu concaten produc probabl invalid uri target therefor creat click retri link imposs without workaround code critic issu deviat servlet spec spell behavior attribut','request forward request attribut javax servlet forward path info assign incorrect valu','servlet spec valu javax servlet forward request uri javax servlet forward context javax servlet forward servlet path javax servlet forward path info javax servlet forward queri string must set valu first servlet servic current request howev seem tomcat popul path info valu last path info servic request final servlet servic request possibl valu assign afflict similar defect explicitli test issu imposs correctli reconstruct origin request uri piecem concaten context servlet path path info queri string sinc path info contain path anoth servlet thu concaten produc probabl invalid uri target therefor creat click retri link imposs without workaround code critic issu deviat servlet spec spell behavior attribut','2012-02-02 18:49:59',1328230000,'resolved fixed','660513c',1328480000,'java/org/apache/catalina/core/StandardHostValve.java'),(343,52577,'Bug 52577  Response output written in filter can be truncated','Due to changes 1229726, 1229727 and 1229728 output written to response in the filter can be truncated up to 8192 bytes. Consider the following scenario:\n\n- you have a filter that invoke getWriter() before chain.doFilter(request, responseWrapper)\n\n\n- responseWrapper overrides getWriter() method and returns some\n  buffered writer, not the real one\n\n\n- during execution of chain.doFilter there is a forward\n\n\nBefore the forward ApplicationDispather calls resetBuffer on response, which in turn calls reset() on OutputBuffer, which sets gotEnc field to false. This field is initialized in the setConverter() method which is called from response.getWriter(), but since our wrapperResponse overrides getWriter(), OutputBuffer.setConverter() never called and OutputBuffer still has gotEnc = false.\n\n\nResponse\'s close() and flushBuffer() methods call OutputBuffer\'s flush(), but since gotEnc == false, conv.flushBuffer() is not called:\n\n\nif (gotEnc && conv != null) {\n    conv.flushBuffer();\n}\n\n\nA workaround for us is to implement getWriter() method in responseWrapper like this:\n\n\npublic Writer getWriter() {\n  Writer originalWriter = originalResponse.getWriter();//save for future processing\n  return ourWriter;\n}\n\n\nMaybe you should change flushing to something like that:\n\n\nif (conv != null) {\n    conv.flushBuffer();\n}\n\n\nbecause you invoke conv.convert() without any checks in the write*() methods and it seems like conv is never null.','respons output written filter truncat due chang output written respons filter truncat byte consid follow scenario filter invok get writer getwrit chain do filter dofilt request respons wrapper responsewrapp respons wrapper responsewrapp overrid get writer getwrit method return buffer writer real one execut chain do filter dofilt forward forward applic dispath applicationdispath call reset buffer resetbuff respons turn call reset output buffer outputbuff set got enc gotenc field fals field initi set convert setconvert method call respons get writer getwrit sinc wrapper respons wrapperrespons overrid get writer getwrit output buffer outputbuff set convert setconvert never call output buffer outputbuff still got enc gotenc fals respons close flush buffer flushbuff method call output buffer outputbuff flush sinc got enc gotenc fals conv flush buffer flushbuff call got enc gotenc conv null conv flush buffer flushbuff workaround u implement get writer getwrit method respons wrapper responsewrapp like public writer get writer getwrit writer origin writer originalwrit origin respons originalrespons get writer getwrit save futur process return our writer ourwrit mayb chang flush someth like conv null conv flush buffer flushbuff invok conv convert without check write method seem like conv never null','respons output written filter truncat','due chang output written respons filter truncat byte consid follow scenario filter invok get writer getwrit chain do filter dofilt request respons wrapper responsewrapp respons wrapper responsewrapp overrid get writer getwrit method return buffer writer real one execut chain do filter dofilt forward forward applic dispath applicationdispath call reset buffer resetbuff respons turn call reset output buffer outputbuff set got enc gotenc field fals field initi set convert setconvert method call respons get writer getwrit sinc wrapper respons wrapperrespons overrid get writer getwrit output buffer outputbuff set convert setconvert never call output buffer outputbuff still got enc gotenc fals respons close flush buffer flushbuff method call output buffer outputbuff flush sinc got enc gotenc fals conv flush buffer flushbuff call got enc gotenc conv null conv flush buffer flushbuff workaround u implement get writer getwrit method respons wrapper responsewrapp like public writer get writer getwrit writer origin writer originalwrit origin respons originalrespons get writer getwrit save futur process return our writer ourwrit mayb chang flush someth like conv null conv flush buffer flushbuff invok conv convert without check write method seem like conv never null','2012-02-02 07:45:44',1328190000,'resolved fixed','2fd117b',1328480000,'java/org/apache/catalina/connector/OutputBuffer.java\njava/org/apache/catalina/connector/Response.java\ntest/org/apache/catalina/connector/TestOutputBuffer.java'),(344,52587,'Bug 52587  NPE in authenticator when no realm/resource is defined','When no Realm is available to authenticate against, an NPE is thrown.\n\nSTR:\n\n1. Start with a stock 7.0.25 and modify server.xml:\n2. Comment-out <Resource> in <GlobalNamingResources>\n3. Comment-out <Realm> in <Engine>\n4. Deploy manager app and try to log in\n\njava.lang.NullPointerException\n	org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:340)\n	org.apache.catalina.authenticator.BasicAuthenticator.authenticate(BasicAuthenticator.java:158)\n	org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544)\n	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n	org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n	org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n	org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600)\n	java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	java.lang.Thread.run(Thread.java:680)\n\n\nClearly, this is a pathological setup, but it might be nice to get a decent error message instead of an NPE.','npe authent realm resourc defin realm avail authent npe thrown str start stock modifi server xml comment out commentout resourc global name resourc globalnamingresourc comment out commentout realm engin deploy manag app tri log java lang null pointer except nullpointerexcept apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent basic authent basicauthent authent basic authent basicauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java clearli patholog setup might nice get decent error messag instead npe','npe authent realm resourc defin','realm avail authent npe thrown str start stock modifi server xml comment out commentout resourc global name resourc globalnamingresourc comment out commentout realm engin deploy manag app tri log java lang null pointer except nullpointerexcept apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent basic authent basicauthent authent basic authent basicauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java clearli patholog setup might nice get decent error messag instead npe','2012-02-02 20:00:01',1328230000,'resolved fixed','49a52cb',1328470000,'java/org/apache/catalina/core/StandardEngine.java'),(345,52444,'Bug 52444  Classloading-based ServletContainerInitializer @HandlesTypes processing can result in long startup times','See 52326 for background, noting particularly the following:\n\n\"As long as SCI processing involves expensive classloading, larger applications will suffer from long startup times and thus be encouraged to \"shut off\" this functionality via metadata-complete=\'true\'.\"\n\nThis issue, then, is intended to address classloading-based approach to @HandlesTypes processing by replacing it with something faster and generally less problematic.  ASM would be one way to get it done.','classload base classloadingbas servlet contain initi servletcontaineriniti handl type handlestyp process result long startup time see background note particularli follow long sci process involv expens classload larger applic suffer long startup time thu encourag shut function via metadata complet metadatacomplet true issu intend address classload base classloadingbas approach handl type handlestyp process replac someth faster gener le problemat asm would one way get done','classload base classloadingbas servlet contain initi servletcontaineriniti handl type handlestyp process result long startup time','see background note particularli follow long sci process involv expens classload larger applic suffer long startup time thu encourag shut function via metadata complet metadatacomplet true issu intend address classload base classloadingbas approach handl type handlestyp process replac someth faster gener le problemat asm would one way get done','2012-01-09 17:11:12',1326150000,'resolved fixed','f4896de',1327920000,'java/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/tomcat/util/bcel/classfile/JavaClass.java\ntest/org/apache/catalina/startup/TestContextConfigAnnotation.java'),(346,52547,'Bug 52547  incorrect byeswritten log after completed async request under http1.0','','incorrect byeswritten log complet async request http1','incorrect byeswritten log complet async request http1','','2012-01-27 19:43:42',1327710000,'resolved fixed','f2edc92',1327780000,'java/org/apache/coyote/http11/AbstractOutputBuffer.java'),(347,52543,'Bug 52543  Exception','SEVERE: Error finishing response\njava.lang.ArrayIndexOutOfBoundsException\n	at java.lang.System.arraycopy(Native Method)\n	at org.apache.coyote.http11.AbstractOutputBuffer.write(AbstractOutputBuffer.java:495)\n	at org.apache.coyote.http11.AbstractOutputBuffer.sendStatus(AbstractOutputBuffer.java:337)\n	at org.apache.coyote.http11.AbstractHttp11Processor.prepareResponse(AbstractHttp11Processor.java:1418)\n	at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:756)\n	at org.apache.coyote.Response.action(Response.java:168)\n	at org.apache.coyote.http11.AbstractOutputBuffer.endRequest(AbstractOutputBuffer.java:310)\n	at org.apache.coyote.http11.InternalOutputBuffer.endRequest(InternalOutputBuffer.java:158)\n	at org.apache.coyote.http11.AbstractHttp11Processor.endRequest(AbstractHttp11Processor.java:1586)\n	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1022)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n	at java.lang.Thread.run(Thread.java:722)\n\nbig application i dont know why its happens\nmay be due to the fact that twice as add some cookie','except sever error finish respons java lang array index out of bound except arrayindexoutofboundsexcept java lang system arraycopi nativ method apach coyot http11 abstract output buffer abstractoutputbuff write abstract output buffer abstractoutputbuff java apach coyot http11 abstract output buffer abstractoutputbuff send statu sendstatu abstract output buffer abstractoutputbuff java apach coyot http11 abstract http11 processor abstracthttp11processor prepar respons preparerespons abstract http11 processor abstracthttp11processor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot respons action respons java apach coyot http11 abstract output buffer abstractoutputbuff end request endrequest abstract output buffer abstractoutputbuff java apach coyot http11 intern output buffer internaloutputbuff end request endrequest intern output buffer internaloutputbuff java apach coyot http11 abstract http11 processor abstracthttp11processor end request endrequest abstract http11 processor abstracthttp11processor java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java big applic dont know happen may due fact twice add cooki','except','sever error finish respons java lang array index out of bound except arrayindexoutofboundsexcept java lang system arraycopi nativ method apach coyot http11 abstract output buffer abstractoutputbuff write abstract output buffer abstractoutputbuff java apach coyot http11 abstract output buffer abstractoutputbuff send statu sendstatu abstract output buffer abstractoutputbuff java apach coyot http11 abstract http11 processor abstracthttp11processor prepar respons preparerespons abstract http11 processor abstracthttp11processor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot respons action respons java apach coyot http11 abstract output buffer abstractoutputbuff end request endrequest abstract output buffer abstractoutputbuff java apach coyot http11 intern output buffer internaloutputbuff end request endrequest intern output buffer internaloutputbuff java apach coyot http11 abstract http11 processor abstracthttp11processor end request endrequest abstract http11 processor abstracthttp11processor java apach coyot http11 abstract http11 processor abstracthttp11processor process abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor run worker runwork thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java big applic dont know happen may due fact twice add cooki','2012-01-27 11:18:09',1327680000,'resolved fixed','ee0562d',1327780000,'java/org/apache/coyote/http11/AbstractOutputBuffer.java'),(348,52511,'Bug 52511  Exception logged in annotation scanning for web apps without /WEB-INF/classes','','except log annot scan web app without web inf class','except log annot scan web app without web inf class','','2012-01-23 21:02:08',1327370000,'resolved fixed','3277494',1327700000,'java/org/apache/catalina/startup/ContextConfig.java'),(349,52474,'Bug 52474  Do not load listeners declared with blank spaces on tld file.','','load listen declar blank space tld file','load listen declar blank space tld file','','2012-01-17 05:41:49',1326800000,'resolved fixed','2dd8a40',1327090000,'java/org/apache/catalina/startup/TldRuleSet.java'),(350,51408,'Bug 51408  String.getBytes() and new String(byte[]) use default charset - may cause problems in some Locales','There seem to be rather a lot of instances where Strings and bytes are cconverted using the default charset.\n\nSince the default charset is unknown, its behaviour cannot be relied on.','string get byte getbyt new string byte use default charset may caus problem local seem rather lot instanc string byte cconvert use default charset sinc default charset unknown behaviour cannot reli','string get byte getbyt new string byte use default charset may caus problem local','seem rather lot instanc string byte cconvert use default charset sinc default charset unknown behaviour cannot reli','2011-06-21 15:47:16',1308690000,'resolved fixed','9722128',1326990000,'java/org/apache/catalina/ant/AbstractCatalinaTask.java\njava/org/apache/catalina/authenticator/DigestAuthenticator.java\njava/org/apache/catalina/realm/JNDIRealm.java\njava/org/apache/catalina/realm/RealmBase.java\njava/org/apache/catalina/servlets/WebdavServlet.java\njava/org/apache/catalina/util/RequestUtil.java\njava/org/apache/catalina/valves/AccessLogValve.java\njava/org/apache/catalina/valves/SSLValve.java\njava/org/apache/coyote/http11/filters/BufferedInputFilter.java\njava/org/apache/coyote/http11/filters/ChunkedInputFilter.java\njava/org/apache/coyote/http11/filters/IdentityInputFilter.java\njava/org/apache/coyote/http11/filters/VoidInputFilter.java\njava/org/apache/jasper/Constants.java\njava/org/apache/jasper/compiler/SmapUtil.java\njava/org/apache/naming/resources/Constants.java\njava/org/apache/naming/resources/ProxyDirContext.java\njava/org/apache/tomcat/util/buf/MessageBytes.java'),(351,52480,'Bug 52480  TC7 + AntCompiler problems with whitespace in pathname','','c7 tc7 ant compil antcompil problem whitespac pathnam','c7 tc7 ant compil antcompil problem whitespac pathnam','','2012-01-18 00:28:00',1326860000,'resolved fixed','b553519',1326890000,'java/org/apache/catalina/loader/WebappLoader.java'),(352,38216,'Bug 38216  Extend Jmxproxy to allow call of MBean Operations','Currently one can only query Beans or set/get Attributes of them. It would be\ngood if a certain operation of a MBean could be called by the Jmxproxy Servlet.','extend jmxproxi allow call bean mbean oper current one queri bean set get attribut would good certain oper bean mbean could call jmxproxi servlet','extend jmxproxi allow call bean mbean oper','current one queri bean set get attribut would good certain oper bean mbean could call jmxproxi servlet','2006-01-10 18:01:22',1136930000,'resolved fixed','bd478e5',1326660000,'java/org/apache/catalina/manager/JMXProxyServlet.java'),(353,52461,'Bug 52461  java.lang.IllegalArgumentException: URI scheme is not \"file\" is thrown in ContextConfig.getDefaultWebXmlFragment','','java lang illeg argument except illegalargumentexcept uri scheme file thrown context config contextconfig get default web xml fragment getdefaultwebxmlfrag','java lang illeg argument except illegalargumentexcept uri scheme file thrown context config contextconfig get default web xml fragment getdefaultwebxmlfrag','','2012-01-12 20:34:28',1326420000,'resolved fixed','53615e5',1326490000,'java/org/apache/catalina/startup/ContextConfig.java'),(354,52445,'Bug 52445  Methodexpression with arguments fails on nested properties','','methodexpress argument fail nest properti','methodexpress argument fail nest properti','','2012-01-10 03:25:21',1326180000,'resolved fixed','3c8f40f',1326490000,'java/org/apache/el/parser/AstValue.java\ntest/org/apache/el/TestMethodExpressionImpl.java'),(355,52443,'Bug 52443  Tomcat#defaultRealm shares Realm instance between web applications, resulting in INFO log message from lifecycle','','tomcat default realm defaultrealm share realm instanc web applic result info log messag lifecycl','tomcat default realm defaultrealm share realm instanc web applic result info log messag lifecycl','','2012-01-09 16:43:35',1326150000,'resolved fixed','c38ed95',1326400000,'java/org/apache/catalina/startup/Tomcat.java\ntest/org/apache/catalina/mbeans/TestRegistration.java'),(356,52245,'Bug 52245  Add detection of EL Jar to WebappClassLoader','The EL API is not currently detected by the code in WebappClassLoader.\nApplications containing el-api.jar will not start.\n\n(patch to follow).','add detect jar webapp class loader webappclassload api current detect code webapp class loader webappclassload applic contain el api elapi jar start patch follow','add detect jar webapp class loader webappclassload','api current detect code webapp class loader webappclassload applic contain el api elapi jar start patch follow','2011-11-25 15:13:41',1322250000,'resolved fixed','ee2a461',1326400000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(357,52440,'Bug 52440  Wrong getValueReference behaviour with Facelets parameter expressions','ValueExpression method getValueReference should return base object and property. But it returns null if ValueExpression is Facelets parameter.\nExample:\n\nsomeVar = #{concreteObject.property}\n\nValueExpression for #{someVar} return null from method getValueReference (guess because it is simple expression #{someVar}), but logicaly it should return parent expressions ValueReference (need hierachical ValueReference lookup).\n\nI made workaround with Java Reflect API in my code and it illustrates problem:\n\nELContext elContext = FacesContext.getCurrentInstance().getELContext();\nValueReference reference = exp.getValueReference(elContext);\n        \nif (reference == null && exp instanceof TagValueExpressionUEL) {\n	ValueExpressionImpl origExp = (ValueExpressionImpl) ((TagValueExpressionUEL) exp).getWrapped();\n            \n	// TODO: JR: find better way to get base and property. ! Code is not portable because uses Tomcat EL implementation details. ! \n	Field field = ReflectionUtils.findField(origExp.getClass(), EL_IMPL_VAR_PROPERTY);\n	field.setAccessible(true);\n	VariableMapper varMapper = (VariableMapper) ReflectionUtils.getField(field, origExp);\n    field = ReflectionUtils.findField(origExp.getClass(), EL_IMPL_NODE_PROPERTY);\n    field.setAccessible(true);\n    SimpleNode node = (SimpleNode) ReflectionUtils.getField(field, origExp);\n\n    if (varMapper != null && node != null) {\n		ValueExpression parentExp = varMapper.resolveVariable(node.getImage());\n        if (parentExp != null) {\n			try {\n				reference = parentExp.getValueReference(elContext);\n\n                if (reference == null) {\n					reference = getValueReference(parentExp);\n                }\n            } catch (PropertyNotFoundException e) {\n				LOG.warn(\"Property not found: \" + e.getMessage());\n            }\n        }\n    }\n}','wrong get valu refer getvaluerefer behaviour facelet paramet express valu express valueexpress method get valu refer getvaluerefer return base object properti return null valu express valueexpress facelet paramet exampl some var somevar concret object concreteobject properti valu express valueexpress some var somevar return null method get valu refer getvaluerefer guess simpl express some var somevar logicali return parent express valu refer valuerefer need hierach valu refer valuerefer lookup made workaround java reflect api code illustr problem context elcontext el context elcontext face context facescontext get current instanc getcurrentinst get context getelcontext valu refer valuerefer refer exp get valu refer getvaluerefer el context elcontext refer null exp instanceof tag valu express tagvalueexpressionuel valu express impl valueexpressionimpl orig exp origexp valu express impl valueexpressionimpl tag valu express tagvalueexpressionuel exp get wrap getwrap jr find better way get base properti code portabl us tomcat implement detail field field reflect util reflectionutil find field findfield orig exp origexp get class getclass impl properti field set access setaccess true variabl mapper variablemapp var mapper varmapp variabl mapper variablemapp reflect util reflectionutil get field getfield field orig exp origexp field reflect util reflectionutil find field findfield orig exp origexp get class getclass impl node properti field set access setaccess true simpl node simplenod node simpl node simplenod reflect util reflectionutil get field getfield field orig exp origexp var mapper varmapp null node null valu express valueexpress parent exp parentexp var mapper varmapp resolv variabl resolvevari node get imag getimag parent exp parentexp null tri refer parent exp parentexp get valu refer getvaluerefer el context elcontext refer null refer get valu refer getvaluerefer parent exp parentexp catch properti not found except propertynotfoundexcept log warn properti found get messag getmessag','wrong get valu refer getvaluerefer behaviour facelet paramet express','valu express valueexpress method get valu refer getvaluerefer return base object properti return null valu express valueexpress facelet paramet exampl some var somevar concret object concreteobject properti valu express valueexpress some var somevar return null method get valu refer getvaluerefer guess simpl express some var somevar logicali return parent express valu refer valuerefer need hierach valu refer valuerefer lookup made workaround java reflect api code illustr problem context elcontext el context elcontext face context facescontext get current instanc getcurrentinst get context getelcontext valu refer valuerefer refer exp get valu refer getvaluerefer el context elcontext refer null exp instanceof tag valu express tagvalueexpressionuel valu express impl valueexpressionimpl orig exp origexp valu express impl valueexpressionimpl tag valu express tagvalueexpressionuel exp get wrap getwrap jr find better way get base properti code portabl us tomcat implement detail field field reflect util reflectionutil find field findfield orig exp origexp get class getclass impl properti field set access setaccess true variabl mapper variablemapp var mapper varmapp variabl mapper variablemapp reflect util reflectionutil get field getfield field orig exp origexp field reflect util reflectionutil find field findfield orig exp origexp get class getclass impl node properti field set access setaccess true simpl node simplenod node simpl node simplenod reflect util reflectionutil get field getfield field orig exp origexp var mapper varmapp null node null valu express valueexpress parent exp parentexp var mapper varmapp resolv variabl resolvevari node get imag getimag parent exp parentexp null tri refer parent exp parentexp get valu refer getvaluerefer el context elcontext refer null refer get valu refer getvaluerefer parent exp parentexp catch properti not found except propertynotfoundexcept log warn properti found get messag getmessag','2012-01-09 09:11:20',1326120000,'resolved fixed','f277b14',1326400000,'java/org/apache/el/parser/AstIdentifier.java\ntest/org/apache/el/TestValueExpressionImpl.java'),(358,52328,'Bug 52328  Massive garbage production observed when using the response writer','In our application we used to use Tomcat 5, by writing our content directly to the response writer in our servlet:\n\nWriter w = response.getWriter();\nw.append(...)\n\n\nWe have regularly measured performance of our application under stress with multiple simultaneous requests per second.\n\nWe recently upgraded to Tomcat 7, and immediately observed a performance degradation of 10% on the request roundtrip on the same machine and the same tests, compared to our application deployed on Tomcat 5.\n\nProfiling with JProfiler showed that we got massive amount of transient objects {{java.nio.HeapCharBuffer}} produced - 400Mb+ within a few minutes.\n\nThe way we are writing the response is by multiple statements of {{append}} of small strings or single chars, which used to work properly. For experiment, we wrapped the response writer with a {{BufferedWriter}} with a buffer of 64k. This brought our application\'s performance back to normal.\n\nWe see this as either a:\n- anti-pattern usage since Tomcat 6/7, in which case please provide some documentation about that.\n- bug in the C2BConverter that is applied per every call to the CoyoteWriter write methods, which generates the garbage buffers per every call.\n\nWe know that the response stream has a 8k buffer by default. Nevertheless, this buffer comes after the encoding step and as such it is too late to help with the garbage. Perhaps Tomcat can buffer before it encodes?\n\nStill, so much transient objects for just a pattern of eligible use of the servlet API seems a bug to me.','massiv garbag product observ use respons writer applic use use tomcat write content directli respons writer servlet writer respons get writer getwrit append regularli measur perform applic stress multipl simultan request second recent upgrad tomcat immedi observ perform degrad request roundtrip machin test compar applic deploy tomcat profil profil jprofil show got massiv amount transient object java nio heap char buffer heapcharbuff produc 400 mb 400mb within minut way write respons multipl statement append small string singl char use work properli experi wrap respons writer buffer writer bufferedwrit buffer 64k brought applic perform back normal see either anti pattern antipattern usag sinc tomcat case pleas provid document c2 convert c2bconvert appli everi call coyot writer coyotewrit write method gener garbag buffer everi call know respons stream 8k buffer default nevertheless buffer come encod step late help garbag perhap tomcat buffer encod still much transient object pattern elig use servlet api seem','massiv garbag product observ use respons writer','applic use use tomcat write content directli respons writer servlet writer respons get writer getwrit append regularli measur perform applic stress multipl simultan request second recent upgrad tomcat immedi observ perform degrad request roundtrip machin test compar applic deploy tomcat profil profil jprofil show got massiv amount transient object java nio heap char buffer heapcharbuff produc 400 mb 400mb within minut way write respons multipl statement append small string singl char use work properli experi wrap respons writer buffer writer bufferedwrit buffer 64k brought applic perform back normal see either anti pattern antipattern usag sinc tomcat case pleas provid document c2 convert c2bconvert appli everi call coyot writer coyotewrit write method gener garbag buffer everi call know respons stream 8k buffer default nevertheless buffer come encod step late help garbag perhap tomcat buffer encod still much transient object pattern elig use servlet api seem','2011-12-14 11:03:38',1323880000,'resolved fixed','9c7ec4c',1326230000,'java/org/apache/catalina/connector/OutputBuffer.java'),(359,52387,'Bug 52387  org.catalina.tomcat.startup.Tomcat#silence method doesn\'t use the host where we add the applications','','catalina tomcat startup tomcat silenc method doesn use host add applic','catalina tomcat startup tomcat silenc method doesn use host add applic','','2011-12-27 01:48:16',1324970000,'resolved fixed','3787242',1325330000,'java/org/apache/catalina/startup/Tomcat.java'),(360,52326,'Bug 52326  Lower log level for failed class loading','','lower log level fail class load','lower log level fail class load','','2011-12-13 18:47:41',1323820000,'resolved fixed','addd522',1325190000,'java/org/apache/catalina/startup/ContextConfig.java'),(361,52316,'Bug 52316  AccessLog does not log size for files sent with sendfile','','access log accesslog log size file sent sendfil','access log accesslog log size file sent sendfil','','2011-12-09 22:23:47',1323490000,'resolved fixed','9f52382',1325110000,'java/org/apache/catalina/valves/AccessLogValve.java'),(362,52303,'Bug 52303  NonLoginAuthenticator does not honour session timeout with SingleSignOn Valve','','non login authent nonloginauthent honour session timeout singl sign on singlesignon valv','non login authent nonloginauthent honour session timeout singl sign on singlesignon valv','','2011-12-08 09:35:59',1323360000,'resolved fixed','8b6d341',1325020000,'java/org/apache/catalina/authenticator/NonLoginAuthenticator.java'),(363,52384,'Bug 52384  URL parameter without value should be parsed successfully when logging level = DEBUG','','url paramet without valu pars success log level debug','url paramet without valu pars success log level debug','','2011-12-24 18:16:23',1324770000,'resolved fixed','34b011b',1324860000,'java/org/apache/tomcat/util/http/Parameters.java'),(364,52356,'Bug 52356  Prevent potential data races on \"org.apache.catalina.tribes.transport.bio.util.FastQueue.size\".','','prevent potenti data race apach catalina tribe transport bio util fast queue fastqueu size','prevent potenti data race apach catalina tribe transport bio util fast queue fastqueu size','','2011-12-18 23:41:25',1324270000,'resolved fixed','6f3cafe',1324680000,'java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java'),(365,52354,'Bug 52354  Protect concurrent accesses to field \"org.apache.catalina.tribes.transport.bio.util.FastQueue.inRemove\"','','protect concurr access field apach catalina tribe transport bio util fast queue fastqueu in remov inremov','protect concurr access field apach catalina tribe transport bio util fast queue fastqueu in remov inremov','','2011-12-18 23:04:53',1324270000,'resolved fixed','8983419',1324670000,'java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java'),(366,52213,'Bug 52213  Field \"org.apache.catalina.tribes.transport.bio.util.FastQueue.enabled\" should be volatile.','','field apach catalina tribe transport bio util fast queue fastqueu enabl volatil','field apach catalina tribe transport bio util fast queue fastqueu enabl volatil','','2011-11-18 23:29:32',1321680000,'resolved fixed','d69fb8e',1324670000,'java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java'),(367,52293,'Bug 52293  antiResourceLocking and unpackWARs','','anti resourc lock antiresourcelock unpack unpackwar','anti resourc lock antiresourcelock unpack unpackwar','','2011-12-06 18:54:27',1323220000,'resolved fixed','33e48db',1324500000,'java/org/apache/catalina/startup/ContextConfig.java'),(368,52321,'Bug 52321  coda/prelude order not respected','','coda prelud order respect','coda prelud order respect','','2011-12-13 00:13:28',1323750000,'resolved fixed','22e7e15',1323810000,'java/org/apache/catalina/core/ApplicationJspConfigDescriptor.java\njava/org/apache/catalina/deploy/WebXml.java'),(369,52208,'Bug 52208  NullPointerException in tribes.transport.nio.NioReceiver.listen() in test run','','null pointer except nullpointerexcept tribe transport nio nio receiv nioreceiv listen run','null pointer except nullpointerexcept tribe transport nio nio receiv nioreceiv listen run','','2011-11-18 10:37:32',1321630000,'resolved fixed','9403e4f',1323380000,'java/org/apache/catalina/tribes/transport/nio/NioReceiver.java'),(370,52028,'Bug 52028  Embeded Tomcat using a Connector with a random port (port 0)','','embed tomcat use connector random port port','embed tomcat use connector random port port','','2011-10-14 12:27:22',1318610000,'resolved fixed','63f708a',1322520000,'java/org/apache/catalina/connector/Connector.java\njava/org/apache/coyote/AbstractProtocol.java\njava/org/apache/tomcat/util/net/AbstractEndpoint.java\njava/org/apache/tomcat/util/net/AprEndpoint.java\njava/org/apache/tomcat/util/net/JIoEndpoint.java\njava/org/apache/tomcat/util/net/NioEndpoint.java\ntest/org/apache/catalina/authenticator/TestFormAuthenticator.java\ntest/org/apache/catalina/connector/TestConnector.java\ntest/org/apache/catalina/connector/TestRequest.java\ntest/org/apache/catalina/core/TestStandardContext.java\ntest/org/apache/catalina/core/TestSwallowAbortedUploads.java\ntest/org/apache/catalina/filters/TestExpiresFilter.java\ntest/org/apache/catalina/filters/TestRemoteIpFilter.java\ntest/org/apache/catalina/mbeans/TestRegistration.java\ntest/org/apache/catalina/servlets/TestDefaultServlet.java\ntest/org/apache/catalina/startup/SimpleHttpClient.java\ntest/org/apache/catalina/startup/TomcatBaseTest.java\ntest/org/apache/coyote/http11/TestAbstractHttp11Processor.java\ntest/org/apache/coyote/http11/TestInternalInputBuffer.java\ntest/org/apache/coyote/http11/filters/TestChunkedInputFilter.java\ntest/org/apache/tomcat/util/http/TestCookiesAllowEquals.java\ntest/org/apache/tomcat/util/http/TestCookiesAllowHttpSeps.java\ntest/org/apache/tomcat/util/http/TestCookiesAllowNameOnly.java\ntest/org/apache/tomcat/util/http/TestCookiesDisallowEquals.java\ntest/org/apache/tomcat/util/net/TestXxxEndpoint.java'),(371,52225,'Bug 52225  Adding Alias for existing host on running Tomcat causes ClassCastException','','ad alia exist host run tomcat caus class cast except classcastexcept','ad alia exist host run tomcat caus class cast except classcastexcept','','2011-11-22 07:14:09',1321960000,'resolved fixed','f3a7cd9',1321950000,'java/org/apache/tomcat/util/http/mapper/Mapper.java\ntest/org/apache/tomcat/util/http/mapper/TestMapper.java'),(372,52173,'Bug 52173  Add a drop of additional clarification to doc on the delegate setting of the WebappClassLoader','','add drop addit clarif doc deleg set webapp class loader webappclassload','add drop addit clarif doc deleg set webapp class loader webappclassload','','2011-11-13 14:59:57',1321210000,'resolved fixed','574af73',1321310000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(373,50570,'Bug 50570  Allow explicit use of FIPS mode in APR lifecycle listener','','allow explicit use fip mode apr lifecycl listen','allow explicit use fip mode apr lifecycl listen','','2011-01-11 12:27:44',1294770000,'resolved fixed','c2001ce',1320870000,'java/org/apache/catalina/core/AprLifecycleListener.java\njava/org/apache/tomcat/jni/SSL.java'),(374,52156,'Bug 52156  ServletContext.getResource(path) doesn\'t accept \"..\" anymore','','servlet context servletcontext get resourc getresourc path doesn accept anymor','servlet context servletcontext get resourc getresourc path doesn accept anymor','','2011-11-08 18:59:53',1320800000,'resolved fixed','b7f5c7e',1320790000,'java/org/apache/catalina/core/ApplicationContext.java'),(375,52113,'Bug 52113  Tomcat reports missing context xml at wrong location on JMX deployment','Hello, \n\nI\'m using Tomcat JMX interface to deploy apps as follows:\n1) call MBeanFactory#createStandardContext, where MBeanFactory is \"Catalina:type=MBeanFactory\", with parameters: parent = \"Catalina:type=Host,host=localhost\", path = \"/w1\", docBase = <my path to the app>\n2) call <my app>#start, where <my app> is \"Catalina:j2eeType=WebModule,name=//localhost/w1,J2EEApplication=none,J2EEServer=none\"\n\nAs result, my app _is succesfully deployed (its context is available)_, but nevertheless I see the following exceptions in the server console (full stacktraces are skipped, to be attached next comment):\n\n31 ???? 2011 14:05:53 org.apache.catalina.startup.ContextConfig\nprocessContextConfig\nSEVERE: Missing context.xml: file:/C:/<my Tomcat base\nfolder>/conf/Catalina/localhost/w1.xml\njava.io.FileNotFoundException: C:\\<my Tomcat base\nfolder>\\conf\\Catalina\\localhost\\w1.xml\n\n31 ???? 2011 14:05:53 org.apache.catalina.startup.ContextConfig\nprocessContextConfig\nSEVERE: Parse error in context.xml for /w1\njava.io.FileNotFoundException: C:\\<my Tomcat base\nfolder>\\conf\\Catalina\\localhost\\w1.xml\n\n31 ???? 2011 14:05:53 org.apache.catalina.startup.ContextConfig configureStart\nSEVERE: Marking this application unavailable due to previous error(s)\n\n31 ???? 2011 14:05:53 org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error getConfigured\n\n31 ???? 2011 14:05:53 org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/w1] startup failed due to previous errors\n\nThe exceptions looks strange to me, since I don\'t understand why Tomcat searches for a context xml file during the jmx deploy.\n\nDo I do something wrong in the deployment workflow?\n\nRegards, \nMichael','tomcat report miss context xml wrong locat jmx deploy hello use tomcat jmx interfac deploy app follow call bean factori mbeanfactori creat standard context createstandardcontext bean factori mbeanfactori catalina type bean factori mbeanfactori paramet parent catalina type host host localhost path w1 doc base docbas path app call app start app catalina j2ee type j2eetyp web modul webmodul name localhost w1 j2 applic j2eeapplic none j2 server j2eeserv none result app succes deploy context avail nevertheless see follow except server consol full stacktrac skip attach next comment apach catalina startup context config contextconfig process context config processcontextconfig sever miss context xml file tomcat base folder conf catalina localhost w1 xml java file not found except filenotfoundexcept tomcat base folder conf catalina localhost w1 xml apach catalina startup context config contextconfig process context config processcontextconfig sever pars error context xml w1 java file not found except filenotfoundexcept tomcat base folder conf catalina localhost w1 xml apach catalina startup context config contextconfig configur start configurestart sever mark applic unavail due previou error apach catalina core standard context standardcontext start intern startintern sever error get configur getconfigur apach catalina core standard context standardcontext start intern startintern sever context w1 startup fail due previou error except look strang sinc understand tomcat search context xml file jmx deploy someth wrong deploy workflow regard michael','tomcat report miss context xml wrong locat jmx deploy','hello use tomcat jmx interfac deploy app follow call bean factori mbeanfactori creat standard context createstandardcontext bean factori mbeanfactori catalina type bean factori mbeanfactori paramet parent catalina type host host localhost path w1 doc base docbas path app call app start app catalina j2ee type j2eetyp web modul webmodul name localhost w1 j2 applic j2eeapplic none j2 server j2eeserv none result app succes deploy context avail nevertheless see follow except server consol full stacktrac skip attach next comment apach catalina startup context config contextconfig process context config processcontextconfig sever miss context xml file tomcat base folder conf catalina localhost w1 xml java file not found except filenotfoundexcept tomcat base folder conf catalina localhost w1 xml apach catalina startup context config contextconfig process context config processcontextconfig sever pars error context xml w1 java file not found except filenotfoundexcept tomcat base folder conf catalina localhost w1 xml apach catalina startup context config contextconfig configur start configurestart sever mark applic unavail due previou error apach catalina core standard context standardcontext start intern startintern sever error get configur getconfigur apach catalina core standard context standardcontext start intern startintern sever context w1 startup fail due previou error except look strang sinc understand tomcat search context xml file jmx deploy someth wrong deploy workflow regard michael','2011-10-31 14:09:21',1320080000,'resolved fixed','d7af36d',1320180000,'java/org/apache/catalina/mbeans/MBeanFactory.java'),(376,52051,'Bug 52051  NullPointerException when Jasper tries to compile a directory','','null pointer except nullpointerexcept jasper tri compil directori','null pointer except nullpointerexcept jasper tri compil directori','','2011-10-18 19:33:51',1318980000,'resolved fixed','62ff013',1319040000,'java/org/apache/jasper/JspCompilationContext.java\njava/org/apache/jasper/compiler/JspUtil.java'),(377,52009,'Bug 52009  NPE exception in org.apache.catalina.connector.CoyoteAdapter.service','','npe except apach catalina connector coyot adapt coyoteadapt servic','npe except apach catalina connector coyot adapt coyoteadapt servic','','2011-10-11 08:06:49',1318330000,'resolved fixed','b90c0a1',1318630000,'java/org/apache/catalina/connector/CoyoteAdapter.java\ntest/org/apache/catalina/comet/TestCometProcessor.java'),(378,51972,'Bug 51972  sendRedirect does not support protocol relative URLs','','send redirect sendredirect support protocol rel url','send redirect sendredirect support protocol rel url','','2011-10-05 21:31:50',1317860000,'resolved fixed','e70797e',1318250000,'java/org/apache/catalina/connector/Response.java'),(379,51952,'Bug 51952  IllegalStateException using CompressionFilter with Tomcat 7.0.21/22','','illeg state except illegalstateexcept use compress filter compressionfilt tomcat','illeg state except illegalstateexcept use compress filter compressionfilt tomcat','','2011-10-04 15:36:57',1317760000,'resolved fixed','3ab3757',1318020000,'java/org/apache/catalina/Context.java\njava/org/apache/catalina/connector/Response.java\njava/org/apache/catalina/core/StandardContext.java'),(380,51956,'Bug 51956  RemoteAddrFilter uses remote host (not address) in doFilterEvent','public void doFilterEvent(CometEvent event, CometFilterChain chain)\n            throws IOException, ServletException {\n        processCometEvent(event.getHttpServletRequest().getRemoteHost(),\n                event, chain);        \n    }\n\nUse of getRemoteHost should be getRemoteAddr.','remot addr filter remoteaddrfilt us remot host address do filter event dofilterev public void do filter event dofilterev comet event cometev event comet filter chain cometfilterchain chain throw except ioexcept servlet except servletexcept process comet event processcometev event get http servlet request gethttpservletrequest get remot host getremotehost event chain use get remot host getremotehost get remot addr getremoteaddr','remot addr filter remoteaddrfilt us remot host address do filter event dofilterev','public void do filter event dofilterev comet event cometev event comet filter chain cometfilterchain chain throw except ioexcept servlet except servletexcept process comet event processcometev event get http servlet request gethttpservletrequest get remot host getremotehost event chain use get remot host getremotehost get remot addr getremoteaddr','2011-10-04 21:58:18',1317780000,'resolved fixed','d6d1c6f',1317770000,'java/org/apache/catalina/filters/RemoteAddrFilter.java'),(381,51630,'Bug 51630  java.lang.IllegalStateException: Calling [asyncComplete()]','example:\n\nwebapps\\examples\\WEB-INF\\classes\\async\\Async0.java\n\n\nlog file: logs\\localhost.2011-08-07.log\n=============================================\njava.lang.IllegalStateException: Calling [asyncComplete()] is not valid for a request with Async state [DISPATCHED]\n	at org.apache.coyote.AsyncStateMachine.asyncComplete(AsyncStateMachine.java:221)\n	at org.apache.coyote.http11.Http11Processor.actionInternal(Http11Processor.java:525)\n	at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:773)\n	at org.apache.coyote.Request.action(Request.java:344)\n	at org.apache.catalina.core.AsyncContextImpl.complete(AsyncContextImpl.java:89)\n	at async.Async0.service(Async0.java:42)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)\n	at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:593)\n	at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:530)\n	at org.apache.catalina.core.AsyncContextImpl$1.run(AsyncContextImpl.java:173)\n	at org.apache.catalina.core.AsyncContextImpl.doInternalDispatch(AsyncContextImpl.java:314)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:851)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n	at org.apache.catalina.connector.CoyoteAdapter.asyncDispatch(CoyoteAdapter.java:296)\n	at org.apache.coyote.http11.AbstractHttp11Processor.asyncDispatch(AbstractHttp11Processor.java:1220)\n	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:511)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	at java.lang.Thread.run(Thread.java:619)','java lang illeg state except illegalstateexcept call async complet asynccomplet exampl webapp exampl web inf class async async0 java log file log localhost log java lang illeg state except illegalstateexcept call async complet asynccomplet valid request async state dispatch apach coyot async state machin asyncstatemachin async complet asynccomplet async state machin asyncstatemachin java apach coyot http11 http11 processor http11processor action intern actionintern http11 processor http11processor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina core async context impl asynccontextimpl complet async context impl asynccontextimpl java async async0 servic async0 java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do includ doinclud applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch includ applic dispatch applicationdispatch java apach catalina core async context impl asynccontextimpl run async context impl asynccontextimpl java apach catalina core async context impl asynccontextimpl do intern dispatch dointernaldispatch async context impl asynccontextimpl java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt async dispatch asyncdispatch coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor async dispatch asyncdispatch abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','java lang illeg state except illegalstateexcept call async complet asynccomplet','exampl webapp exampl web inf class async async0 java log file log localhost log java lang illeg state except illegalstateexcept call async complet asynccomplet valid request async state dispatch apach coyot async state machin asyncstatemachin async complet asynccomplet async state machin asyncstatemachin java apach coyot http11 http11 processor http11processor action intern actionintern http11 processor http11processor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina core async context impl asynccontextimpl complet async context impl asynccontextimpl java async async0 servic async0 java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do includ doinclud applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch includ applic dispatch applicationdispatch java apach catalina core async context impl asynccontextimpl run async context impl asynccontextimpl java apach catalina core async context impl asynccontextimpl do intern dispatch dointernaldispatch async context impl asynccontextimpl java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt async dispatch asyncdispatch coyot adapt coyoteadapt java apach coyot http11 abstract http11 processor abstracthttp11processor async dispatch asyncdispatch abstract http11 processor abstracthttp11processor java apach coyot abstract protocol abstractprotocol abstract connect handler abstractconnectionhandl process abstract protocol abstractprotocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2011-08-07 02:34:08',1312700000,'resolved fixed','b080c7e',1317670000,'webapps/examples/WEB-INF/classes/async/Async0.java'),(382,51910,'Bug 51910  NPE in comet processing when shutting down Tomcat','','npe comet process shut tomcat','npe comet process shut tomcat','','2011-09-28 12:05:19',1317230000,'resolved fixed','a450d2c',1317480000,'java/org/apache/catalina/core/StandardWrapperValve.java'),(383,51905,'Bug 51905  Infinite loop when shutting down AprEndpoint','','infinit loop shut apr endpoint aprendpoint','infinit loop shut apr endpoint aprendpoint','','2011-09-28 09:20:16',1317220000,'resolved fixed','136097e',1317200000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(384,51872,'Bug 51872  request.getRemoteAddr() sometimes returning IP address from the previous request','request.getRemoteAddr() sometimes returning IP address from the previous request.  We have compared the IP address returned from the getRemoteHost() and from the headers with getRemoteAddr() and getRemoteAddr is returning wrong IP address.  We believe that this may come from the \"pooled\" request objects where it is sometimes sees the previous value of the remote IP.  The problem doesn\'t occur all the time. \n\nWe are heavily relying on the getRemoteAddr to verify the remote client for some of our authentication.  Can this be fixed?\n\n2011-09-22 16:49:55,713 DEBUG [yjava.tomcat.valves.YahooConnectionValve] THREADID:1262 YahooConnectionValve invoked\n2011-09-22 16:49:55,826 DEBUG [yjava.tomcat.valves.YahooConnectionValve] THREADID:1262 YahooConnectionValve\nrequest.getInfo(): org.apache.coyote.catalina.CoyoteRequest/1.0\n2011-09-22 16:49:56,013 DEBUG [yjava.tomcat.valves.YahooConnectionValve] THREADID:1262 YahooConnectionValve\nrequest.getRemoteAddr(): 98.138.85.230\n2011-09-22 16:49:56,014 DEBUG [yjava.tomcat.valves.YahooConnectionValve] THREADID:1262 YahooConnectionValve\nrequest.getRemoteHost(): web120016.mail.ne1.yahoo.com\n\n   [][~]$ nslookup web120016.mail.ne1.yahoo.com\n   Server:              10.72.226.8\n   Address:     10.72.226.8#53\n\n   Name:        web120016.mail.ne1.yahoo.com\n   Address: 98.138.85.143\n\n2011-09-22 16:49:56,014 DEBUG [yjava.tomcat.valves.YahooConnectionValve] THREADID:1262 YahooConnectionValve\nrequest.getRequestedSessionId(): null\n2011-09-22 16:49:56,015 DEBUG [yjava.tomcat.valves.YahooConnectionValve] THREADID:1262 YahooConnectionValve\nrequest.getHeader(): accept:*/* host:ls100.mail.vip.ne1.yahoo.com:4080 content-type:application/x-ypy\nyahoo-app-auth:v=1;a=yahoo.mail.acl.yca.lsg-prod;h=98.138.85.143;t=1319282225;\ncontent-length:574\n2011-09-22 16:49:56,015 DEBUG [yjava.filter.address.RemoteIPTranslator] THREADID:1262 Got remote address\n\'98.138.85.230\' and port \'46663\'','request get remot addr getremoteaddr sometim return ip address previou request request get remot addr getremoteaddr sometim return ip address previou request compar ip address return get remot host getremotehost header get remot addr getremoteaddr get remot addr getremoteaddr return wrong ip address believ may pool request object sometim see previou valu remot ip problem doesn occur time heavili reli get remot addr getremoteaddr verifi remot client authent fix debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv invok debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get info getinfo apach coyot catalina coyot request coyoterequest debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get remot addr getremoteaddr debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get remot host getremotehost web120016 mail ne1 yahoo nslookup web120016 mail ne1 yahoo server address name web120016 mail ne1 yahoo address debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get request session id getrequestedsessionid null debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get header gethead accept host ls100 mail vip ne1 yahoo content type contenttyp applic ypi xypi yahoo app auth yahooappauth yahoo mail acl yca lsg prod lsgprod content length contentlength debug yjava filter address remot translat remoteiptransl threadid got remot address port','request get remot addr getremoteaddr sometim return ip address previou request','request get remot addr getremoteaddr sometim return ip address previou request compar ip address return get remot host getremotehost header get remot addr getremoteaddr get remot addr getremoteaddr return wrong ip address believ may pool request object sometim see previou valu remot ip problem doesn occur time heavili reli get remot addr getremoteaddr verifi remot client authent fix debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv invok debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get info getinfo apach coyot catalina coyot request coyoterequest debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get remot addr getremoteaddr debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get remot host getremotehost web120016 mail ne1 yahoo nslookup web120016 mail ne1 yahoo server address name web120016 mail ne1 yahoo address debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get request session id getrequestedsessionid null debug yjava tomcat valv yahoo connect valv yahooconnectionvalv threadid yahoo connect valv yahooconnectionvalv request get header gethead accept host ls100 mail vip ne1 yahoo content type contenttyp applic ypi xypi yahoo app auth yahooappauth yahoo mail acl yca lsg prod lsgprod content length contentlength debug yjava filter address remot translat remoteiptransl threadid got remot address port','2011-09-22 17:52:57',1316730000,'resolved fixed','18792f4',1317150000,'java/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/coyote/ajp/AbstractAjpProcessor.java\njava/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpNioProcessor.java\njava/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/http11/AbstractHttp11Processor.java'),(385,51887,'Bug 51887  Speedup sessionid generation when running testsuite','','speedup sessionid gener run testsuit','speedup sessionid gener run testsuit','','2011-09-24 14:09:54',1316890000,'resolved fixed','73a6e56',1316880000,'test/org/apache/catalina/startup/FastNonSecureRandom.java\ntest/org/apache/catalina/startup/TomcatBaseTest.java'),(386,51860,'Bug 51860  HTTP/SSL with NIO won\'t work','','http ssl nio won work','http ssl nio won work','','2011-09-21 10:03:38',1316610000,'resolved fixed','66f2d5b',1316610000,'java/org/apache/tomcat/util/net/jsse/JSSEKeyManager.java'),(387,51852,'Bug 51852  BeanELResolver varargs handling is broken in multiple ways','','bean resolv beanelresolv vararg handl broken multipl way','bean resolv beanelresolv vararg handl broken multipl way','','2011-09-20 19:16:07',1316560000,'resolved fixed','bfabec5',1316610000,'java/javax/el/BeanELResolver.java\ntest/javax/el/TestBeanELResolverVarargsInvocation.java'),(388,51580,'Bug 51580  Severe error deploying WAR application (ExpandWar error)','','sever error deploy applic expand war expandwar error','sever error deploy applic expand war expandwar error','','2011-07-28 22:41:57',1311910000,'resolved fixed','feff880',1316550000,'java/org/apache/catalina/startup/ExpandWar.java'),(389,51687,'Bug 51687  Improve JreMemoryLeakPreventionListener against leak caused by sun.java2d.Disposer','The sun.java2d.Disposer class, when loaded, starts an endless daemon thread that can inherit the WebappClassLoader as its context loader. This will cause a leak when the webapp is unloaded.\n\nIt would be useful if JreMemoryLeakPreventionListener could load this class to prevent the leak.','improv jre memori leak prevent listen jrememoryleakpreventionlisten leak caus sun java2d dispos sun java2d dispos class load start endless daemon thread inherit webapp class loader webappclassload context loader caus leak webapp unload would use jre memori leak prevent listen jrememoryleakpreventionlisten could load class prevent leak','improv jre memori leak prevent listen jrememoryleakpreventionlisten leak caus sun java2d dispos','sun java2d dispos class load start endless daemon thread inherit webapp class loader webappclassload context loader caus leak webapp unload would use jre memori leak prevent listen jrememoryleakpreventionlisten could load class prevent leak','2011-08-19 14:41:36',1313780000,'resolved fixed','423fd89',1316550000,'java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java'),(390,51811,'Bug 51811  SSL configuration property name illegal','','ssl configur properti name illeg','ssl configur properti name illeg','','2011-09-14 14:57:22',1316030000,'resolved fixed','9425437',1316350000,'java/org/apache/coyote/http11/AbstractHttp11JsseProtocol.java\ntest/org/apache/tomcat/util/net/TestCustomSsl.java'),(391,51794,'Bug 51794  Race condition in NioEndpoint$Poller causes socket to not be read until selectorTimeout','I\'m seeing an occasional race condition that happens between NioEndpoint$Poller#run and Http11NioProtocol finishing an event.\n\nWhat happens is that there is a race condition upon waking up the Selector that can cause a SelectionKey to not be marked with InterestOps.READ as soon as it could.  The race is on Poller.wakeupCounter.  These steps can occur which causes my SelectionKey to not have its interest ops reset soon and the Selector to not have wakeup() called on it.\n\n1. Poller0 - Starts processing its run loop and calls events().\n2. Poller0 - Checks the wakeupCounter.get() > 0 which evaluates to false (wakeupCounter is 0).\n3. Worker1 - Finishes an event and calls in to Poller#addEvent\n4. Worker1 - Enqueues the PollerEvent that will reset the interest ops.\n5. Worker1 - Calls wakeupCounter.incrementAndGet to increment and get wakeupCounter to 1.  This fails the check to call selector.wakeup();\n6. Poller0 - Calls wakeupCounter.set(-1)\n7. Poller0 - Calls selector.select(selectorTimeout) and blocks for either the full time out or until another unrelated SelectionKey is polled.\n8. Poller0 - Ultimately gets around to calling events() again which now resets the interest ops for the SelectionKey that was processed by Worker1.\n\nThe simple fix for this is to change this code:\n                            if (wakeupCounter.get() > 0) {\n                                //if we are here, means we have other stuff to do\n                                //do a non blocking select\n                                keyCount = selector.selectNow();\n                            } else {\n                                wakeupCounter.set(-1);\n                                keyCount = selector.select(selectorTimeout);\n                            }\n\nto this \n                            if (wakeupCounter.getAndSet(-1) > 0) {\n                                //if we are here, means we have other stuff to do\n                                //do a non blocking select\n                                keyCount = selector.selectNow();\n                            } else {\n                                keyCount = selector.select(selectorTimeout);\n                            }','race condit nio endpoint nioendpoint poller caus socket read selector timeout selectortimeout see occasion race condit happen nio endpoint nioendpoint poller run http11 nio protocol http11nioprotocol finish event happen race condit upon wake selector caus select key selectionkey mark interest op interestop read soon could race poller wakeup counter wakeupcount step occur caus select key selectionkey interest op reset soon selector wakeup call poller0 start process run loop call event poller0 check wakeup counter wakeupcount get evalu fals wakeup counter wakeupcount worker1 finish event call poller add event addev worker1 enqueu poller event pollerev reset interest op worker1 call wakeup counter wakeupcount increment and get incrementandget increment get wakeup counter wakeupcount fail check call selector wakeup poller0 call wakeup counter wakeupcount set poller0 call selector select selector timeout selectortimeout block either full time anoth unrel select key selectionkey poll poller0 ultim get around call event reset interest op select key selectionkey process worker1 simpl fix chang code wakeup counter wakeupcount get mean stuff block select key count keycount selector select now selectnow els wakeup counter wakeupcount set key count keycount selector select selector timeout selectortimeout wakeup counter wakeupcount get and set getandset mean stuff block select key count keycount selector select now selectnow els key count keycount selector select selector timeout selectortimeout','race condit nio endpoint nioendpoint poller caus socket read selector timeout selectortimeout','see occasion race condit happen nio endpoint nioendpoint poller run http11 nio protocol http11nioprotocol finish event happen race condit upon wake selector caus select key selectionkey mark interest op interestop read soon could race poller wakeup counter wakeupcount step occur caus select key selectionkey interest op reset soon selector wakeup call poller0 start process run loop call event poller0 check wakeup counter wakeupcount get evalu fals wakeup counter wakeupcount worker1 finish event call poller add event addev worker1 enqueu poller event pollerev reset interest op worker1 call wakeup counter wakeupcount increment and get incrementandget increment get wakeup counter wakeupcount fail check call selector wakeup poller0 call wakeup counter wakeupcount set poller0 call selector select selector timeout selectortimeout block either full time anoth unrel select key selectionkey poll poller0 ultim get around call event reset interest op select key selectionkey process worker1 simpl fix chang code wakeup counter wakeupcount get mean stuff block select key count keycount selector select now selectnow els wakeup counter wakeupcount set key count keycount selector select selector timeout selectortimeout wakeup counter wakeupcount get and set getandset mean stuff block select key count keycount selector select now selectnow els key count keycount selector select selector timeout selectortimeout','2011-09-09 18:51:35',1315610000,'resolved fixed','58429a8',1316010000,'java/org/apache/tomcat/util/net/NioEndpoint.java'),(392,51698,'Bug 51698  ajp CPing/Forward-Request packet forgery, is a design decision? or a security vulnerability?','','ajp ping cping forward request packet forgeri design decis secur vulner','ajp ping cping forward request packet forgeri design decis secur vulner','','2011-08-20 07:54:08',1313840000,'resolved fixed','a2538ce',1314650000,'java/org/apache/coyote/ajp/AbstractAjpProcessor.java\njava/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpNioProcessor.java\njava/org/apache/coyote/ajp/AjpProcessor.java'),(393,51739,'Bug 51739  If landingpage is a XHTML (JSF/CDI), nullpointer exception.','','landingpag xhtml jsf cdi nullpoint except','landingpag xhtml jsf cdi nullpoint except','','2011-08-29 13:47:09',1314640000,'resolved fixed','3513acc',1314640000,'java/org/apache/catalina/authenticator/FormAuthenticator.java'),(394,51712,'Bug 51712  Regression in cache-control headers for requests with security-constraints','','regress cach control cachecontrol header request secur constraint securityconstraint','regress cach control cachecontrol header request secur constraint securityconstraint','','2011-08-23 20:55:25',1314150000,'resolved fixed','196a8f5',1314630000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(395,51736,'Bug 51736  Make rpcTimeout configurable in BackupManager.','Default rpcTimeout that BackupManager sets to AbstractReplicatedMap is 15000 msec.\nThis is not configurable.\n\nWhen receiving MapMessage.MSG_START (and after a new member is added), \npublishEntryInfo is called for all sessions where primary and backup node are not included. \nAnd, the backup node is set to the session.\n\nWhen only one Tomcat starts in cluster, publishEntryInfo will be called for all sessions. \nAs a result, the RPC message has the possibility of the timeout. \n\nWhen acquiring session from restarting Tomcat, \nwarning of \"Unable to retrieve remote object for key:XXX\" is logged.\nAnd the session cannot be continued. \n\nI make rpcTimeout configurable in BackupManager.\nAdditionally, if RPC message timeouted in AbstractReplicatedMap#broadcast, add warning message.\n\nBest Regards.','make rpc timeout rpctimeout configur backup manag backupmanag default rpc timeout rpctimeout backup manag backupmanag set abstract replic map abstractreplicatedmap msec configur receiv map messag mapmessag msg start new member ad publish entri info publishentryinfo call session primari backup node includ backup node set session one tomcat start cluster publish entri info publishentryinfo call session result rpc messag possibl timeout acquir session restart tomcat warn unabl retriev remot object key xxx log session cannot continu make rpc timeout rpctimeout configur backup manag backupmanag addit rpc messag timeout abstract replic map abstractreplicatedmap broadcast add warn messag best regard','make rpc timeout rpctimeout configur backup manag backupmanag','default rpc timeout rpctimeout backup manag backupmanag set abstract replic map abstractreplicatedmap msec configur receiv map messag mapmessag msg start new member ad publish entri info publishentryinfo call session primari backup node includ backup node set session one tomcat start cluster publish entri info publishentryinfo call session result rpc messag possibl timeout acquir session restart tomcat warn unabl retriev remot object key xxx log session cannot continu make rpc timeout rpctimeout configur backup manag backupmanag addit rpc messag timeout abstract replic map abstractreplicatedmap broadcast add warn messag best regard','2011-08-29 10:26:09',1314630000,'resolved fixed','87a32d6',1314610000,'java/org/apache/catalina/ha/session/BackupManager.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(396,51704,'Bug 51704  Dubious use of mkdirs() return code in juli FileHandler','','dubiou use mkdir return code juli file handler filehandl','dubiou use mkdir return code juli file handler filehandl','','2011-08-22 13:17:27',1314030000,'resolved fixed','4587f13',1314380000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/catalina/loader/WebappLoader.java\njava/org/apache/catalina/manager/ManagerServlet.java\njava/org/apache/catalina/manager/host/HostManagerServlet.java\njava/org/apache/catalina/servlets/CGIServlet.java\njava/org/apache/catalina/session/FileStore.java\njava/org/apache/catalina/startup/ExpandWar.java\njava/org/apache/catalina/startup/HostConfig.java\njava/org/apache/catalina/valves/AccessLogValve.java\njava/org/apache/jasper/JspCompilationContext.java\njava/org/apache/juli/FileHandler.java\ntest/org/apache/catalina/connector/TestCoyoteAdapter.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java\ntest/org/apache/catalina/core/TestStandardContext.java\ntest/org/apache/catalina/servlets/TestDefaultServlet.java\ntest/org/apache/catalina/startup/TomcatBaseTest.java'),(397,51558,'Bug 51558  Tomcat Embedded: using tomcat.addWebapp always overrides programmatic context-settings with default values for the context at start of tomcat server','when i deploy an webapp with a tomcat server, i use the Function \"tomcat.addWebapp\". I looked into the code of this function and it makes the following call:\n\n     ctx.addLifecycleListener(new DefaultWebXmlListener());\n\nWhen i start tomcat, this DefaultWebXmlListener is activated automatically, and always does the following code, so the manager i set for my context gets overriden with this code:\n\n     public static void initWebappDefaults(Context ctx) {\n        ...\n        // Sessions\n        ctx.setManager( new StandardManager());\n        ctx.setSessionTimeout(30);\n        ...\n     }\n\nso when i set a StandardManager programatically, it gets overriden by this code. The workaround i used, is to unregister the DefaultWebXmlListener, and than add my own context.xml specific settings, like a custom manager for deactivating session persistance:\n\n     Context warContext = tomcat.addWebapp(warContextPath, warLocation);\n    \n     LifecycleListener[] lclisteners = warContext.findLifecycleListeners();\n     LifecycleListener defaultWebXMLListener = null;\n     for (int i=0; i < lclisteners.length; i++){\n       if (lclisteners[i] instanceof DefaultWebXmlListener){\n         defaultWebXMLListener = lclisteners[i];\n       }\n     }\n     warContext.removeLifecycleListener(defaultWebXMLListener);\n     ...\n     StandardManager manager = new StandardManager();\n     manager.setPathname(null); // disable session persistance:\n     //manager.setPathname(\"SESSIONS.ser\");     \n     warContext.setCookies(true);\n     warContext.setCrossContext(true);\n     warContext.setManager(manager);\n\ni think its a bug that using the \"tomcat.addWebapp\" method makes it impossible to set context.xml specific settings programmatically, because they always get overriden by default values at the tomcat start.','tomcat embed use tomcat add webapp addwebapp alway overrid programmat context set contextset default valu context start tomcat server deploy webapp tomcat server use function tomcat add webapp addwebapp look code function make follow call ctx add lifecycl listen addlifecyclelisten new default web xml listen defaultwebxmllisten start tomcat default web xml listen defaultwebxmllisten activ automat alway follow code manag set context get overriden code public static void init webapp default initwebappdefault context ctx session ctx set manag setmanag new standard manag standardmanag ctx set session timeout setsessiontimeout set standard manag standardmanag programat get overriden code workaround use unregist default web xml listen defaultwebxmllisten add context xml specif set like custom manag deactiv session persist context war context warcontext tomcat add webapp addwebapp war context path warcontextpath war locat warloc lifecycl listen lifecyclelisten lclisten war context warcontext find lifecycl listen findlifecyclelisten lifecycl listen lifecyclelisten default web listen defaultwebxmllisten null int lclisten length lclisten instanceof default web xml listen defaultwebxmllisten default web listen defaultwebxmllisten lclisten war context warcontext remov lifecycl listen removelifecyclelisten default web listen defaultwebxmllisten standard manag standardmanag manag new standard manag standardmanag manag set pathnam setpathnam null disabl session persist manag set pathnam setpathnam session ser war context warcontext set cooki setcooki true war context warcontext set cross context setcrosscontext true war context warcontext set manag setmanag manag think use tomcat add webapp addwebapp method make imposs set context xml specif set programmat alway get overriden default valu tomcat start','tomcat embed use tomcat add webapp addwebapp alway overrid programmat context set contextset default valu context start tomcat server','deploy webapp tomcat server use function tomcat add webapp addwebapp look code function make follow call ctx add lifecycl listen addlifecyclelisten new default web xml listen defaultwebxmllisten start tomcat default web xml listen defaultwebxmllisten activ automat alway follow code manag set context get overriden code public static void init webapp default initwebappdefault context ctx session ctx set manag setmanag new standard manag standardmanag ctx set session timeout setsessiontimeout set standard manag standardmanag programat get overriden code workaround use unregist default web xml listen defaultwebxmllisten add context xml specif set like custom manag deactiv session persist context war context warcontext tomcat add webapp addwebapp war context path warcontextpath war locat warloc lifecycl listen lifecyclelisten lclisten war context warcontext find lifecycl listen findlifecyclelisten lifecycl listen lifecyclelisten default web listen defaultwebxmllisten null int lclisten length lclisten instanceof default web xml listen defaultwebxmllisten default web listen defaultwebxmllisten lclisten war context warcontext remov lifecycl listen removelifecyclelisten default web listen defaultwebxmllisten standard manag standardmanag manag new standard manag standardmanag manag set pathnam setpathnam null disabl session persist manag set pathnam setpathnam session ser war context warcontext set cooki setcooki true war context warcontext set cross context setcrosscontext true war context warcontext set manag setmanag manag think use tomcat add webapp addwebapp method make imposs set context xml specif set programmat alway get overriden default valu tomcat start','2011-07-26 10:11:48',1311690000,'resolved fixed','25f02b4',1314370000,'java/org/apache/catalina/startup/Tomcat.java\ntest/org/apache/catalina/startup/TestTomcat.java'),(398,51713,'Bug 51713  Bad Connector protocol causes NullPointerException when using Executor','Under the following configuration, an NPE is thrown because _setExecutor() calls con.getProtocolHandler().getClass() when the protocol handler is null.\n\nIt would be nice to report a bad configuration instead of suffering an NPE.\n\nserver.xml:\n\n    <Executor name=\"tomcatThreadPool\" namePrefix=\"catalina-exec-\"\n        maxThreads=\"150\" minSpareThreads=\"4\"/>\n\n    <Connector port=\"12345\"\n               redirectPort=\"443\" protocol=\"HTTP\"\n               secure=\"true\" scheme=\"https\" proxyPort=\"80\"\n               URIEncoding=\"UTF-8\" executor=\"tomcatThreadPool\" />\n\ncatalina.out:\n\nAug 23, 2011 5:18:30 PM org.apache.catalina.connector.Connector <init>\nSEVERE: Protocol handler instantiation failed\nAug 23, 2011 5:18:30 PM org.apache.tomcat.util.digester.Digester startElement\nSEVERE: Begin event threw exception\njava.lang.NullPointerException\n        at org.apache.catalina.startup.ConnectorCreateRule._setExecutor(ConnectorCreateRule.java:69)\n        at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:63)\n        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:555)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:596)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:449)\n\n\nAug 23, 2011 5:18:30 PM org.apache.catalina.startup.Catalina load\nWARNING: Catalina.start using conf/server.xml: Error at (104, 66) : null\nAug 23, 2011 5:18:30 PM org.apache.catalina.connector.Connector <init>\nSEVERE: Protocol handler instantiation failed\nAug 23, 2011 5:18:30 PM org.apache.tomcat.util.digester.Digester startElement\nSEVERE: Begin event threw exception\njava.lang.NullPointerException\n        at org.apache.catalina.startup.ConnectorCreateRule._setExecutor(ConnectorCreateRule.java:69)\n        at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:63)\n        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:555)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:609)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450)\nAug 23, 2011 5:18:31 PM org.apache.catalina.startup.Catalina load\nWARNING: Catalina.start using conf/server.xml: Error at (104, 66) : null\nAug 23, 2011 5:18:31 PM org.apache.catalina.startup.Catalina start\nSEVERE: Cannot start server. Server instance is not configured.','bad connector protocol caus null pointer except nullpointerexcept use executor follow configur npe thrown set executor setexecutor call get protocol handler getprotocolhandl get class getclass protocol handler null would nice report bad configur instead suffer npe server xml executor name tomcat thread pool tomcatthreadpool name prefix nameprefix catalina exec catalinaexec max thread maxthread min spare thread minsparethread connector port redirect port redirectport protocol http secur true scheme http proxi port proxyport encod uriencod utf executor tomcat thread pool tomcatthreadpool catalina aug pm apach catalina connector connector init sever protocol handler instanti fail aug pm apach tomcat util digest digest start element startel sever begin event threw except java lang null pointer except nullpointerexcept apach catalina startup connector creat rule connectorcreaterul set executor setexecutor connector creat rule connectorcreaterul java apach catalina startup connector creat rule connectorcreaterul begin connector creat rule connectorcreaterul java apach tomcat util digest digest start element startel digest java sun apach xerc intern parser abstract parser abstractsaxpars start element startel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina load catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap load bootstrap java apach catalina startup bootstrap main bootstrap java aug pm apach catalina startup catalina load warn catalina start use conf server xml error null aug pm apach catalina connector connector init sever protocol handler instanti fail aug pm apach tomcat util digest digest start element startel sever begin event threw except java lang null pointer except nullpointerexcept apach catalina startup connector creat rule connectorcreaterul set executor setexecutor connector creat rule connectorcreaterul java apach catalina startup connector creat rule connectorcreaterul begin connector creat rule connectorcreaterul java apach tomcat util digest digest start element startel digest java sun apach xerc intern parser abstract parser abstractsaxpars start element startel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java aug pm apach catalina startup catalina load warn catalina start use conf server xml error null aug pm apach catalina startup catalina start sever cannot start server server instanc configur','bad connector protocol caus null pointer except nullpointerexcept use executor','follow configur npe thrown set executor setexecutor call get protocol handler getprotocolhandl get class getclass protocol handler null would nice report bad configur instead suffer npe server xml executor name tomcat thread pool tomcatthreadpool name prefix nameprefix catalina exec catalinaexec max thread maxthread min spare thread minsparethread connector port redirect port redirectport protocol http secur true scheme http proxi port proxyport encod uriencod utf executor tomcat thread pool tomcatthreadpool catalina aug pm apach catalina connector connector init sever protocol handler instanti fail aug pm apach tomcat util digest digest start element startel sever begin event threw except java lang null pointer except nullpointerexcept apach catalina startup connector creat rule connectorcreaterul set executor setexecutor connector creat rule connectorcreaterul java apach catalina startup connector creat rule connectorcreaterul begin connector creat rule connectorcreaterul java apach tomcat util digest digest start element startel digest java sun apach xerc intern parser abstract parser abstractsaxpars start element startel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina load catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap load bootstrap java apach catalina startup bootstrap main bootstrap java aug pm apach catalina startup catalina load warn catalina start use conf server xml error null aug pm apach catalina connector connector init sever protocol handler instanti fail aug pm apach tomcat util digest digest start element startel sever begin event threw except java lang null pointer except nullpointerexcept apach catalina startup connector creat rule connectorcreaterul set executor setexecutor connector creat rule connectorcreaterul java apach catalina startup connector creat rule connectorcreaterul begin connector creat rule connectorcreaterul java apach tomcat util digest digest start element startel digest java sun apach xerc intern parser abstract parser abstractsaxpars start element startel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java aug pm apach catalina startup catalina load warn catalina start use conf server xml error null aug pm apach catalina startup catalina start sever cannot start server server instanc configur','2011-08-23 21:44:53',1314150000,'resolved fixed','517fd9b',1314230000,'java/org/apache/catalina/connector/Connector.java'),(399,51688,'Bug 51688  JreMemoryLeakPreventionListener should protect against AWT thread creation','Any webapp that calls java.awt.Toolkit.getDefaultToolkit will launch a new thread (AWT-Windows, AWT-XAWT, etc.) which will capture the ContextClassLoader, pinning the webapp in memory after an undeploy/redeploy.\n\nA simple addition to JreMemoryLeakPreventionListener can alleviate this condition.','jre memori leak prevent listen jrememoryleakpreventionlisten protect awt thread creation webapp call java awt toolkit get default toolkit getdefaulttoolkit launch new thread awt window awt xawt etc captur context class loader contextclassload pin webapp memori undeploy redeploy simpl addit jre memori leak prevent listen jrememoryleakpreventionlisten allevi condit','jre memori leak prevent listen jrememoryleakpreventionlisten protect awt thread creation','webapp call java awt toolkit get default toolkit getdefaulttoolkit launch new thread awt window awt xawt etc captur context class loader contextclassload pin webapp memori undeploy redeploy simpl addit jre memori leak prevent listen jrememoryleakpreventionlisten allevi condit','2011-08-19 14:49:17',1313780000,'resolved fixed','0cdbfa6',1314220000,'java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java'),(400,49683,'Bug 49683  Separate keep-alive and connection timeout with APR/native connector','','separ keep aliv keepal connect timeout apr nativ connector','separ keep aliv keepal connect timeout apr nativ connector','','2010-08-01 15:40:53',1280690000,'resolved fixed','bf4a544',1313520000,'java/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/tomcat/util/net/AprEndpoint.java'),(401,51658,'Bug 51658  Potential NPE in CoyoteAdapter.log','','potenti npe coyot adapt coyoteadapt log','potenti npe coyot adapt coyoteadapt log','','2011-08-13 11:10:19',1313250000,'resolved fixed','5d55842',1313480000,'java/org/apache/catalina/connector/CoyoteAdapter.java'),(402,51654,'Bug 51654  NullPointerException in startup (org.apache.catalina.startup.HostConfig.filterAppPaths) due to missing app base','A hard-to-diagnose NullPointerException at startup which can be bettered with an appropriate error message:\n\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.19\njava.lang.NullPointerException\nat org.apache.catalina.startup.HostConfig.filterAppPaths(HostConfig.java:493)\nat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:466)\nat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1322)\nat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)\nat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n\nOk, what\'s this about?\n\nIn \"protected String[] filterAppPaths(String[] unfilteredAppPaths)\"\nthe exception is raised at\n\n  for (String appPath : unfilteredAppPaths)\n\nWhich means the \"unfilteredAppPaths\" passed in is null. filterAppPaths does not check for that (shouldn\'t there be an assertion at least)\n\nThe problems comes from \"deployApps()\":\n\n    protected void deployApps() {\n\n        File appBase = appBase();\n        File configBase = configBase();\n        String[] filteredAppPaths = filterAppPaths(appBase.list()); <----\n        // Deploy XML descriptors from configBase\n        deployDescriptors(configBase, configBase.list());\n        // Deploy WARs, and loop if additional descriptors are found\n        deployWARs(appBase, filteredAppPaths);\n        // Deploy expanded folders\n        deployDirectories(appBase, filteredAppPaths);\n        \n    }\n\nWhere \"appBase.list()\" returns null. This must be because \"appBase\" does not actually denote a directory (A-HA!)\n\nIndeed, the server.xml points to a nonexisting appBase.\n\nSuggesting to add a check to \"deployApps\":\n\n    protected void deployApps() {\n\n        File appBase = appBase();\n        File configBase = configBase();\n\n        if (!appBase.exists() || appBase.list()==null) {\n            throw new IllegalArgumentException(\"The appBase \" + appBase + \" does not exist or cannot be listed\");\n        }\n\n        String[] filteredAppPaths = filterAppPaths(appBase.list()); <----\n        // Deploy XML descriptors from configBase\n        deployDescriptors(configBase, configBase.list());\n        // Deploy WARs, and loop if additional descriptors are found\n        deployWARs(appBase, filteredAppPaths);\n        // Deploy expanded folders\n        deployDirectories(appBase, filteredAppPaths);\n        \n    }\n\nThis probably violates some I18N requirement though.','null pointer except nullpointerexcept startup apach catalina startup host config hostconfig filter app path filterapppath due miss app base hard to diagnos hardtodiagnos null pointer except nullpointerexcept startup better appropri error messag info start servlet engin apach tomcat java lang null pointer except nullpointerexcept apach catalina startup host config hostconfig filter app path filterapppath host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig start host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java ok protect string filter app path filterapppath string unfilt app path unfilteredapppath except rais string app path apppath unfilt app path unfilteredapppath mean unfilt app path unfilteredapppath pass null filter app path filterapppath check shouldn assert least problem come deploy app deployapp protect void deploy app deployapp file app base appbas app base appbas file config base configbas config base configbas string filter app path filteredapppath filter app path filterapppath app base appbas list deploy xml descriptor config base configbas deploy descriptor deploydescriptor config base configbas config base configbas list deploy war loop addit descriptor found deploy deploywar app base appbas filter app path filteredapppath deploy expand folder deploy directori deploydirectori app base appbas filter app path filteredapppath app base appbas list return null must app base appbas actual denot directori inde server xml point nonexist app base appbas suggest add check deploy app deployapp protect void deploy app deployapp file app base appbas app base appbas file config base configbas config base configbas app base appbas exist app base appbas list null throw new illeg argument except illegalargumentexcept app base appbas app base appbas exist cannot list string filter app path filteredapppath filter app path filterapppath app base appbas list deploy xml descriptor config base configbas deploy descriptor deploydescriptor config base configbas config base configbas list deploy war loop addit descriptor found deploy deploywar app base appbas filter app path filteredapppath deploy expand folder deploy directori deploydirectori app base appbas filter app path filteredapppath probabl violat i18 i18n requir though','null pointer except nullpointerexcept startup apach catalina startup host config hostconfig filter app path filterapppath due miss app base','hard to diagnos hardtodiagnos null pointer except nullpointerexcept startup better appropri error messag info start servlet engin apach tomcat java lang null pointer except nullpointerexcept apach catalina startup host config hostconfig filter app path filterapppath host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig start host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java ok protect string filter app path filterapppath string unfilt app path unfilteredapppath except rais string app path apppath unfilt app path unfilteredapppath mean unfilt app path unfilteredapppath pass null filter app path filterapppath check shouldn assert least problem come deploy app deployapp protect void deploy app deployapp file app base appbas app base appbas file config base configbas config base configbas string filter app path filteredapppath filter app path filterapppath app base appbas list deploy xml descriptor config base configbas deploy descriptor deploydescriptor config base configbas config base configbas list deploy war loop addit descriptor found deploy deploywar app base appbas filter app path filteredapppath deploy expand folder deploy directori deploydirectori app base appbas filter app path filteredapppath app base appbas list return null must app base appbas actual denot directori inde server xml point nonexist app base appbas suggest add check deploy app deployapp protect void deploy app deployapp file app base appbas app base appbas file config base configbas config base configbas app base appbas exist app base appbas list null throw new illeg argument except illegalargumentexcept app base appbas app base appbas exist cannot list string filter app path filteredapppath filter app path filterapppath app base appbas list deploy xml descriptor config base configbas deploy descriptor deploydescriptor config base configbas config base configbas list deploy war loop addit descriptor found deploy deploywar app base appbas filter app path filteredapppath deploy expand folder deploy directori deploydirectori app base appbas filter app path filteredapppath probabl violat i18 i18n requir though','2011-08-12 10:36:54',1313160000,'resolved fixed','c4d1631',1313430000,'java/org/apache/catalina/startup/HostConfig.java'),(403,51650,'Bug 51650  possible nullpointer exception in RequestUtil.parseParameters','','possibl nullpoint except request util requestutil pars paramet parseparamet','possibl nullpoint except request util requestutil pars paramet parseparamet','','2011-08-11 17:03:48',1313100000,'resolved fixed','7562fc1',1313140000,'java/org/apache/catalina/util/RequestUtil.java'),(404,41673,'Bug 41673  Jasper output the message of compiling error using LF(\\n) on ANY OS.','Jasper output the message of compiling error using LF(\\n) on ANY OS.\nThis cannot be correctly displayed with Windows notepad.\n\nI think the line feed code along OS would be better, though I know other text \neditor solves this.','jasper output messag compil error use lf jasper output messag compil error use lf cannot correctli display window notepad think line feed code along would better though know text editor solv','jasper output messag compil error use lf','jasper output messag compil error use lf cannot correctli display window notepad think line feed code along would better though know text editor solv','2007-02-21 17:37:02',1172100000,'resolved fixed','841e9fc',1313000000,'java/org/apache/jasper/compiler/DefaultErrorHandler.java\njava/org/apache/jasper/compiler/ErrorDispatcher.java'),(405,51644,'Bug 51644  Unable to deploy applications with the name a#b.xml','When I try to deploy a context with the name \"a#b.xml\" I get the following exception.\n\n\nSEVERE: Unable to process JNDI URL [jndi:/localhost/sample/one/WEB-INF/classes]\nfor annotations\njava.io.FileNotFoundException: jndi:/localhost/sample/one/WEB-INF/classes\n        at org.apache.naming.resources.DirContextURLConnection.list(DirContextUR\nLConnection.java:452)\n        at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(Cont\nextConfig.java:1901)\n        at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(Conte\nxtConfig.java:1828)\n        at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.jav\na:1295)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfi\ng.java:896)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfi\ng.java:322)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycl\neSupport.java:119)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBa\nse.java:89)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContex\nt.java:5103)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase\n.java:812)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:78\n7)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607)\n\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.ja\nva:633)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.j\nava:558)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:468\n)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1363)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java\n:294)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycl\neSupport.java:119)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBa\nse.java:89)\n        at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBas\ne.java:1233)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.p\nrocessChildren(ContainerBase.java:1391)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.p\nrocessChildren(ContainerBase.java:1401)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.r\nun(ContainerBase.java:1380)\n        at java.lang.Thread.run(Thread.java:619)\n\n\nI would have expected the application to be available in the URI a/b. The bug seems to be in the \"list()\" method \"of DirContextURLConnection.java. The method assumes that context name does not have any \"/\" characters in it. See the developer note just before the \"if\" block. I have added the \"else if\" condition that seems to have solved the problem for me.\n\n            try {\n                String file = getURL().getFile();\n                // This will be of the form /<hostname>/<contextpath>/file name\n                // if <contextpath> is not empty otherwise this will be of the\n                // form /<hostname>/file name\n                // Strip off the hostname and the contextpath\n                int start;\n                if(context instanceof ProxyDirContext &&\n                        \"\".equals(((ProxyDirContext)context).getContextPath())){\n                    start = file.indexOf(\'/\',1);\n                }\n                else if(context instanceof ProxyDirContext){\n                	start=\"/\".length()\n                			+((ProxyDirContext)context).getHostName().length()\n                			+((ProxyDirContext)context).getContextPath().length();\n                	/*\n                	 * Seems like a bug in Tomcat. below was the code in Tomcat.\n                	 * How can it handle contextpath like \"/sample/one\". It cannot\n                	 */\n                    //start = file.indexOf(\'/\', file.indexOf(\'/\', 1) + 1);\n                } else\n                	start = file.indexOf(\'/\', file.indexOf(\'/\', 1) + 1);\n                \n                NamingEnumeration<NameClassPair> enumeration =\n                    context.list(file.substring(start));\n                while (enumeration.hasMoreElements()) {\n                    NameClassPair ncp = enumeration.nextElement();\n                    result.addElement(ncp.getName());\n                }\n            } catch (NamingException e) {','unabl deploy applic name xml tri deploy context name xml get follow except sever unabl process jndi url jndi localhost sampl one web inf class annot java file not found except filenotfoundexcept jndi localhost sampl one web inf class apach name resourc dir context connect dircontexturlconnect list dir context dircontextur connect lconnect java apach catalina startup context config contextconfig process annot jndi processannotationsjndi cont ext config extconfig java apach catalina startup context config contextconfig process annot url processannotationsurl cont xt config xtconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig jav apach catalina startup context config contextconfig configur start configurestart context confi contextconfi java apach catalina startup context config contextconfig lifecycl event lifecycleev context confi contextconfi java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support esupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl ba lifecycleba java apach catalina core standard context standardcontext start intern startintern standard contex standardcontex java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig va apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig ava apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support esupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl ba lifecycleba java apach catalina core contain base containerbas background process backgroundprocess contain ba containerba java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor rocess child rocesschildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor rocess child rocesschildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor contain base containerbas java java lang thread run thread java would expect applic avail uri seem list method dir context connect dircontexturlconnect java method assum context name charact see develop note block ad els condit seem solv problem tri string file get geturl get file getfil form hostnam contextpath file name contextpath empti otherwis form hostnam file name strip hostnam contextpath int start context instanceof proxi dir context proxydircontext equal proxi dir context proxydircontext context get context path getcontextpath start file index of indexof els context instanceof proxi dir context proxydircontext start length proxi dir context proxydircontext context get host name gethostnam length proxi dir context proxydircontext context get context path getcontextpath length seem like tomcat code tomcat handl contextpath like sampl one cannot start file index of indexof file index of indexof els start file index of indexof file index of indexof name enumer namingenumer name class pair nameclasspair enumer context list file substr start enumer ha more element hasmoreel name class pair nameclasspair ncp enumer next element nextel result add element addel ncp get name getnam catch name except namingexcept','unabl deploy applic name xml','tri deploy context name xml get follow except sever unabl process jndi url jndi localhost sampl one web inf class annot java file not found except filenotfoundexcept jndi localhost sampl one web inf class apach name resourc dir context connect dircontexturlconnect list dir context dircontextur connect lconnect java apach catalina startup context config contextconfig process annot jndi processannotationsjndi cont ext config extconfig java apach catalina startup context config contextconfig process annot url processannotationsurl cont xt config xtconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig jav apach catalina startup context config contextconfig configur start configurestart context confi contextconfi java apach catalina startup context config contextconfig lifecycl event lifecycleev context confi contextconfi java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support esupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl ba lifecycleba java apach catalina core standard context standardcontext start intern startintern standard contex standardcontex java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig va apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig ava apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support esupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl ba lifecycleba java apach catalina core contain base containerbas background process backgroundprocess contain ba containerba java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor rocess child rocesschildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor rocess child rocesschildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor contain base containerbas java java lang thread run thread java would expect applic avail uri seem list method dir context connect dircontexturlconnect java method assum context name charact see develop note block ad els condit seem solv problem tri string file get geturl get file getfil form hostnam contextpath file name contextpath empti otherwis form hostnam file name strip hostnam contextpath int start context instanceof proxi dir context proxydircontext equal proxi dir context proxydircontext context get context path getcontextpath start file index of indexof els context instanceof proxi dir context proxydircontext start length proxi dir context proxydircontext context get host name gethostnam length proxi dir context proxydircontext context get context path getcontextpath length seem like tomcat code tomcat handl contextpath like sampl one cannot start file index of indexof file index of indexof els start file index of indexof file index of indexof name enumer namingenumer name class pair nameclasspair enumer context list file substr start enumer ha more element hasmoreel name class pair nameclasspair ncp enumer next element nextel result add element addel ncp get name getnam catch name except namingexcept','2011-08-10 10:00:36',1312980000,'resolved fixed','bb7072c',1313000000,'java/org/apache/naming/resources/DirContextURLConnection.java'),(406,51640,'Bug 51640  clearReferencesJdbc seems to be causing leaks with com.oracle.ojdbc5 driver','','clear refer jdbc clearreferencesjdbc seem caus leak oracl ojdbc5 driver','clear refer jdbc clearreferencesjdbc seem caus leak oracl ojdbc5 driver','','2011-08-10 00:21:38',1312950000,'resolved fixed','cd2fecd',1312980000,'java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java'),(407,51641,'Bug 51641  Http11NioProcessor not correct release','org.apache.coyote.http11.Http11NioProtocol.Http11ConnectionHandler\n\ncode segment:\n==================================\n        @Override\n        public void release(SocketWrapper<NioChannel> socket) {\n            Http11NioProcessor processor = connections.remove(socket);\n            if (processor != null) {\n                processor.recycle();\n                recycledProcessors.offer(processor);\n            }\n        }\n==================================\n\nshould be:\n==================================\n        @Override\n        public void release(SocketWrapper<NioChannel> socket) {\n            Http11NioProcessor processor = connections.remove(socket.getSocket());\n            if (processor != null) {\n                processor.recycle();\n                recycledProcessors.offer(processor);\n            }\n        }\n==================================\n\ntype of connections is ConcurrentHashMap<NioChannel, Http11NioProcessor> ,\nnot ConcurrentHashMap<SocketWrapper<NioChannel>, Http11NioProcessor>.','http11 nio processor http11nioprocessor correct releas apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl code segment overrid public void releas socket wrapper socketwrapp nio channel niochannel socket http11 nio processor http11nioprocessor processor connect remov socket processor null processor recycl recycl processor recycledprocessor offer processor overrid public void releas socket wrapper socketwrapp nio channel niochannel socket http11 nio processor http11nioprocessor processor connect remov socket get socket getsocket processor null processor recycl recycl processor recycledprocessor offer processor type connect concurr hash map concurrenthashmap nio channel niochannel http11 nio processor http11nioprocessor concurr hash map concurrenthashmap socket wrapper socketwrapp nio channel niochannel http11 nio processor http11nioprocessor','http11 nio processor http11nioprocessor correct releas','apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl code segment overrid public void releas socket wrapper socketwrapp nio channel niochannel socket http11 nio processor http11nioprocessor processor connect remov socket processor null processor recycl recycl processor recycledprocessor offer processor overrid public void releas socket wrapper socketwrapp nio channel niochannel socket http11 nio processor http11nioprocessor processor connect remov socket get socket getsocket processor null processor recycl recycl processor recycledprocessor offer processor type connect concurr hash map concurrenthashmap nio channel niochannel http11 nio processor http11nioprocessor concurr hash map concurrenthashmap socket wrapper socketwrapp nio channel niochannel http11 nio processor http11nioprocessor','2011-08-10 03:37:44',1312960000,'resolved fixed','7ffca5b',1312980000,'java/org/apache/coyote/http11/Http11NioProtocol.java'),(408,51615,'Bug 51615  Line 267 of \"org.apache.tomcat.jdbc.pool.PooledConnection\": double assignment typo','Nothing bad here, but my compiler lights up:\n\nconnection = connection = driver.connect(driverURL, properties);\n\nClearly, to be fixed.','line apach tomcat jdbc pool pool connect pooledconnect doubl assign typo noth bad compil light connect connect driver connect driver driverurl properti clearli fix','line apach tomcat jdbc pool pool connect pooledconnect doubl assign typo','noth bad compil light connect connect driver connect driver driverurl properti clearli fix','2011-08-04 19:14:11',1312500000,'resolved fixed','8c41e9c',1312560000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PooledConnection.java'),(409,51610,'Bug 51610  Context fails to reload after an error in web.xml was corrected','With current trunk. Steps to reproduce:\n\n1. Start Tomcat 7\n\n2. Go to webapps/examples/WEB-INF/web.xml and uncomment <filter-mapping> for \"Timing Filter\" (line 75).\n\n3. Wait several seconds. The examples webapp is reloaded, but fails to start. \n\nThis happens because there is a typo. The <filter-name> value should be\ns/Timing Filter/Timing filter/.\n\nThere is stack trace in the logs:\n\n[[[\n04.08.2011 8:09:39 org.apache.catalina.startup.HostConfig checkResources\nWARNING: Error during context [/examples] restart\njava.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name Timing Filter\n	at org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:2950)\n	at org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:2915)\n	at org.apache.catalina.deploy.WebXml.configureContext(WebXml.java:1206)\n	at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1343)\n	at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:896)\n	at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:322)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n	at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1279)\n	at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1360)\n	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:294)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1240)\n	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1398)\n	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1408)\n	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1387)\n	at java.lang.Thread.run(Thread.java:662)\n]]]\n\n4. Go to web.xml and edit it once again. E.g. re-comment the mapping, or correct the typo.\n\n5. Wait several seconds. Here is an issue:\n\nEXPECTED: The examples webapp should reload successfully.\nACTUAL: Reload fails. The following is printed in the logs:\n\n04.08.2011 8:09:59 org.apache.catalina.startup.HostConfig checkResources\nINFO: Reloading context [/examples]\n04.08.2011 8:09:59 org.apache.catalina.util.LifecycleBase start\nINFO: The start() method was called on component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/examples]] after start() had already been called. The second call will be ignored.\n\n\n6. Stop Tomcat. Here is the second issue:\n\nEXPECTED: Successful shutdown\nACTUAL: \n[[[\n04.08.2011 8:14:10 org.apache.catalina.startup.Catalina stop\nSEVERE: Catalina.stop\norg.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/examples]] in state [STARTING_PREP]\n	at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:387)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:212)\n	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1072)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225)\n	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1072)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225)\n	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:502)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225)\n	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:748)\n	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225)\n	at org.apache.catalina.startup.Catalina.stop(Catalina.java:694)\n	at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:847)\n]]]\n\nThis exception at shutdown happens only if examples webapp was correct when Tomcat started, but was broken afterwards. If it was already broken at startup time, nothing happens.\n\n7. Here is the third issue: when the above happens the shutdown sequence is apparently aborted abnormally.\n\nEXPECTED: \"INFO: Stopping ProtocolHandler [\"http-bio-8080\"]\" etc. messages\nACTUAL: There are no messages after the \"SEVERE: Catalina.stop\" one that I cited above.','context fail reload error web xml correct current trunk step reproduc start tomcat go webapp exampl web inf web xml uncom filter map filtermap time filter line wait sever second exampl webapp reload fail start happen typo filter name filternam valu time filter time filter stack trace log apach catalina startup host config hostconfig check resourc checkresourc warn error context exampl restart java lang illeg argument except illegalargumentexcept filter map specifi unknown filter name time filter apach catalina core standard context standardcontext valid filter map validatefiltermap standard context standardcontext java apach catalina core standard context standardcontext add filter map addfiltermap standard context standardcontext java apach catalina deploy web xml webxml configur context configurecontext web xml webxml java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup host config hostconfig check resourc checkresourc host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run thread java go web xml edit re comment recom map correct typo wait sever second issu expect exampl webapp reload success actual reload fail follow print log apach catalina startup host config hostconfig check resourc checkresourc info reload context exampl apach catalina util lifecycl base lifecyclebas start info start method call compon standard engin standardengin catalina standard host standardhost localhost standard context standardcontext exampl start alreadi call second call ignor stop tomcat second issu expect success shutdown actual apach catalina startup catalina stop sever catalina stop apach catalina lifecycl except lifecycleexcept invalid lifecycl transit attempt stop compon standard engin standardengin catalina standard host standardhost localhost standard context standardcontext exampl state start prep apach catalina util lifecycl base lifecyclebas invalid transit invalidtransit lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard servic standardservic stop intern stopintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard server standardserv stop intern stopintern standard server standardserv java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina startup catalina stop catalina java apach catalina startup catalina catalina shutdown hook catalinashutdownhook run catalina java except shutdown happen exampl webapp correct tomcat start broken afterward alreadi broken startup time noth happen third issu happen shutdown sequenc appar abort abnorm expect info stop protocol handler protocolhandl http bio httpbio etc messag actual messag sever catalina stop one cite','context fail reload error web xml correct','current trunk step reproduc start tomcat go webapp exampl web inf web xml uncom filter map filtermap time filter line wait sever second exampl webapp reload fail start happen typo filter name filternam valu time filter time filter stack trace log apach catalina startup host config hostconfig check resourc checkresourc warn error context exampl restart java lang illeg argument except illegalargumentexcept filter map specifi unknown filter name time filter apach catalina core standard context standardcontext valid filter map validatefiltermap standard context standardcontext java apach catalina core standard context standardcontext add filter map addfiltermap standard context standardcontext java apach catalina deploy web xml webxml configur context configurecontext web xml webxml java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup host config hostconfig check resourc checkresourc host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run thread java go web xml edit re comment recom map correct typo wait sever second issu expect exampl webapp reload success actual reload fail follow print log apach catalina startup host config hostconfig check resourc checkresourc info reload context exampl apach catalina util lifecycl base lifecyclebas start info start method call compon standard engin standardengin catalina standard host standardhost localhost standard context standardcontext exampl start alreadi call second call ignor stop tomcat second issu expect success shutdown actual apach catalina startup catalina stop sever catalina stop apach catalina lifecycl except lifecycleexcept invalid lifecycl transit attempt stop compon standard engin standardengin catalina standard host standardhost localhost standard context standardcontext exampl state start prep apach catalina util lifecycl base lifecyclebas invalid transit invalidtransit lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core contain base containerbas stop intern stopintern contain base containerbas java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard servic standardservic stop intern stopintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina core standard server standardserv stop intern stopintern standard server standardserv java apach catalina util lifecycl base lifecyclebas stop lifecycl base lifecyclebas java apach catalina startup catalina stop catalina java apach catalina startup catalina catalina shutdown hook catalinashutdownhook run catalina java except shutdown happen exampl webapp correct tomcat start broken afterward alreadi broken startup time noth happen third issu happen shutdown sequenc appar abort abnorm expect info stop protocol handler protocolhandl http bio httpbio etc messag actual messag sever catalina stop one cite','2011-08-04 04:28:49',1312450000,'resolved fixed','ed0588b',1312560000,'java/org/apache/catalina/util/LifecycleBase.java'),(410,51614,'Bug 51614  PersistentManager loads session from Store and calls session.expire() twice.','To check whether session is loaded into  memory, StoreBase#processExpires calls findSession(id). \n\n=====\n...\nif (manager.findSession(keys[i]) != null) {\n    isLoaded = true;\n}\n...\n=====\n\nHowever, PersistentManager#findSession(id) loads session from Store when there is no session in memory. \nBecause session loaded from Store is an invalid session\nPersistentManager logs errorlog, calls session.expire(), and deletes session from Store. \n\nAs a result, findSession(id) returns null, and isLoaded becomes false. \nAnd, session.expire() is called again, and the session is deleted from Store.\n\nIf manager is PersistentManager, it is necessary to call PersistentManagerBase#isLoaded(id). \nHowever, to avoid regression of r1033024, other managers call findSession(id).\n\nBest regards.','persist manag persistentmanag load session store call session expir twice check whether session load memori store base storebas process expir processexpir call find session findsess id manag find session findsess key null is load isload true howev persist manag persistentmanag find session findsess id load session store session memori session load store invalid session persist manag persistentmanag log errorlog call session expir delet session store result find session findsess id return null is load isload becom fals session expir call session delet store manag persist manag persistentmanag necessari call persist manag base persistentmanagerbas is load isload id howev avoid regress r1033024 manag call find session findsess id best regard','persist manag persistentmanag load session store call session expir twice','check whether session load memori store base storebas process expir processexpir call find session findsess id manag find session findsess key null is load isload true howev persist manag persistentmanag find session findsess id load session store session memori session load store invalid session persist manag persistentmanag log errorlog call session expir delet session store result find session findsess id return null is load isload becom fals session expir call session delet store manag persist manag persistentmanag necessari call persist manag base persistentmanagerbas is load isload id howev avoid regress r1033024 manag call find session findsess id best regard','2011-08-04 11:19:47',1312470000,'resolved fixed','29e9966',1312460000,'java/org/apache/catalina/session/StoreBase.java'),(411,51588,'Bug 51588  Change access modifiers in AccessLogValve to make it easier to extend','I\'m adding some fields to a subclass of org.apache.catalina.valves.AccessLogValve but createLogElements() is the closest extension point available. Rather than reimplement the functionality there it would be preferable if both of the createAccessLogElement() methods were protected rather than private then it\'s a simple method of matching the char you want to use and falling back to super.createAccessLogElement().','chang access modifi access log valv accesslogvalv make easier extend ad field subclass apach catalina valv access log valv accesslogvalv creat log element createlogel closest extens point avail rather reimplement function would prefer creat access log element createaccesslogel method protect rather privat simpl method match char use fall back super creat access log element createaccesslogel','chang access modifi access log valv accesslogvalv make easier extend','ad field subclass apach catalina valv access log valv accesslogvalv creat log element createlogel closest extens point avail rather reimplement function would prefer creat access log element createaccesslogel method protect rather privat simpl method match char use fall back super creat access log element createaccesslogel','2011-07-30 02:33:45',1312010000,'resolved fixed','77213bb',1312130000,'java/org/apache/catalina/valves/AccessLogValve.java'),(412,51586,'Bug 51586  ContextConfig.checkHandlesTypes() doesn\'t check for VerifyError when loading class','I\'ve recently upgraded to Tomcat 7 and used to run with metadata-complete=\"true\" in my web.xml.  With Servlet 3 I decided I\'d try some of the annotation features.  When I turned off metadata-complete I got a VerifyError trying to load one of my classes.  This class is meant to only work on Tomcat 6 so the fact Tomcat 7 cannot load this class is expected.  What is not expected is that Tomcat 7 doesn\'t just ignore the error and continue scanning for annotations.  Looking in ContextConfig.checkHandlesTypes() I checks for virtually every type of loading failure except VerifyError.  Perhaps VerifyError should be added to this list?\n\njava.lang.VerifyError: class org.lds.stack.tomcat.decrypt.DecryptingStandardContext overrides final method start.()V\n	at java.lang.ClassLoader.defineClass1(Native Method)\n	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\n	at java.lang.ClassLoader.defineClass(ClassLoader.java:615)\n	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n	at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n	at java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n	at java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n	at java.lang.Class.forName0(Native Method)\n	at java.lang.Class.forName(Class.java:247)\n	at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1665)\n	at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n	at org.apache.catalina.startup.ContextConfig.checkHandlesTypes(ContextConfig.java:2006)\n	at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:1969)\n	at org.apache.catalina.startup.ContextConfig.processAnnotationsJar(ContextConfig.java:1858)\n	at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1826)\n	at org.apache.catalina.startup.ContextConfig.processAnnotations(ContextConfig.java:1812)\n	at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1306)\n	at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:896)\n	at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:322)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812)\n	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787)\n	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607)\n	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:633)\n	at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:558)\n	at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:468)\n	at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1322)\n	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n	at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:379)\n	at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:324)\n	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1041)\n	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:774)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033)\n	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:727)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:621)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450)','context config contextconfig check handl type checkhandlestyp doesn check verifi error verifyerror load class recent upgrad tomcat use run metadata complet metadatacomplet true web xml servlet decid tri annot featur turn metadata complet metadatacomplet got verifi error verifyerror tri load one class class meant work tomcat fact tomcat cannot load class expect expect tomcat doesn ignor error continu scan annot look context config contextconfig check handl type checkhandlestyp check virtual everi type load failur except verifi error verifyerror perhap verifi error verifyerror ad list java lang verifi error verifyerror class ld stack tomcat decrypt decrypt standard context decryptingstandardcontext overrid final method start java lang class loader classload defin class1 defineclass1 nativ method java lang class loader classload defin class cond defineclasscond class loader classload java java lang class loader classload defin class defineclass class loader classload java java secur secur class loader secureclassload defin class defineclass secur class loader secureclassload java java net class loader urlclassload defin class defineclass class loader urlclassload java java net class loader urlclassload access class loader urlclassload java java net class loader urlclassload run class loader urlclassload java java secur access control accesscontrol do privileg doprivileg nativ method java net class loader urlclassload find class findclass class loader urlclassload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class loadclass class loader classload java java lang class for name0 forname0 nativ method java lang class for name fornam class java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina startup context config contextconfig check handl type checkhandlestyp context config contextconfig java apach catalina startup context config contextconfig process annot stream processannotationsstream context config contextconfig java apach catalina startup context config contextconfig process annot jar processannotationsjar context config contextconfig java apach catalina startup context config contextconfig process annot url processannotationsurl context config contextconfig java apach catalina startup context config contextconfig process annot processannot context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig start host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas set state intern setstateintern lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas set state setstat lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard host standardhost start intern startintern standard host standardhost java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard engin standardengin start intern startintern standard engin standardengin java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard servic standardservic start intern startintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard server standardserv start intern startintern standard server standardserv java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java','context config contextconfig check handl type checkhandlestyp doesn check verifi error verifyerror load class','recent upgrad tomcat use run metadata complet metadatacomplet true web xml servlet decid tri annot featur turn metadata complet metadatacomplet got verifi error verifyerror tri load one class class meant work tomcat fact tomcat cannot load class expect expect tomcat doesn ignor error continu scan annot look context config contextconfig check handl type checkhandlestyp check virtual everi type load failur except verifi error verifyerror perhap verifi error verifyerror ad list java lang verifi error verifyerror class ld stack tomcat decrypt decrypt standard context decryptingstandardcontext overrid final method start java lang class loader classload defin class1 defineclass1 nativ method java lang class loader classload defin class cond defineclasscond class loader classload java java lang class loader classload defin class defineclass class loader classload java java secur secur class loader secureclassload defin class defineclass secur class loader secureclassload java java net class loader urlclassload defin class defineclass class loader urlclassload java java net class loader urlclassload access class loader urlclassload java java net class loader urlclassload run class loader urlclassload java java secur access control accesscontrol do privileg doprivileg nativ method java net class loader urlclassload find class findclass class loader urlclassload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class loadclass class loader classload java java lang class for name0 forname0 nativ method java lang class for name fornam class java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina startup context config contextconfig check handl type checkhandlestyp context config contextconfig java apach catalina startup context config contextconfig process annot stream processannotationsstream context config contextconfig java apach catalina startup context config contextconfig process annot jar processannotationsjar context config contextconfig java apach catalina startup context config contextconfig process annot url processannotationsurl context config contextconfig java apach catalina startup context config contextconfig process annot processannot context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig start host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas set state intern setstateintern lifecycl base lifecyclebas java apach catalina util lifecycl base lifecyclebas set state setstat lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard host standardhost start intern startintern standard host standardhost java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard engin standardengin start intern startintern standard engin standardengin java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard servic standardservic start intern startintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard server standardserv start intern startintern standard server standardserv java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java','2011-07-29 19:25:49',1311980000,'resolved fixed','0b340ac',1312130000,'java/org/apache/catalina/startup/ContextConfig.java'),(413,51557,'Bug 51557  Newline during a http header field name obscures next value','','newlin http header field name obscur next valu','newlin http header field name obscur next valu','','2011-07-26 06:12:43',1311680000,'resolved fixed','6200dd9',1311760000,'java/org/apache/coyote/http11/AbstractInputBuffer.java\njava/org/apache/coyote/http11/InternalAprInputBuffer.java\njava/org/apache/coyote/http11/InternalInputBuffer.java\njava/org/apache/coyote/http11/InternalNioInputBuffer.java\ntest/org/apache/coyote/http11/TestInternalInputBuffer.java'),(414,51545,'Bug 51545  make threadname available in ExtendedAccessLogValve','','make threadnam avail extend access log valv extendedaccesslogvalv','make threadnam avail extend access log valv extendedaccesslogvalv','','2011-07-23 09:07:02',1311430000,'resolved fixed','00a1fdf',1311670000,'java/org/apache/catalina/valves/ExtendedAccessLogValve.java'),(415,51555,'Bug 51555  An invalid Lifecycle transition ([before_stop]) for component in state [INITIALIZED]: MapperListener','','invalid lifecycl transit stop compon state initi mapper listen mapperlisten','invalid lifecycl transit stop compon state initi mapper listen mapperlisten','','2011-07-25 21:40:38',1311640000,'resolved fixed','95d67fe',1311670000,'java/org/apache/catalina/Lifecycle.java\njava/org/apache/catalina/util/LifecycleBase.java'),(416,41709,'Bug 41709  When calling the API that relates to the buffer after the response is committed, ISE with no messages is thrown.','After the response is committed, following API throws IllegalStateException.\nIt\'s O.K. but the message of the exception is not set.\n\n- HttpServletResponse#resetBuffer\n- HttpServletResponse#sendError\n- HttpServletResponse#sendRedirect\n- HttpServletResponse#setBufferSize\n\nTo understand the bug of the application, it is hoped that the message is set \nlike other exceptions.','call api relat buffer respons commit messag thrown respons commit follow api throw illeg state except illegalstateexcept messag except set http servlet respons httpservletrespons reset buffer resetbuff http servlet respons httpservletrespons send error senderror http servlet respons httpservletrespons send redirect sendredirect http servlet respons httpservletrespons set buffer size setbuffers understand applic hope messag set like except','call api relat buffer respons commit messag thrown','respons commit follow api throw illeg state except illegalstateexcept messag except set http servlet respons httpservletrespons reset buffer resetbuff http servlet respons httpservletrespons send error senderror http servlet respons httpservletrespons send redirect sendredirect http servlet respons httpservletrespons set buffer size setbuffers understand applic hope messag set like except','2007-02-26 17:43:51',1172530000,'resolved fixed','8baaa98',1311360000,'java/org/apache/catalina/connector/ResponseFacade.java'),(417,51056,'Bug 51056  Disable / drop support for SSLv2','','disabl drop support lv2 sslv2','disabl drop support lv2 sslv2','','2011-04-13 14:12:26',1302720000,'resolved fixed','4d9fcc0',1311240000,'java/org/apache/tomcat/jni/SSL.java'),(418,51532,'Bug 51532  Performance Issue when retriving JAR files during TLD file parsing.','','perform issu retriv jar file tld file pars','perform issu retriv jar file tld file pars','','2011-07-19 21:47:15',1311130000,'resolved fixed','bcee77d',1311190000,'java/org/apache/jasper/compiler/Compiler.java'),(419,51509,'Bug 51509  Csrf Prevention Filter\'s LruCache is not thread save','The LruCache (org.apache.catalina.filters.CsrfPreventionFilter$LruCache) use by Csrf Prevention Filter is base on LinkedHashMap.\n\nFrom the LinkedHashMap Java Doc:\nNote that this implementation is not synchronized.\nIf multiple threads access a linked hash map concurrently, and at least one of the threads modifies the map structurally, it must be synchronized externally. ...\n\nBut the LruCache implementation does not synchronize the access to the map.','csrf prevent filter lru cach lrucach thread save lru cach lrucach apach catalina filter csrf prevent filter csrfpreventionfilt lru cach lrucach use csrf prevent filter base link hash map linkedhashmap link hash map linkedhashmap java doc note implement synchron multipl thread access link hash map concurr least one thread modifi map structur must synchron extern lru cach lrucach implement synchron access map','csrf prevent filter lru cach lrucach thread save','lru cach lrucach apach catalina filter csrf prevent filter csrfpreventionfilt lru cach lrucach use csrf prevent filter base link hash map linkedhashmap link hash map linkedhashmap java doc note implement synchron multipl thread access link hash map concurr least one thread modifi map structur must synchron extern lru cach lrucach implement synchron access map','2011-07-14 14:54:22',1310670000,'resolved fixed','400745e',1311100000,'java/org/apache/catalina/filters/CsrfPreventionFilter.java\ntest/org/apache/catalina/filters/TestCsrfPreventionFilter2.java'),(420,51518,'Bug 51518  \"/absolute-ordering/name/others\" should not include \"name\" element','method:\norg.apache.catalina.startup.WebRuleSet.addRuleInstances(Digester digester)\n\n\ncode:\n====================================================\ndigester.addCallMethod(fullPrefix + \"/absolute-ordering/name/others\",\n                                   \"addAbsoluteOrderingOthers\");\n====================================================\n\n\nweb-common_3_0.xsd\n====================================================\n <xsd:complexType name=\"absoluteOrderingType\">\n    <xsd:annotation>\n      <xsd:documentation>\n\n        Please see section 8.2.2 of the specification for details.\n        \n      </xsd:documentation>\n    </xsd:annotation>\n    <xsd:choice minOccurs=\"0\"\n                maxOccurs=\"unbounded\">\n      <xsd:element name=\"name\"\n                   type=\"javaee:java-identifierType\"\n                   minOccurs=\"0\"\n                   maxOccurs=\"unbounded\"/>\n      <xsd:element name=\"others\"\n                   type=\"javaee:ordering-othersType\"\n                   minOccurs=\"0\"\n                   maxOccurs=\"1\"/>\n    </xsd:choice>\n  </xsd:complexType>\n====================================================','absolut order absoluteord name other includ name element method apach catalina startup web rule set webruleset add rule instanc addruleinst digest digest code digest add call method addcallmethod full prefix fullprefix absolut order absoluteord name other add absolut order other addabsoluteorderingoth web common webcommon xsd xsd complex type complextyp name absolut order type absoluteorderingtyp xsd annot xsd document pleas see section specif detail xsd document xsd annot xsd choic min occur minoccur max occur maxoccur unbound xsd element name name type javae java identifi type javaidentifiertyp min occur minoccur max occur maxoccur unbound xsd element name other type javae order other type orderingotherstyp min occur minoccur max occur maxoccur xsd choic xsd complex type complextyp','absolut order absoluteord name other includ name element','method apach catalina startup web rule set webruleset add rule instanc addruleinst digest digest code digest add call method addcallmethod full prefix fullprefix absolut order absoluteord name other add absolut order other addabsoluteorderingoth web common webcommon xsd xsd complex type complextyp name absolut order type absoluteorderingtyp xsd annot xsd document pleas see section specif detail xsd document xsd annot xsd choic min occur minoccur max occur maxoccur unbound xsd element name name type javae java identifi type javaidentifiertyp min occur minoccur max occur maxoccur unbound xsd element name other type javae order other type orderingotherstyp min occur minoccur max occur maxoccur xsd choic xsd complex type complextyp','2011-07-17 01:22:30',1310880000,'resolved fixed','5de2739',1311080000,'java/org/apache/catalina/startup/WebRuleSet.java'),(421,49595,'Bug 49595  Tomcat crashes in tcnative-1.dll frequently','','tomcat crash tcnativ dll frequent','tomcat crash tcnativ dll frequent','','2010-07-15 06:34:41',1279190000,'resolved fixed','a3f3379',1311060000,'java/org/apache/coyote/ajp/AjpAprProcessor.java'),(422,51503,'Bug 51503  Additional error checking required for connector port attribute (e.g. for port=\"\")','With 7.0.18 packaged as a candidate for release and finally unreleased, when I stop the Tomcat service (only 1 war deployed), the service takes a lot of time to stop and finally was killed by system.\n\nHaving a look into the stderr log, I see it paused right after the folowing line :\n\nINFO: Stopping ProtocolHandler [http-apr-0]\n\nThen went into a slow loop and fill the log with these lines :\n\n13 juil. 2011 14:30:30 org.apache.tomcat.util.net.AprEndpoint stopInternal\nATTENTION: Acceptor thread [http-apr-0-Acceptor-0] failed to unlock. Forcing hard socket shutdown.\n13 juil. 2011 14:30:31 org.apache.tomcat.util.net.AprEndpoint stopInternal\nATTENTION: Acceptor thread [http-apr-0-Acceptor-0] failed to unlock. Forcing hard socket shutdown.\n13 juil. 2011 14:30:32 org.apache.tomcat.util.net.AprEndpoint stopInternal\nATTENTION: Acceptor thread [http-apr-0-Acceptor-0] failed to unlock. Forcing hard socket shutdown.\netc. (about 30 times before it was killed)\n\nI think there was no such issue with 7.0.16.','addit error check requir connector port attribut port packag candid releas final unreleas stop tomcat servic deploy servic take lot time stop final kill system look stderr log see paus right folow line info stop protocol handler protocolhandl http apr httpapr went slow loop fill log line juil apach tomcat util net apr endpoint aprendpoint stop intern stopintern attent acceptor thread http apr httpapr acceptor fail unlock forc hard socket shutdown juil apach tomcat util net apr endpoint aprendpoint stop intern stopintern attent acceptor thread http apr httpapr acceptor fail unlock forc hard socket shutdown juil apach tomcat util net apr endpoint aprendpoint stop intern stopintern attent acceptor thread http apr httpapr acceptor fail unlock forc hard socket shutdown etc time kill think issu','addit error check requir connector port attribut port','packag candid releas final unreleas stop tomcat servic deploy servic take lot time stop final kill system look stderr log see paus right folow line info stop protocol handler protocolhandl http apr httpapr went slow loop fill log line juil apach tomcat util net apr endpoint aprendpoint stop intern stopintern attent acceptor thread http apr httpapr acceptor fail unlock forc hard socket shutdown juil apach tomcat util net apr endpoint aprendpoint stop intern stopintern attent acceptor thread http apr httpapr acceptor fail unlock forc hard socket shutdown juil apach tomcat util net apr endpoint aprendpoint stop intern stopintern attent acceptor thread http apr httpapr acceptor fail unlock forc hard socket shutdown etc time kill think issu','2011-07-13 12:40:11',1310580000,'resolved fixed','1e79993',1311010000,'java/org/apache/catalina/connector/Connector.java'),(423,51477,'Bug 51477  Support all protocol combinations in SSLProtocol of APR Connector','','support protocol combin protocol sslprotocol apr connector','support protocol combin protocol sslprotocol apr connector','','2011-07-05 16:53:25',1309900000,'resolved fixed','6ee5a22',1310400000,'java/org/apache/tomcat/jni/Library.java\njava/org/apache/tomcat/util/net/AprEndpoint.java'),(424,46252,'Bug 46252  Tomcat access log doesn\'t support Unicode','AccessLogValve, which is responsible for handling the access log uses FileWriter (that doesn\'t support Unicode). I guess that instantiating the writer like this would solve the case:\n\nwriter = new PrintWriter(new OutputStreamWriter(new FileOutputStream(pathname), \"UTF-8\"), true);','tomcat access log doesn support unicod access log valv accesslogvalv respons handl access log us file writer filewrit doesn support unicod guess instanti writer like would solv case writer new print writer printwrit new output stream writer outputstreamwrit new file output stream fileoutputstream pathnam utf true','tomcat access log doesn support unicod','access log valv accesslogvalv respons handl access log us file writer filewrit doesn support unicod guess instanti writer like would solv case writer new print writer printwrit new output stream writer outputstreamwrit new file output stream fileoutputstream pathnam utf true','2008-11-20 11:18:55',1227200000,'resolved fixed','871dabd',1310400000,'java/org/apache/catalina/valves/AccessLogValve.java'),(425,51494,'Bug 51494  NPE in StandardContextValve.invoke() when a webapp is redeployed while a request is still being processed','','npe standard context valv standardcontextvalv invok webapp redeploy request still process','npe standard context valv standardcontextvalv invok webapp redeploy request still process','','2011-07-10 01:56:23',1310280000,'resolved fixed','3a95db4',1310390000,'java/org/apache/catalina/core/StandardContextValve.java'),(426,51475,'Bug 51475  GzipInterceptor#decompress is not completly implemented','','gzip interceptor gzipinterceptor decompress completli implement','gzip interceptor gzipinterceptor decompress completli implement','','2011-07-05 09:58:12',1309870000,'resolved fixed','acc5619',1309880000,'java/org/apache/catalina/tribes/group/interceptors/GzipInterceptor.java\ntest/org/apache/catalina/tribes/group/interceptors/TestGzipInterceptor.java'),(427,51473,'Bug 51473  SecurityConfig,set \"package.definition\" security property to \"nullsun.,java.,...\"','','secur config securityconfig set packag definit secur properti nullsun java','secur config securityconfig set packag definit secur properti nullsun java','','2011-07-05 05:37:09',1309860000,'resolved fixed','ec00abf',1309850000,'java/org/apache/catalina/security/SecurityConfig.java'),(428,51467,'Bug 51467  usage of method run instead of start to start a thread','In StandardContext method Thread#run is used. This is most probably a mistake, since a few lines below Thread#join is called to wait for the completion of the thread.\n\nSo we could either remove the join and get rid of the thread by using just a runnable, or start the thread.','usag method run instead start start thread standard context standardcontext method thread run use probabl mistak sinc line thread join call wait complet thread could either remov join get rid thread use runnabl start thread','usag method run instead start start thread','standard context standardcontext method thread run use probabl mistak sinc line thread join call wait complet thread could either remov join get rid thread use runnabl start thread','2011-07-03 10:19:46',1309700000,'resolved fixed','eb98373',1309780000,'java/org/apache/catalina/core/StandardContext.java'),(429,51466,'Bug 51466  typos in comments of HostManagerServlet','','typo comment host manag servlet hostmanagerservlet','typo comment host manag servlet hostmanagerservlet','','2011-07-02 14:09:02',1309630000,'resolved fixed','6020bf6',1309780000,'java/org/apache/catalina/manager/host/HostManagerServlet.java'),(430,51453,'Bug 51453  Requests to open URL that include an Authorization header do not reach servlet','In Tomcat 7, I\'ve noticed that a request to a URL that does not require authentication will get forwarded to the login page if the request contains an \"Authorization\" header.\n\nOur application expects these requests to be processed by the servlet.  The servlet parses the Authorization header and takes appropriate action (possibly redirecting to the login page or allowing the request if the headers contain an acceptible token).  This has worked in older versions of Tomcat.\n\nThe relevant part of our web.xml looks like:\n\n<security-constraint>\n\n  <web-resource-collection>\n    <web-resource-name>open</web-resource-name>\n    <url-pattern>/*</url-pattern>\n    <!-- several other url patterns -->\n  </web-resource-collection>\n\n  <user-data-constraint>\n    <transport-guarantee>CONFIDENTIAL</transport-guarantee>\n  </user-data-constraint>\n\n  <!-- Notice no auth-constraint element -->\n\n</security-constraint>\n\nI observed the behavior of org.apache.catalina.authenticator.AuthenticatorBase.invoke(), here\'s what I saw:\n\nThe constraints variable contains a single constraint that matches the security constraint from our web.xml above.\n\nOn line 520, authRequired is set to true because of the presence of the Authorization header.\n\nThe authenticate() call on line 535 fails and redirects to the login page.','request open url includ author header reach servlet tomcat notic request url requir authent get forward login page request contain author header applic expect request process servlet servlet par author header take appropri action possibl redirect login page allow request header contain accept token work older version tomcat relev part web xml look like secur constraint securityconstraint web resourc collect webresourcecollect web resourc name webresourcenam open web resourc name webresourcenam url pattern urlpattern url pattern urlpattern sever url pattern web resourc collect webresourcecollect user data constraint userdataconstraint transport guarante transportguarante confidenti transport guarante transportguarante user data constraint userdataconstraint notic auth constraint authconstraint element secur constraint securityconstraint observ behavior apach catalina authent authent base authenticatorbas invok saw constraint variabl contain singl constraint match secur constraint web xml line auth requir authrequir set true presenc author header authent call line fail redirect login page','request open url includ author header reach servlet','tomcat notic request url requir authent get forward login page request contain author header applic expect request process servlet servlet par author header take appropri action possibl redirect login page allow request header contain accept token work older version tomcat relev part web xml look like secur constraint securityconstraint web resourc collect webresourcecollect web resourc name webresourcenam open web resourc name webresourcenam url pattern urlpattern url pattern urlpattern sever url pattern web resourc collect webresourcecollect user data constraint userdataconstraint transport guarante transportguarante confidenti transport guarante transportguarante user data constraint userdataconstraint notic auth constraint authconstraint element secur constraint securityconstraint observ behavior apach catalina authent authent base authenticatorbas invok saw constraint variabl contain singl constraint match secur constraint web xml line auth requir authrequir set true presenc author header authent call line fail redirect login page','2011-06-30 14:10:50',1309460000,'resolved fixed','df9bc17',1309450000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(431,51088,'Bug 51088  ArrayIndexOutOfBoundsException from org.apache.el.parser.JJTELParserState','I found the following ArrayIndexOutOfBoundsException in my logfile.\nIt occurred directly after login into my webApp without any further user interaction. Unfortunately it is not reproducible at all.\n\nI am not sure whether Jasper is the right component. However the class  JJTELParserState is in the jasper-el.jar.\n\nEnvironment:\nTomcat 6.0.32 \nFacelets 1.1.14\nMyfaces 1.2.9\n\nSCHWERWIEGEND: Error Rendering View[/facelets/myview.xhtml]\njava.lang.ArrayIndexOutOfBoundsException: -1\n	at java.util.ArrayList.remove(ArrayList.java:390)\n	at org.apache.el.parser.JJTELParserState.closeNodeScope(JJTELParserState.java:108)\n	at org.apache.el.parser.ELParser.CompositeExpression(ELParser.java:74)\n	at org.apache.el.lang.ExpressionBuilder.createNodeInternal(ExpressionBuilder.java:115)\n	at org.apache.el.lang.ExpressionBuilder.build(ExpressionBuilder.java:172)\n	at org.apache.el.lang.ExpressionBuilder.createValueExpression(ExpressionBuilder.java:216)\n	at org.apache.el.ExpressionFactoryImpl.createValueExpression(ExpressionFactoryImpl.java:68)\n	at com.sun.facelets.el.ELText$ELTextVariable.apply(ELText.java:161)\n	at com.sun.facelets.compiler.AttributeInstruction.apply(AttributeInstruction.java:60)\n	at com.sun.facelets.compiler.UIInstructionHandler.apply(UIInstructionHandler.java:95)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.jstl.core.IfHandler.apply(IfHandler.java:54)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.jsf.ComponentHandler.applyNextHandler(ComponentHandler.java:360)\n	at com.sun.facelets.tag.jsf.ComponentHandler.apply(ComponentHandler.java:190)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.jsf.ComponentHandler.applyNextHandler(ComponentHandler.java:360)\n	at com.sun.facelets.tag.jsf.ComponentHandler.apply(ComponentHandler.java:190)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.jsf.ComponentHandler.applyNextHandler(ComponentHandler.java:360)\n	at org.apache.myfaces.custom.aliasbean.AliasBeansScopeTagHandler.applyNextHandler(AliasBeansScopeTagHandler.java:52)\n	at com.sun.facelets.tag.jsf.ComponentHandler.apply(ComponentHandler.java:190)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:124)\n	at com.sun.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:49)\n	at com.sun.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:39)\n	at com.sun.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:248)\n	at com.sun.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:294)\n	at com.sun.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:273)\n	at com.sun.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:140)\n	at com.sun.facelets.tag.ui.IncludeHandler.apply(IncludeHandler.java:66)\n	at com.sun.facelets.tag.ui.DefineHandler.applyDefinition(DefineHandler.java:64)\n	at com.sun.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:136)\n	at com.sun.facelets.impl.DefaultFaceletContext$TemplateManager.apply(DefaultFaceletContext.java:337)\n	at com.sun.facelets.impl.DefaultFaceletContext.includeDefinition(DefaultFaceletContext.java:307)\n	at com.sun.facelets.tag.ui.InsertHandler.apply(InsertHandler.java:68)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.jsf.ComponentHandler.applyNextHandler(ComponentHandler.java:360)\n	at com.sun.facelets.tag.jsf.ComponentHandler.apply(ComponentHandler.java:190)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.jsf.ComponentHandler.applyNextHandler(ComponentHandler.java:360)\n	at com.sun.facelets.tag.jsf.ComponentHandler.apply(ComponentHandler.java:190)\n	at com.sun.facelets.tag.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:47)\n	at com.sun.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:124)\n	at com.sun.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:49)\n	at com.sun.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:39)\n	at com.sun.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:248)\n	at com.sun.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:294)\n	at com.sun.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:273)\n	at com.sun.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:140)\n	at com.sun.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:116)\n	at com.sun.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:49)\n	at com.sun.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:39)\n	at com.sun.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:95)\n	at com.sun.facelets.FaceletViewHandler.buildView(FaceletViewHandler.java:596)\n	at com.sun.facelets.FaceletViewHandler.renderView(FaceletViewHandler.java:651)\n	at org.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:100)\n	at org.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:176)\n	at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:41)\n	at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:140)\n	at org.apache.myfaces.custom.ppr.PPRLifecycleWrapper.render(PPRLifecycleWrapper.java:84)\n	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:187)\n	at com.foo..client.web.servlets.FacesServletWrapper.service(FacesServletWrapper.java:125)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:206)\n	at org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:290)\n	at org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:388)\n	at org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:515)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:392)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.foo..client.web.filters.LoginFilter.doFilter(LoginFilter.java:219)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.foo..client.web.filters.CacheFilter.doFilter(CacheFilter.java:110)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.foo..client.web.filters.EncodingFilter.doFilter(EncodingFilter.java:54)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.foo..client.web.filters.TimerFilter.doFilter(TimerFilter.java:80)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\n	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n	at java.lang.Thread.run(Thread.java:662)','array index out of bound except arrayindexoutofboundsexcept apach parser parser state jjtelparserst found follow array index out of bound except arrayindexoutofboundsexcept logfil occur directli login web app webapp without user interact unfortun reproduc sure whether jasper right compon howev class parser state jjtelparserst jasper el jasperel jar environ tomcat facelet myfac schwerwiegend error render view facelet myview xhtml java lang array index out of bound except arrayindexoutofboundsexcept java util array list arraylist remov array list arraylist java apach parser parser state jjtelparserst close node scope closenodescop parser state jjtelparserst java apach parser parser elpars composit express compositeexpress parser elpars java apach lang express builder expressionbuild creat node intern createnodeintern express builder expressionbuild java apach lang express builder expressionbuild build express builder expressionbuild java apach lang express builder expressionbuild creat valu express createvalueexpress express builder expressionbuild java apach express factori impl expressionfactoryimpl creat valu express createvalueexpress express factori impl expressionfactoryimpl java sun facelet text eltext text variabl eltextvari appli text eltext java sun facelet compil attribut instruct attributeinstruct appli attribut instruct attributeinstruct java sun facelet compil ui instruct handler uiinstructionhandl appli ui instruct handler uiinstructionhandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jstl core if handler ifhandl appli if handler ifhandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java apach myfac custom aliasbean alia bean scope tag handler aliasbeansscopetaghandl appli next handler applynexthandl alia bean scope tag handler aliasbeansscopetaghandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet compil namespac handler namespacehandl appli namespac handler namespacehandl java sun facelet compil encod handler encodinghandl appli encod handler encodinghandl java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet context defaultfaceletcontext includ facelet includefacelet default facelet context defaultfaceletcontext java sun facelet tag ui includ handler includehandl appli includ handler includehandl java sun facelet tag ui defin handler definehandl appli definit applydefinit defin handler definehandl java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet impl default facelet context defaultfaceletcontext templat manag templatemanag appli default facelet context defaultfaceletcontext java sun facelet impl default facelet context defaultfaceletcontext includ definit includedefinit default facelet context defaultfaceletcontext java sun facelet tag ui insert handler inserthandl appli insert handler inserthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet compil namespac handler namespacehandl appli namespac handler namespacehandl java sun facelet compil encod handler encodinghandl appli encod handler encodinghandl java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet context defaultfaceletcontext includ facelet includefacelet default facelet context defaultfaceletcontext java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet compil namespac handler namespacehandl appli namespac handler namespacehandl java sun facelet compil encod handler encodinghandl appli encod handler encodinghandl java sun facelet impl default facelet defaultfacelet appli default facelet defaultfacelet java sun facelet facelet view handler faceletviewhandl build view buildview facelet view handler faceletviewhandl java sun facelet facelet view handler faceletviewhandl render view renderview facelet view handler faceletviewhandl java ajax4jsf applic view handler wrapper viewhandlerwrapp render view renderview view handler wrapper viewhandlerwrapp java ajax4jsf applic ajax view handler ajaxviewhandl render view renderview ajax view handler ajaxviewhandl java apach myfac lifecycl render respons executor renderresponseexecutor execut render respons executor renderresponseexecutor java apach myfac lifecycl lifecycl impl lifecycleimpl render lifecycl impl lifecycleimpl java apach myfac custom ppr lifecycl wrapper pprlifecyclewrapp render lifecycl wrapper pprlifecyclewrapp java javax face webapp face servlet facesservlet servic face servlet facesservlet java foo client web servlet face servlet wrapper facesservletwrapp servic face servlet wrapper facesservletwrapp java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java ajax4jsf webapp base filter basexmlfilt do xml filter doxmlfilt base filter basexmlfilt java ajax4jsf webapp base filter basefilt handl request handlerequest base filter basefilt java ajax4jsf webapp base filter basefilt process upload and handl request processuploadsandhandlerequest base filter basefilt java ajax4jsf webapp base filter basefilt do filter dofilt base filter basefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach myfac webapp filter extens filter extensionsfilt do filter dofilt extens filter extensionsfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter login filter loginfilt do filter dofilt login filter loginfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter cach filter cachefilt do filter dofilt cach filter cachefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter encod filter encodingfilt do filter dofilt encod filter encodingfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter timer filter timerfilt do filter dofilt timer filter timerfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java','array index out of bound except arrayindexoutofboundsexcept apach parser parser state jjtelparserst','found follow array index out of bound except arrayindexoutofboundsexcept logfil occur directli login web app webapp without user interact unfortun reproduc sure whether jasper right compon howev class parser state jjtelparserst jasper el jasperel jar environ tomcat facelet myfac schwerwiegend error render view facelet myview xhtml java lang array index out of bound except arrayindexoutofboundsexcept java util array list arraylist remov array list arraylist java apach parser parser state jjtelparserst close node scope closenodescop parser state jjtelparserst java apach parser parser elpars composit express compositeexpress parser elpars java apach lang express builder expressionbuild creat node intern createnodeintern express builder expressionbuild java apach lang express builder expressionbuild build express builder expressionbuild java apach lang express builder expressionbuild creat valu express createvalueexpress express builder expressionbuild java apach express factori impl expressionfactoryimpl creat valu express createvalueexpress express factori impl expressionfactoryimpl java sun facelet text eltext text variabl eltextvari appli text eltext java sun facelet compil attribut instruct attributeinstruct appli attribut instruct attributeinstruct java sun facelet compil ui instruct handler uiinstructionhandl appli ui instruct handler uiinstructionhandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jstl core if handler ifhandl appli if handler ifhandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java apach myfac custom aliasbean alia bean scope tag handler aliasbeansscopetaghandl appli next handler applynexthandl alia bean scope tag handler aliasbeansscopetaghandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet compil namespac handler namespacehandl appli namespac handler namespacehandl java sun facelet compil encod handler encodinghandl appli encod handler encodinghandl java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet context defaultfaceletcontext includ facelet includefacelet default facelet context defaultfaceletcontext java sun facelet tag ui includ handler includehandl appli includ handler includehandl java sun facelet tag ui defin handler definehandl appli definit applydefinit defin handler definehandl java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet impl default facelet context defaultfaceletcontext templat manag templatemanag appli default facelet context defaultfaceletcontext java sun facelet impl default facelet context defaultfaceletcontext includ definit includedefinit default facelet context defaultfaceletcontext java sun facelet tag ui insert handler inserthandl appli insert handler inserthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag jsf compon handler componenthandl appli next handler applynexthandl compon handler componenthandl java sun facelet tag jsf compon handler componenthandl appli compon handler componenthandl java sun facelet tag composit facelet handler compositefacelethandl appli composit facelet handler compositefacelethandl java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet compil namespac handler namespacehandl appli namespac handler namespacehandl java sun facelet compil encod handler encodinghandl appli encod handler encodinghandl java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet defaultfacelet includ default facelet defaultfacelet java sun facelet impl default facelet context defaultfaceletcontext includ facelet includefacelet default facelet context defaultfaceletcontext java sun facelet tag ui composit handler compositionhandl appli composit handler compositionhandl java sun facelet compil namespac handler namespacehandl appli namespac handler namespacehandl java sun facelet compil encod handler encodinghandl appli encod handler encodinghandl java sun facelet impl default facelet defaultfacelet appli default facelet defaultfacelet java sun facelet facelet view handler faceletviewhandl build view buildview facelet view handler faceletviewhandl java sun facelet facelet view handler faceletviewhandl render view renderview facelet view handler faceletviewhandl java ajax4jsf applic view handler wrapper viewhandlerwrapp render view renderview view handler wrapper viewhandlerwrapp java ajax4jsf applic ajax view handler ajaxviewhandl render view renderview ajax view handler ajaxviewhandl java apach myfac lifecycl render respons executor renderresponseexecutor execut render respons executor renderresponseexecutor java apach myfac lifecycl lifecycl impl lifecycleimpl render lifecycl impl lifecycleimpl java apach myfac custom ppr lifecycl wrapper pprlifecyclewrapp render lifecycl wrapper pprlifecyclewrapp java javax face webapp face servlet facesservlet servic face servlet facesservlet java foo client web servlet face servlet wrapper facesservletwrapp servic face servlet wrapper facesservletwrapp java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java ajax4jsf webapp base filter basexmlfilt do xml filter doxmlfilt base filter basexmlfilt java ajax4jsf webapp base filter basefilt handl request handlerequest base filter basefilt java ajax4jsf webapp base filter basefilt process upload and handl request processuploadsandhandlerequest base filter basefilt java ajax4jsf webapp base filter basefilt do filter dofilt base filter basefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach myfac webapp filter extens filter extensionsfilt do filter dofilt extens filter extensionsfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter login filter loginfilt do filter dofilt login filter loginfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter cach filter cachefilt do filter dofilt cach filter cachefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter encod filter encodingfilt do filter dofilt encod filter encodingfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java foo client web filter timer filter timerfilt do filter dofilt timer filter timerfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java','2011-04-20 05:42:42',1303290000,'resolved wontfix','92af111',1309360000,'java/org/apache/el/lang/ExpressionBuilder.java'),(432,51436,'Bug 51436  ServletRequestListener fails to access request parameters when an Expect-Header is sent','','servlet request listen servletrequestlisten fail access request paramet expect header sent','servlet request listen servletrequestlisten fail access request paramet expect header sent','','2011-06-27 09:56:45',1309180000,'resolved fixed','6dffc54',1309280000,'java/org/apache/catalina/core/StandardContextValve.java\njava/org/apache/catalina/core/StandardWrapperValve.java'),(433,50353,'Bug 50353  Calling asyncContext.getResponse() returns null after async timeout','If the async thread calls asyncContext.getResponse() after the async timeout, it gets a null reference. \nIn the following example, it leads to a NPE.\n\nThe servlet spec is not very clear on the behavior to adopt after a timeout, but I don\'t think null should be returned. Maybe an IllegalStateException instead ? It seems to be the case if complete() is called after the timeout.\n\npackage test;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.AsyncContext;\nimport javax.servlet.AsyncEvent;\nimport javax.servlet.AsyncListener;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class MyServlet\n */\n@WebServlet(value = \"/MyServlet\", asyncSupported = true)\npublic class MyServlet extends HttpServlet implements AsyncListener {\n	private static final long serialVersionUID = 1L;\n\n	protected void doGet(HttpServletRequest request,\n			HttpServletResponse response) throws ServletException, IOException {\n		final AsyncContext asyncContext = request.startAsync(request, response);\n		asyncContext.addListener(this);\n		asyncContext.setTimeout(10*1000);\n\n		asyncContext.start(new Runnable() {\n\n			@Override\n			public void run() {\n				System.out.println(\"Entering async thread\");\n				try {\n					Thread.sleep(20 * 1000);\n					System.out.println(\"<Asyncthread> about to write response\");\n					ServletResponse response2 = asyncContext.getResponse();\n					PrintWriter writer = response2.getWriter();\n					writer.write(\"Hello world\");\n					System.out.println(\"<Asyncthread> about to complete\");\n					asyncContext.complete();\n				} catch (Exception e) {\n					e.printStackTrace();\n				}\n			}\n		});\n	}\n\n	@Override\n	public void onComplete(AsyncEvent evt) throws IOException {\n		System.out.println(\"onComplete \" + evt);\n	}\n\n	@Override\n	public void onError(AsyncEvent evt) throws IOException {\n		System.out.println(\"onError \" + evt);\n	}\n\n	@Override\n	public void onStartAsync(AsyncEvent evt) throws IOException {\n		System.out.println(\"onStartAsync \" + evt);\n	}\n\n	@Override\n	public void onTimeout(AsyncEvent evt) throws IOException {\n		System.out.println(\"onTimeout \" + evt);\n		evt.getAsyncContext().getResponse().getWriter().write(\"Timed out\");\n		evt.getAsyncContext().complete();\n	}\n}','call async context asynccontext get respons getrespons return null async timeout async thread call async context asynccontext get respons getrespons async timeout get null refer follow exampl lead npe servlet spec clear behavior adopt timeout think null return mayb illeg state except illegalstateexcept instead seem case complet call timeout packag import java except ioexcept import java print writer printwrit import javax servlet async context asynccontext import javax servlet async event asyncev import javax servlet async listen asynclisten import javax servlet servlet except servletexcept import javax servlet servlet respons servletrespons import javax servlet annot web servlet webservlet import javax servlet http http servlet httpservlet import javax servlet http http servlet request httpservletrequest import javax servlet http http servlet respons httpservletrespons servlet implement class my servlet myservlet web servlet webservlet valu my servlet myservlet async support asyncsupport true public class my servlet myservlet extend http servlet httpservlet implement async listen asynclisten privat static final long serial versionui serialversionuid 1l protect void do get doget http servlet request httpservletrequest request http servlet respons httpservletrespons respons throw servlet except servletexcept except ioexcept final async context asynccontext async context asynccontext request start async startasync request respons async context asynccontext add listen addlisten async context asynccontext set timeout settimeout async context asynccontext start new runnabl overrid public void run system println enter async thread tri thread sleep system println asyncthread write respons servlet respons servletrespons response2 async context asynccontext get respons getrespons print writer printwrit writer response2 get writer getwrit writer write hello world system println asyncthread complet async context asynccontext complet catch except print stack trace printstacktrac overrid public void on complet oncomplet async event asyncev evt throw except ioexcept system println on complet oncomplet evt overrid public void on error onerror async event asyncev evt throw except ioexcept system println on error onerror evt overrid public void on start async onstartasync async event asyncev evt throw except ioexcept system println on start async onstartasync evt overrid public void on timeout ontimeout async event asyncev evt throw except ioexcept system println on timeout ontimeout evt evt get async context getasynccontext get respons getrespons get writer getwrit write time evt get async context getasynccontext complet','call async context asynccontext get respons getrespons return null async timeout','async thread call async context asynccontext get respons getrespons async timeout get null refer follow exampl lead npe servlet spec clear behavior adopt timeout think null return mayb illeg state except illegalstateexcept instead seem case complet call timeout packag import java except ioexcept import java print writer printwrit import javax servlet async context asynccontext import javax servlet async event asyncev import javax servlet async listen asynclisten import javax servlet servlet except servletexcept import javax servlet servlet respons servletrespons import javax servlet annot web servlet webservlet import javax servlet http http servlet httpservlet import javax servlet http http servlet request httpservletrequest import javax servlet http http servlet respons httpservletrespons servlet implement class my servlet myservlet web servlet webservlet valu my servlet myservlet async support asyncsupport true public class my servlet myservlet extend http servlet httpservlet implement async listen asynclisten privat static final long serial versionui serialversionuid 1l protect void do get doget http servlet request httpservletrequest request http servlet respons httpservletrespons respons throw servlet except servletexcept except ioexcept final async context asynccontext async context asynccontext request start async startasync request respons async context asynccontext add listen addlisten async context asynccontext set timeout settimeout async context asynccontext start new runnabl overrid public void run system println enter async thread tri thread sleep system println asyncthread write respons servlet respons servletrespons response2 async context asynccontext get respons getrespons print writer printwrit writer response2 get writer getwrit writer write hello world system println asyncthread complet async context asynccontext complet catch except print stack trace printstacktrac overrid public void on complet oncomplet async event asyncev evt throw except ioexcept system println on complet oncomplet evt overrid public void on error onerror async event asyncev evt throw except ioexcept system println on error onerror evt overrid public void on start async onstartasync async event asyncev evt throw except ioexcept system println on start async onstartasync evt overrid public void on timeout ontimeout async event asyncev evt throw except ioexcept system println on timeout ontimeout evt evt get async context getasynccontext get respons getrespons get writer getwrit write time evt get async context getasynccontext complet','2010-11-27 17:45:41',1290900000,'resolved fixed','d36c5d9',1309280000,'java/org/apache/catalina/core/AsyncContextImpl.java'),(434,51447,'Bug 51447  Session type changes from Backup to Primary','','session type chang backup primari','session type chang backup primari','','2011-06-28 11:15:18',1309270000,'resolved fixed','3d85a85',1309280000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(435,51418,'Bug 51418  Allow more flexibility in adding webapps to org.apache.catalina.startup.Tomcat','','allow flexibl ad webapp apach catalina startup tomcat','allow flexibl ad webapp apach catalina startup tomcat','','2011-06-22 15:54:00',1308770000,'resolved fixed','f83c07e',1308770000,'java/org/apache/catalina/startup/Tomcat.java'),(436,51403,'Bug 51403  Avoid NullPointerException in JULI FileHandler if formatter is misconfigured','If formatter assigned to org.apache.juli.FileHandler in logging.properties is misconfigured and fails to load,\nthe FileHandler starts without formatter and fails with an NPE later.\n\nTo reproduce: assign some bogus value to\n1catalina.org.apache.juli.FileHandler.formatter\n\nWhen Tomcat starts, the following will be printed at the console:\n\njava.util.logging.ErrorManager: 4\njava.lang.NullPointerException\n        at org.apache.juli.FileHandler.openWriter(FileHandler.java:377)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:99)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:90)\n\n\nI think we can be more tolerant to this configuration error and fall back to the default formatter. I will commit a fix shortly.','avoid null pointer except nullpointerexcept juli file handler filehandl formatt misconfigur formatt assign apach juli file handler filehandl log properti misconfigur fail load file handler filehandl start without formatt fail npe later reproduc assign bogu valu 1catalina apach juli file handler filehandl formatt tomcat start follow print consol java util log error manag errormanag java lang null pointer except nullpointerexcept apach juli file handler filehandl open writer openwrit file handler filehandl java apach juli file handler filehandl init file handler filehandl java apach juli file handler filehandl init file handler filehandl java think toler configur error fall back default formatt commit fix shortli','avoid null pointer except nullpointerexcept juli file handler filehandl formatt misconfigur','formatt assign apach juli file handler filehandl log properti misconfigur fail load file handler filehandl start without formatt fail npe later reproduc assign bogu valu 1catalina apach juli file handler filehandl formatt tomcat start follow print consol java util log error manag errormanag java lang null pointer except nullpointerexcept apach juli file handler filehandl open writer openwrit file handler filehandl java apach juli file handler filehandl init file handler filehandl java apach juli file handler filehandl init file handler filehandl java think toler configur error fall back default formatt commit fix shortli','2011-06-21 13:13:00',1308680000,'resolved fixed','f2dd57b',1308660000,'java/org/apache/juli/FileHandler.java'),(437,51401,'Bug 51401  java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence','','java lang illeg argument except illegalargumentexcept session config sessionconfig element limit occurr','java lang illeg argument except illegalargumentexcept session config sessionconfig element limit occurr','','2011-06-21 01:36:08',1308630000,'resolved fixed','7c274bb',1308650000,'java/org/apache/catalina/startup/WebRuleSet.java'),(438,51396,'Bug 51396  Embedding class cannot launch a webapp with a jsp servlet','','embed class cannot launch webapp jsp servlet','embed class cannot launch webapp jsp servlet','','2011-06-20 17:02:09',1308600000,'resolved fixed','f75418b',1308610000,'java/org/apache/catalina/startup/ContextConfig.java\ntest/org/apache/catalina/startup/TestContextConfig.java'),(439,49165,'Bug 49165  Enhancement - Allow %{TIME_FORMAT}t As Configuration for AccessLogValve','AccessLogValve.DateAndTimeElement() can currently be configured only with %t which output the date/time in Common Log Format.\n\nBy adding the capability to configure with %{TIME_FORMAT}, one could override (at least) the timeFormatter property of the class ... or it could go further and allow overriding of all the [day, month, year, time]Formatter properties.\n\nJustification for enhancement:  The log currenlty provide the ability to log processing time in millis (via %T), but an accurate log of the order in which requests are received cannot be determined without the capabilities of logging a  a format with milliseconds using the %t element.','enhanc allow time format configur access log valv accesslogvalv access log valv accesslogvalv date and time element dateandtimeel current configur output date time common log format ad capabl configur time format one could overrid least time formatt timeformatt properti class could go allow overrid day month year time formatt properti justif enhanc log currenlti provid abil log process time milli via accur log order request receiv cannot determin without capabl log format millisecond use element','enhanc allow time format configur access log valv accesslogvalv','access log valv accesslogvalv date and time element dateandtimeel current configur output date time common log format ad capabl configur time format one could overrid least time formatt timeformatt properti class could go allow overrid day month year time formatt properti justif enhanc log currenlti provid abil log process time milli via accur log order request receiv cannot determin without capabl log format millisecond use element','2010-04-21 14:20:08',1271870000,'resolved fixed','7d6c439',1308480000,'java/org/apache/catalina/valves/AccessLogValve.java'),(440,51386,'Bug 51386  @HandlingType not correctly handled at server startup leads to incorrect classes set passed to initializers','','handl type handlingtyp correctli handl server startup lead incorrect class set pass initi','handl type handlingtyp correctli handl server startup lead incorrect class set pass initi','','2011-06-16 14:12:27',1308250000,'resolved fixed','9f8b983',1308240000,'java/org/apache/catalina/startup/ContextConfig.java\ntest/org/apache/catalina/startup/TestContextConfigAnnotation.java'),(441,48956,'Bug 48956  SSI regular expressions not working','','ssi regular express work','ssi regular express work','','2010-03-22 11:48:29',1269270000,'resolved fixed','874048a',1308180000,'java/org/apache/catalina/ssi/ExpressionParseTree.java'),(442,43538,'Bug 43538  [patch] Show the hostname and IP address in the manager webapp','We have an environment with a couple of load-balanced Tomcats fronted by httpd.\nIf someone accesses the manager application through the load-balancer, they will\nnot know which of the load-balanced Tomcats they end up at. In these situations,\nand others as well, it would be nice if the manager could tell the hostname and\nIP address of the machine it is running on.','patch show hostnam ip address manag webapp environ coupl load balanc loadbalanc tomcat front httpd someon access manag applic load balanc loadbalanc know load balanc loadbalanc tomcat situat other well would nice manag could tell hostnam ip address machin run','patch show hostnam ip address manag webapp','environ coupl load balanc loadbalanc tomcat front httpd someon access manag applic load balanc loadbalanc know load balanc loadbalanc tomcat situat other well would nice manag could tell hostnam ip address machin run','2007-10-02 14:42:39',1191350000,'resolved fixed','2b8e6cf',1308180000,'java/org/apache/catalina/manager/Constants.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/manager/StatusManagerServlet.java'),(443,51306,'Bug 51306  NPE in DeltaRequest.writeExternal(DeltaRequest.java:267) when handling remote session expiration','Occasionally we got errors like following:\n======\n2011-05-30 03:40:17,697 ERROR [pool-1-thread-2] (org.apache.catalina.ha.session.DeltaManager) Manager [localhost#]: Unable to receive message through TCP channel\njava.lang.NullPointerException\nat java.io.ObjectOutputStream$BlockDataOutputStream.getUTFLength(ObjectOutputStream.java:2106)\nat java.io.ObjectOutputStream$BlockDataOutputStream.writeUTF(ObjectOutputStream.java:1977)\nat java.io.ObjectOutputStream.writeUTF(ObjectOutputStream.java:849)\nat org.apache.catalina.ha.session.DeltaRequest.writeExternal(DeltaRequest.java:267)\nat org.apache.catalina.ha.session.DeltaRequest.serialize(DeltaRequest.java:287)\nat org.apache.catalina.ha.session.DeltaManager.serializeDeltaRequest(DeltaManager.java:716)\nat org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1224)\nat org.apache.catalina.ha.session.DeltaSession.expire(DeltaSession.java:403)\nat org.apache.catalina.ha.session.DeltaManager.handleSESSION_EXPIRED(DeltaManager.java:1546)\nat org.apache.catalina.ha.session.DeltaManager.messageReceived(DeltaManager.java:1452)\nat org.apache.catalina.ha.session.DeltaManager.messageDataReceived(DeltaManager.java:1173)\nat org.apache.catalina.ha.session.ClusterSessionListener.messageReceived(ClusterSessionListener.java:92)\nat org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(SimpleTcpCluster.java:901)\nat org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(SimpleTcpCluster.java:882)\nat org.apache.catalina.tribes.group.GroupChannel.messageReceived(GroupChannel.java:269)\nat org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79)\nat org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.messageReceived(TcpFailureDetector.java:110)\nat org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79)\nat org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79)\nat org.apache.catalina.tribes.group.ChannelCoordinator.messageReceived(ChannelCoordinator.java:241)\nat org.apache.catalina.tribes.transport.ReceiverBase.messageDataReceived(ReceiverBase.java:225)\nat org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:188)\nat org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:91)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662) \n\nIt looks like the functionality of Tomcat is not affected by this.\n\nThe NPE comes from trying to write null sessionId, but why does Tomcat try to send something from handling received authoritative SESSION_EXPIRED message?','npe delta request deltarequest write extern writeextern delta request deltarequest java handl remot session expir occasion got error like follow error pool thread 1thread apach catalina session delta manag deltamanag manag localhost unabl receiv messag tcp channel java lang null pointer except nullpointerexcept java object output stream objectoutputstream block data output stream blockdataoutputstream get length getutflength object output stream objectoutputstream java java object output stream objectoutputstream block data output stream blockdataoutputstream write writeutf object output stream objectoutputstream java java object output stream objectoutputstream write writeutf object output stream objectoutputstream java apach catalina session delta request deltarequest write extern writeextern delta request deltarequest java apach catalina session delta request deltarequest serial delta request deltarequest java apach catalina session delta manag deltamanag serial delta request serializedeltarequest delta manag deltamanag java apach catalina session delta manag deltamanag request complet requestcomplet delta manag deltamanag java apach catalina session delta session deltasess expir delta session deltasess java apach catalina session delta manag deltamanag handl handlesess expir delta manag deltamanag java apach catalina session delta manag deltamanag messag receiv messagereceiv delta manag deltamanag java apach catalina session delta manag deltamanag messag data receiv messagedatareceiv delta manag deltamanag java apach catalina session cluster session listen clustersessionlisten messag receiv messagereceiv cluster session listen clustersessionlisten java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tribe group group channel groupchannel messag receiv messagereceiv group channel groupchannel java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group interceptor tcp failur detector tcpfailuredetector messag receiv messagereceiv tcp failur detector tcpfailuredetector java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel coordin channelcoordin messag receiv messagereceiv channel coordin channelcoordin java apach catalina tribe transport receiv base receiverbas messag data receiv messagedatareceiv receiv base receiverbas java apach catalina tribe transport nio nio replic task nioreplicationtask drain channel drainchannel nio replic task nioreplicationtask java apach catalina tribe transport nio nio replic task nioreplicationtask run nio replic task nioreplicationtask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java look like function tomcat affect npe come tri write null session id sessionid tomcat tri send someth handl receiv authorit session expir messag','npe delta request deltarequest write extern writeextern delta request deltarequest java handl remot session expir','occasion got error like follow error pool thread 1thread apach catalina session delta manag deltamanag manag localhost unabl receiv messag tcp channel java lang null pointer except nullpointerexcept java object output stream objectoutputstream block data output stream blockdataoutputstream get length getutflength object output stream objectoutputstream java java object output stream objectoutputstream block data output stream blockdataoutputstream write writeutf object output stream objectoutputstream java java object output stream objectoutputstream write writeutf object output stream objectoutputstream java apach catalina session delta request deltarequest write extern writeextern delta request deltarequest java apach catalina session delta request deltarequest serial delta request deltarequest java apach catalina session delta manag deltamanag serial delta request serializedeltarequest delta manag deltamanag java apach catalina session delta manag deltamanag request complet requestcomplet delta manag deltamanag java apach catalina session delta session deltasess expir delta session deltasess java apach catalina session delta manag deltamanag handl handlesess expir delta manag deltamanag java apach catalina session delta manag deltamanag messag receiv messagereceiv delta manag deltamanag java apach catalina session delta manag deltamanag messag data receiv messagedatareceiv delta manag deltamanag java apach catalina session cluster session listen clustersessionlisten messag receiv messagereceiv cluster session listen clustersessionlisten java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tribe group group channel groupchannel messag receiv messagereceiv group channel groupchannel java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group interceptor tcp failur detector tcpfailuredetector messag receiv messagereceiv tcp failur detector tcpfailuredetector java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel coordin channelcoordin messag receiv messagereceiv channel coordin channelcoordin java apach catalina tribe transport receiv base receiverbas messag data receiv messagedatareceiv receiv base receiverbas java apach catalina tribe transport nio nio replic task nioreplicationtask drain channel drainchannel nio replic task nioreplicationtask java apach catalina tribe transport nio nio replic task nioreplicationtask run nio replic task nioreplicationtask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java look like function tomcat affect npe come tri write null session id sessionid tomcat tri send someth handl receiv authorit session expir messag','2011-06-01 12:21:28',1306950000,'resolved fixed','4e5571f',1307960000,'java/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/ha/session/DeltaSession.java'),(444,51348,'Bug 51348  Potential NullPointerException in org.apache.catalina.servlets.WebdavServlet at line 1336','A WebDAV LOCK_REFRESH request may cause a NullPointerException because of an (IMHO) wrong check at line 1332 in  WebdavServlet.java 1056763 2011-01-08 18:56:57Z markt.\n\nI suggest line 1332 should be:\n...\n  if (toRenew != null) {\n...','potenti null pointer except nullpointerexcept apach catalina servlet webdav servlet webdavservlet line web webdav lock refresh request may caus null pointer except nullpointerexcept imho wrong check line webdav servlet webdavservlet java 57 57z markt suggest line to renew torenew null','potenti null pointer except nullpointerexcept apach catalina servlet webdav servlet webdavservlet line','web webdav lock refresh request may caus null pointer except nullpointerexcept imho wrong check line webdav servlet webdavservlet java 57 57z markt suggest line to renew torenew null','2011-06-09 08:53:41',1307620000,'resolved fixed','71b18c8',1307650000,'java/org/apache/catalina/servlets/WebdavServlet.java'),(445,51344,'Bug 51344  org.apache.catalina.startup.Embedded overrides Lifecycle incorrectly?','Not sure if this is a bug or just my mis-coding...\n\nI\'ve been using the Embedded component in Tomcat 6.0.29 for integration testing. Something like this:\n\n    server = new EmbeddedTomcat(\"/test\", 7890, \"JVM-1\");\n    PeerToPeerCacheLifecycleListener p2pListener = new PeerToPeerCacheLifecycleListener();\n    p2pListener.setProperty(\"mcast-port\", \"19991\");\n    server.getEmbedded().addLifecycleListener(p2pListener);\n    sessionManager = new DeltaSessionManager();\n    server.getRootContext().setManager(sessionManager);\n\nHere the EmbeddedTomcat class is simply a wrapper for Embedded - I\'m passing in the context, port and \'JVM route\' - nothing special. Then I add a listener which should be the programmatic equivalent of having the following server.xml snippet:\n\n<Server>\n    <Listener className=\"PeerToPeerCacheLifecycleListener\"/>\n</Server>\n\nDeltaSessionManager performs custom session management and thus extends ManagerBase and implements Lifecycle and SessionManager.\n\nDuring the start of DeltaSessionManager I initialize the listener by doing\n\n    this.lifecycle.fireLifecycleEvent(START_EVENT, null);\n\nThe listener picks up this event and starts.\n\nAll works nicely under Tomcat 6, but breaks under Tomcat 7.0.12. My initial investigation shows that the LifecycleEvent, being fired, is not reaching the Embedded component which is where the listener is registered.\n\nRemoving the overridden Lifecycle methods from Embedded (so that the Lifecyle processing happens in LifecycleBase) seems to work as the triggered event then reaches my listener.','apach catalina startup embed overrid lifecycl incorrectli sure mi code miscod use embed compon tomcat integr test someth like server new embed tomcat embeddedtomcat jvm peer to peer cach lifecycl listen peertopeercachelifecyclelisten p2p listen p2plisten new peer to peer cach lifecycl listen peertopeercachelifecyclelisten p2p listen p2plisten set properti setproperti mcast port mcastport server get embed getembed add lifecycl listen addlifecyclelisten p2p listen p2plisten session manag sessionmanag new delta session manag deltasessionmanag server get root context getrootcontext set manag setmanag session manag sessionmanag embed tomcat embeddedtomcat class simpli wrapper embed pass context port jvm rout noth special add listen programmat equival follow server xml snippet server listen class name classnam peer to peer cach lifecycl listen peertopeercachelifecyclelisten server delta session manag deltasessionmanag perform custom session manag thu extend manag base managerbas implement lifecycl session manag sessionmanag start delta session manag deltasessionmanag initi listen lifecycl fire lifecycl event firelifecycleev start event null listen pick event start work nice tomcat break tomcat initi investig show lifecycl event lifecycleev fire reach embed compon listen regist remov overridden lifecycl method embed lifecyl process happen lifecycl base lifecyclebas seem work trigger event reach listen','apach catalina startup embed overrid lifecycl incorrectli','sure mi code miscod use embed compon tomcat integr test someth like server new embed tomcat embeddedtomcat jvm peer to peer cach lifecycl listen peertopeercachelifecyclelisten p2p listen p2plisten new peer to peer cach lifecycl listen peertopeercachelifecyclelisten p2p listen p2plisten set properti setproperti mcast port mcastport server get embed getembed add lifecycl listen addlifecyclelisten p2p listen p2plisten session manag sessionmanag new delta session manag deltasessionmanag server get root context getrootcontext set manag setmanag session manag sessionmanag embed tomcat embeddedtomcat class simpli wrapper embed pass context port jvm rout noth special add listen programmat equival follow server xml snippet server listen class name classnam peer to peer cach lifecycl listen peertopeercachelifecyclelisten server delta session manag deltasessionmanag perform custom session manag thu extend manag base managerbas implement lifecycl session manag sessionmanag start delta session manag deltasessionmanag initi listen lifecycl fire lifecycl event firelifecycleev start event null listen pick event start work nice tomcat break tomcat initi investig show lifecycl event lifecycleev fire reach embed compon listen regist remov overridden lifecycl method embed lifecyl process happen lifecycl base lifecyclebas seem work trigger event reach listen','2011-06-08 21:35:55',1307580000,'resolved fixed','4892b57',1307650000,'java/org/apache/catalina/startup/Embedded.java'),(446,51340,'Bug 51340  Intermittent java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence','','intermitt java lang illeg argument except illegalargumentexcept session config sessionconfig element limit occurr','intermitt java lang illeg argument except illegalargumentexcept session config sessionconfig element limit occurr','','2011-06-08 13:37:25',1307550000,'resolved fixed','1fe28a6',1307550000,'java/org/apache/catalina/startup/ContextConfig.java'),(447,51324,'Bug 51324  When OutputBuffer.doFlush gets Exception, doFlush gets stuck to true','','output buffer outputbuff do flush doflush get except do flush doflush get stuck true','output buffer outputbuff do flush doflush get except do flush doflush get stuck true','','2011-06-05 05:17:12',1307270000,'resolved fixed','1bbbdb2',1307460000,'java/org/apache/catalina/connector/OutputBuffer.java'),(448,51251,'Bug 51251  Patch to add version parameter to ant task','','patch add version paramet ant task','patch add version paramet ant task','','2011-05-24 01:28:35',1306210000,'resolved fixed','d19daf5',1307140000,'java/org/apache/catalina/ant/AbstractCatalinaCommandTask.java\njava/org/apache/catalina/ant/ReloadTask.java\njava/org/apache/catalina/ant/SessionsTask.java\njava/org/apache/catalina/ant/StartTask.java\njava/org/apache/catalina/ant/StopTask.java\njava/org/apache/catalina/ant/UndeployTask.java'),(449,51276,'Bug 51276  Startup time is too high if there are few JARs in \"lib/\" and a few webapps.','Startup time in tomcat 7.0.14 is 10x higher than 7.0.12, if there are a few shared JARs in tomcat/lib and a few webapps.\nThe issue is very simple to reproduce, simply add 10 empty directories in tomcat/webapps and (for example) the Metro webservices jars in tomcat/lib. On my machine the startup time increase from 0.5 secs (default installation) to 35.2 secs.\nWhen using tomcat 7.0.12 the startup time is about 3 secs on my machine in this test case.','startup time high jar lib webapp startup time tomcat 10x higher share jar tomcat lib webapp issu simpl reproduc simpli add empti directori tomcat webapp exampl metro webservic jar tomcat lib machin startup time increas sec default instal sec use tomcat startup time sec machin case','startup time high jar lib webapp','startup time tomcat 10x higher share jar tomcat lib webapp issu simpl reproduc simpli add empti directori tomcat webapp exampl metro webservic jar tomcat lib machin startup time increas sec default instal sec use tomcat startup time sec machin case','2011-05-27 11:09:03',1306510000,'resolved fixed','5109678',1307010000,'java/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/startup/TldConfig.java\njava/org/apache/jasper/compiler/TldLocationsCache.java\njava/org/apache/tomcat/util/scan/FileUrlJar.java\njava/org/apache/tomcat/util/scan/Jar.java\njava/org/apache/tomcat/util/scan/JarFactory.java\njava/org/apache/tomcat/util/scan/UrlJar.java'),(450,51277,'Bug 51277  NPE during the form authentication when form-login-config is missed','','npe form authent form login config formloginconfig miss','npe form authent form login config formloginconfig miss','','2011-05-27 12:04:07',1306510000,'resolved fixed','5b0919c',1306850000,'java/org/apache/catalina/authenticator/FormAuthenticator.java'),(451,51240,'Bug 51240  maxConnections not honors config when acceptorThreadCount > 1','','max connect maxconnect honor config acceptor thread count acceptorthreadcount','max connect maxconnect honor config acceptor thread count acceptorthreadcount','','2011-05-22 19:22:26',1306110000,'resolved fixed','73f9592',1306420000,'java/org/apache/tomcat/util/net/AbstractEndpoint.java\njava/org/apache/tomcat/util/net/AprEndpoint.java\njava/org/apache/tomcat/util/net/JIoEndpoint.java\njava/org/apache/tomcat/util/net/NioEndpoint.java\njava/org/apache/tomcat/util/threads/CounterLatch.java\njava/org/apache/tomcat/util/threads/LimitLatch.java\ntest/org/apache/tomcat/util/threads/TestCounterLatch.java\ntest/org/apache/tomcat/util/threads/TestLimitLatch.java'),(452,51226,'Bug 51226  [Patch] to add FindLeaks ant task','There is no ant task for FindLeaks.','patch add find leak findleak ant task ant task find leak findleak','patch add find leak findleak ant task','ant task find leak findleak','2011-05-19 06:26:15',1305800000,'resolved fixed','1cd5e7b',1306250000,'java/org/apache/catalina/ant/FindLeaksTask.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/manager/ManagerServlet.java'),(453,27122,'Bug 27122  IE plugins cannot access components through Tomcat 5 over SSL','SSL seems to be failing when the Content-Type header is set to \"image/svg+xml\".\n\nI\'ve only seen this failure when SSL was running on a Solaris machine.  (uname\n-a: SunOS [hostname removed] 5.8 Generic_108528-18 sun4u sparc SUNW,Ultra-60) \nWhen attempted on Windows, we were unable to duplicate the error.  This reliably\nfails when attempted on this specific Solaris machine.  If I get a chance, I\'ll\ntry to create a test-case and see if I can reproduce this on other Solaris\nmachines.  Unfortunately, this was a show-stopper for a release that\'s being\nmade today so I\'m pressed for time.\n\nBasically, what happens is that we\'re using a JSP page to create an SVG file. \nBecause of this, we have to set the Content-Type header to \"image/svg+xml\". \nWhen the MIME type is set to this value, the page fails to load in Internet\nExplorer 6 (SP1) with a message of \"connection failed\" or something similar. \nWhen an attempt was made in Opera, Opera responded by crashing.  Mozilla\nsuccessfully downloaded the file, though.\n\nHowever, when resetting the MIME type in the page to \"text/plain\" all three\nbrowsers can access the page without failure.  By back-revving Tomcat to version\n4.1.29, we were able to resolve this issue and access the page in all three\nbrowsers.\n\nI\'ll try and create a test-case later today and verify that it isn\'t just our\nSVG JSP that\'s failing but any that creates SVG but I\'m currently pressed for\ntime - sorry.','ie plugin cannot access compon tomcat ssl ssl seem fail content type header set imag svg xml seen failur ssl run solari machin unam sun suno hostnam remov gener sun4u sparc sunw ultra attempt window unabl duplic error reliabl fail attempt specif solari machin get chanc ll tri creat test case testcas see reproduc solari machin unfortun show stopper showstopp releas made today press time basic happen re use jsp page creat svg file set content type header imag svg xml mime type set valu page fail load internet explor p1 sp1 messag connect fail someth similar attempt made opera opera respond crash mozilla success download file though howev reset mime type page text plain three browser access page without failur back rev backrev tomcat version abl resolv issu access page three browser ll tri creat test case testcas later today verifi isn svg jsp fail creat svg current press time sorri','ie plugin cannot access compon tomcat ssl','ssl seem fail content type header set imag svg xml seen failur ssl run solari machin unam sun suno hostnam remov gener sun4u sparc sunw ultra attempt window unabl duplic error reliabl fail attempt specif solari machin get chanc ll tri creat test case testcas see reproduc solari machin unfortun show stopper showstopp releas made today press time basic happen re use jsp page creat svg file set content type header imag svg xml mime type set valu page fail load internet explor p1 sp1 messag connect fail someth similar attempt made opera opera respond crash mozilla success download file though howev reset mime type page text plain three browser access page without failur back rev backrev tomcat version abl resolv issu access page three browser ll tri creat test case testcas later today verifi isn svg jsp fail creat svg current press time sorri','2004-02-20 21:09:17',1077330000,'resolved fixed','4161179',1306100000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(454,51185,'Bug 51185  Performance : DataSourceProxy#createPool should use more fine grained synchronisation','','perform data sourc proxi datasourceproxi creat pool createpool use fine grain synchronis','perform data sourc proxi datasourceproxi creat pool createpool use fine grain synchronis','','2011-05-11 10:21:44',1305120000,'resolved fixed','4bdd8d0',1305930000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java'),(455,35054,'Bug 35054  warn if appBase is not existing as a File or directory','otherwise, it may very hard to find what is wrong','warn app base appbas exist file directori otherwis may hard find wrong','warn app base appbas exist file directori','otherwis may hard find wrong','2005-05-25 10:03:08',1117030000,'resolved fixed','9bb6e4f',1305920000,'java/org/apache/catalina/startup/HostConfig.java'),(456,51220,'Bug 51220  Add system property that makes it possible for jsp pages with the extends page directive to take advantage of tag pooling','','add system properti make possibl jsp page extend page direct take advantag tag pool','add system properti make possibl jsp page extend page direct take advantag tag pool','','2011-05-18 15:42:54',1305750000,'resolved fixed','c46e56c',1305800000,'java/org/apache/jasper/compiler/Generator.java'),(457,51229,'Bug 51229  Some async examples are not work correctly','','async exampl work correctli','async exampl work correctli','','2011-05-19 06:55:54',1305800000,'resolved fixed','55d8b72',1305800000,'webapps/examples/WEB-INF/classes/async/Async0.java'),(458,51212,'Bug 51212  QueryStats has synchornisation issues','','queri stat querystat synchornis issu','queri stat querystat synchornis issu','','2011-05-17 16:25:52',1305660000,'resolved fixed','b24b17c',1305740000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/interceptor/SlowQueryReport.java'),(459,51208,'Bug 51208  SVN TRUNK : JDBC interceptor options are not taken into account','','svn trunk jdbc interceptor option taken account','svn trunk jdbc interceptor option taken account','','2011-05-17 09:14:29',1305640000,'resolved fixed','2bb247a',1305640000,'modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java'),(460,51156,'Bug 51156  \"Expire sessions\" button not visible for context configured in server.xml','If app is configured in server.xml like this:\n\n{code}\n  <Host name=\"www.myapp.pl\" appBase=\"/usr/lib/tomcat/webapps\"\n                unpackWARs=\"false\" autoDeploy=\"false\"\n              xmlValidation=\"false\" xmlNamespaceAware=\"false\"  >\n     <Context docBase=\"/var/www/myapp\" path=\"\" cacheMaxSize=\"5120\"\ncacheTTL=\"60000\" cachingAllowed=\"true\" >\n     </Context>\n     <Context path=\"/manager\"  privileged=\"true\"\ndocBase=\"/usr/lib/tomcat/webapps/manager\">\n     </Context>\n</Host>\n{code}\n\nIn Tomcat Manager, on the application list, there is a button \"Expire\nsessions\"  available only for \"/manager\" application.\nThere is no button \"Expire sessions\" for \"/\" path.\n\nI think bug is in HTMLManagerServlet.java in this part:\n\n{code}\n\n                if (context.getPath().equals(this.context.getPath())) {\n                    writer.print(MessageFormat.format(\n                        MANAGER_APP_ROW_BUTTON_SECTION, args));\n                } else if (context.getAvailable() && isDeployed) {\n                    writer.print(MessageFormat.format(\n                        STARTED_DEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                } else if (context.getAvailable() && !isDeployed) {\n                    writer.print(MessageFormat.format(\n                        STARTED_NONDEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                } else if (!context.getAvailable() && isDeployed) {\n                    writer.print(MessageFormat.format(\n                        STOPPED_DEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                } else {\n                    writer.print(MessageFormat.format(\n                        STOPPED_NONDEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                }\n{code}','expir session button visibl context configur server xml app configur server xml like code host name www myapp pl app base appbas usr lib tomcat webapp unpack unpackwar fals auto deploy autodeploy fals xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals context doc base docbas www myapp path cach max size cachemaxs cach cachettl cach allow cachingallow true context context path manag privileg true doc base docbas usr lib tomcat webapp manag context host code tomcat manag applic list button expir session avail manag applic button expir session path think manag servlet htmlmanagerservlet java part code context get path getpath equal context get path getpath writer print messag format messageformat format manag app row button section arg els context get avail getavail is deploy isdeploy writer print messag format messageformat format start deploy app row button section arg els context get avail getavail is deploy isdeploy writer print messag format messageformat format start nondeploy app row button section arg els context get avail getavail is deploy isdeploy writer print messag format messageformat format stop deploy app row button section arg els writer print messag format messageformat format stop nondeploy app row button section arg code','expir session button visibl context configur server xml','app configur server xml like code host name www myapp pl app base appbas usr lib tomcat webapp unpack unpackwar fals auto deploy autodeploy fals xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals context doc base docbas www myapp path cach max size cachemaxs cach cachettl cach allow cachingallow true context context path manag privileg true doc base docbas usr lib tomcat webapp manag context host code tomcat manag applic list button expir session avail manag applic button expir session path think manag servlet htmlmanagerservlet java part code context get path getpath equal context get path getpath writer print messag format messageformat format manag app row button section arg els context get avail getavail is deploy isdeploy writer print messag format messageformat format start deploy app row button section arg els context get avail getavail is deploy isdeploy writer print messag format messageformat format start nondeploy app row button section arg els context get avail getavail is deploy isdeploy writer print messag format messageformat format stop deploy app row button section arg els writer print messag format messageformat format stop nondeploy app row button section arg code','2011-05-06 00:30:54',1304660000,'resolved fixed','de7f0e1',1304670000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(461,51155,'Bug 51155  Missing @deprecated comments','','miss deprec comment','miss deprec comment','','2011-05-05 19:36:28',1304640000,'resolved fixed','f477068',1304670000,'java/javax/servlet/jsp/el/ELException.java\njava/javax/servlet/jsp/el/ELParseException.java\njava/javax/servlet/jsp/el/Expression.java\njava/javax/servlet/jsp/el/ExpressionEvaluator.java\njava/javax/servlet/jsp/el/FunctionMapper.java\njava/javax/servlet/jsp/el/VariableResolver.java'),(462,51154,'Bug 51154  Spurious @deprecated tags in ServletContext','','spuriou deprec tag servlet context servletcontext','spuriou deprec tag servlet context servletcontext','','2011-05-05 19:33:18',1304640000,'resolved fixed','01e1850',1304670000,'java/javax/servlet/ServletContext.java'),(463,50950,'Bug 50950  NotSerializableException: org.apache.catalina.realm.GenericPrincipal','','not serializ except notserializableexcept apach catalina realm gener princip genericprincip','not serializ except notserializableexcept apach catalina realm gener princip genericprincip','','2011-03-20 13:28:18',1300640000,'resolved fixed','0559491',1304600000,'java/org/apache/catalina/ha/session/DeltaSession.java'),(464,51099,'Bug 51099  SPNEGO loginConfigName does not work','As reported by fhanik on the dev list:\n\n2. com.sun.security.jgss.krb5.accept is not configurable\nWhile the authenticator has the attribute loginConfigName, there seems to be a place in the code where it omits this entry.\nrenaming this entry in jaas.conf and setting the loginConfigName will fail to validate a ticket\n\nThe problem code is here:\n\n            gssContext = manager.createContext(manager.createCredential(null,\n                    GSSCredential.DEFAULT_LIFETIME,\n                    new Oid(\"1.3.6.1.5.5.2\"),\n                    GSSCredential.ACCEPT_ONLY));\n\nshould look like\n            final GSSManager manager = GSSManager.getInstance();\n            final PrivilegedExceptionAction<GSSCredential> action =\n                new PrivilegedExceptionAction<GSSCredential>() {\n                    public GSSCredential run() throws GSSException {\n                        return manager.createCredential(null,\n                                GSSCredential.DEFAULT_LIFETIME,\n                                new Oid(\"1.3.6.1.5.5.2\"),\n                                GSSCredential.ACCEPT_ONLY);\n                    }\n                };\n            gssContext = manager.createContext(Subject.doAs(lc.getSubject(), action));||\n\n\nbest\nFilip','spnego login config name loginconfignam work report fhanik dev list sun secur jgss krb5 accept configur authent attribut login config name loginconfignam seem place code omit entri renam entri jaa conf set login config name loginconfignam fail valid ticket problem code context gsscontext manag creat context createcontext manag creat credenti createcredenti null credenti gsscredenti default lifetim new oid credenti gsscredenti accept look like final manag gssmanag manag manag gssmanag get instanc getinst final privileg except action privilegedexceptionact credenti gsscredenti action new privileg except action privilegedexceptionact credenti gsscredenti public credenti gsscredenti run throw except gssexcept return manag creat credenti createcredenti null credenti gsscredenti default lifetim new oid credenti gsscredenti accept context gsscontext manag creat context createcontext subject do doa lc get subject getsubject action best filip','spnego login config name loginconfignam work','report fhanik dev list sun secur jgss krb5 accept configur authent attribut login config name loginconfignam seem place code omit entri renam entri jaa conf set login config name loginconfignam fail valid ticket problem code context gsscontext manag creat context createcontext manag creat credenti createcredenti null credenti gsscredenti default lifetim new oid credenti gsscredenti accept look like final manag gssmanag manag manag gssmanag get instanc getinst final privileg except action privilegedexceptionact credenti gsscredenti action new privileg except action privilegedexceptionact credenti gsscredenti public credenti gsscredenti run throw except gssexcept return manag creat credenti createcredenti null credenti gsscredenti default lifetim new oid credenti gsscredenti accept context gsscontext manag creat context createcontext subject do doa lc get subject getsubject action best filip','2011-04-21 05:11:31',1303380000,'resolved fixed','343a609',1304550000,'java/org/apache/catalina/authenticator/SpnegoAuthenticator.java'),(465,51119,'Bug 51119  extras - JmxRemoteLifecycleListener does not support JAAS based authentication and authorisation','(Also true in Tomcat 7)\n\nThe JmxRemoteLifecycleListener does not support JAAS based authentication.\n\nThat is, when authentication is required, it only supports file based authentication.','extra jmx remot lifecycl listen jmxremotelifecyclelisten support jaa base authent authoris true tomcat jmx remot lifecycl listen jmxremotelifecyclelisten support jaa base authent authent requir support file base authent','extra jmx remot lifecycl listen jmxremotelifecyclelisten support jaa base authent authoris','true tomcat jmx remot lifecycl listen jmxremotelifecyclelisten support jaa base authent authent requir support file base authent','2011-04-26 05:29:40',1303810000,'resolved fixed','2ffa0f7',1304540000,'java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java'),(466,51124,'Bug 51124  ArrayIndexOutOfBoundsException after setting org.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true','First of all, I know that there has been a bug regarding a similar problem before and that it was fixed. But currently this bugs occurs even with tomcat version 6.0.32.\n\nWe have a problem with the tomcat runnign with the parameter org.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true.\n\nAfter the tomcat has just started, everything is fine but after one or two days a lot of ArrayIndexOutOfBoundsException occur on random pages of the application.\n\nTomcats started without this parameter don\'t seem to have that problem.\n\nUnfortunately we weren\'t able reproduce the bug locally, It appears only on our production system.\n\nCould there be a concurrency problem, that only shows if a lot it going on on the platform?\n\nI can provide two small stackstraces that can show the classes where the problem occurs:\n\n1.\n\nCaused by: java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.jasper.runtime.BodyContentImpl.write(Unknown Source)\n        at java.io.PrintWriter.write(PrintWriter.java:382)\n        at org.apache.jasper.runtime.JspWriterImpl.flushBuffer(Unknown Source)\n        at org.apache.jasper.runtime.PageContextImpl.release(Unknown Source)\n        at org.apache.jasper.runtime.JspFactoryImpl.internalReleasePageContext(Unknown Source)\n        at org.apache.jasper.runtime.JspFactoryImpl.releasePageContext(Unknown Source)\n        at org.apache.jsp.members.lists.short_.incomingShortList_jsp._jspService(incomingShortList_jsp.java:796)\n        at org.apache.jasper.runtime.HttpJspBase.service(Unknown Source)\n        at javax.servlet.http.HttpServlet.service(Unknown Source)\n\n2.\n\nCaused by: java.lang.ArrayIndexOutOfBoundsException\n        at java.lang.String.getChars(String.java:854)\n        at org.apache.jasper.runtime.BodyContentImpl.write(Unknown Source)\n        at org.apache.jasper.runtime.BodyContentImpl.write(Unknown Source)\n        at org.apache.jasper.runtime.BodyContentImpl.print(Unknown Source)\n        at org.apache.taglibs.standard.tag.common.fmt.MessageSupport.doEndTag(MessageSupport.java:203)\n        at org.apache.jsp.members.profiles.profile_jsp._jspx_meth_fmt_005fmessage_005f2(profile_jsp.java:4897)\n        at org.apache.jsp.members.profiles.profile_jsp._jspService(profile_jsp.java:481)\n        at org.apache.jasper.runtime.HttpJspBase.service(Unknown Source)\n        at javax.servlet.http.HttpServlet.service(Unknown Source)','array index out of bound except arrayindexoutofboundsexcept set apach jasper runtim bodi content impl bodycontentimpl limit buffer true first know regard similar problem fix current bug occur even tomcat version problem tomcat runnign paramet apach jasper runtim bodi content impl bodycontentimpl limit buffer true tomcat start everyth fine one two day lot array index out of bound except arrayindexoutofboundsexcept occur random page applic tomcat start without paramet seem problem unfortun weren abl reproduc local appear product system could concurr problem show lot go platform provid two small stackstrac show class problem occur caus java lang array index out of bound except arrayindexoutofboundsexcept apach jasper runtim bodi content impl bodycontentimpl write unknown sourc java print writer printwrit write print writer printwrit java apach jasper runtim jsp writer impl jspwriterimpl flush buffer flushbuff unknown sourc apach jasper runtim page context impl pagecontextimpl releas unknown sourc apach jasper runtim jsp factori impl jspfactoryimpl intern releas page context internalreleasepagecontext unknown sourc apach jasper runtim jsp factori impl jspfactoryimpl releas page context releasepagecontext unknown sourc apach jsp member list short incom short list incomingshortlist jsp jsp servic jspservic incom short list incomingshortlist jsp java apach jasper runtim http jsp base httpjspbase servic unknown sourc javax servlet http http servlet httpservlet servic unknown sourc caus java lang array index out of bound except arrayindexoutofboundsexcept java lang string get char getchar string java apach jasper runtim bodi content impl bodycontentimpl write unknown sourc apach jasper runtim bodi content impl bodycontentimpl write unknown sourc apach jasper runtim bodi content impl bodycontentimpl print unknown sourc apach taglib standard tag common fmt messag support messagesupport do end tag doendtag messag support messagesupport java apach jsp member profil profil jsp jspx meth fmt 005fmessag 005f2 profil jsp java apach jsp member profil profil jsp jsp servic jspservic profil jsp java apach jasper runtim http jsp base httpjspbase servic unknown sourc javax servlet http http servlet httpservlet servic unknown sourc','array index out of bound except arrayindexoutofboundsexcept set apach jasper runtim bodi content impl bodycontentimpl limit buffer true','first know regard similar problem fix current bug occur even tomcat version problem tomcat runnign paramet apach jasper runtim bodi content impl bodycontentimpl limit buffer true tomcat start everyth fine one two day lot array index out of bound except arrayindexoutofboundsexcept occur random page applic tomcat start without paramet seem problem unfortun weren abl reproduc local appear product system could concurr problem show lot go platform provid two small stackstrac show class problem occur caus java lang array index out of bound except arrayindexoutofboundsexcept apach jasper runtim bodi content impl bodycontentimpl write unknown sourc java print writer printwrit write print writer printwrit java apach jasper runtim jsp writer impl jspwriterimpl flush buffer flushbuff unknown sourc apach jasper runtim page context impl pagecontextimpl releas unknown sourc apach jasper runtim jsp factori impl jspfactoryimpl intern releas page context internalreleasepagecontext unknown sourc apach jasper runtim jsp factori impl jspfactoryimpl releas page context releasepagecontext unknown sourc apach jsp member list short incom short list incomingshortlist jsp jsp servic jspservic incom short list incomingshortlist jsp java apach jasper runtim http jsp base httpjspbase servic unknown sourc javax servlet http http servlet httpservlet servic unknown sourc caus java lang array index out of bound except arrayindexoutofboundsexcept java lang string get char getchar string java apach jasper runtim bodi content impl bodycontentimpl write unknown sourc apach jasper runtim bodi content impl bodycontentimpl write unknown sourc apach jasper runtim bodi content impl bodycontentimpl print unknown sourc apach taglib standard tag common fmt messag support messagesupport do end tag doendtag messag support messagesupport java apach jsp member profil profil jsp jspx meth fmt 005fmessag 005f2 profil jsp java apach jsp member profil profil jsp jsp servic jspservic profil jsp java apach jasper runtim http jsp base httpjspbase servic unknown sourc javax servlet http http servlet httpservlet servic unknown sourc','2011-04-27 06:31:47',1303900000,'resolved fixed','2cdbcd5',1304540000,'java/org/apache/jasper/runtime/BodyContentImpl.java'),(467,51136,'Bug 51136  Allow to set the context name through Tomcat\'s embeded class before adding it to the host','org.apache.catalina.startup.Tomcat creates contexts and add them to the host directly. It would be nice if we could set the name of the context before adding it to the host.\n\nI\'m including a patch that overloads the methods \"addWebapp\" and \"addContext\" to take that name as a parameter.','allow set context name tomcat embed class ad host apach catalina startup tomcat creat context add host directli would nice could set name context ad host includ patch overload method add webapp addwebapp add context addcontext take name paramet','allow set context name tomcat embed class ad host','apach catalina startup tomcat creat context add host directli would nice could set name context ad host includ patch overload method add webapp addwebapp add context addcontext take name paramet','2011-04-29 16:18:31',1304110000,'resolved fixed','2dc54c4',1304500000,'java/org/apache/catalina/startup/Tomcat.java'),(468,51095,'Bug 51095  NPE in AprEndpoint.java','','npe apr endpoint aprendpoint java','npe apr endpoint aprendpoint java','','2011-04-20 12:51:05',1303320000,'resolved fixed','75d28d4',1303600000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(469,50173,'Bug 50173  JDBCSampler discards ResultSet from a PreparedStatement.','Hi,\n I am using JMeter with a Test Plan that uses a JDBC Request with a PreparedStatement query type.\n When running this I am getting the following error in the jmeter.log file\n\n2010/10/28 11:30:31 INFO  - jmeter.threads.JMeterThread: Thread started: JDBC Users 1-1 \n2010/10/28 12:13:38 ERROR - jmeter.threads.JMeterThread: Error while processing sampler \'PREPARED SELECT Customer JDBC Request\' : java.lang.NullPointerException\n	at org.apache.jmeter.protocol.jdbc.sampler.JDBCSampler.getStringFromResultSet(JDBCSampler.java:415)\n	at org.apache.jmeter.protocol.jdbc.sampler.JDBCSampler.resultSetsToString(JDBCSampler.java:268)\n	at org.apache.jmeter.protocol.jdbc.sampler.JDBCSampler.sample(JDBCSampler.java:208)\n	at org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:348)\n	at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:243)\n	at java.lang.Thread.run(Thread.java:619)\n\n The query (below) can be expected to return a number of records \nSELECT * FROM Customer WHERE ID=?;\nthe param is set to 1\n\n If I use instead a SelectStatement results are returned so the query itself is not at fault.\n\n I have retrieved the code for the v2_4 tag to identify the root cause for the NPE and create a patch. This bug report includes a patch against trunk as the issue is also in trunk. \n The root cause is due to:\norg.apache.jmeter.protocol.jdbc.sampler.JDBCSampler.sample(Entry e)\n \n The code path for PreparedStatements types starting on line 204 has in it a call to\norg.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate() \nwhich returns a ResultSet. The side effect of the call is to set the JDBCPreparedStatement.currentResultSet field member to null.\n JDBCSampler does not keep the ResultSet reference. Instead it is discarded.\n\n The call on the next line (208)\nString sb = resultSetsToString(pstmt,true,null)\n again tries to get the ResultSet on line 267. This causes a NullPointerException because the JDBCPreparedStatement.currentResultSet field was set to null earlier.\n\n Looking at the code path for a CALLABLE statement type (line 190) shows better handling for queries that return ResultSet.\n\n The two lines \n207,208\n\n replaced with\n                boolean hasResultSet = pstmt.execute();\n                String sb = resultSetsToString(pstmt,hasResultSet,null);\n                \n fixes the defect.\n\nRegards,\nJeremy Whiting\nRed Hat','sampler jdbcsampler discard result set resultset prepar statement preparedstat hi use meter jmeter plan us jdbc request prepar statement preparedstat queri type run get follow error jmeter log file info jmeter thread meter thread jmeterthread thread start jdbc user error jmeter thread meter thread jmeterthread error process sampler prepar select custom jdbc request java lang null pointer except nullpointerexcept apach jmeter protocol jdbc sampler sampler jdbcsampler get string from result set getstringfromresultset sampler jdbcsampler java apach jmeter protocol jdbc sampler sampler jdbcsampler result set to string resultsetstostr sampler jdbcsampler java apach jmeter protocol jdbc sampler sampler jdbcsampler sampl sampler jdbcsampler java apach jmeter thread meter thread jmeterthread process sampler meter thread jmeterthread java apach jmeter thread meter thread jmeterthread run meter thread jmeterthread java java lang thread run thread java queri expect return number record select custom id param set use instead select statement selectstat result return queri fault retriev code v2 tag identifi root caus npe creat patch report includ patch trunk issu trunk root caus due apach jmeter protocol jdbc sampler sampler jdbcsampler sampl entri code path prepar statement preparedstat type start line call hsqldb jdbc prepar statement jdbcpreparedstat execut updat executeupd return result set resultset side effect call set prepar statement jdbcpreparedstat current result set currentresultset field member null sampler jdbcsampler keep result set resultset refer instead discard call next line string sb result set to string resultsetstostr pstmt true null tri get result set resultset line caus null pointer except nullpointerexcept prepar statement jdbcpreparedstat current result set currentresultset field set null earlier look code path callabl statement type line show better handl queri return result set resultset two line replac boolean ha result set hasresultset pstmt execut string sb result set to string resultsetstostr pstmt ha result set hasresultset null fix defect regard jeremi white red','sampler jdbcsampler discard result set resultset prepar statement preparedstat','hi use meter jmeter plan us jdbc request prepar statement preparedstat queri type run get follow error jmeter log file info jmeter thread meter thread jmeterthread thread start jdbc user error jmeter thread meter thread jmeterthread error process sampler prepar select custom jdbc request java lang null pointer except nullpointerexcept apach jmeter protocol jdbc sampler sampler jdbcsampler get string from result set getstringfromresultset sampler jdbcsampler java apach jmeter protocol jdbc sampler sampler jdbcsampler result set to string resultsetstostr sampler jdbcsampler java apach jmeter protocol jdbc sampler sampler jdbcsampler sampl sampler jdbcsampler java apach jmeter thread meter thread jmeterthread process sampler meter thread jmeterthread java apach jmeter thread meter thread jmeterthread run meter thread jmeterthread java java lang thread run thread java queri expect return number record select custom id param set use instead select statement selectstat result return queri fault retriev code v2 tag identifi root caus npe creat patch report includ patch trunk issu trunk root caus due apach jmeter protocol jdbc sampler sampler jdbcsampler sampl entri code path prepar statement preparedstat type start line call hsqldb jdbc prepar statement jdbcpreparedstat execut updat executeupd return result set resultset side effect call set prepar statement jdbcpreparedstat current result set currentresultset field member null sampler jdbcsampler keep result set resultset refer instead discard call next line string sb result set to string resultsetstostr pstmt true null tri get result set resultset line caus null pointer except nullpointerexcept prepar statement jdbcpreparedstat current result set currentresultset field set null earlier look code path callabl statement type line show better handl queri return result set resultset two line replac boolean ha result set hasresultset pstmt execut string sb result set to string resultsetstostr pstmt ha result set hasresultset null fix defect regard jeremi white red','2010-10-28 10:14:39',1288280000,'resolved fixed','3a847c7',1303000000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(470,51042,'Bug 51042  HttpSessionListener.sessionCreated() is called a second time when user is authenticated with no matching sessionDestroyed() call.','When my web application has a HttpSessionListener configured in its web.xml, then that classes sessionCreated() is called when a user is assigned a new session.\n\nHowever, that method is *also* called when that user authenticates itself and the session is assigned a new ID (whether or not this is actually a \"new session\" can be disputed, but that\'s not the point of this bug).\n\nWhen the session is removed (due to a timeout, for example), then a single sessionDestroyed() call is executed.\n\nWhen the HttpSessionListener manages some kind of external resource, this behaviour leads to a resource leak, because sessionCreated() is called twice, while sessionRemoved() is only called once!\n\nI\'m aware of the reason for changing the session ID and (somehow) understand why sessionCreated() is called again (after all there\'s a new session ID), but there must be *some* way for the SessionListener to be notified that the \"old session\" no longer exists.\n\nThe same behaviour is seen in Tomcat 6.0 (and probably 5.5 as well, but I didn\'t test that).','http session listen httpsessionlisten session creat sessioncr call second time user authent match session destroy sessiondestroy call web applic http session listen httpsessionlisten configur web xml class session creat sessioncr call user assign new session howev method call user authent session assign new id whether actual new session disput point session remov due timeout exampl singl session destroy sessiondestroy call execut http session listen httpsessionlisten manag kind extern resourc behaviour lead resourc leak session creat sessioncr call twice session remov sessionremov call awar reason chang session id somehow understand session creat sessioncr call new session id must way session listen sessionlisten notifi old session longer exist behaviour seen tomcat probabl well didn','http session listen httpsessionlisten session creat sessioncr call second time user authent match session destroy sessiondestroy call','web applic http session listen httpsessionlisten configur web xml class session creat sessioncr call user assign new session howev method call user authent session assign new id whether actual new session disput point session remov due timeout exampl singl session destroy sessiondestroy call execut http session listen httpsessionlisten manag kind extern resourc behaviour lead resourc leak session creat sessioncr call twice session remov sessionremov call awar reason chang session id somehow understand session creat sessioncr call new session id must way session listen sessionlisten notifi old session longer exist behaviour seen tomcat probabl well didn','2011-04-08 05:54:06',1302260000,'resolved fixed','dc3758e',1302990000,'java/org/apache/catalina/Session.java\njava/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/ha/session/JvmRouteBinderValve.java\njava/org/apache/catalina/manager/DummyProxySession.java\njava/org/apache/catalina/session/ManagerBase.java\njava/org/apache/catalina/session/StandardSession.java'),(471,51038,'Bug 51038  No access logs for Servlet 3.0 async requests','Access logs written by org.apache.catalina.valves.AccessLogValve are not being written for servlet 3.0 async requests.\n\nTo reproduce:\n- Handle a request asynchronously by marking the servlet with @WebServlet(asyncSupported=true)\n- Send some traffic and notice that nothing is being written to the access logs.\n\nAccessLogValve.log() is called by org.apache.catalina.Context.logAccess().\nFrom the source for version 7.0.11, in org.apache.catalina.connector.CoyoteAdapter.java, line 416:\n\n            AsyncContextImpl asyncConImpl = (AsyncContextImpl)request.getAsyncContext();\n            if (asyncConImpl != null) {\n                async = true;\n            } else if (!comet) {\n                response.finishResponse();\n                if (postParseSuccess) {\n                    // Log only if processing was invoked.\n                    // If postParseRequest() failed, it has already logged it.\n                    ((Context) request.getMappingData().context).logAccess(\n                            request, response,\n                            System.currentTimeMillis() - req.getStartTime(),\n                            false);\n                }\n                req.action(ActionCode.POST_REQUEST , null);\n            }\n\nIn the async case logAccess() isn\'t called here. I\'ve searched through the code and don\'t see logAccess() being called anywhere else, except in error cases. So, it looks like the async case is missing a call to logAccess() somewhere.','access log servlet async request access log written apach catalina valv access log valv accesslogvalv written servlet async request reproduc handl request asynchron mark servlet web servlet webservlet async support asyncsupport true send traffic notic noth written access log access log valv accesslogvalv log call apach catalina context log access logaccess sourc version apach catalina connector coyot adapt coyoteadapt java line async context impl asynccontextimpl async con impl asyncconimpl async context impl asynccontextimpl request get async context getasynccontext async con impl asyncconimpl null async true els comet respons finish respons finishrespons post pars success postparsesuccess log process invok post pars request postparserequest fail alreadi log context request get map data getmappingdata context log access logaccess request respons system current time milli currenttimemilli req get start time getstarttim fals req action action code actioncod post request null async case log access logaccess isn call search code see log access logaccess call anywher els except error case look like async case miss call log access logaccess somewher','access log servlet async request','access log written apach catalina valv access log valv accesslogvalv written servlet async request reproduc handl request asynchron mark servlet web servlet webservlet async support asyncsupport true send traffic notic noth written access log access log valv accesslogvalv log call apach catalina context log access logaccess sourc version apach catalina connector coyot adapt coyoteadapt java line async context impl asynccontextimpl async con impl asyncconimpl async context impl asynccontextimpl request get async context getasynccontext async con impl asyncconimpl null async true els comet respons finish respons finishrespons post pars success postparsesuccess log process invok post pars request postparserequest fail alreadi log context request get map data getmappingdata context log access logaccess request respons system current time milli currenttimemilli req get start time getstarttim fals req action action code actioncod post request null async case log access logaccess isn call search code see log access logaccess call anywher els except error case look like async case miss call log access logaccess somewher','2011-04-07 11:18:30',1302190000,'resolved fixed','dc3dff4',1302990000,'java/org/apache/catalina/connector/CoyoteAdapter.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java\ntest/org/apache/catalina/valves/TesterAccessLogValve.java'),(472,50997,'Bug 50997  StandardJarScanner ignores web-fragment.xml files in unpacked jars if they are not ending with \".jar\"','','standard jar scanner standardjarscann ignor web fragment webfrag xml file unpack jar end jar','standard jar scanner standardjarscann ignor web fragment webfrag xml file unpack jar end jar','','2011-03-30 11:57:49',1301500000,'resolved fixed','62ddb9e',1301520000,'java/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/tomcat/util/scan/StandardJarScanner.java'),(473,50927,'Bug 50927  [patch] More specific error message for missing SSLCertificateFile','','patch specif error messag miss certif file sslcertificatefil','patch specif error messag miss certif file sslcertificatefil','','2011-03-14 08:59:04',1300110000,'resolved fixed','e34f848',1300270000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(474,50929,'Bug 50929  [patch] Ensure rethrown exceptions retain the original cause','','patch ensur rethrown except retain origin caus','patch ensur rethrown except retain origin caus','','2011-03-14 11:08:56',1300120000,'resolved fixed','0c96676',1300230000,'java/javax/servlet/http/HttpUtils.java\njava/org/apache/catalina/connector/CoyoteInputStream.java\njava/org/apache/catalina/realm/JDBCRealm.java\njava/org/apache/catalina/valves/JDBCAccessLogValve.java\njava/org/apache/naming/resources/WARDirContext.java\njava/org/apache/tomcat/util/digester/NodeCreateRule.java'),(475,50903,'Bug 50903  Current keep-alive request processed after connector.stop()','When the connector is stopped, if a connection is in a keep-alive state the next request received by that connection will be processed and then the connection will be closed. When the request is received, it should be rejected.\n\nOutstanding questions:\n- What return code (if any) should be sent back to the client?\n- If the reading of a request starts before the connector is stopped, should that request be allowed to complete or should it be rejected?','current keep aliv keepal request process connector stop connector stop connect keep aliv keepal state next request receiv connect process connect close request receiv reject outstand question return code sent back client read request start connector stop request allow complet reject','current keep aliv keepal request process connector stop','connector stop connect keep aliv keepal state next request receiv connect process connect close request receiv reject outstand question return code sent back client read request start connector stop request allow complet reject','2011-03-09 14:34:53',1299700000,'resolved fixed','c8ea62e',1300210000,'java/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java\ntest/org/apache/catalina/connector/TestConnector.java\ntest/org/apache/catalina/startup/TesterServlet.java\ntest/org/apache/catalina/startup/TomcatBaseTest.java'),(476,50887,'Bug 50887  Enhancement to set security-provider within AjpAprProcessor','','enhanc set secur provid securityprovid within ajp apr processor ajpaprprocessor','enhanc set secur provid securityprovid within ajp apr processor ajpaprprocessor','','2011-03-08 04:49:48',1299580000,'resolved fixed','552c4b7',1300020000,'java/org/apache/catalina/valves/SSLValve.java\njava/org/apache/coyote/AbstractProtocolHandler.java\njava/org/apache/coyote/ajp/AbstractAjpProcessor.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/ajp/AjpProtocol.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11AprProtocol.java'),(477,50895,'Bug 50895  JSP compiler initializes classes during compile which can result in failures','','jsp compil initi class compil result failur','jsp compil initi class compil result failur','','2011-03-08 15:27:00',1299620000,'resolved fixed','5d61212',1299680000,'java/org/apache/jasper/compiler/ELFunctionMapper.java'),(478,25060,'Bug 25060  Reloading context orphans currently open jndi datasource connections','I fiddled around with this a while and have determined to the best of my ability\nthat this is a real bug.  I have a jndi datasource connected to a postgresql\nserver.  I have two jndi resources (a reader and writer) so that later I can\nimplement a system with replication etc and deal with writes and reads to\ndifferent connections.  To summarize, after using the system, there are two\nconnections to postgres that get reused -- one reader and writer.  Under load,\nthis number increases and will slowly go back down.  I usually end up with two\nidle connections (one reader and one writer) left under no load.  If you reload\nthe context where the datasource is at (it\'s a context specific datasource), the\nnumber of connections will jump by two when used.  Each reload produces 2 more\nconnections min until I restart the server.  It appears that after a reload, the\n\'persisted connections\' get abandoned / orphaned.  Eventually, I hit my max\nconnections and cannot aquire any more and the system fails.  I have tried the\nabandond collection parameters and have added debug logging to my code to ensure\nthat I am indeed calling close on the connections I checkout, even on exceptions\nand error cases.  Under normal useage without reloads, no connection leakage\nhappens.\n\nThis is on a solaris 8 machine with the 4.1.27-hotfix-22096.tar.gz applied.  Let\nme know if more information is required.  I have this in a development\nenvironment and can let somone attach in jdb and hammer on the thing since it\'s\nnot a production system -- if that will help in getting a repro.\n\nWayne','reload context orphan current open jndi datasourc connect fiddl around determin best abil real jndi datasourc connect postgresql server two jndi resourc reader writer later implement system replic etc deal write read differ connect summar use system two connect postgr get reus one reader writer load number increas slowli go back usual two idl connect one reader one writer left load reload context datasourc context specif datasourc number connect jump two use reload produc connect restart server appear reload persist connect get abandon orphan eventu hit max connect cannot aquir system fail tri abandond collect paramet ad debug log code ensur inde call close connect checkout even except error case normal useag without reload connect leakag happen solari machin 27 hotfix 27hotfix tar gz appli let know inform requir develop environ let somon attach jdb hammer thing sinc product system help get repro wayn','reload context orphan current open jndi datasourc connect','fiddl around determin best abil real jndi datasourc connect postgresql server two jndi resourc reader writer later implement system replic etc deal write read differ connect summar use system two connect postgr get reus one reader writer load number increas slowli go back usual two idl connect one reader one writer left load reload context datasourc context specif datasourc number connect jump two use reload produc connect restart server appear reload persist connect get abandon orphan eventu hit max connect cannot aquir system fail tri abandond collect paramet ad debug log code ensur inde call close connect checkout even except error case normal useag without reload connect leakag happen solari machin 27 hotfix 27hotfix tar gz appli let know inform requir develop environ let somon attach jdb hammer thing sinc product system help get repro wayn','2003-11-27 21:15:10',1069990000,'resolved fixed','1211dbe',1299620000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/deploy/NamingResources.java'),(479,26701,'Bug 26701  Enabling web applications to register their own stream handlers','A stream handler factory can be registered once per VM and tomcat registers the \nDirContextStreamHandlerFactory for the jndi protocol. However if there are web \napplications running inside that want to register handlers for custom scheme \ncurrently it is not possible.\n\nCan the DirContextStreamHandlerFactory be enhanced to allow applications to \nregister stream handler for custom schemes they might have. Or better can this \nbe a made a property in the context.xml file ?\n\nIs this already there - or can this enhanced in the future?','enabl web applic regist stream handler stream handler factori regist vm tomcat regist dir context stream handler factori dircontextstreamhandlerfactori jndi protocol howev web applic run insid regist handler custom scheme current possibl dir context stream handler factori dircontextstreamhandlerfactori enhanc allow applic regist stream handler custom scheme might better made properti context xml file alreadi enhanc futur','enabl web applic regist stream handler','stream handler factori regist vm tomcat regist dir context stream handler factori dircontextstreamhandlerfactori jndi protocol howev web applic run insid regist handler custom scheme current possibl dir context stream handler factori dircontextstreamhandlerfactori enhanc allow applic regist stream handler custom scheme might better made properti context xml file alreadi enhanc futur','2004-02-05 21:30:18',1076030000,'resolved fixed','f622e3a',1299450000,'java/org/apache/catalina/loader/WebappLoader.java\njava/org/apache/naming/resources/Constants.java\njava/org/apache/naming/resources/DirContextURLStreamHandlerFactory.java\ntest/org/apache/naming/resources/TestDirContextURLStreamHandlerFactory.java'),(480,50855,'Bug 50855  NullPointerException thrown in AuthenticatorBase.register method for null principal','','null pointer except nullpointerexcept thrown authent base authenticatorbas regist method null princip','null pointer except nullpointerexcept thrown authent base authenticatorbas regist method null princip','','2011-03-02 11:19:27',1299080000,'resolved fixed','b24b0c0',1299400000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(481,50857,'Bug 50857  Test failures on Windows 7, 24 thread system','testPoolThreads20Connections10FairAsync\n\n    [junit] java.sql.SQLException: [tomcat-pool-10] NoWait: Pool empty. Unable to fetch a connection, none available[10 in use].\n    [junit]     at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:615)\n    [junit]     at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnectionAsync(ConnectionPool.java:143)\n    [junit]     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnectionAsync(DataSourceProxy.java:122)\n    [junit]     at org.apache.tomcat.jdbc.test.FairnessTest$TestThread.run(FairnessTest.java:231)','failur window thread system test pool threads20 connections10 fair async testpoolthreads20connections10fairasync junit java sql except sqlexcept tomcat pool tomcatpool no wait nowait pool empti unabl fetch connect none avail use junit apach tomcat jdbc pool connect pool connectionpool borrow connect borrowconnect connect pool connectionpool java junit apach tomcat jdbc pool connect pool connectionpool get connect async getconnectionasync connect pool connectionpool java junit apach tomcat jdbc pool data sourc proxi datasourceproxi get connect async getconnectionasync data sourc proxi datasourceproxi java junit apach tomcat jdbc fair test fairnesstest test thread testthread run fair test fairnesstest java','failur window thread system','test pool threads20 connections10 fair async testpoolthreads20connections10fairasync junit java sql except sqlexcept tomcat pool tomcatpool no wait nowait pool empti unabl fetch connect none avail use junit apach tomcat jdbc pool connect pool connectionpool borrow connect borrowconnect connect pool connectionpool java junit apach tomcat jdbc pool connect pool connectionpool get connect async getconnectionasync connect pool connectionpool java junit apach tomcat jdbc pool data sourc proxi datasourceproxi get connect async getconnectionasync data sourc proxi datasourceproxi java junit apach tomcat jdbc fair test fairnesstest test thread testthread run fair test fairnesstest java','2011-03-02 15:50:18',1299100000,'resolved fixed','ef547fb',1299100000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java'),(482,27988,'Bug 27988  Unhelpful FileNotFoundException raised','org.apache.naming.resources.DirContextURLConnection raises FileNotFoundException\non lines 311, 344, 382 and 396.  It would be more helpful if these provided a\nmessage string.\n\nFor example, change line 344 to\n        throw new FileNotFoundException(getURL().getFile());\n\nThis would make it easier to diagnose mistakes in server configurations.','unhelp file not found except filenotfoundexcept rais apach name resourc dir context connect dircontexturlconnect rais file not found except filenotfoundexcept line would help provid messag string exampl chang line throw new file not found except filenotfoundexcept get geturl get file getfil would make easier diagnos mistak server configur','unhelp file not found except filenotfoundexcept rais','apach name resourc dir context connect dircontexturlconnect rais file not found except filenotfoundexcept line would help provid messag string exampl chang line throw new file not found except filenotfoundexcept get geturl get file getfil would make easier diagnos mistak server configur','2004-03-26 17:01:25',1080340000,'resolved fixed','4a4d86e',1299070000,'java/org/apache/naming/resources/DirContextURLConnection.java'),(483,28852,'Bug 28852  failonerror attribute on Ant tasks','failonerror boolean attribute on manager Ant tasks would be a nice have to \nallow for more flexible operation within Ant build files.\n\nI will attach a patch next week that also fixes unecessary CRs during response \nread/print and missing url encoding in some tasks.','failonerror attribut ant task failonerror boolean attribut manag ant task would nice allow flexibl oper within ant build file attach patch next week fix unecessari cr respons read print miss url encod task','failonerror attribut ant task','failonerror boolean attribut manag ant task would nice allow flexibl oper within ant build file attach patch next week fix unecessari cr respons read print miss url encod task','2004-05-08 20:23:38',1084060000,'resolved fixed','e1bf740',1298920000,'java/org/apache/catalina/ant/JMXGetTask.java\njava/org/apache/catalina/ant/JMXQueryTask.java\njava/org/apache/catalina/ant/JMXSetTask.java\njava/org/apache/catalina/ant/ResourcesTask.java\njava/org/apache/catalina/ant/UndeployTask.java'),(484,31027,'Bug 31027  major error from minor whitespace error in properties file','A developer accidentally placed a tab character after the port number in the\nproperties file for a tomcat instance.  This prevented tomcat from listening on\nthat port, but it was difficult to track down whether tomcat was running.  Seems\nlike the properties-file reader could easily trim excess whitespace before\ntrying to use entries.','major error minor whitespac error properti file develop accident place tab charact port number properti file tomcat instanc prevent tomcat listen port difficult track whether tomcat run seem like properti file propertiesfil reader could easili trim excess whitespac tri use entri','major error minor whitespac error properti file','develop accident place tab charact port number properti file tomcat instanc prevent tomcat listen port difficult track whether tomcat run seem like properti file propertiesfil reader could easili trim excess whitespac tri use entri','2004-09-02 22:36:52',1094180000,'resolved wontfix','4b4ef0c',1298810000,'java/org/apache/catalina/startup/CatalinaProperties.java'),(485,50836,'Bug 50836  LifecycleState#isAvailable() to be more restrictive','I think some of the values returned by LifecycleState#isAvailable() are wrong.\n\n1. I am certain that MUST_DESTROY should return false, because it is a state that is later than stopped.\n2. I think that STOPPING_PREP should return false, because we can get there from the FAILED state.\n3. I think that STARTING should return false, because it is too early to return true there.\n\nAs a result, the following is the complete list of states are to return true in #isAvailable():\nSTARTED, MUST_STOP','lifecycl state lifecyclest is avail isavail restrict think valu return lifecycl state lifecyclest is avail isavail wrong certain must destroy return fals state later stop think stop prep return fals get fail state think start return fals earli return true result follow complet list state return true is avail isavail start must stop','lifecycl state lifecyclest is avail isavail restrict','think valu return lifecycl state lifecyclest is avail isavail wrong certain must destroy return fals state later stop think stop prep return fals get fail state think start return fals earli return true result follow complet list state return true is avail isavail start must stop','2011-02-26 14:05:18',1298750000,'resolved fixed','92ff888',1298800000,'java/org/apache/catalina/Lifecycle.java\njava/org/apache/catalina/LifecycleListener.java\njava/org/apache/catalina/LifecycleState.java\njava/org/apache/catalina/util/LifecycleBase.java'),(486,49284,'Bug 49284  Implement SSL renegotiation for the NIO connector','Summary says it all. Entered as a reminder that it would be good to do this.','implement ssl renegoti nio connector summari say enter remind would good','implement ssl renegoti nio connector','summari say enter remind would good','2010-05-12 19:06:24',1273710000,'resolved fixed','dcda15d',1298660000,'java/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/tomcat/util/net/NioChannel.java\njava/org/apache/tomcat/util/net/SecureNioChannel.java'),(487,50826,'Bug 50826  (Embedded) Tomcat.destroy() throws java.lang.IllegalArgumentException','Embedded Tomcat sometimes throws this exception when calling destroy() method:\n\njava.lang.IllegalArgumentException: null source\n	at java.util.EventObject.<init>(EventObject.java:56)\n	at javax.management.Notification.<init>(Notification.java:184)\n	at org.apache.catalina.core.StandardContext.destroyInternal(StandardContext.java:5433)\n	at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n	at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:969)\n	at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1108)\n	at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n	at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:969)\n	at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1108)\n	at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n	at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:593)\n	at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n	at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:786)\n	at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n	at org.apache.catalina.startup.Tomcat.destroy(Tomcat.java:323)\n	at su.msk.jet.nioproxy.rule.config.EmbeddedWebserver.stop(EmbeddedWebserver.java:26)\n\nI think that StandardContext.destroyInternal() misses check that this.getObjectName()!=null','embed tomcat destroy throw java lang illeg argument except illegalargumentexcept embed tomcat sometim throw except call destroy method java lang illeg argument except illegalargumentexcept null sourc java util event object eventobject init event object eventobject java javax manag notif init notif java apach catalina core standard context standardcontext destroy intern destroyintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina core contain base containerbas destroy intern destroyintern contain base containerbas java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina core contain base containerbas destroy intern destroyintern contain base containerbas java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core standard servic standardservic destroy intern destroyintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core standard server standardserv destroy intern destroyintern standard server standardserv java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina startup tomcat destroy tomcat java msk jet nioproxi rule config embed webserv embeddedwebserv stop embed webserv embeddedwebserv java think standard context standardcontext destroy intern destroyintern miss check get object name getobjectnam null','embed tomcat destroy throw java lang illeg argument except illegalargumentexcept','embed tomcat sometim throw except call destroy method java lang illeg argument except illegalargumentexcept null sourc java util event object eventobject init event object eventobject java javax manag notif init notif java apach catalina core standard context standardcontext destroy intern destroyintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina core contain base containerbas destroy intern destroyintern contain base containerbas java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina core contain base containerbas destroy intern destroyintern contain base containerbas java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core standard servic standardservic destroy intern destroyintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina core standard server standardserv destroy intern destroyintern standard server standardserv java apach catalina util lifecycl base lifecyclebas destroy lifecycl base lifecyclebas java apach catalina startup tomcat destroy tomcat java msk jet nioproxi rule config embed webserv embeddedwebserv stop embed webserv embeddedwebserv java think standard context standardcontext destroy intern destroyintern miss check get object name getobjectnam null','2011-02-24 08:47:47',1298560000,'resolved fixed','9d542ed',1298570000,'java/org/apache/catalina/core/StandardContext.java\ntest/org/apache/catalina/startup/TestTomcat.java'),(488,21669,'Bug 21669  JNDIRealm roleBase pattern enahncement','Currently the roleBase attribute must be a fxed location in the directory. A \nsimple change would allow the role base to be specified relative to the user \nDN. My enhancement suggestion would change the roleBase definition as follows:\n\nroleBase - the base entry for the role search. If not specified, the search \nbase is the top level directory context. If specified it may optionally include \npattern replacements \"{0}\"..\"{n}\" corrosponding to the name parts of the user\'s \ndistinguished name (as returned by javax.naming.Name.get()).\n\nFor example, in the <Realm> defintion in server.xml you could specify the \nroleBase as:\n\n    roleBase=\"ou=Groups,{1},{0}\"\n\nThe majority of the code to accomplish this would be in JNDIRealm.getRoles() \nand could look like this:\n\n	String base = null;\n	if ( roleBaseFormat != null )\n	{\n		NameParser np = context.getNameParser(\"\");\n		Name name = np.parse(dn);\n		String nameParts[] = new String[name.size()];\n		for ( int idx = 0 ; idx < name.size() ; idx++ )\n			nameParts[idx] = name.get(idx);\n       	base = roleBaseFormat.format(nameParts);\n	}\n\n        // Perform the configured search and process the results\n        if (debug >= 3) {\n            log(\"  Searching role base \'\" + base + \"\' for attribute \'\" +\n                roleName + \"\'\");\n            log(\"  With filter expression \'\" + filter + \"\'\");\n        }\n        NamingEnumeration results =\n            context.search(base, filter, controls);\n\nThank You,\nArt','realm jndirealm role base rolebas pattern enahnc current role base rolebas attribut must fxed locat directori simpl chang would allow role base specifi rel user dn enhanc suggest would chang role base rolebas definit follow role base rolebas base entri role search specifi search base top level directori context specifi may option includ pattern replac corrospond name part user distinguish name return javax name name get exampl realm defint server xml could specifi role base rolebas role base rolebas group major code accomplish would realm jndirealm get role getrol could look like string base null role base format rolebaseformat null name parser namepars np context get name parser getnamepars name name np pars dn string name part namepart new string name size int idx idx name size idx name part namepart idx name get idx base role base format rolebaseformat format name part namepart perform configur search process result debug log search role base base attribut role name rolenam log filter express filter name enumer namingenumer result context search base filter control thank art','realm jndirealm role base rolebas pattern enahnc','current role base rolebas attribut must fxed locat directori simpl chang would allow role base specifi rel user dn enhanc suggest would chang role base rolebas definit follow role base rolebas base entri role search specifi search base top level directori context specifi may option includ pattern replac corrospond name part user distinguish name return javax name name get exampl realm defint server xml could specifi role base rolebas role base rolebas group major code accomplish would realm jndirealm get role getrol could look like string base null role base format rolebaseformat null name parser namepars np context get name parser getnamepars name name np pars dn string name part namepart new string name size int idx idx name size idx name part namepart idx name get idx base role base format rolebaseformat format name part namepart perform configur search process result debug log search role base base attribut role name rolenam log filter express filter name enumer namingenumer result context search base filter control thank art','2003-07-16 22:59:24',1058410000,'resolved fixed','f22600c',1298380000,'java/org/apache/catalina/realm/JNDIRealm.java'),(489,19444,'Bug 19444  JNDI Authentication roles must be anonymous accessible','It appears that for the JNDIRealm to be able to locate roles, they must be \nanonymous accessible. I believe that for security purposes this should not be \nnecessary if we are validating the user by binding to the directory. In that \ncase the roles could be accessible to any bound user or that particular user. I \ndiscussed this very briefly on the Tomcat user list. It sounds like this had \nbeen discussed previously and for whatever reason, the idea rejected. Anyhow I \nsubmit that there is a bug, either in the code - which requires the roles to be \nanonymous, or in the documentation which does not make it clear that this is \nthe case (at least in \"Tomcat 4 Servlet/JSP Container - Realm Configuration HOW-\nTO). It seems reasonable to me that if we are binding to the directory to \nauthenticate, we would have that user\'s access to roles. Perhaps the \ndocumentation should more explicetly state that this is not the case.\n\nIn the hope that it would be accepted as an enhancement, I am going to attempt \nto attach a modified JNDIRealm that uses the authenticated connection to obtain \nthe roles.\n\nThank You,\nArt','jndi authent role must anonym access appear realm jndirealm abl locat role must anonym access believ secur purpos necessari valid user bind directori case role could access bound user particular user discuss briefli tomcat user list sound like discuss previous whatev reason idea reject anyhow submit either code requir role anonym document make clear case least tomcat servlet jsp contain realm configur seem reason bind directori authent would user access role perhap document explicetli state case hope would accept enhanc go attempt attach modifi realm jndirealm us authent connect obtain role thank art','jndi authent role must anonym access','appear realm jndirealm abl locat role must anonym access believ secur purpos necessari valid user bind directori case role could access bound user particular user discuss briefli tomcat user list sound like discuss previous whatev reason idea reject anyhow submit either code requir role anonym document make clear case least tomcat servlet jsp contain realm configur seem reason bind directori authent would user access role perhap document explicetli state case hope would accept enhanc go attempt attach modifi realm jndirealm us authent connect obtain role thank art','2003-04-29 21:58:13',1051670000,'resolved fixed','a085c4a',1298370000,'java/org/apache/catalina/realm/JNDIRealm.java');
INSERT INTO `bug_and_files` VALUES (490,50189,'Bug 50189  AJP connector sends GET BODY CHUNK when reading after response closed','If a servlet (probably incorrectly) closes the writer/outputstream of a response, and then attempts to read from the request, the AJP connector sends GET BODY CHUNK to the mod_jk worker.\n\nThis then starts a series of very confusing communication between the worker and tomcat.  The worker doesn\'t read it until it makes its next request.  After making its next request, it reads it, and then sends a response with 0 length.  At the same time, Tomcat responds to the request made by the worker with another GET BODY CHUNK, which the worker also responds with a message of 0 length.  Then the really weird thing happens, Tomcat replays the first request made by that worker.  At this point, based on what I\'m looking at with tcpdump, I get too confused to work out exactly what is happening.','ajp connector send get bodi chunk read respons close servlet probabl incorrectli close writer outputstream respons attempt read request ajp connector send get bodi chunk jk worker start seri confus commun worker tomcat worker doesn read make next request make next request read send respons length time tomcat respond request made worker anoth get bodi chunk worker respond messag length realli weird thing happen tomcat replay first request made worker point base look tcpdump get confus work exactli happen','ajp connector send get bodi chunk read respons close','servlet probabl incorrectli close writer outputstream respons attempt read request ajp connector send get bodi chunk jk worker start seri confus commun worker tomcat worker doesn read make next request make next request read send respons length time tomcat respond request made worker anoth get bodi chunk worker respond messag length realli weird thing happen tomcat replay first request made worker point base look tcpdump get confus work exactli happen','2010-10-31 23:27:02',1288580000,'resolved fixed','514e713',1298050000,'java/org/apache/catalina/connector/OutputBuffer.java'),(491,50802,'Bug 50802  Deviation from servlet3 spec concerning resource lookup from META-INF/resources','','deviat servlet3 spec concern resourc lookup meta inf resourc','deviat servlet3 spec concern resourc lookup meta inf resourc','','2011-02-17 13:20:33',1297970000,'resolved fixed','a9c3193',1297980000,'java/org/apache/naming/resources/BaseDirContext.java\njava/org/apache/naming/resources/FileDirContext.java\njava/org/apache/naming/resources/VirtualDirContext.java\njava/org/apache/naming/resources/WARDirContext.java'),(492,50780,'Bug 50780  AjpConnectionHandler keeps many connections causing memory leak','Hi,\n\nSorry for my english.\n\nI use Tomcat 7.0.6 with APR 1.1.20. \n\nI noticed (from heap dump) many org.apache.tomcat.util.net.SocketWrapper objects, which are kept by \"connections\" atribute in org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler object. I don\'t understand, why there are so many objects representing old connections which are not active. In my example it was 300000 objects created, after 7 days of Tomcat work. Has someone forgotten to clean this HashMap from time to time?\n\nbest regards\n\nSergiusz Brzezinski','ajp connect handler ajpconnectionhandl keep mani connect caus memori leak hi sorri english use tomcat apr notic heap dump mani apach tomcat util net socket wrapper socketwrapp object kept connect atribut apach coyot ajp ajp apr protocol ajpaprprotocol ajp connect handler ajpconnectionhandl object understand mani object repres old connect activ exampl object creat day tomcat work someon forgotten clean hash map hashmap time time best regard sergiusz brzezinski','ajp connect handler ajpconnectionhandl keep mani connect caus memori leak','hi sorri english use tomcat apr notic heap dump mani apach tomcat util net socket wrapper socketwrapp object kept connect atribut apach coyot ajp ajp apr protocol ajpaprprotocol ajp connect handler ajpconnectionhandl object understand mani object repres old connect activ exampl object creat day tomcat work someon forgotten clean hash map hashmap time time best regard sergiusz brzezinski','2011-02-15 04:51:49',1297760000,'resolved fixed','b56bf50',1297960000,'java/org/apache/coyote/ajp/AjpAprProtocol.java'),(493,50789,'Bug 50789  custom error pages and CDI/weld problem','','custom error page cdi weld problem','custom error page cdi weld problem','','2011-02-15 12:09:28',1297790000,'resolved fixed','3810b04',1297940000,'java/org/apache/catalina/Context.java\njava/org/apache/catalina/core/ApplicationDispatcher.java\njava/org/apache/catalina/core/StandardContext.java'),(494,50790,'Bug 50790  EL parser needs to be more dynamic','String.containes(CharSequence) is not being resolved correctly in the following situation:\n\n<span class=\"#{(facesContext.externalContext.request.requestURI.contains(item.url)) ? \'activepage\' : \'\'}\">#{template[item.labelKey]}</span>\n\nException:\n\n\njavax.el.ELException: /faces/template/mainLayout.xhtml: java.lang.NoSuchMethodException: java.lang.String.contains(java.lang.String)\n	at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:87)\n	at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:75)\n	at com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeRecursive(HtmlBasicRenderer.java:285)\n	at com.sun.faces.renderkit.html_basic.OutputLinkRenderer.encodeChildren(OutputLinkRenderer.java:125)\n	at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:848)\n	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1613)\n	at com.sun.faces.facelets.component.RepeatRenderer.encodeChildren(RepeatRenderer.java:97)\n	at com.sun.faces.facelets.component.UIRepeat.process(UIRepeat.java:496)\n	at com.sun.faces.facelets.component.UIRepeat.encodeChildren(UIRepeat.java:926)\n	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1613)\n	at javax.faces.render.Renderer.encodeChildren(Renderer.java:168)\n	at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:848)\n	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1613)\n	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1616)\n	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1616)\n	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:380)\n	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:126)\n	at com.ocpsoft.pretty.faces.application.PrettyViewHandler.renderView(PrettyViewHandler.java:157)\n	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:127)\n	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\n	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:313)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:306)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n	at com.reardeninc.tigris.ui.facesutil.FacesFilter.doFilter(FacesFilter.java:86)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:244)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n	at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:79)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:244)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n	at com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:100)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:244)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\n	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:541)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:383)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)\n	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)\n	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:288)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	at java.lang.Thread.run(Thread.java:680)\nCaused by: java.lang.NoSuchMethodException: java.lang.String.contains(java.lang.String)\n	at java.lang.Class.getMethod(Class.java:1605)\n	at javax.el.BeanELResolver.invoke(BeanELResolver.java:405)\n	at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:161)\n	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)\n	at org.apache.el.parser.AstChoice.getValue(AstChoice.java:45)\n	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189)\n	at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:207)\n	at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:82)\n	... 46 more','parser need dynam string contain char sequenc charsequ resolv correctli follow situat span class face context facescontext extern context externalcontext request request requesturi contain item url activepag templat item label key labelkey span except javax except elexcept face templat main layout mainlayout xhtml java lang no such method except nosuchmethodexcept java lang string contain java lang string sun face facelet compil attribut instruct attributeinstruct write attribut instruct attributeinstruct java sun face facelet compil ui instruct uiinstruct encod begin encodebegin ui instruct uiinstruct java sun face renderkit html basic html basic render htmlbasicrender encod recurs encoderecurs html basic render htmlbasicrender java sun face renderkit html basic output link render outputlinkrender encod child encodechildren output link render outputlinkrender java javax face compon ui compon base uicomponentbas encod child encodechildren ui compon base uicomponentbas java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java sun face facelet compon repeat render repeatrender encod child encodechildren repeat render repeatrender java sun face facelet compon ui repeat uirepeat process ui repeat uirepeat java sun face facelet compon ui repeat uirepeat encod child encodechildren ui repeat uirepeat java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java javax face render render encod child encodechildren render java javax face compon ui compon base uicomponentbas encod child encodechildren ui compon base uicomponentbas java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java sun face applic view facelet view handl strategi faceletviewhandlingstrategi render view renderview facelet view handl strategi faceletviewhandlingstrategi java sun face applic view multi view handler multiviewhandl render view renderview multi view handler multiviewhandl java ocpsoft pretti face applic pretti view handler prettyviewhandl render view renderview pretti view handler prettyviewhandl java sun face lifecycl render respons phase renderresponsephas execut render respons phase renderresponsephas java sun face lifecycl phase do phase dophas phase java sun face lifecycl lifecycl impl lifecycleimpl render lifecycl impl lifecycleimpl java javax face webapp face servlet facesservlet servic face servlet facesservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java reardeninc tigri ui facesutil face filter facesfilt do filter dofilt face filter facesfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java primefac webapp filter file upload filter fileuploadfilt do filter dofilt file upload filter fileuploadfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java ocpsoft pretti pretti filter prettyfilt do filter dofilt pretti filter prettyfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus java lang no such method except nosuchmethodexcept java lang string contain java lang string java lang class get method getmethod class java javax bean resolv beanelresolv invok bean resolv beanelresolv java javax composit resolv compositeelresolv invok composit resolv compositeelresolv java apach parser ast valu astvalu get valu getvalu ast valu astvalu java apach parser ast choic astchoic get valu getvalu ast choic astchoic java apach valu express impl valueexpressionimpl get valu getvalu valu express impl valueexpressionimpl java sun face facelet text eltext text variabl eltextvari to string tostr text eltext java sun face facelet compil attribut instruct attributeinstruct write attribut instruct attributeinstruct java','parser need dynam','string contain char sequenc charsequ resolv correctli follow situat span class face context facescontext extern context externalcontext request request requesturi contain item url activepag templat item label key labelkey span except javax except elexcept face templat main layout mainlayout xhtml java lang no such method except nosuchmethodexcept java lang string contain java lang string sun face facelet compil attribut instruct attributeinstruct write attribut instruct attributeinstruct java sun face facelet compil ui instruct uiinstruct encod begin encodebegin ui instruct uiinstruct java sun face renderkit html basic html basic render htmlbasicrender encod recurs encoderecurs html basic render htmlbasicrender java sun face renderkit html basic output link render outputlinkrender encod child encodechildren output link render outputlinkrender java javax face compon ui compon base uicomponentbas encod child encodechildren ui compon base uicomponentbas java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java sun face facelet compon repeat render repeatrender encod child encodechildren repeat render repeatrender java sun face facelet compon ui repeat uirepeat process ui repeat uirepeat java sun face facelet compon ui repeat uirepeat encod child encodechildren ui repeat uirepeat java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java javax face render render encod child encodechildren render java javax face compon ui compon base uicomponentbas encod child encodechildren ui compon base uicomponentbas java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java javax face compon ui compon uicompon encod all encodeal ui compon uicompon java sun face applic view facelet view handl strategi faceletviewhandlingstrategi render view renderview facelet view handl strategi faceletviewhandlingstrategi java sun face applic view multi view handler multiviewhandl render view renderview multi view handler multiviewhandl java ocpsoft pretti face applic pretti view handler prettyviewhandl render view renderview pretti view handler prettyviewhandl java sun face lifecycl render respons phase renderresponsephas execut render respons phase renderresponsephas java sun face lifecycl phase do phase dophas phase java sun face lifecycl lifecycl impl lifecycleimpl render lifecycl impl lifecycleimpl java javax face webapp face servlet facesservlet servic face servlet facesservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java reardeninc tigri ui facesutil face filter facesfilt do filter dofilt face filter facesfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java primefac webapp filter file upload filter fileuploadfilt do filter dofilt file upload filter fileuploadfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java ocpsoft pretti pretti filter prettyfilt do filter dofilt pretti filter prettyfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv access log valv accesslogvalv invok access log valv accesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint socket processor socketprocessor run io endpoint jioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java caus java lang no such method except nosuchmethodexcept java lang string contain java lang string java lang class get method getmethod class java javax bean resolv beanelresolv invok bean resolv beanelresolv java javax composit resolv compositeelresolv invok composit resolv compositeelresolv java apach parser ast valu astvalu get valu getvalu ast valu astvalu java apach parser ast choic astchoic get valu getvalu ast choic astchoic java apach valu express impl valueexpressionimpl get valu getvalu valu express impl valueexpressionimpl java sun face facelet text eltext text variabl eltextvari to string tostr text eltext java sun face facelet compil attribut instruct attributeinstruct write attribut instruct attributeinstruct java','2011-02-15 15:04:47',1297800000,'resolved fixed','cfab791',1297940000,'java/javax/el/BeanELResolver.java\njava/org/apache/el/parser/AstValue.java\ntest/org/apache/el/TestMethodExpressionImpl.java'),(495,50793,'Bug 50793  Invalid DispatchType in ServletRequestListener on async dispatch','If a ServletRequestListener is defined, when is invoked after a call to AsyncContext#dispatch() the DispatcherType returned from the ServletRequest is REQUEST rather than ASYNC. When the actual servlet is invoked, the type is correctly set to ASYNC.\n\nIf the listener is intended to be invoked for each dispatch, then the DispatcherType should match the value returned in the filter/servlet.','invalid dispatch type dispatchtyp servlet request listen servletrequestlisten async dispatch servlet request listen servletrequestlisten defin invok call async context asynccontext dispatch dispatch type dispatchertyp return servlet request servletrequest request rather async actual servlet invok type correctli set async listen intend invok dispatch dispatch type dispatchertyp match valu return filter servlet','invalid dispatch type dispatchtyp servlet request listen servletrequestlisten async dispatch','servlet request listen servletrequestlisten defin invok call async context asynccontext dispatch dispatch type dispatchertyp return servlet request servletrequest request rather async actual servlet invok type correctli set async listen intend invok dispatch dispatch type dispatchertyp match valu return filter servlet','2011-02-15 22:47:30',1297830000,'closed fixed','72418ba',1297880000,'java/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/core/StandardContextValve.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java'),(496,50713,'Bug 50713  The \"roles\" command doesn\'t work','','role command doesn work','role command doesn work','','2011-02-03 02:38:46',1296720000,'resolved fixed','4b21973',1297860000,'java/org/apache/catalina/ant/RolesTask.java\njava/org/apache/catalina/manager/ManagerServlet.java'),(497,50700,'Bug 50700  Context parameters are being overridden with parameters from the web application deployment descriptor','Context parameters are being overridden with parameters from the web application deployment descriptor even through \"override\" attribute is set to \"false\"\n\nFor example:\nlines from context file\n<Context path=\"/path\" docBase=\"/path/to/docbase\" cookies=\"true\">\n    <Parameter name=\"parameter_name\" value=\"test1\" override=\"false\"/>\n....\n</Context>\n\nlines from web.xml\n    <context-param>\n        <description>default value for parameter_name</description>\n        <param-name>parameter_name</param-name>\n        <param-value>test2</param-value>\n    </context-param>\n\nNow servletContext.getInitParameter(\"parameter_name\") returns \"test2\"','context paramet overridden paramet web applic deploy descriptor context paramet overridden paramet web applic deploy descriptor even overrid attribut set fals exampl line context file context path path doc base docbas path docbas cooki true paramet name paramet name valu test1 overrid fals context line web xml context param contextparam descript default valu paramet name descript param name paramnam paramet name param name paramnam param valu paramvalu test2 param valu paramvalu context param contextparam servlet context servletcontext get init paramet getinitparamet paramet name return test2','context paramet overridden paramet web applic deploy descriptor','context paramet overridden paramet web applic deploy descriptor even overrid attribut set fals exampl line context file context path path doc base docbas path docbas cooki true paramet name paramet name valu test1 overrid fals context line web xml context param contextparam descript default valu paramet name descript param name paramnam paramet name param name paramnam param valu paramvalu test2 param valu paramvalu context param contextparam servlet context servletcontext get init paramet getinitparamet paramet name return test2','2011-02-01 13:04:17',1296580000,'resolved fixed','a073ac8',1297710000,'java/org/apache/catalina/core/StandardContext.java'),(498,50771,'Bug 50771  HttpServletRequest#getAuthType() returns null though the request is authenticated.','','http servlet request httpservletrequest get auth type getauthtyp return null though request authent','http servlet request httpservletrequest get auth type getauthtyp return null though request authent','','2011-02-14 03:30:02',1297670000,'resolved fixed','877a3df',1297670000,'java/org/apache/catalina/ha/session/DeltaRequest.java\njava/org/apache/catalina/ha/session/DeltaSession.java'),(499,50726,'Bug 50726  Jasper can generate uncompilable source code if genStringAsCharArray is turned on','Our jsp pages are compiled at build time. If I turn on genStringAsCharArray optimization switch, in some cases there will be longer lines in the generated java code than the javac compiler can process. It provides the following error message:\n\n[javac] Compiling 1609 source files to d:\\...\\jspc\\classes\n[javac] d:\\...\\jspc\\src\\org\\apache\\jsp\\WEB_002dINF\\..._005fAPP\\pages\\termsconditions\\TermsAndConditions_005fms_005fMY_jsp.java:96: constant string too long','jasper gener uncompil sourc code gen string char array genstringaschararray turn jsp page compil build time turn gen string char array genstringaschararray optim switch case longer line gener java code javac compil process provid follow error messag javac compil sourc file jspc class javac jspc src apach jsp web 002d 002dinf 005f 005fapp page termscondit term and condit termsandcondit 005fm 005f 005fmi jsp java constant string long','jasper gener uncompil sourc code gen string char array genstringaschararray turn','jsp page compil build time turn gen string char array genstringaschararray optim switch case longer line gener java code javac compil process provid follow error messag javac compil sourc file jspc class javac jspc src apach jsp web 002d 002dinf 005f 005fapp page termscondit term and condit termsandcondit 005fm 005f 005fmi jsp java constant string long','2011-02-07 08:14:03',1297080000,'resolved fixed','d0f3899',1297540000,'java/org/apache/jasper/compiler/Generator.java'),(500,50759,'Bug 50759  ValidatorClassName Validation fails to set lastValidated timestamp','','valid class name validatorclassnam valid fail set last valid lastvalid timestamp','valid class name validatorclassnam valid fail set last valid lastvalid timestamp','','2011-02-10 19:12:21',1297380000,'resolved fixed','50f16fe',1297440000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PooledConnection.java'),(501,50751,'Bug 50751  JNDIRealm invokes getAttributes with no attribute ids. Prevents using DOMAIN\\{0} to login.','','realm jndirealm invok get attribut getattribut attribut id prevent use domain login','realm jndirealm invok get attribut getattribut attribut id prevent use domain login','','2011-02-10 12:11:43',1297360000,'resolved fixed','0313ded',1297440000,'java/org/apache/catalina/realm/JNDIRealm.java'),(502,50752,'Bug 50752  Typo in Embedded.java log message','There\'s a debug log message in Embedded.java with a typo in it:\n\n\"INITIAL_CONTEXT_FACTORY alread set \"\n\n\nAttached is a patch against the 6_0_29 tag, but the issue exists in tc6.0.x/trunk','typo embed java log messag debug log messag embed java typo initi context factori alread set attach patch tag issu exist tc6 trunk','typo embed java log messag','debug log messag embed java typo initi context factori alread set attach patch tag issu exist tc6 trunk','2011-02-10 12:17:31',1297360000,'resolved fixed','272e30c',1297430000,'java/org/apache/catalina/startup/Embedded.java'),(503,50720,'Bug 50720  When using jsp mapped as servlet in web.xml, cyrillic characters are not allowed in web.xml','','use jsp map servlet web xml cyril charact allow web xml','use jsp map servlet web xml cyril charact allow web xml','','2011-02-04 09:07:57',1296830000,'resolved fixed','e4bc803',1297360000,'java/org/apache/jasper/compiler/WebXml.java'),(504,50721,'Bug 50721  RequestUtil.URLDecode() throws IllegalArgumentException for URLs with %xx-Code as last character','','request util requestutil decod urldecod throw illeg argument except illegalargumentexcept url xx code last charact','request util requestutil decod urldecod throw illeg argument except illegalargumentexcept url xx code last charact','','2011-02-04 20:42:49',1296870000,'resolved fixed','5c9e352',1297290000,'java/org/apache/catalina/util/RequestUtil.java\ntest/org/apache/catalina/util/TestRequestUtil.java'),(505,50709,'Bug 50709  Make class org.apache.catalina.core.ApplicationContextFacade non-final','Please make class org.apache.catalina.core.ApplicationContextFacade non-final so it can be subclassed.\nNeed to extend ApplicationContextFacade so Mobicents Sip Servlet, working on top of Tomcat 7, to integrate with Weld.\n\nThanks\nGeorge','make class apach catalina core applic context facad applicationcontextfacad non final nonfin pleas make class apach catalina core applic context facad applicationcontextfacad non final nonfin subclass need extend applic context facad applicationcontextfacad mobic sip servlet work top tomcat integr weld thank georg','make class apach catalina core applic context facad applicationcontextfacad non final nonfin','pleas make class apach catalina core applic context facad applicationcontextfacad non final nonfin subclass need extend applic context facad applicationcontextfacad mobic sip servlet work top tomcat integr weld thank georg','2011-02-02 13:11:45',1296670000,'resolved fixed','9f41c91',1296820000,'java/org/apache/catalina/core/ApplicationContextFacade.java'),(506,50673,'Bug 50673  Error when stopping Tomcat using services.msc','When stopping Tomcat using services.msc, an error message is displayed: \"Windows could not stop the Apache Tomcat 7 service on Local Computer. Error 109: The pipe has been ended.\"\n\nDespite this error, Tomcat appears to stop normally.\n\nNo such problem was encountered in 6.0.29.','error stop tomcat use servic msc stop tomcat use servic msc error messag display window could stop apach tomcat servic local comput error pipe end despit error tomcat appear stop normal problem encount','error stop tomcat use servic msc','stop tomcat use servic msc error messag display window could stop apach tomcat servic local comput error pipe end despit error tomcat appear stop normal problem encount','2011-01-27 10:09:50',1296140000,'resolved fixed','6ac4a27',1296610000,'java/org/apache/catalina/core/StandardServer.java\njava/org/apache/catalina/startup/Catalina.java'),(507,50631,'Bug 50631  InternalNioInputBuffer should honor maxHttpHeadSize','InternalNioInputBuffer automatically expands its buffer while reading in request line, effectively ignoring the maxHttpHeaderSize setting.','intern nio input buffer internalnioinputbuff honor max http head size maxhttpheads intern nio input buffer internalnioinputbuff automat expand buffer read request line effect ignor max http header size maxhttpheaders set','intern nio input buffer internalnioinputbuff honor max http head size maxhttpheads','intern nio input buffer internalnioinputbuff automat expand buffer read request line effect ignor max http header size maxhttpheaders set','2011-01-21 13:23:52',1295630000,'resolved fixed','0084470',1296550000,'java/org/apache/coyote/http11/InternalNioInputBuffer.java'),(508,50325,'Bug 50325  Update Tomcat to use JRE provided solutions for CVE-2009-3555 if available','','updat tomcat use jre provid solut cve avail','updat tomcat use jre provid solut cve avail','','2010-11-24 05:38:15',1290600000,'resolved fixed','b4e9488',1296520000,'java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(509,50683,'Bug 50683  Servlet 3.0 annotations not scanned if unpackWars=\"false\"','','servlet annot scan unpack war unpackwar fals','servlet annot scan unpack war unpackwar fals','','2011-01-28 18:36:29',1296260000,'resolved fixed','d21437e',1296260000,'java/org/apache/naming/resources/WARDirContext.java'),(510,46819,'Bug 46819  Remove redundant object instantiations in JspRuntimeLibrary','','remov redund object instanti jsp runtim librari jspruntimelibrari','remov redund object instanti jsp runtim librari jspruntimelibrari','','2009-03-07 23:30:10',1236490000,'resolved fixed','20ace41',1296260000,'java/org/apache/jasper/runtime/JspRuntimeLibrary.java'),(511,50680,'Bug 50680  NPE in TagFileProcessor when tag file is in an expanded directory \"jar\"','','npe tag file processor tagfileprocessor tag file expand directori jar','npe tag file processor tagfileprocessor tag file expand directori jar','','2011-01-28 09:03:07',1296220000,'resolved fixed','af4549f',1296250000,'java/org/apache/jasper/compiler/TagFileProcessor.java'),(512,50679,'Bug 50679  FarmDeployer doesn\'t support parallel deployment','Version: Tomcat 7.0.6\nComponent: Catalina\nOS: Windows 7 64bit\n\nOverview:\n\nParallel deployment works like a charm in a non-clustered environment. But when deploying a versioned app (APPNAME##VERSION.war) to a farm deployer directory, it seems that the filename encoding of the ## delimiter is not translated correctly to identify the war file on the file system:\n\n## is translated to %23%23\n\nReproduce:\n\n1. Create a version app file\n2. Deploy file to watched farm deployer directory\n\nExpected result:\n- Versioned app is copyied to cluster members and deployed\n\nActual result:\n- Versioned app is NOT copyied to cluster members.\n\ncatalina.log displays the following error messages:\n\n\n[ContainerBackgroundProcessor[StandardEngine[Catalina]]] INFO  org.apache.catalina.ha.deploy.FarmWarDeployer- Installing webapp[/Shop##201101261] from C:\\Apache\\Tomcat7\\cluster\\webapps\\Shop##201101261.war\n\n[ContainerBackgroundProcessor[StandardEngine[Catalina]]] INFO  org.apache.catalina.ha.deploy.FarmWarDeployer- Cluster wide remove of web app /Shop##201101261\n\n[ContainerBackgroundProcessor[StandardEngine[Catalina]]] ERROR org.apache.catalina.ha.deploy.FarmWarDeployer- Unable to install WAR file\njava.io.FileNotFoundException: C:\\Apache\\Tomcat7\\cluster\\webapps\\Shop%23%23201101261.war (Das System kann die angegebene Datei nicht finden)\n        at java.io.FileInputStream.open(Native Method)\n        at java.io.FileInputStream.<init>(FileInputStream.java:106)\n        at org.apache.catalina.ha.deploy.FileMessageFactory.<init>(FileMessageFactory.java:152)\n        at org.apache.catalina.ha.deploy.FileMessageFactory.getInstance(FileMessageFactory.java:175)\n        at org.apache.catalina.ha.deploy.FarmWarDeployer.install(FarmWarDeployer.java:372)\n        at org.apache.catalina.ha.deploy.FarmWarDeployer.fileModified(FarmWarDeployer.java:468)\n        at org.apache.catalina.ha.deploy.WarWatcher.check(WarWatcher.java:95)\n        at org.apache.catalina.ha.deploy.FarmWarDeployer.backgroundProcess(FarmWarDeployer.java:591)\n        at org.apache.catalina.ha.tcp.SimpleTcpCluster.backgroundProcess(SimpleTcpCluster.java:627)\n        at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1200)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1393)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1403)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1382)\n        at java.lang.Thread.run(Thread.java:662)\n\n[ContainerBackgroundProcessor[StandardEngine[Catalina]]] INFO  org.apache.catalina.startup.HostConfig- Deploying web application archive Shop##201101261.war\n\nRelevant configuration in server.xml:\n\n...\n      <Host name=\"sbwebapp1\" appBase=\"${catalina.base}/cluster/webapps\"\n            unpackWARs=\"true\" autoDeploy=\"true\">\n\n	     <Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"\n	               channelSendOptions=\"8\">\n	\n	        <Manager className=\"org.apache.catalina.ha.session.DeltaManager\"\n	                 expireSessionsOnShutdown=\"true\"\n	                 notifyListenersOnReplication=\"false\"\n									 stateTransferTimeout=\"5\"/>\n	\n	        <Channel className=\"org.apache.catalina.tribes.group.GroupChannel\">\n	          <Membership className=\"org.apache.catalina.tribes.membership.McastService\"\n	                      address=\"228.0.0.4\"\n	                      port=\"45564\"\n	                      frequency=\"500\"\n	                      dropTime=\"3000\"/>\n	          <Receiver className=\"org.apache.catalina.tribes.transport.nio.NioReceiver\"\n	                    address=\"192.168.222.220\"\n	                    port=\"4000\"\n	                    autoBind=\"100\"\n	                    selectorTimeout=\"5000\"\n	                    maxThreads=\"6\"/>\n	\n	          <Sender className=\"org.apache.catalina.tribes.transport.ReplicationTransmitter\">\n	            <Transport className=\"org.apache.catalina.tribes.transport.nio.PooledParallelSender\"/>\n	          </Sender>\n	          <Interceptor className=\"org.apache.catalina.tribes.group.interceptors.TcpFailureDetector\"/>\n	          <Interceptor className=\"org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor\"/>\n	          <Interceptor className=\"org.apache.catalina.tribes.group.interceptors.ThroughputInterceptor\"/>\n	        </Channel>\n	\n	        <Valve className=\"org.apache.catalina.ha.tcp.ReplicationValve\"\n	                 filter=\".*\\.gif;.*\\.js;.*\\.jpg;.*\\.png;.*\\.htm;.*\\.html;.*\\.css;.*\\.txt;.*\\.swf;.*\\.flv;\"/>\n	        <Valve className=\"org.apache.catalina.ha.session.JvmRouteBinderValve\"/>	        \n	\n	        <ClusterListener className=\"org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener\"/>\n	        <ClusterListener className=\"org.apache.catalina.ha.session.ClusterSessionListener\"/>\n	        \n	        <Deployer className=\"org.apache.catalina.ha.deploy.FarmWarDeployer\"\n	                  tempDir=\"${catalina.base}/cluster/temp/\"\n	                  deployDir=\"${catalina.base}/cluster/webapps/\"\n	                  watchDir=\"${catalina.base}/cluster/deploy/\"\n	                  watchEnabled=\"true\"/>        \n	      </Cluster>\n\n        <!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=\"common\" -->\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\"  \n               prefix=\"ajp_access_\" suffix=\".log\"\n               pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" resolveHosts=\"false\"/>             \n\n      </Host>\n...','farm deploy farmdeploy doesn support parallel deploy version tomcat compon catalina window 64bit overview parallel deploy work like charm non cluster nonclust environ deploy version app appnam version farm deploy directori seem filenam encod delimit translat correctli identifi file file system translat reproduc creat version app file deploy file watch farm deploy directori expect result version app copyi cluster member deploy actual result version app copyi cluster member catalina log display follow error messag contain background processor containerbackgroundprocessor standard engin standardengin catalina info apach catalina deploy farm war deploy farmwardeploy instal webapp shop apach tomcat7 cluster webapp shop contain background processor containerbackgroundprocessor standard engin standardengin catalina info apach catalina deploy farm war deploy farmwardeploy cluster wide remov web app shop contain background processor containerbackgroundprocessor standard engin standardengin catalina error apach catalina deploy farm war deploy farmwardeploy unabl instal file java file not found except filenotfoundexcept apach tomcat7 cluster webapp shop system angegeben datei finden java file input stream fileinputstream open nativ method java file input stream fileinputstream init file input stream fileinputstream java apach catalina deploy file messag factori filemessagefactori init file messag factori filemessagefactori java apach catalina deploy file messag factori filemessagefactori get instanc getinst file messag factori filemessagefactori java apach catalina deploy farm war deploy farmwardeploy instal farm war deploy farmwardeploy java apach catalina deploy farm war deploy farmwardeploy file modifi filemodifi farm war deploy farmwardeploy java apach catalina deploy war watcher warwatch check war watcher warwatch java apach catalina deploy farm war deploy farmwardeploy background process backgroundprocess farm war deploy farmwardeploy java apach catalina tcp simpl tcp cluster simpletcpclust background process backgroundprocess simpl tcp cluster simpletcpclust java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run thread java contain background processor containerbackgroundprocessor standard engin standardengin catalina info apach catalina startup host config hostconfig deploy web applic archiv shop relev configur server xml host name sbwebapp1 app base appbas catalina base cluster webapp unpack unpackwar true auto deploy autodeploy true cluster class name classnam apach catalina tcp simpl tcp cluster simpletcpclust channel send option channelsendopt manag class name classnam apach catalina session delta manag deltamanag expir session on shutdown expiresessionsonshutdown true notifi listen on replic notifylistenersonrepl fals state transfer timeout statetransfertimeout channel class name classnam apach catalina tribe group group channel groupchannel membership class name classnam apach catalina tribe membership mcast servic mcastservic address port frequenc drop time droptim receiv class name classnam apach catalina tribe transport nio nio receiv nioreceiv address port auto bind autobind selector timeout selectortimeout max thread maxthread sender class name classnam apach catalina tribe transport replic transmitt replicationtransmitt transport class name classnam apach catalina tribe transport nio pool parallel sender pooledparallelsend sender interceptor class name classnam apach catalina tribe group interceptor tcp failur detector tcpfailuredetector interceptor class name classnam apach catalina tribe group interceptor messag dispatch15 interceptor messagedispatch15interceptor interceptor class name classnam apach catalina tribe group interceptor throughput interceptor throughputinterceptor channel valv class name classnam apach catalina tcp replic valv replicationvalv filter gif j jpg png htm html cs txt swf flv valv class name classnam apach catalina session jvm rout binder valv jvmroutebindervalv cluster listen clusterlisten class name classnam apach catalina session jvm rout session binder listen jvmroutesessionidbinderlisten cluster listen clusterlisten class name classnam apach catalina session cluster session listen clustersessionlisten deploy class name classnam apach catalina deploy farm war deploy farmwardeploy temp dir tempdir catalina base cluster temp deploy dir deploydir catalina base cluster webapp watch dir watchdir catalina base cluster deploy watch enabl watchen true cluster access log process exampl document doc config valv html note pattern use equival use pattern common valv class name classnam apach catalina valv access log valv accesslogvalv directori log prefix ajp access suffix log pattern quot quot resolv host resolvehost fals host','farm deploy farmdeploy doesn support parallel deploy','version tomcat compon catalina window 64bit overview parallel deploy work like charm non cluster nonclust environ deploy version app appnam version farm deploy directori seem filenam encod delimit translat correctli identifi file file system translat reproduc creat version app file deploy file watch farm deploy directori expect result version app copyi cluster member deploy actual result version app copyi cluster member catalina log display follow error messag contain background processor containerbackgroundprocessor standard engin standardengin catalina info apach catalina deploy farm war deploy farmwardeploy instal webapp shop apach tomcat7 cluster webapp shop contain background processor containerbackgroundprocessor standard engin standardengin catalina info apach catalina deploy farm war deploy farmwardeploy cluster wide remov web app shop contain background processor containerbackgroundprocessor standard engin standardengin catalina error apach catalina deploy farm war deploy farmwardeploy unabl instal file java file not found except filenotfoundexcept apach tomcat7 cluster webapp shop system angegeben datei finden java file input stream fileinputstream open nativ method java file input stream fileinputstream init file input stream fileinputstream java apach catalina deploy file messag factori filemessagefactori init file messag factori filemessagefactori java apach catalina deploy file messag factori filemessagefactori get instanc getinst file messag factori filemessagefactori java apach catalina deploy farm war deploy farmwardeploy instal farm war deploy farmwardeploy java apach catalina deploy farm war deploy farmwardeploy file modifi filemodifi farm war deploy farmwardeploy java apach catalina deploy war watcher warwatch check war watcher warwatch java apach catalina deploy farm war deploy farmwardeploy background process backgroundprocess farm war deploy farmwardeploy java apach catalina tcp simpl tcp cluster simpletcpclust background process backgroundprocess simpl tcp cluster simpletcpclust java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run thread java contain background processor containerbackgroundprocessor standard engin standardengin catalina info apach catalina startup host config hostconfig deploy web applic archiv shop relev configur server xml host name sbwebapp1 app base appbas catalina base cluster webapp unpack unpackwar true auto deploy autodeploy true cluster class name classnam apach catalina tcp simpl tcp cluster simpletcpclust channel send option channelsendopt manag class name classnam apach catalina session delta manag deltamanag expir session on shutdown expiresessionsonshutdown true notifi listen on replic notifylistenersonrepl fals state transfer timeout statetransfertimeout channel class name classnam apach catalina tribe group group channel groupchannel membership class name classnam apach catalina tribe membership mcast servic mcastservic address port frequenc drop time droptim receiv class name classnam apach catalina tribe transport nio nio receiv nioreceiv address port auto bind autobind selector timeout selectortimeout max thread maxthread sender class name classnam apach catalina tribe transport replic transmitt replicationtransmitt transport class name classnam apach catalina tribe transport nio pool parallel sender pooledparallelsend sender interceptor class name classnam apach catalina tribe group interceptor tcp failur detector tcpfailuredetector interceptor class name classnam apach catalina tribe group interceptor messag dispatch15 interceptor messagedispatch15interceptor interceptor class name classnam apach catalina tribe group interceptor throughput interceptor throughputinterceptor channel valv class name classnam apach catalina tcp replic valv replicationvalv filter gif j jpg png htm html cs txt swf flv valv class name classnam apach catalina session jvm rout binder valv jvmroutebindervalv cluster listen clusterlisten class name classnam apach catalina session jvm rout session binder listen jvmroutesessionidbinderlisten cluster listen clusterlisten class name classnam apach catalina session cluster session listen clustersessionlisten deploy class name classnam apach catalina deploy farm war deploy farmwardeploy temp dir tempdir catalina base cluster temp deploy dir deploydir catalina base cluster webapp watch dir watchdir catalina base cluster deploy watch enabl watchen true cluster access log process exampl document doc config valv html note pattern use equival use pattern common valv class name classnam apach catalina valv access log valv accesslogvalv directori log prefix ajp access suffix log pattern quot quot resolv host resolvehost fals host','2011-01-28 03:22:33',1296200000,'resolved fixed','2377f51',1296250000,'java/org/apache/catalina/ha/ClusterDeployer.java\njava/org/apache/catalina/ha/deploy/FarmWarDeployer.java\njava/org/apache/catalina/ha/deploy/FileMessage.java\njava/org/apache/catalina/ha/deploy/FileMessageFactory.java\njava/org/apache/catalina/ha/deploy/UndeployMessage.java'),(513,50642,'Bug 50642  keepAliveProtection doesn\'t work','','keep aliv protect keepaliveprotect doesn work','keep aliv protect keepaliveprotect doesn work','','2011-01-24 10:45:14',1295880000,'resolved fixed','5c13d8c',1296220000,'java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/catalina/loader/WebappLoader.java'),(514,50646,'Bug 50646  Tribes ByteMessage will get corrupted if message size exceeds the underlying buffer size','The Tribes ByteMessage class is used to transfer byte payloads in the context of the tribes communication framework.\n\nDue to how the message is deserialized, there will be data loss (and hence corruption) if the message size exceeds the underlying buffer size.\n\nThe solution is to replace an ObjectInput#read(byte[]) call by ObjectInput#readFully(byte[]).\n\nFix is attached.','tribe byte messag bytemessag get corrupt messag size exce underli buffer size tribe byte messag bytemessag class use transfer byte payload context tribe commun framework due messag deseri data loss henc corrupt messag size exce underli buffer size solut replac object input objectinput read byte call object input objectinput read fulli read byte fix attach','tribe byte messag bytemessag get corrupt messag size exce underli buffer size','tribe byte messag bytemessag class use transfer byte payload context tribe commun framework due messag deseri data loss henc corrupt messag size exce underli buffer size solut replac object input objectinput read byte call object input objectinput read fulli read byte fix attach','2011-01-25 07:08:10',1295960000,'resolved fixed','0119483',1296070000,'java/org/apache/catalina/tribes/ByteMessage.java'),(515,50629,'Bug 50629  Make the bindThread/unbindThread method protected','In the latest Tomcat codes, I saw that a new thread is created for listener start, filter start and loadOnStartup. But the two methods bindThread and unbindThread is marked as private, how about making those methods protected ? So that other containers could use those two methods for their own initialization works.\nThanks.','make bind thread bindthread unbind thread unbindthread method protect latest tomcat code saw new thread creat listen start filter start load on startup loadonstartup two method bind thread bindthread unbind thread unbindthread mark privat make method protect contain could use two method initi work thank','make bind thread bindthread unbind thread unbindthread method protect','latest tomcat code saw new thread creat listen start filter start load on startup loadonstartup two method bind thread bindthread unbind thread unbindthread mark privat make method protect contain could use two method initi work thank','2011-01-21 07:23:54',1295610000,'resolved fixed','3898ed0',1295620000,'java/org/apache/catalina/core/StandardContext.java'),(516,50620,'Bug 50620  Session related errors prevent clean recycle of Request and Response objects by CoyoteAdapter','','session relat error prevent clean recycl request respons object coyot adapt coyoteadapt','session relat error prevent clean recycl request respons object coyot adapt coyoteadapt','','2011-01-19 15:54:38',1295470000,'resolved fixed','fbd0110',1295550000,'java/org/apache/catalina/connector/Request.java'),(517,50606,'Bug 50606  Error running CGI executable in Tomcat 6.0.30','','error run cgi execut tomcat','error run cgi execut tomcat','','2011-01-18 02:26:41',1295340000,'resolved fixed','c0cd721',1295550000,'java/org/apache/catalina/servlets/CGIServlet.java'),(518,50613,'Bug 50613  ConnectionPool.size corruption when evictions enabled:','When (the various forms of) eviction run on the connection pool, ConnectionPool.size goes negative.  This appears to be a concurrency problem.\n\nAttached is a unit test that illustrates the issue.','connect pool connectionpool size corrupt evict enabl variou form evict run connect pool connect pool connectionpool size go neg appear concurr problem attach unit illustr issu','connect pool connectionpool size corrupt evict enabl','variou form evict run connect pool connect pool connectionpool size go neg appear concurr problem attach unit illustr issu','2011-01-18 17:33:53',1295390000,'resolved fixed','5cb0b7a',1295470000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestSizePreservation.java'),(519,50601,'Bug 50601  Redundant null checks before instanceof in equals()','','redund null check instanceof equal','redund null check instanceof equal','','2011-01-17 08:54:21',1295270000,'resolved fixed','d95db3f',1295460000,'java/org/apache/catalina/core/ApplicationTaglibDescriptor.java\njava/org/apache/catalina/deploy/LoginConfig.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java\njava/org/apache/el/parser/SimpleNode.java\njava/org/apache/naming/NamingEntry.java\njava/org/apache/tomcat/util/net/URL.java'),(520,50598,'Bug 50598  Sample build.xml uses wrong manager.url','','sampl build xml us wrong manag url','sampl build xml us wrong manag url','','2011-01-16 14:08:25',1295200000,'resolved fixed','de188ad',1295280000,'java/org/apache/catalina/ant/AbstractCatalinaTask.java'),(521,50597,'Bug 50597  Class.newInstance is used for Dynamic instance filters causing InstantiationException','Class.newInstance is called even when the following method ServletContext.addFilter method is called:\n\njavax.servlet.FilterRegistration.Dynamic addFilter(java.lang.String s, javax.servlet.Filter filter);\n\nThis leads to an InstantiationException at runtime if there is no no-args constructor for the filter (pasted below). I\'ll supply a simple patch that fixes the issue for me.\n\nSEVERE: Exception starting filter testFilter\njava.lang.InstantiationException: test.TestFilter\n        at java.lang.Class.newInstance0(Class.java:340)\n        at java.lang.Class.newInstance(Class.java:308)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultIn\nstanceManager.java:119)\n        at org.apache.catalina.core.ApplicationFilterConfig.getFilter(Applicatio\nnFilterConfig.java:252)\n        at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(Applica\ntionFilterConfig.java:372)\n        at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFi\nlterConfig.java:98)\n        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.\njava:4382)\n        at org.apache.catalina.core.StandardContext$2.call(StandardContext.java:\n5040)\n        at org.apache.catalina.core.StandardContext$2.call(StandardContext.java:5035)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)','class new instanc newinst use dynam instanc filter caus instanti except instantiationexcept class new instanc newinst call even follow method servlet context servletcontext add filter addfilt method call javax servlet filter registr filterregistr dynam add filter addfilt java lang string javax servlet filter filter lead instanti except instantiationexcept runtim no arg noarg constructor filter past ll suppli simpl patch fix issu sever except start filter test filter testfilt java lang instanti except instantiationexcept test filter testfilt java lang class new instance0 newinstance0 class java java lang class new instanc newinst class java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default in defaultin stanc manag stancemanag java apach catalina core applic filter config applicationfilterconfig get filter getfilt applicatio filter config nfilterconfig java apach catalina core applic filter config applicationfilterconfig set filter def setfilterdef applica tion filter config tionfilterconfig java apach catalina core applic filter config applicationfilterconfig init applic fi applicationfi lter config lterconfig java apach catalina core standard context standardcontext filter start filterstart standard context standardcontext java apach catalina core standard context standardcontext call standard context standardcontext java apach catalina core standard context standardcontext call standard context standardcontext java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','class new instanc newinst use dynam instanc filter caus instanti except instantiationexcept','class new instanc newinst call even follow method servlet context servletcontext add filter addfilt method call javax servlet filter registr filterregistr dynam add filter addfilt java lang string javax servlet filter filter lead instanti except instantiationexcept runtim no arg noarg constructor filter past ll suppli simpl patch fix issu sever except start filter test filter testfilt java lang instanti except instantiationexcept test filter testfilt java lang class new instance0 newinstance0 class java java lang class new instanc newinst class java apach catalina core default instanc manag defaultinstancemanag new instanc newinst default in defaultin stanc manag stancemanag java apach catalina core applic filter config applicationfilterconfig get filter getfilt applicatio filter config nfilterconfig java apach catalina core applic filter config applicationfilterconfig set filter def setfilterdef applica tion filter config tionfilterconfig java apach catalina core applic filter config applicationfilterconfig init applic fi applicationfi lter config lterconfig java apach catalina core standard context standardcontext filter start filterstart standard context standardcontext java apach catalina core standard context standardcontext call standard context standardcontext java apach catalina core standard context standardcontext call standard context standardcontext java java util concurr futur task futuretask sync inner run innerrun futur task futuretask java java util concurr futur task futuretask run futur task futuretask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2011-01-16 12:25:24',1295200000,'resolved fixed','30468b7',1295280000,'java/org/apache/catalina/core/ApplicationFilterConfig.java'),(522,50600,'Bug 50600  ConcurrentModificationException removing WAR via FarmWarDeployer','The following exception was reported via $work\n\nWARNING: Exception processing cluster org.apache.catalina.ha.tcp.SimpleTcpCluster@68e4e358 background process\njava.util.ConcurrentModificationException\nat java.util.HashMap$HashIterator.nextEntry(HashMap.java:810)\nat java.util.HashMap$EntryIterator.next(HashMap.java:851)\nat java.util.HashMap$EntryIterator.next(HashMap.java:849)\nat org.apache.catalina.ha.deploy.WarWatcher.check(WarWatcher.java:87)\nat org.apache.catalina.ha.deploy.FarmWarDeployer.backgroundProcess(FarmWarDeployer.java:609)\nat org.apache.catalina.ha.tcp.SimpleTcpCluster.backgroundProcess(SimpleTcpCluster.java:596)\nat org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1302)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1601)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1610)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1590)\nat java.lang.Thread.run(Thread.java:636)\n\nThe root cause is removing the entry directly from the Map rather than from the iterator. I have a patch that I\'ll apply shortly.','concurr modif except concurrentmodificationexcept remov via farm war deploy farmwardeploy follow except report via work warn except process cluster apach catalina tcp simpl tcp cluster simpletcpclust 68e4e358 background process java util concurr modif except concurrentmodificationexcept java util hash map hashmap hash iter hashiter next entri nextentri hash map hashmap java java util hash map hashmap entri iter entryiter next hash map hashmap java java util hash map hashmap entri iter entryiter next hash map hashmap java apach catalina deploy war watcher warwatch check war watcher warwatch java apach catalina deploy farm war deploy farmwardeploy background process backgroundprocess farm war deploy farmwardeploy java apach catalina tcp simpl tcp cluster simpletcpclust background process backgroundprocess simpl tcp cluster simpletcpclust java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run thread java root caus remov entri directli map rather iter patch ll appli shortli','concurr modif except concurrentmodificationexcept remov via farm war deploy farmwardeploy','follow except report via work warn except process cluster apach catalina tcp simpl tcp cluster simpletcpclust 68e4e358 background process java util concurr modif except concurrentmodificationexcept java util hash map hashmap hash iter hashiter next entri nextentri hash map hashmap java java util hash map hashmap entri iter entryiter next hash map hashmap java java util hash map hashmap entri iter entryiter next hash map hashmap java apach catalina deploy war watcher warwatch check war watcher warwatch java apach catalina deploy farm war deploy farmwardeploy background process backgroundprocess farm war deploy farmwardeploy java apach catalina tcp simpl tcp cluster simpletcpclust background process backgroundprocess simpl tcp cluster simpletcpclust java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run thread java root caus remov entri directli map rather iter patch ll appli shortli','2011-01-17 06:20:11',1295260000,'resolved fixed','d269ce3',1295260000,'java/org/apache/catalina/ha/deploy/WarWatcher.java'),(523,50582,'Bug 50582  Small JSPs do not set Content-Length (and use chunked encoding) if AccessLogValve is configured','','small jsp set content length use chunk encod access log valv accesslogvalv configur','small jsp set content length use chunk encod access log valv accesslogvalv configur','','2011-01-14 02:16:41',1294990000,'resolved fixed','35a84d1',1295180000,'java/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/catalina/valves/AccessLogValve.java\njava/org/apache/catalina/valves/JDBCAccessLogValve.java\njava/org/apache/coyote/http11/AbstractOutputBuffer.java'),(524,50591,'Bug 50591  NPE in ReplicationValve in 7.0.6','','npe replic valv replicationvalv','npe replic valv replicationvalv','','2011-01-15 12:33:11',1295110000,'resolved fixed','d8f8be1',1295110000,'java/org/apache/catalina/ha/tcp/ReplicationValve.java'),(525,18797,'Bug 18797  MemoryUserRule doesn\'t validate user attributes','The implementation of org.apache.catalina.realm.MemoryRuleSet.begin dosen\'t \nvalidate the attribute values before adding a user to the MemoryRealm. If \nusername or name are not present then a null username is used which can cause \nodd problems later on.\n\nBasically the method should check that parameters passed to MemoryRealm.addUser \nare not null before calling the method.','memori user rule memoryuserrul doesn valid user attribut implement apach catalina realm memori rule set memoryruleset begin dosen valid attribut valu ad user memori realm memoryrealm usernam name present null usernam use caus odd problem later basic method check paramet pass memori realm memoryrealm add user addus null call method','memori user rule memoryuserrul doesn valid user attribut','implement apach catalina realm memori rule set memoryruleset begin dosen valid attribut valu ad user memori realm memoryrealm usernam name present null usernam use caus odd problem later basic method check paramet pass memori realm memoryrealm add user addus null call method','2003-04-08 06:33:14',1049800000,'resolved fixed','51650a1',1294940000,'java/org/apache/catalina/users/MemoryUserDatabase.java'),(526,18462,'Bug 18462  System.err gets overriden to output to System.out','I am using Eclipse to do my development and I am running tomcat 4.1.24 from \nwithin eclipse. One of the nice features of eclipse is that anything you \ndisplay with System.out comes out in blue and anything you send to System.err \nis displayed in red. However when tomcat is running Catalina overrides \nSystem.err and makes it point to System.out. This is very inconvinient because \nits much harder to search for severe error messages in a list of millions of \ntrivial ones.','system err get overriden output system use develop run tomcat within one nice featur anyth display system come blue anyth send system err display red howev tomcat run catalina overrid system err make point system inconvini much harder search sever error messag list million trivial one','system err get overriden output system','use develop run tomcat within one nice featur anyth display system come blue anyth send system err display red howev tomcat run catalina overrid system err make point system inconvini much harder search sever error messag list million trivial one','2003-03-28 12:35:32',1048870000,'resolved fixed','164fd40',1294880000,'java/org/apache/catalina/startup/Catalina.java\njava/org/apache/catalina/startup/Embedded.java'),(527,15688,'Bug 15688  full-qualified names instead of imports','Hi,\n\nJasper generated *.java-files that are compiled.\nThe template for those files is very \"unaesthetic\".\n\nI could demonstrate nice side-effects using a simple\n  <%@ page import=\"mypackage.Jspfactory\" %>\n\nYou should use full qualified names instead of a bunch of import-staments.\nFor example\n  _jspxFactory = JspFactory.getDefaultFactory();\nwould become\n  _jspxFactory = javax.servlet.jsp.JspFactory.getDefaultFactory();\nand if you don\'t already do,\nyou should use the this-reference where possible.\n\nI don\'t know what the spec says about that conflict, but it shouldn\'t be a bad\nidea to use full-qualified names instead of imports.','full qualifi fullqualifi name instead import hi jasper gener java file javafil compil templat file unaesthet could demonstr nice side effect sideeffect use simpl page import mypackag jspfactori use full qualifi name instead bunch import stament importsta exampl jspx factori jspxfactori jsp factori jspfactori get default factori getdefaultfactori would becom jspx factori jspxfactori javax servlet jsp jsp factori jspfactori get default factori getdefaultfactori alreadi use thi refer thisrefer possibl know spec say conflict shouldn bad idea use full qualifi fullqualifi name instead import','full qualifi fullqualifi name instead import','hi jasper gener java file javafil compil templat file unaesthet could demonstr nice side effect sideeffect use simpl page import mypackag jspfactori use full qualifi name instead bunch import stament importsta exampl jspx factori jspxfactori jsp factori jspfactori get default factori getdefaultfactori would becom jspx factori jspxfactori javax servlet jsp jsp factori jspfactori get default factori getdefaultfactori alreadi use thi refer thisrefer possibl know spec say conflict shouldn bad idea use full qualifi fullqualifi name instead import','2002-12-27 22:30:47',1041050000,'resolved fixed','e69347b',1294830000,'java/org/apache/jasper/compiler/Generator.java\njava/org/apache/jasper/compiler/JspUtil.java'),(528,50333,'Bug 50333  IllegalArgumentException occurs when setting maxActive to smaller than 1.','','illeg argument except illegalargumentexcept occur set max activ maxact smaller','illeg argument except illegalargumentexcept occur set max activ maxact smaller','','2010-11-25 00:22:29',1290660000,'resolved fixed','0ccff07',1294680000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PoolProperties.java'),(529,49953,'Bug 49953  Missing @Override annotations','','miss overrid annot','miss overrid annot','','2010-09-17 14:00:04',1284750000,'resolved wontfix','fd990a4',1294680000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/interceptor/StatementCache.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java'),(530,21157,'Bug 21157  CookieExample is setting cookie after writing data','A servlet can not set the headers and cookies after writing data to the \nservlet\'s output stream. Once the servlet writes data, headers are committed. \nHowever CookieExample writes some data first before doing addCookie on the \nresponse. \n\nThe reason why this code works at all even with the above bug is: The \nCookieExample is only writing a small amount of data before doing \nresponse.addCookie. That data is still held in buffer and not yet sent over \nthe wire. Hence the headers are not yet committed. So it is pure luck that \nthis example works. \n\nYou can easily expose the bug by writing say 20K characters in this example \nbefore response.addCookie is called. You will see that the cookies that are \nadding to response are not actually sent back to client. \n\nFix is simple. Move up the response.addCookie() before response.getWriter()','cooki exampl cookieexampl set cooki write data servlet set header cooki write data servlet output stream servlet write data header commit howev cooki exampl cookieexampl write data first add cooki addcooki respons reason code work even cooki exampl cookieexampl write small amount data respons add cooki addcooki data still held buffer yet sent wire henc header yet commit pure luck exampl work easili expos write say 20 20k charact exampl respons add cooki addcooki call see cooki ad respons actual sent back client fix simpl move respons add cooki addcooki respons get writer getwrit','cooki exampl cookieexampl set cooki write data','servlet set header cooki write data servlet output stream servlet write data header commit howev cooki exampl cookieexampl write data first add cooki addcooki respons reason code work even cooki exampl cookieexampl write small amount data respons add cooki addcooki data still held buffer yet sent wire henc header yet commit pure luck exampl work easili expos write say 20 20k charact exampl respons add cooki addcooki call see cooki ad respons actual sent back client fix simpl move respons add cooki addcooki respons get writer getwrit','2003-06-27 23:12:00',1056770000,'resolved fixed','4ce656a',1294530000,'webapps/examples/WEB-INF/classes/CookieExample.java'),(531,50552,'Bug 50552  Ant Tasks give a null pointer exception when an error occurs, masking true error','','ant task give null pointer except error occur mask true error','ant task give null pointer except error occur mask true error','','2011-01-06 12:39:49',1294340000,'resolved fixed','a6b37af',1294400000,'java/org/apache/catalina/ant/BaseRedirectorHelperTask.java'),(532,50554,'Bug 50554  Bad use of getClass() could potentially lead to concurrency bugs in future','','bad use get class getclass could potenti lead concurr bug futur','bad use get class getclass could potenti lead concurr bug futur','','2011-01-06 14:38:25',1294340000,'resolved fixed','06b8609',1294400000,'java/org/apache/naming/java/javaURLContextFactory.java'),(533,50477,'Bug 50477  If you set 0 to initialSize, can\'t obtain Connection by using getConnectionAsync method.','','set initi size initials obtain connect use get connect async getconnectionasync method','set initi size initials obtain connect use get connect async getconnectionasync method','','2010-12-15 04:40:32',1292410000,'resolved fixed','869c6f4',1294360000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/Async0IdleTestBug50477.java'),(534,49543,'Bug 49543  Request for a \"shared\" datasource configuration as in DBCP','The ability to configure the datasource at the server level and have it shared amongst all applications on that server with each application supplying their own credentials for the datasource. This type of configuration is supported by DBCP and is called a \"shared\" datasource configuration.','request share datasourc configur dbcp abil configur datasourc server level share amongst applic server applic suppli credenti datasourc type configur support dbcp call share datasourc configur','request share datasourc configur dbcp','abil configur datasourc server level share amongst applic server applic suppli credenti datasourc type configur support dbcp call share datasourc configur','2010-07-02 15:07:50',1278100000,'resolved fixed','3560f39',1294340000,'java/org/apache/naming/factory/DataSourceLinkFactory.java'),(535,50550,'Bug 50550  PropFind 404 error after MkCol succes','','prop find propfind error mk col mkcol succ','prop find propfind error mk col mkcol succ','','2011-01-06 09:11:12',1294320000,'resolved fixed','5c2742c',1294340000,'java/org/apache/naming/resources/ProxyDirContext.java'),(536,47319,'Bug 47319  With APR, getRemoteHost() returns NULL for unknown clients','','apr get remot host getremotehost return null unknown client','apr get remot host getremotehost return null unknown client','','2009-06-05 05:11:52',1244190000,'resolved fixed','ce64f9b',1294330000,'java/org/apache/coyote/http11/Http11AprProcessor.java'),(537,50547,'Bug 50547  The CHANGE_SESSION_ID message that received during cluster session synchronization is dropped.','Neither CHANGE_SESSION_ID message nor SESSION_EXPIRED message set timestamp. \nIf these messages are received during cluster sessions synchronization in DeltaManager startup, \nbecause the timestamp is not set, they are dropped. \n\nI made a patch that add timestamp for CHANGE_SESSION_ID and SESSION_EXPIRED message.\n\nBest Regards.','chang session id messag receiv cluster session synchron drop neither chang session id messag session expir messag set timestamp messag receiv cluster session synchron delta manag deltamanag startup timestamp set drop made patch add timestamp chang session id session expir messag best regard','chang session id messag receiv cluster session synchron drop','neither chang session id messag session expir messag set timestamp messag receiv cluster session synchron delta manag deltamanag startup timestamp set drop made patch add timestamp chang session id session expir messag best regard','2011-01-06 03:48:03',1294300000,'resolved fixed','a0ef3e6',1294310000,'java/org/apache/catalina/ha/session/DeltaManager.java'),(538,50453,'Bug 50453  Multiple X-Forwarded-For headers not handled by RemoteIP valve','','multipl forward header handl remot remoteip valv','multipl forward header handl remot remoteip valv','','2010-12-10 09:29:39',1291990000,'resolved fixed','3541fc6',1294240000,'java/org/apache/catalina/filters/RemoteIpFilter.java\njava/org/apache/catalina/valves/RemoteIpValve.java\ntest/org/apache/catalina/filters/TestRemoteIpFilter.java\ntest/org/apache/catalina/valves/TestRemoteIpValve.java'),(539,50467,'Bug 50467  Occasional NIO connector lockups on high load','We\'ve been running Tomcat 6.0.29 on FC8 2.6.21 with tens of thousands of long polling threads which usually work fine. Every few days though we will experience a sudden lockup of the NIO connector and it has to be restarted. These have been seen to be accompanied by the following stack trace:\n\nException in thread \"http-8082-ClientPoller-0\" java.lang.NullPointerException\n	at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1620)\n	at java.lang.Thread.run(Thread.java:662)\n\nLooking at the source it seems the issue is likely to be a race condition where access() is called on a null attachment, probably while it\'s in the process of being cancelled:\n\n                    while (iterator != null && iterator.hasNext()) {\n                        SelectionKey sk = (SelectionKey) iterator.next();\n                        KeyAttachment attachment = (KeyAttachment)sk.attachment();\n/*NPE*/                 attachment.access();\n                        iterator.remove();\n                        processKey(sk, attachment);\n                    }//while','occasion nio connector lockup high load run tomcat c8 fc8 ten thousand long poll thread usual work fine everi day though experi sudden lockup nio connector restart seen accompani follow stack trace except thread http client poller clientpol java lang null pointer except nullpointerexcept apach tomcat util net nio endpoint nioendpoint poller run nio endpoint nioendpoint java java lang thread run thread java look sourc seem issu like race condit access call null attach probabl process cancel iter null iter ha next hasnext select key selectionkey sk select key selectionkey iter next key attach keyattach attach key attach keyattach sk attach npe attach access iter remov process key processkey sk attach','occasion nio connector lockup high load','run tomcat c8 fc8 ten thousand long poll thread usual work fine everi day though experi sudden lockup nio connector restart seen accompani follow stack trace except thread http client poller clientpol java lang null pointer except nullpointerexcept apach tomcat util net nio endpoint nioendpoint poller run nio endpoint nioendpoint java java lang thread run thread java look sourc seem issu like race condit access call null attach probabl process cancel iter null iter ha next hasnext select key selectionkey sk select key selectionkey iter next key attach keyattach attach key attach keyattach sk attach npe attach access iter remov process key processkey sk attach','2010-12-13 14:02:35',1292270000,'resolved fixed','688e61e',1294240000,'java/org/apache/tomcat/util/net/NioEndpoint.java'),(540,50541,'Bug 50541  JNDIRealm: support configuring LDAP sizeLimit (countLimit in SearchControls)','','realm jndirealm support configur ldap size limit sizelimit count limit countlimit search control searchcontrol','realm jndirealm support configur ldap size limit sizelimit count limit countlimit search control searchcontrol','','2011-01-04 11:35:07',1294160000,'resolved fixed','76b6415',1294160000,'java/org/apache/catalina/realm/JNDIRealm.java'),(541,50500,'Bug 50500  EL evaluation of floating-point String value vs BigInteger loses precision','According to the EL spec ch.1.7.1,\nthe A+B,A-B,A*B expressions when A is a \"String containing ., e, or E\" and B is a BigInteger have to be evaluated as follows:\n\n\"coerce both A and B to BigDecimal and apply operator\"\n\nThe actual implementation though, instead of coercing A as String -> BigDecimal, does two coercions:  String -> Double -> BigDecimal, which produces a different result.\n\nTo reproduce, run the following JSP page:\n<%\n  pageContext.setAttribute(\"a\", \"1.1\");\n  pageContext.setAttribute(\"b\", new java.math.BigInteger(\"1000000000000000000000\"));\n  // \"c\" is used to explicitly coerce arguments to BigDecimal\n  pageContext.setAttribute(\"c\", new java.math.BigDecimal(\"0\"));\n%>${a + b}<br>\n${(a+c) + (b+c)}<br>\n${a - b}<br>\n${(a+c) - (b+c)}<br>\n${a * b}<br>\n${(a+c) * (b+c)}\n\nActual result:\n1000000000000000000001.100000000000000088817841970012523233890533447265625\n1000000000000000000001.1\n-999999999999999999998.899999999999999911182158029987476766109466552734375\n-999999999999999999998.9\n1100000000000000088817.841970012523233890533447265625000000000000000000000\n1100000000000000000000.0 \n\nExpected result:\n1000000000000000000001.1\n1000000000000000000001.1\n-999999999999999999998.9\n-999999999999999999998.9\n1100000000000000000000.0 \n1100000000000000000000.0 \n\nI think it is a minor issue, though.\nThis is reproducible in the current tc6.0.x as well.\n\nMaybe o.a.el.lang.ELArithmetic#add(Object, Object) should delegate to BIGDECIMAL instead of DOUBLE with these types of arguments.','evalu float point floatingpoint string valu v big integ biginteg lose precis accord spec ch express string contain big integ biginteg evalu follow coerc big decim bigdecim appli oper actual implement though instead coerc string big decim bigdecim two coercion string doubl big decim bigdecim produc differ result reproduc run follow jsp page page context pagecontext set attribut setattribut page context pagecontext set attribut setattribut new java math big integ biginteg use explicitli coerc argument big decim bigdecim page context pagecontext set attribut setattribut new java math big decim bigdecim br br br br br actual result expect result think minor issu though reproduc current tc6 well mayb lang arithmet elarithmet add object object deleg bigdecim instead doubl type argument','evalu float point floatingpoint string valu v big integ biginteg lose precis','accord spec ch express string contain big integ biginteg evalu follow coerc big decim bigdecim appli oper actual implement though instead coerc string big decim bigdecim two coercion string doubl big decim bigdecim produc differ result reproduc run follow jsp page page context pagecontext set attribut setattribut page context pagecontext set attribut setattribut new java math big integ biginteg use explicitli coerc argument big decim bigdecim page context pagecontext set attribut setattribut new java math big decim bigdecim br br br br br actual result expect result think minor issu though reproduc current tc6 well mayb lang arithmet elarithmet add object object deleg bigdecim instead doubl type argument','2010-12-19 19:00:53',1292800000,'resolved fixed','b19fb3b',1294150000,'java/org/apache/el/lang/ELArithmetic.java\ntest/org/apache/el/lang/TestELArithmetic.java'),(542,50025,'Bug 50025  getConnection method in class DataSourceProxy is ignoring credentials','','get connect getconnect method class data sourc proxi datasourceproxi ignor credenti','get connect getconnect method class data sourc proxi datasourceproxi ignor credenti','','2010-09-29 09:48:26',1285770000,'resolved fixed','59b17c1',1294090000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/DataSourceFactory.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PoolConfiguration.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PoolProperties.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PooledConnection.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/AlternateUsernameTest.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/driver/Connection.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/driver/Driver.java'),(543,50503,'Bug 50503  Engine level Clustering does not work correctly if the web application has a version.','In Engine level clustering, the name of the cluster manager is  \"HostName#contextName\". \nSimpleTcpCluster#getManagerName(String, Manager) is as follows. \n====\npublic String getManagerName(String name, Manager manager) {\n    String clusterName = name ;\n    if ( clusterName == null ) clusterName = manager.getContainer().getName();\n    if(getContainer() instanceof Engine) {\n        Container context = manager.getContainer() ;\n        if(context != null && context instanceof Context) {\n            Container host = ((Context)context).getParent();\n            if(host != null && host instanceof Host && clusterName!=null && !(clusterName.indexOf(\"#\")>=0))\n                clusterName = host.getName() +\"#\" + clusterName ;\n        }\n    }\n    return clusterName;\n}\n====\n\nIn this method, clusterName.indexOf(\"#\") >= 0 is checked. \n\nBecause the context name becomes contextName##version if the web application has a version, \nthe name of the cluster manager doesn\'t become a format of \"HostName#contextName\". \nAs a result, Engine level Clustering doesn\'t work correctly. \n\nBest regards.','engin level cluster work correctli web applic version engin level cluster name cluster manag host name hostnam context name contextnam simpl tcp cluster simpletcpclust get manag name getmanagernam string manag follow public string get manag name getmanagernam string name manag manag string cluster name clusternam name cluster name clusternam null cluster name clusternam manag get contain getcontain get name getnam get contain getcontain instanceof engin contain context manag get contain getcontain context null context instanceof context contain host context context get parent getpar host null host instanceof host cluster name clusternam null cluster name clusternam index of indexof cluster name clusternam host get name getnam cluster name clusternam return cluster name clusternam method cluster name clusternam index of indexof check context name becom context name contextnam version web applic version name cluster manag doesn becom format host name hostnam context name contextnam result engin level cluster doesn work correctli best regard','engin level cluster work correctli web applic version','engin level cluster name cluster manag host name hostnam context name contextnam simpl tcp cluster simpletcpclust get manag name getmanagernam string manag follow public string get manag name getmanagernam string name manag manag string cluster name clusternam name cluster name clusternam null cluster name clusternam manag get contain getcontain get name getnam get contain getcontain instanceof engin contain context manag get contain getcontain context null context instanceof context contain host context context get parent getpar host null host instanceof host cluster name clusternam null cluster name clusternam index of indexof cluster name clusternam host get name getnam cluster name clusternam return cluster name clusternam method cluster name clusternam index of indexof check context name becom context name contextnam version web applic version name cluster manag doesn becom format host name hostnam context name contextnam result engin level cluster doesn work correctli best regard','2010-12-21 01:42:21',1292910000,'resolved fixed','701d5dc',1292910000,'java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java'),(544,13731,'Bug 13731  Final request, response, session and other variables.','Provide a capability to declare request, response, session and other variables \nin jspService function as final. As tunable feature, just like others, in \ntomcat`s web.xml file.\n\nWhy need this feature? To use request, response, session variables in anonymous \nimplementations of classes. For example - declaration of iterator through \nelements, which includes some other JSP file (statically). And usage of this \niterator in other JSP file.','final request respons session variabl provid capabl declar request respons session variabl jsp servic jspservic function final tunabl featur like other tomcat web xml file need featur use request respons session variabl anonym implement class exampl declar iter element includ jsp file static usag iter jsp file','final request respons session variabl','provid capabl declar request respons session variabl jsp servic jspservic function final tunabl featur like other tomcat web xml file need featur use request respons session variabl anonym implement class exampl declar iter element includ jsp file static usag iter jsp file','2002-10-17 13:23:42',1034880000,'resolved fixed','73531cb',1292540000,'java/org/apache/jasper/compiler/Generator.java'),(545,10972,'Bug 10972  <Realm> without className in server.xml produces NullPointerException','If the className attribute is not included with the <Realm> tag in server.xml, \nthe server dies with a cryptic NullPointerException.  It would be nice if it \nproduced a more meaningful error message (like \"Missing className attribute for \n<Realm> tag\").','realm without class name classnam server xml produc null pointer except nullpointerexcept class name classnam attribut includ realm tag server xml server cryptic null pointer except nullpointerexcept would nice produc meaning error messag like miss class name classnam attribut realm tag','realm without class name classnam server xml produc null pointer except nullpointerexcept','class name classnam attribut includ realm tag server xml server cryptic null pointer except nullpointerexcept would nice produc meaning error messag like miss class name classnam attribut realm tag','2002-07-19 02:30:07',1027060000,'resolved fixed','71ad1bd',1292440000,'java/org/apache/catalina/startup/Catalina.java\njava/org/apache/tomcat/util/digester/Digester.java\njava/org/apache/tomcat/util/digester/ObjectCreateRule.java'),(546,10526,'Bug 10526  Authenticators do not always cache the Principal','Once a user is authenticated a Principal object is supposed to be cached for \nthe duration of the user\'s session. This is especially important when using \nJDBCRealm or JNDIRealm to reduce the load on external authentication services.\n\nMost authenticators (BasicAuthenticator, SSLAuthenticator and \nDigestAuthenticator) call AuthenticatorBase.register()to cache the Principal. \nHowever register() does nothing if a session object does not already exist, so \ncaching does not occur when the application does not create a session object \nitself. The problem can be seen by setting a security constraint on tomcat-docs \nand then browsing the Tomcat documentation - the external authentication \nservice is hit on every request.\n\nThe problem does not occur with form based login, because FormAuthenticator \ncaches the Principal itself and creates a new session if necessary to do it.\n\nProbably the best fix would be to change AuthenticatorBase.register() to create \na new session by calling getSession(request, true) instead of getSession\n(request, false). However, perhaps there is a reason why this is not being \ndone - though if so I cannot see what it is.\n\nAn alternative is to change the concrete authentication classes to make sure a \nsession exists before calling register(), e.g.\n\n--- BasicAuthenticator.java     23 Mar 2002 17:52:16 -0000      1.12\n+++ BasicAuthenticator.java     6 Jul 2002 12:46:30 -0000\n@@ -160,6 +160,7 @@\n         String password = parsePassword(authorization);\n         principal = context.getRealm().authenticate(username, password);\n         if (principal != null) {\n+           Session session = getSession(request, true);\n             register(request, response, principal, Constants.BASIC_METHOD,\n                      username, password);\n             return (true);\n\nSimilar patches would be required for SSLAuthenticator and DigestAuthenticator \nof course.','authent alway cach princip user authent princip object suppos cach durat user session especi import use realm jdbcrealm realm jndirealm reduc load extern authent servic authent basic authent basicauthent authent sslauthent digest authent digestauthent call authent base authenticatorbas regist cach princip howev regist noth session object alreadi exist cach occur applic creat session object problem seen set secur constraint tomcat doc tomcatdoc brows tomcat document extern authent servic hit everi request problem occur form base login form authent formauthent cach princip creat new session necessari probabl best fix would chang authent base authenticatorbas regist creat new session call get session getsess request true instead get session getsess request fals howev perhap reason done though cannot see altern chang concret authent class make sure session exist call regist basic authent basicauthent java mar basic authent basicauthent java jul string password pars password parsepassword author princip context get realm getrealm authent usernam password princip null session session get session getsess request true regist request respons princip constant basic method usernam password return true similar patch would requir authent sslauthent digest authent digestauthent cours','authent alway cach princip','user authent princip object suppos cach durat user session especi import use realm jdbcrealm realm jndirealm reduc load extern authent servic authent basic authent basicauthent authent sslauthent digest authent digestauthent call authent base authenticatorbas regist cach princip howev regist noth session object alreadi exist cach occur applic creat session object problem seen set secur constraint tomcat doc tomcatdoc brows tomcat document extern authent servic hit everi request problem occur form base login form authent formauthent cach princip creat new session necessari probabl best fix would chang authent base authenticatorbas regist creat new session call get session getsess request true instead get session getsess request fals howev perhap reason done though cannot see altern chang concret authent class make sure session exist call regist basic authent basicauthent java mar basic authent basicauthent java jul string password pars password parsepassword author princip context get realm getrealm authent usernam password princip null session session get session getsess request true regist request respons princip constant basic method usernam password return true similar patch would requir authent sslauthent digest authent digestauthent cours','2002-07-06 13:11:40',1025980000,'resolved fixed','ca34a30',1292430000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(547,49125,'Bug 49125  toString on byte[] array probably is not correct','Two examples of using toString() on a byte[] array, which is unlikely to produce the desired output:\n\nha.deploy.FileMessageFactory.writeMessage()\nlog message uses toString on msg.getData() which is a byte[] array\n\ncoyote.ajp.AjpMessage.dump\nuse toString on \"msg\" which is of type byte[]','to string tostr byte array probabl correct two exampl use to string tostr byte array unlik produc desir output deploy file messag factori filemessagefactori write messag writemessag log messag us to string tostr msg get data getdata byte array coyot ajp ajp messag ajpmessag dump use to string tostr msg type byte','to string tostr byte array probabl correct','two exampl use to string tostr byte array unlik produc desir output deploy file messag factori filemessagefactori write messag writemessag log messag us to string tostr msg get data getdata byte array coyot ajp ajp messag ajpmessag dump use to string tostr msg type byte','2010-04-14 18:54:35',1271290000,'resolved fixed','5614817',1292360000,'java/org/apache/catalina/ha/deploy/FileMessageFactory.java\njava/org/apache/coyote/ajp/AjpMessage.java\njava/org/apache/tomcat/util/buf/HexUtils.java'),(548,50460,'Bug 50460  First access to a jspx page causes classloader leak in JspDocumentParser','','first access jspx page caus classload leak jsp document parser jspdocumentpars','first access jspx page caus classload leak jsp document parser jspdocumentpars','','2010-12-11 21:33:47',1292120000,'resolved fixed','345e6b5',1292200000,'java/org/apache/jasper/compiler/JspDocumentParser.java\njava/org/apache/naming/resources/ImmutableNameNotFoundException.java'),(549,50448,'Bug 50448  StandardSession.expire causes IllegalStateException: getCreationTime: Session already invalidated','Hi,\n\nwhen verifying the fix for #50360 I ran into an issue with expired sessions during processExpires:\n\nDec 10, 2010 12:59:32 AM org.apache.catalina.core.ContainerBase backgroundProcess\nWARNING: Exception processing manager de.javakaffee.web.msm.MemcachedBackupSessionManager[/] background process\njava.lang.IllegalStateException: getCreationTime: Session already invalidated\n	at org.apache.catalina.session.StandardSession.getCreationTime(StandardSession.java:1096)\n	at org.apache.catalina.session.ManagerBase.remove(ManagerBase.java:802)\n	at org.apache.catalina.session.StandardSession.expire(StandardSession.java:840)\n	at org.apache.catalina.session.StandardSession.isValid(StandardSession.java:655)\n	at org.apache.catalina.session.ManagerBase.processExpires(ManagerBase.java:609)\n	at org.apache.catalina.session.ManagerBase.backgroundProcess(ManagerBase.java:594)\n	at de.javakaffee.web.msm.MemcachedBackupSessionManager.backgroundProcess(MemcachedBackupSessionManager.java:1130)\n	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1214)\n\nAFAICS in MemcachedBackupSessionManager I could override remove(Session session, boolean update) with calling super.remove(session, false) for invalid sessions.\n\nAnother option would be to change StandardSession.expire(StandardSession.java:840) so that it does not invoke manager.remove(this, true) but manager.remove(this, false).\n\nOr even better: change ManagerBase.remove(ManagerBase.java:802) to invoke some session.getCreationTimeInternal() which skips validation.\n\nWhat do you think?\n\nCheers,\nMartin','standard session standardsess expir caus illeg state except illegalstateexcept get creation time getcreationtim session alreadi invalid hi verifi fix ran issu expir session process expir processexpir dec apach catalina core contain base containerbas background process backgroundprocess warn except process manag javakaffe web msm memcach backup session manag memcachedbackupsessionmanag background process java lang illeg state except illegalstateexcept get creation time getcreationtim session alreadi invalid apach catalina session standard session standardsess get creation time getcreationtim standard session standardsess java apach catalina session manag base managerbas remov manag base managerbas java apach catalina session standard session standardsess expir standard session standardsess java apach catalina session standard session standardsess is valid isvalid standard session standardsess java apach catalina session manag base managerbas process expir processexpir manag base managerbas java apach catalina session manag base managerbas background process backgroundprocess manag base managerbas java javakaffe web msm memcach backup session manag memcachedbackupsessionmanag background process backgroundprocess memcach backup session manag memcachedbackupsessionmanag java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java afaic memcach backup session manag memcachedbackupsessionmanag could overrid remov session session boolean updat call super remov session fals invalid session anoth option would chang standard session standardsess expir standard session standardsess java invok manag remov true manag remov fals even better chang manag base managerbas remov manag base managerbas java invok session get creation time intern getcreationtimeintern skip valid think cheer martin','standard session standardsess expir caus illeg state except illegalstateexcept get creation time getcreationtim session alreadi invalid','hi verifi fix ran issu expir session process expir processexpir dec apach catalina core contain base containerbas background process backgroundprocess warn except process manag javakaffe web msm memcach backup session manag memcachedbackupsessionmanag background process java lang illeg state except illegalstateexcept get creation time getcreationtim session alreadi invalid apach catalina session standard session standardsess get creation time getcreationtim standard session standardsess java apach catalina session manag base managerbas remov manag base managerbas java apach catalina session standard session standardsess expir standard session standardsess java apach catalina session standard session standardsess is valid isvalid standard session standardsess java apach catalina session manag base managerbas process expir processexpir manag base managerbas java apach catalina session manag base managerbas background process backgroundprocess manag base managerbas java javakaffe web msm memcach backup session manag memcachedbackupsessionmanag background process backgroundprocess memcach backup session manag memcachedbackupsessionmanag java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java afaic memcach backup session manag memcachedbackupsessionmanag could overrid remov session session boolean updat call super remov session fals invalid session anoth option would chang standard session standardsess expir standard session standardsess java invok manag remov true manag remov fals even better chang manag base managerbas remov manag base managerbas java invok session get creation time intern getcreationtimeintern skip valid think cheer martin','2010-12-09 19:23:29',1291940000,'resolved fixed','4117b78',1291990000,'java/org/apache/catalina/Session.java\njava/org/apache/catalina/manager/DummyProxySession.java\njava/org/apache/catalina/session/ManagerBase.java\njava/org/apache/catalina/session/StandardSession.java'),(550,50408,'Bug 50408  Scoped EL variable in methodexpression is treated as Object','Consider following example:\n\n<dl>\n  <c:forEach items=\"${pageContext.response.headerNames}\" var=\"name\">\n    <c:forEach items=\"${pageContext.response.getHeaders(name)}\" var=\"value\">\n      <dt>${name}</dt><dd>${value}</dd>\n    </c:forEach>\n  </c:forEach>\n</dl>\n\nThe ${name} is a String. The ${name.class.name} also proves that. The getHeaders(name) call however results in:\n\norg.apache.jasper.el.JspELException: /test.jsp(23,12) \'${pageContext.response.getHeaders(name)}\' java.lang.NoSuchMethodException: org.apache.catalina.connector.ResponseFacade.getHeaders(java.lang.Object)\n\nAnother example which also results in NoSuchMethodException which suggests that an Object is been passed as argument:\n\n<c:set var=\"name\" value=\"test\" />\n${pageContext.response.getHeader(name)}\n\nThis works all fine on Glassfish v3.','scope variabl methodexpress treat object consid follow exampl dl for each foreach item page context pagecontext respons header name headernam name for each foreach item page context pagecontext respons get header gethead name valu dt name dt dd valu dd for each foreach for each foreach dl name string name class name prof get header gethead name call howev result apach jasper jsp except jspelexcept jsp page context pagecontext respons get header gethead name java lang no such method except nosuchmethodexcept apach catalina connector respons facad responsefacad get header gethead java lang object anoth exampl result no such method except nosuchmethodexcept suggest object pass argument set name valu page context pagecontext respons get header gethead name work fine glassfish v3','scope variabl methodexpress treat object','consid follow exampl dl for each foreach item page context pagecontext respons header name headernam name for each foreach item page context pagecontext respons get header gethead name valu dt name dt dd valu dd for each foreach for each foreach dl name string name class name prof get header gethead name call howev result apach jasper jsp except jspelexcept jsp page context pagecontext respons get header gethead name java lang no such method except nosuchmethodexcept apach catalina connector respons facad responsefacad get header gethead java lang object anoth exampl result no such method except nosuchmethodexcept suggest object pass argument set name valu page context pagecontext respons get header gethead name work fine glassfish v3','2010-12-03 12:37:00',1291400000,'resolved fixed','4ed7b7e',1291410000,'java/javax/el/CompositeELResolver.java\ntest/javax/el/TestCompositeELResolver.java'),(551,48692,'Bug 48692  Provide option to parse application/x-www-form-urlencoded PUT requests','Provide an option to treat application/x-www-form-urlencoded encoded parameters in a PUT request in a similar manner to application/x-www-form-urlencoded parameters in a POST request','provid option pars applic www form urlencod xwwwformurlencod put request provid option treat applic www form urlencod xwwwformurlencod encod paramet put request similar manner applic www form urlencod xwwwformurlencod paramet post request','provid option pars applic www form urlencod xwwwformurlencod put request','provid option treat applic www form urlencod xwwwformurlencod encod paramet put request similar manner applic www form urlencod xwwwformurlencod paramet post request','2010-02-07 02:41:33',1265530000,'resolved fixed','e34b164',1291390000,'java/org/apache/catalina/connector/Connector.java\njava/org/apache/catalina/connector/Request.java\ntest/org/apache/catalina/connector/TestRequest.java'),(552,50358,'Bug 50358  Embedded.stopInternal sets state to STARTING, should be STOPPING','','embed stop intern stopintern set state start stop','embed stop intern stopintern set state start stop','','2010-11-28 18:13:10',1290990000,'resolved fixed','07b72f1',1291040000,'java/org/apache/catalina/startup/Embedded.java'),(553,49142,'Bug 49142  Missing serialVersionUIDs','org.apache.catalina.ha.ClusterMessageBase is Serializable; consider declaring a serialVersionUID\n\nSimilarly for:\norg.apache.catalina.ha.session.ReplicatedSession \norg.apache.catalina.ha.session.SerializablePrincipal \norg.apache.catalina.session.StandardSession \norg.apache.catalina.tribes.tipis.AbstractReplicatedMap.MapMessage\norg.apache.tomcat.util.modeler.ManagedBean','miss serial versionui serialversionuid apach catalina cluster messag base clustermessagebas serializ consid declar serial versionui serialversionuid similarli apach catalina session replic session replicatedsess apach catalina session serializ princip serializableprincip apach catalina session standard session standardsess apach catalina tribe tipi abstract replic map abstractreplicatedmap map messag mapmessag apach tomcat util model manag bean managedbean','miss serial versionui serialversionuid','apach catalina cluster messag base clustermessagebas serializ consid declar serial versionui serialversionuid similarli apach catalina session replic session replicatedsess apach catalina session serializ princip serializableprincip apach catalina session standard session standardsess apach catalina tribe tipi abstract replic map abstractreplicatedmap map messag mapmessag apach tomcat util model manag bean managedbean','2010-04-16 21:25:34',1271470000,'resolved fixed','4cbb52f',1290640000,'java/javax/servlet/GenericServlet.java\njava/javax/servlet/ServletContextAttributeEvent.java\njava/javax/servlet/ServletContextEvent.java\njava/javax/servlet/ServletException.java\njava/javax/servlet/ServletRequestAttributeEvent.java\njava/javax/servlet/ServletRequestEvent.java\njava/javax/servlet/UnavailableException.java\njava/javax/servlet/http/HttpServlet.java\njava/javax/servlet/http/HttpSessionBindingEvent.java\njava/javax/servlet/http/HttpSessionEvent.java\njava/javax/servlet/jsp/JspException.java\njava/javax/servlet/jsp/JspTagException.java\njava/javax/servlet/jsp/SkipPageException.java\njava/javax/servlet/jsp/el/ELException.java\njava/javax/servlet/jsp/el/ELParseException.java\njava/javax/servlet/jsp/tagext/TagSupport.java\njava/org/apache/catalina/ha/deploy/FileMessage.java\njava/org/apache/catalina/ha/deploy/UndeployMessage.java\njava/org/apache/catalina/manager/StatusManagerServlet.java\njava/org/apache/catalina/session/StandardSession.java\njava/org/apache/catalina/ssi/SSIServlet.java\njava/org/apache/catalina/ssi/SSIStopProcessingException.java\njava/org/apache/catalina/tribes/ChannelException.java\njava/org/apache/catalina/tribes/RemoteProcessException.java\njava/org/apache/catalina/tribes/UniqueId.java\njava/org/apache/catalina/tribes/io/ChannelData.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java\njava/org/apache/catalina/tribes/tipis/LazyReplicatedMap.java\njava/org/apache/catalina/tribes/tipis/ReplicatedMap.java\njava/org/apache/catalina/tribes/util/ExecutorFactory.java\njava/org/apache/catalina/util/ParameterMap.java\njava/org/apache/catalina/util/ResourceSet.java\njava/org/apache/jasper/JasperException.java\njava/org/apache/jasper/compiler/JspDocumentParser.java\njava/org/apache/jasper/runtime/HttpJspBase.java\njava/org/apache/juli/logging/LogConfigurationException.java\njava/org/apache/naming/EjbRef.java\njava/org/apache/naming/HandlerRef.java\njava/org/apache/naming/JndiPermission.java\njava/org/apache/naming/ResourceEnvRef.java\njava/org/apache/naming/ResourceLinkRef.java\njava/org/apache/naming/ServiceRef.java\njava/org/apache/naming/TransactionRef.java\njava/org/apache/tomcat/util/buf/CharChunk.java\njava/org/apache/tomcat/util/buf/MessageBytes.java\njava/org/apache/tomcat/util/modeler/BaseAttributeFilter.java\njava/org/apache/tomcat/util/modeler/FixedNotificationFilter.java\njava/org/apache/tomcat/util/modeler/ManagedBean.java\njava/org/apache/tomcat/util/net/URL.java\ntest/org/apache/catalina/tribes/demos/MapDemo.java\nwebapps/examples/WEB-INF/jsp/applet/Clock2.java'),(554,48837,'Bug 48837  Memory leaks protection does not detect leaks triggered by JSP pages code','','memori leak protect detect leak trigger jsp page code','memori leak protect detect leak trigger jsp page code','','2010-03-01 18:51:11',1267490000,'resolved fixed','ddbbfc1',1290630000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(555,50108,'Bug 50108  Add missing setter/getter to AbstractXXXProtocol','','add miss setter getter abstract protocol abstractxxxprotocol','add miss setter getter abstract protocol abstractxxxprotocol','','2010-10-18 03:22:19',1287390000,'resolved fixed','5a84fdb',1290630000,'java/org/apache/coyote/ajp/AbstractAjpProtocol.java\njava/org/apache/coyote/http11/AbstractHttp11Protocol.java'),(556,50207,'Bug 50207  CometProcessor async timeout events are not being fired','This is reproducible using the the default chat example (ie: ChatServlet, /examples/jsp/chat) and the following additional changes:\n\n1) Enabled Http11Nio in conf/server.xml:\n\n    <Connector \n        address=\"0.0.0.0\" \n        port=\"8080\" \n        protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n        connectionTimeout=\"20000\" \n        enableLookups=\"false\"\n        acceptCount=\"100\"\n        disableUploadTimeout=\"true\"\n        maxThreads=\"15\"\n        minSpareThreads=\"15\"\n        maxSpareThreads=\"15\"\n        RECYCLE_FACADES=\"true\"/>\n\n2) Enabled the comet valve in conf/context.xml:\n\n  <Valve className=\"org.apache.catalina.valves.CometConnectionManagerValve\" />\n\nThe problem is CometEvent.EventType.ERROR (and subtype TIMEOUT) and CometEvent.EventType.END are never being fired.\n\nThis can be confirmed in the logs; the messages for these events are never printed.  This worked on Tomcat 6.0.29.\n\nAs an aside, what is the most complete/robust way to do async IO in tomcat 7 today, Servlet 3.0 or CometProcessor?','comet processor cometprocessor async timeout event fire reproduc use default chat exampl ie chat servlet chatservlet exampl jsp chat follow addit chang enabl http11 nio http11nio conf server xml connector address port protocol apach coyot http11 http11 nio protocol http11nioprotocol connect timeout connectiontimeout enabl lookup enablelookup fals accept count acceptcount disabl upload timeout disableuploadtimeout true max thread maxthread min spare thread minsparethread max spare thread maxsparethread recycl facad true enabl comet valv conf context xml valv class name classnam apach catalina valv comet connect manag valv cometconnectionmanagervalv problem comet event cometev event type eventtyp error subtyp timeout comet event cometev event type eventtyp never fire confirm log messag event never print work tomcat asid complet robust way async tomcat today servlet comet processor cometprocessor','comet processor cometprocessor async timeout event fire','reproduc use default chat exampl ie chat servlet chatservlet exampl jsp chat follow addit chang enabl http11 nio http11nio conf server xml connector address port protocol apach coyot http11 http11 nio protocol http11nioprotocol connect timeout connectiontimeout enabl lookup enablelookup fals accept count acceptcount disabl upload timeout disableuploadtimeout true max thread maxthread min spare thread minsparethread max spare thread maxsparethread recycl facad true enabl comet valv conf context xml valv class name classnam apach catalina valv comet connect manag valv cometconnectionmanagervalv problem comet event cometev event type eventtyp error subtyp timeout comet event cometev event type eventtyp never fire confirm log messag event never print work tomcat asid complet robust way async tomcat today servlet comet processor cometprocessor','2010-11-03 14:52:32',1288810000,'resolved fixed','46e7d1e',1290530000,'java/org/apache/coyote/http11/Http11NioProtocol.java\njava/org/apache/tomcat/util/net/NioEndpoint.java'),(557,50316,'Bug 50316  Minor glitch with display of negative TTL on sessionDetail.jsp','','minor glitch display neg ttl session detail sessiondetail jsp','minor glitch display neg ttl session detail sessiondetail jsp','','2010-11-22 11:29:24',1290440000,'resolved fixed','278a36a',1290460000,'java/org/apache/catalina/manager/JspHelper.java\njava/org/apache/catalina/manager/StatusTransformer.java'),(558,50308,'Bug 50308  Call to AsyncContext.dispatch() in the onTimeout callback throws exception','When dispatch() method is called inside the onTimeout() function of the AsyncListener, the exception is thrown:\n\nSEVERE: An exception or error occurred in the container during the request processing\njava.lang.IllegalStateException: Calling [dispatchAsync()] is not valid for a request with Async state [TIMING_OUT]\n	at org.apache.coyote.AsyncStateMachine.asyncDispatch(AsyncStateMachine.java:220)\n	at org.apache.coyote.http11.Http11NioProcessor.actionInternal(Http11NioProcessor.java:672)\n	at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:937)\n	at org.apache.coyote.Request.action(Request.java:348)\n	at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:173)\n	at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:135)\n	at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:130)\n	at com.juriy.snowball.SnowServlet$1.onTimeout(SnowServlet.java:23)\n	at org.apache.catalina.core.AsyncListenerWrapper.fireOnTimeout(AsyncListenerWrapper.java:45)\n	at org.apache.catalina.core.AsyncContextImpl.timeout(AsyncContextImpl.java:109)\n	at org.apache.catalina.connector.CoyoteAdapter.asyncDispatch(CoyoteAdapter.java:270)\n	at org.apache.coyote.http11.Http11NioProcessor.asyncDispatch(Http11NioProcessor.java:232)\n	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.event(Http11NioProtocol.java:305)\n	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1526)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n	at java.lang.Thread.run(Thread.java:619)\n\n\nThe sample code is below:\n\n	protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n		AsyncContext context = request.startAsync();\n		context.setTimeout(3000);\n		context.addListener(new AsyncListener() {\n\n			public void onComplete(AsyncEvent asyncEvent) throws IOException {}\n\n			public void onTimeout(AsyncEvent asyncEvent) throws IOException {\n				System.out.println(\"HITTING TIMEOUT\");\n				asyncEvent.getAsyncContext().dispatch();\n			}\n\n			public void onError(AsyncEvent asyncEvent) throws IOException {}\n\n			public void onStartAsync(AsyncEvent asyncEvent) throws IOException {}\n		});\n}\n\n\nIt looks like the Servlet 3.0 specification allows to do such call, here\'s the quotation that explicitly states the flow of the timeouted async contexts (page 18):\n\n\"In the event that an asynchronous operation times out, the container must run\nthrough the following steps:\n Invoke the AsyncListener.onTimeout method on all the AsyncListener\ninstances registered with the ServletRequest on which the asynchronous\noperation was initiated.\n If none of the listeners called AsyncContext.complete() or any of the\nAsyncContext.dispatch methods, perform an error dispatch with a status\ncode equal to HttpServletResponse.SC_INTERNAL_SERVER_ERROR.\n If no matching error page was found, or the error page did not call\nAsyncContext.complete() or any of the AsyncContext.dispatch\nmethods, the container MUST call AsyncContext.complete()\"\n\nSecond step assumes that the call to dispatch in onTimeout() is allowed.','call async context asynccontext dispatch on timeout ontimeout callback throw except dispatch method call insid on timeout ontimeout function async listen asynclisten except thrown sever except error occur contain request process java lang illeg state except illegalstateexcept call dispatch async dispatchasync valid request async state time apach coyot async state machin asyncstatemachin async dispatch asyncdispatch async state machin asyncstatemachin java apach coyot http11 http11 nio processor http11nioprocessor action intern actionintern http11 nio processor http11nioprocessor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina core async context impl asynccontextimpl dispatch async context impl asynccontextimpl java apach catalina core async context impl asynccontextimpl dispatch async context impl asynccontextimpl java apach catalina core async context impl asynccontextimpl dispatch async context impl asynccontextimpl java juriy snowbal snow servlet snowservlet on timeout ontimeout snow servlet snowservlet java apach catalina core async listen wrapper asynclistenerwrapp fire on timeout fireontimeout async listen wrapper asynclistenerwrapp java apach catalina core async context impl asynccontextimpl timeout async context impl asynccontextimpl java apach catalina connector coyot adapt coyoteadapt async dispatch asyncdispatch coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor async dispatch asyncdispatch http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl event http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java sampl code protect void servic http servlet request httpservletrequest request http servlet respons httpservletrespons respons throw servlet except servletexcept except ioexcept async context asynccontext context request start async startasync context set timeout settimeout context add listen addlisten new async listen asynclisten public void on complet oncomplet async event asyncev async event asyncev throw except ioexcept public void on timeout ontimeout async event asyncev async event asyncev throw except ioexcept system println hit timeout async event asyncev get async context getasynccontext dispatch public void on error onerror async event asyncev async event asyncev throw except ioexcept public void on start async onstartasync async event asyncev async event asyncev throw except ioexcept look like servlet specif allow call quotat explicitli state flow timeout async context page event asynchron oper time contain must run follow step invok async listen asynclisten on timeout ontimeout method async listen asynclisten instanc regist servlet request servletrequest asynchron oper initi none listen call async context asynccontext complet async context asynccontext dispatch method perform error dispatch statu code equal http servlet respons httpservletrespons sc intern server error match error page found error page call async context asynccontext complet async context asynccontext dispatch method contain must call async context asynccontext complet second step assum call dispatch on timeout ontimeout allow','call async context asynccontext dispatch on timeout ontimeout callback throw except','dispatch method call insid on timeout ontimeout function async listen asynclisten except thrown sever except error occur contain request process java lang illeg state except illegalstateexcept call dispatch async dispatchasync valid request async state time apach coyot async state machin asyncstatemachin async dispatch asyncdispatch async state machin asyncstatemachin java apach coyot http11 http11 nio processor http11nioprocessor action intern actionintern http11 nio processor http11nioprocessor java apach coyot http11 abstract http11 processor abstracthttp11processor action abstract http11 processor abstracthttp11processor java apach coyot request action request java apach catalina core async context impl asynccontextimpl dispatch async context impl asynccontextimpl java apach catalina core async context impl asynccontextimpl dispatch async context impl asynccontextimpl java apach catalina core async context impl asynccontextimpl dispatch async context impl asynccontextimpl java juriy snowbal snow servlet snowservlet on timeout ontimeout snow servlet snowservlet java apach catalina core async listen wrapper asynclistenerwrapp fire on timeout fireontimeout async listen wrapper asynclistenerwrapp java apach catalina core async context impl asynccontextimpl timeout async context impl asynccontextimpl java apach catalina connector coyot adapt coyoteadapt async dispatch asyncdispatch coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor async dispatch asyncdispatch http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl event http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java sampl code protect void servic http servlet request httpservletrequest request http servlet respons httpservletrespons respons throw servlet except servletexcept except ioexcept async context asynccontext context request start async startasync context set timeout settimeout context add listen addlisten new async listen asynclisten public void on complet oncomplet async event asyncev async event asyncev throw except ioexcept public void on timeout ontimeout async event asyncev async event asyncev throw except ioexcept system println hit timeout async event asyncev get async context getasynccontext dispatch public void on error onerror async event asyncev async event asyncev throw except ioexcept public void on start async onstartasync async event asyncev async event asyncev throw except ioexcept look like servlet specif allow call quotat explicitli state flow timeout async context page event asynchron oper time contain must run follow step invok async listen asynclisten on timeout ontimeout method async listen asynclisten instanc regist servlet request servletrequest asynchron oper initi none listen call async context asynccontext complet async context asynccontext dispatch method perform error dispatch statu code equal http servlet respons httpservletrespons sc intern server error match error page found error page call async context asynccontext complet async context asynccontext dispatch method contain must call async context asynccontext complet second step assum call dispatch on timeout ontimeout allow','2010-11-20 11:00:06',1290270000,'resolved fixed','991702c',1290440000,'java/org/apache/coyote/AsyncStateMachine.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java'),(559,50310,'Bug 50310  Manager detailed status page does not display servlets','To reproduce:\n1. Login to the Manager webapp\n2. Click \"Server Status\" and then \"Complete Server Status\" links.\n\n\n\nIn TC6 the \"Complete Server Status\" page lists servlets for each deployed application.\n\nIn the current TC7 it does not list them. Only summary information on each webapp is displayed.\n\n\nLooking at the StatusManagerServlet and StatusTransformer classes, the code to iterate over servlets is still there, but probably the JMX names have changed and are not working any more.','manag detail statu page display servlet reproduc login manag webapp click server statu complet server statu link c6 tc6 complet server statu page list servlet deploy applic current c7 tc7 list summari inform webapp display look statu manag servlet statusmanagerservlet statu transform statustransform class code iter servlet still probabl jmx name chang work','manag detail statu page display servlet','reproduc login manag webapp click server statu complet server statu link c6 tc6 complet server statu page list servlet deploy applic current c7 tc7 list summari inform webapp display look statu manag servlet statusmanagerservlet statu transform statustransform class code iter servlet still probabl jmx name chang work','2010-11-21 21:08:35',1290390000,'resolved fixed','ade20d2',1290430000,'java/org/apache/catalina/core/StandardWrapper.java'),(560,50293,'Bug 50293  javax.el.CompositeELResolver synchronization issue','','javax composit resolv compositeelresolv synchron issu','javax composit resolv compositeelresolv synchron issu','','2010-11-18 16:58:18',1290120000,'resolved fixed','7b89af8',1290190000,'java/javax/el/CompositeELResolver.java'),(561,50192,'Bug 50192  performance issue after revision 746425','','perform issu revis','perform issu revis','','2010-11-01 15:17:42',1288640000,'resolved fixed','e075c4b',1289590000,'java/org/apache/jasper/el/ELContextImpl.java\njava/org/apache/jasper/el/ELResolverImpl.java'),(562,50230,'Bug 50230  Recursive dependency between the tomcat-catalina-ha and tomcat-catalina','','recurs depend tomcat catalina ha tomcatcatalinaha tomcat catalina tomcatcatalina','recurs depend tomcat catalina ha tomcatcatalinaha tomcat catalina tomcatcatalina','','2010-11-07 21:04:22',1289180000,'resolved fixed','96020cb',1289510000,'java/org/apache/catalina/DistributedManager.java\njava/org/apache/catalina/ha/session/BackupManager.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java'),(563,50252,'Bug 50252  ClassCastException occurs if context.xml contains <ResourceLink>.','','class cast except classcastexcept occur context xml contain resourc link resourcelink','class cast except classcastexcept occur context xml contain resourc link resourcelink','','2010-11-11 01:08:11',1289460000,'resolved fixed','7e7283d',1289480000,'java/org/apache/naming/NamingContext.java'),(564,50183,'Bug 50183  [Tribes] Bio Sender is not scheduling the task to the excecutors','','tribe bio sender schedul task excecutor','tribe bio sender schedul task excecutor','','2010-10-29 16:55:40',1288390000,'resolved fixed','84efb0a',1289480000,'java/org/apache/catalina/tribes/transport/bio/BioReceiver.java\njava/org/apache/catalina/tribes/transport/bio/BioReplicationTask.java'),(565,50169,'Bug 50169  Trying to register wrapper and welcomeFile to Mapper before context is registered on Mapper.','','tri regist wrapper welcom file welcomefil mapper context regist mapper','tri regist wrapper welcom file welcomefil mapper context regist mapper','','2010-10-28 03:21:29',1288250000,'resolved fixed','476921f',1289480000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/core/StandardWrapper.java'),(566,50222,'Bug 50222  JreMemoryLeakPreventionListener should speculatively cause memory leaks using the system ClassLoader','JreMemoryLeakPreventionListener intentionally invokes methods known to pin the context ClassLoader in memory in order to avoid having a WebappClassLoader unintentionally pin itself. This may cause undesirable behavior in embedded environments.\n\nInstead, JMLPL could use a security context to temporarily set the current context ClassLoader to be the system ClassLoader and solve the embedded situation without the client having to remember to take this care.','jre memori leak prevent listen jrememoryleakpreventionlisten specul caus memori leak use system class loader classload jre memori leak prevent listen jrememoryleakpreventionlisten intent invok method known pin context class loader classload memori order avoid webapp class loader webappclassload unintent pin may caus undesir behavior embed environ instead jmlpl could use secur context temporarili set current context class loader classload system class loader classload solv embed situat without client rememb take care','jre memori leak prevent listen jrememoryleakpreventionlisten specul caus memori leak use system class loader classload','jre memori leak prevent listen jrememoryleakpreventionlisten intent invok method known pin context class loader classload memori order avoid webapp class loader webappclassload unintent pin may caus undesir behavior embed environ instead jmlpl could use secur context temporarili set current context class loader classload system class loader classload solv embed situat without client rememb take care','2010-11-05 11:00:08',1288970000,'resolved fixed','4ca3db3',1289390000,'java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java'),(567,50184,'Bug 50184  RpcChannel sends the answer without requesting an ACK','','rpc channel rpcchannel send answer without request ack','rpc channel rpcchannel send answer without request ack','','2010-10-29 17:12:34',1288390000,'resolved fixed','afdc055',1289320000,'java/org/apache/catalina/tribes/group/RpcChannel.java'),(568,50232,'Bug 50232  org.apache.catalina.session.StoreBase has a hidden dependency on PersistentManager','','apach catalina session store base storebas hidden depend persist manag persistentmanag','apach catalina session store base storebas hidden depend persist manag persistentmanag','','2010-11-08 05:09:39',1289210000,'resolved fixed','b5c24f9',1289320000,'java/org/apache/catalina/session/StoreBase.java'),(569,50168,'Bug 50168  destory method is called twice while the child is destoryed directly','While calling the method destory() on the StandardContext directly, it seems that the method destoryInternal() is called twice in the LifecycleMBeanBase, the two stacktraces are below :\n    a.  LifecycleMBeanBase.unregister(ObjectName) line: 191   \n         LifecycleMBeanBase.destroyInternal() line: 73   \n         ContainerBase.destroyInternal() line: 1109   \n         StandardContext.destroyInternal() line: 5114   \n         LifecycleBase.destroy() line: 271   \n         ContainerBase.removeChild(Container) line: 963   \n         ContainerBase.destroyInternal() line: 1106   \n         StandardContext.destroyInternal() line: 5114   \n         LifecycleBase.destroy() line: 271   \n         ...\n     b. LifecycleMBeanBase.unregister(ObjectName) line: 191   \n         LifecycleMBeanBase.destroyInternal() line: 73   \n         ContainerBase.destroyInternal() line: 1109   \n         StandardContext.destroyInternal() line: 5114   \n         LifecycleBase.destroy() line: 271\n         ...','destori method call twice child destori directli call method destori standard context standardcontext directli seem method destori intern destoryintern call twice lifecycl bean base lifecyclembeanbas two stacktrac lifecycl bean base lifecyclembeanbas unregist object name objectnam line lifecycl bean base lifecyclembeanbas destroy intern destroyintern line contain base containerbas destroy intern destroyintern line standard context standardcontext destroy intern destroyintern line lifecycl base lifecyclebas destroy line contain base containerbas remov child removechild contain line contain base containerbas destroy intern destroyintern line standard context standardcontext destroy intern destroyintern line lifecycl base lifecyclebas destroy line lifecycl bean base lifecyclembeanbas unregist object name objectnam line lifecycl bean base lifecyclembeanbas destroy intern destroyintern line contain base containerbas destroy intern destroyintern line standard context standardcontext destroy intern destroyintern line lifecycl base lifecyclebas destroy line','destori method call twice child destori directli','call method destori standard context standardcontext directli seem method destori intern destoryintern call twice lifecycl bean base lifecyclembeanbas two stacktrac lifecycl bean base lifecyclembeanbas unregist object name objectnam line lifecycl bean base lifecyclembeanbas destroy intern destroyintern line contain base containerbas destroy intern destroyintern line standard context standardcontext destroy intern destroyintern line lifecycl base lifecyclebas destroy line contain base containerbas remov child removechild contain line contain base containerbas destroy intern destroyintern line standard context standardcontext destroy intern destroyintern line lifecycl base lifecyclebas destroy line lifecycl bean base lifecyclembeanbas unregist object name objectnam line lifecycl bean base lifecyclembeanbas destroy intern destroyintern line contain base containerbas destroy intern destroyintern line standard context standardcontext destroy intern destroyintern line lifecycl base lifecyclebas destroy line','2010-10-27 22:47:42',1288230000,'resolved fixed','6eae969',1288910000,'java/org/apache/catalina/Lifecycle.java\njava/org/apache/catalina/LifecycleState.java\njava/org/apache/catalina/core/AprLifecycleListener.java\njava/org/apache/catalina/core/ContainerBase.java\njava/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/util/LifecycleBase.java'),(570,50127,'Bug 50127  Possible NPEs in SimpleTCPCluster','','possibl npe simpl cluster simpletcpclust','possibl npe simpl cluster simpletcpclust','','2010-10-20 19:31:02',1287620000,'resolved fixed','f77368f',1288900000,'java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java'),(571,49180,'Bug 49180  Add option to disable log rotation in FileHandler.','Small enhancement to FileHandler.java which allow susers to disable log rotation by setting the .rotation attribute to \"false\".','add option disabl log rotat file handler filehandl small enhanc file handler filehandl java allow suser disabl log rotat set rotat attribut fals','add option disabl log rotat file handler filehandl','small enhanc file handler filehandl java allow suser disabl log rotat set rotat attribut fals','2010-04-24 13:34:58',1272130000,'resolved fixed','7184011',1288630000,'java/org/apache/juli/FileHandler.java'),(572,50157,'Bug 50157  a lot of MapperListener is registered as ContainerListener of StandardContext','','lot mapper listen mapperlisten regist contain listen containerlisten standard context standardcontext','lot mapper listen mapperlisten regist contain listen containerlisten standard context standardcontext','','2010-10-26 03:28:12',1288080000,'resolved fixed','53c5d85',1288130000,'java/org/apache/catalina/connector/MapperListener.java\njava/org/apache/catalina/mbeans/ContainerMBean.java'),(573,50129,'Bug 50129  ContextConfig - unnecessary null checks','','context config contextconfig unnecessari null check','context config contextconfig unnecessari null check','','2010-10-20 19:48:00',1287620000,'resolved fixed','509ab5d',1287930000,'java/org/apache/catalina/startup/ContextConfig.java'),(574,50138,'Bug 50138  Lack of synchronization in org.apache.catalina.security.SecurityUtil','Symptom: all processor threads spin madly in:\n==============\n\"tomcat-processor-20\" daemon prio=10 tid=0x09210800 nid=0x51fb runnable [0x61b76000]\n   java.lang.Thread.State: RUNNABLE\n	at java.util.HashMap.getEntry(HashMap.java:347)\n	at java.util.HashMap.containsKey(HashMap.java:335)\n	at org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:227)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n	at org.apache.catalina.core.ApplicationFilterChain.access$000(ApplicationFilterChain.java:56)\n	at org.apache.catalina.core.ApplicationFilterChain$1.run(ApplicationFilterChain.java:189)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:185)\n...\n==============\n\nCause: org.apache.catalina.security.SecurityUtil.objectCache is a HashMap, but access to it is not synchronized. The javadoc for HashMap says:\n=============\nNote that this implementation is not synchronized. If multiple threads access a hash map concurrently, and at least one of the threads modifies the map structurally, it must be synchronized externally.\n=============\n\nProposed solution: change objectCache to ConcurrentHashMap;','lack synchron apach catalina secur secur util securityutil symptom processor thread spin madli tomcat processor tomcatprocessor daemon prio tid 0x09210800 nid 0x51fb runnabl 0x61b76000 java lang thread state runnabl java util hash map hashmap get entri getentri hash map hashmap java java util hash map hashmap contain key containskey hash map hashmap java apach catalina secur secur util securityutil do privileg doasprivileg secur util securityutil java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain access applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain run applic filter chain applicationfilterchain java java secur access control accesscontrol do privileg doprivileg nativ method apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java caus apach catalina secur secur util securityutil object cach objectcach hash map hashmap access synchron javadoc hash map hashmap say note implement synchron multipl thread access hash map concurr least one thread modifi map structur must synchron extern propos solut chang object cach objectcach concurr hash map concurrenthashmap','lack synchron apach catalina secur secur util securityutil','symptom processor thread spin madli tomcat processor tomcatprocessor daemon prio tid 0x09210800 nid 0x51fb runnabl 0x61b76000 java lang thread state runnabl java util hash map hashmap get entri getentri hash map hashmap java java util hash map hashmap contain key containskey hash map hashmap java apach catalina secur secur util securityutil do privileg doasprivileg secur util securityutil java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain access applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain run applic filter chain applicationfilterchain java java secur access control accesscontrol do privileg doprivileg nativ method apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java caus apach catalina secur secur util securityutil object cach objectcach hash map hashmap access synchron javadoc hash map hashmap say note implement synchron multipl thread access hash map concurr least one thread modifi map structur must synchron extern propos solut chang object cach objectcach concurr hash map concurrenthashmap','2010-10-21 09:22:56',1287670000,'resolved fixed','9d955f4',1287680000,'java/org/apache/catalina/security/SecurityUtil.java'),(575,50107,'Bug 50107  StandardPipeline is destroyed two times.','','standard pipelin standardpipelin destroy two time','standard pipelin standardpipelin destroy two time','','2010-10-18 03:05:40',1287390000,'resolved fixed','44f568f',1287490000,'java/org/apache/catalina/mbeans/MBeanFactory.java'),(576,50105,'Bug 50105  Violation of JSP-EL spec version 2.1 when coerce Enum to String','','violat jsp spec version coerc enum string','violat jsp spec version coerc enum string','','2010-10-17 05:26:20',1287310000,'resolved fixed','e6c1d55',1287490000,'java/org/apache/el/parser/AstCompositeExpression.java\ntest/org/apache/el/TestValueExpressionImpl.java\ntest/org/apache/el/TesterEnum.java'),(577,49426,'Bug 49426  Manager app wrongly localized','','manag app wrongli local','manag app wrongli local','','2010-06-11 03:26:07',1276240000,'resolved fixed','7357867',1287260000,'java/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/manager/ManagerServlet.java\njava/org/apache/tomcat/util/res/StringManager.java'),(578,50087,'Bug 50087  When metadata-complete=\"false\" throw illegal JVM_CONSTANT_Class name','When metadata-complete=\"false\" and add groovy-all-1.7.2.jar to app lib throw\n\njava.lang.reflect.InvocationTargetException\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:290)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:418)\nCaused by: java.lang.ClassFormatError: groovy/jmx/builder/package-info : illegal JVM_CONSTANT_Class name: groovy/jmx/builder/package-info\n	at java.lang.ClassLoader.defineClass1(Native Method)\n	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)\n	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)\n	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n	at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2804)\n	at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1144)\n	at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1639)\n	at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1517)\n	at org.apache.catalina.startup.ContextConfig.checkHandlesTypes(ContextConfig.java:1952)\n	at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:1915)\n	at org.apache.catalina.startup.ContextConfig.processAnnotationsJar(ContextConfig.java:1802)\n	at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1761)\n	at org.apache.catalina.startup.ContextConfig.processAnnotations(ContextConfig.java:1747)\n	at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1252)\n	at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:881)\n	at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:315)\n	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4700)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1028)\n	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1028)\n	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:278)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:429)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:662)\n	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:592)\n	... 6 more','metadata complet metadatacomplet fals throw illeg jvm constant class name metadata complet metadatacomplet fals add groovi all groovyal jar app lib throw java lang reflect invoc target except invocationtargetexcept sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java caus java lang class format error classformaterror groovi jmx builder packag info packageinfo illeg jvm constant class name groovi jmx builder packag info packageinfo java lang class loader classload defin class1 defineclass1 nativ method java lang class loader classload defin class cond defineclasscond class loader classload java java lang class loader classload defin class defineclass class loader classload java java secur secur class loader secureclassload defin class defineclass secur class loader secureclassload java apach catalina loader webapp class loader webappclassload find class intern findclassintern webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload find class findclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina startup context config contextconfig check handl type checkhandlestyp context config contextconfig java apach catalina startup context config contextconfig process annot stream processannotationsstream context config contextconfig java apach catalina startup context config contextconfig process annot jar processannotationsjar context config contextconfig java apach catalina startup context config contextconfig process annot url processannotationsurl context config contextconfig java apach catalina startup context config contextconfig process annot processannot context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard host standardhost start intern startintern standard host standardhost java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard engin standardengin start intern startintern standard engin standardengin java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard servic standardservic start intern startintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard server standardserv start intern startintern standard server standardserv java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java','metadata complet metadatacomplet fals throw illeg jvm constant class name','metadata complet metadatacomplet fals add groovi all groovyal jar app lib throw java lang reflect invoc target except invocationtargetexcept sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java caus java lang class format error classformaterror groovi jmx builder packag info packageinfo illeg jvm constant class name groovi jmx builder packag info packageinfo java lang class loader classload defin class1 defineclass1 nativ method java lang class loader classload defin class cond defineclasscond class loader classload java java lang class loader classload defin class defineclass class loader classload java java secur secur class loader secureclassload defin class defineclass secur class loader secureclassload java apach catalina loader webapp class loader webappclassload find class intern findclassintern webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload find class findclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina startup context config contextconfig check handl type checkhandlestyp context config contextconfig java apach catalina startup context config contextconfig process annot stream processannotationsstream context config contextconfig java apach catalina startup context config contextconfig process annot jar processannotationsjar context config contextconfig java apach catalina startup context config contextconfig process annot url processannotationsurl context config contextconfig java apach catalina startup context config contextconfig process annot processannot context config contextconfig java apach catalina startup context config contextconfig web config webconfig context config contextconfig java apach catalina startup context config contextconfig configur start configurestart context config contextconfig java apach catalina startup context config contextconfig lifecycl event lifecycleev context config contextconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina util lifecycl base lifecyclebas fire lifecycl event firelifecycleev lifecycl base lifecyclebas java apach catalina core standard context standardcontext start intern startintern standard context standardcontext java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard host standardhost start intern startintern standard host standardhost java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core contain base containerbas start intern startintern contain base containerbas java apach catalina core standard engin standardengin start intern startintern standard engin standardengin java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard servic standardservic start intern startintern standard servic standardservic java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina core standard server standardserv start intern startintern standard server standardserv java apach catalina util lifecycl base lifecyclebas start lifecycl base lifecyclebas java apach catalina startup catalina start catalina java','2010-10-13 09:36:12',1286980000,'resolved fixed','9e7ce59',1287070000,'java/org/apache/catalina/startup/ContextConfig.java'),(579,50066,'Bug 50066  Cannot compile recursive tag with ant if it uses a class from the webapp','','cannot compil recurs tag ant us class webapp','cannot compil recurs tag ant us class webapp','','2010-10-09 09:49:32',1286630000,'resolved fixed','79cf689',1286730000,'java/org/apache/jasper/compiler/TagFileProcessor.java'),(580,50063,'Bug 50063  Latest trunck can\'t configure context when metadata-complete is true and version is 3.0','','latest trunck configur context metadata complet metadatacomplet true version','latest trunck configur context metadata complet metadatacomplet true version','','2010-10-08 22:59:40',1286590000,'resolved fixed','4d7f111',1286700000,'java/org/apache/catalina/startup/ContextConfig.java'),(581,50027,'Bug 50027  NullPointerException if context.xml is present with <Resource>','If you deploy a WAR with contex.xml in META-INF and the context.xml has <Resource> tag, Tomcat don t boot and gives this error:\n\njava.lang.NullPointerException\n	at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570)\n	at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757)\n	at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735)\n	at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99)\n	at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n	at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544)\n	at org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n	at org.apache.catalina.startup.Catalina.load(Catalina.java:560)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:260)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n29/09/2010 13:50:37 org.apache.catalina.startup.Catalina load\nAVISO: Catalina.start using conf/server.xml: \njava.lang.NullPointerException\n	at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2688)\n	at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2714)\n	at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1061)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n	at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544)\n	at org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n	at org.apache.catalina.startup.Catalina.load(Catalina.java:560)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:260)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nCaused by: java.lang.NullPointerException\n	at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570)\n	at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757)\n	at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735)\n	at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99)\n	at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058)\n	... 20 more\n29/09/2010 13:50:37 org.apache.tomcat.util.digester.SetPropertiesRule begin\nAVISO: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property \'source\' to \'org.eclipse.jst.jee.server:bestforkprime\' did not find a matching property.\n29/09/2010 13:50:37 org.apache.tomcat.util.digester.Digester endElement\nGRAVE: End event threw exception\njava.lang.NullPointerException\n	at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570)\n	at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757)\n	at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735)\n	at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99)\n	at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n	at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544)\n	at org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:573)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:415)\n29/09/2010 13:50:37 org.apache.catalina.startup.Catalina load\nAVISO: Catalina.start using conf/server.xml: \njava.lang.NullPointerException\n	at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2688)\n	at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2714)\n	at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1061)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\n	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n	at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544)\n	at org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:573)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:415)\nCaused by: java.lang.NullPointerException\n	at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570)\n	at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757)\n	at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735)\n	at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99)\n	at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058)\n	... 20 more\n29/09/2010 13:50:37 org.apache.catalina.startup.Catalina start\nGRAVE: Cannot start server. Server instance is not configured.\n\nHere is my contex.xml OBS: some values were replaced with XXXX \n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context privileged=\"true\" reloadable=\"true\">\n\n	<WatchedResource>WEB-INF/web.xml</WatchedResource>\n	<WatchedResource>META-INF/context.xml</WatchedResource>\n	\n	<Resource name=\"jdbc/bestfork\" auth=\"Container\"\n		type=\"com.mchange.v2.c3p0.ComboPooledDataSource\" factory=\"org.apache.naming.factory.BeanFactory\"\n		user=\"xxx\" password=\"xxxx\" driverClass=\"org.postgresql.Driver\"\n		jdbcUrl=\"jdbc:postgresql://localhost:5432/xxxxx\" minPoolSize=\"5\"\n		maxPoolSize=\"30\" acquireIncrement=\"5\" idleConnectionTestPeriod=\"100\"\n		maxIdleTime=\"30\"/>\n\n	<Resource name=\"mail/Session\" auth=\"Container\" type=\"javax.mail.Session\"\n		mail.smtp.host=\"xxxx\" mail.smtp.auth=\"true\"\n		username=\"xxx\" password=\"xxx\"\n		mail.user=\"xxxx\" mail.password=\"xxxx\"\n		mail.smtp.port=\"587\" mail.transport.protocol=\"smtp\" mail.debug=\"true\" />\n\n	<Realm className=\"org.apache.catalina.realm.JDBCRealm\"\n		driverName=\"org.postgresql.Driver\" connectionURL=\"jdbc:postgresql://localhost:5432/xxxx\"\n		connectionName=\"xxxx\" connectionPassword=\"xxxx\" userTable=\"usuario\"\n		userNameCol=\"usuario_cpf\" userCredCol=\"usuario_senha\" userRoleTable=\"usuario_papel\"\n		roleNameCol=\"papel_nome\" digest=\"MD5\" />\n				\n\n</Context>','null pointer except nullpointerexcept context xml present resourc deploy contex xml meta inf context xml resourc tag tomcat boot give error java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina load catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap load bootstrap java apach catalina startup bootstrap main bootstrap java apach catalina startup catalina load aviso catalina start use conf server xml java lang null pointer except nullpointerexcept apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina load catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap load bootstrap java apach catalina startup bootstrap main bootstrap java caus java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java apach tomcat util digest set properti rule setpropertiesrul begin aviso set properti rule setpropertiesrul server servic engin host context set properti sourc jst jee server bestforkprim find match properti apach tomcat util digest digest end element endel grave event threw except java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java apach catalina startup catalina load aviso catalina start use conf server xml java lang null pointer except nullpointerexcept apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java caus java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java apach catalina startup catalina start grave cannot start server server instanc configur contex xml ob valu replac xxxx xml version encod utf context privileg true reload true watch resourc watchedresourc web inf web xml watch resourc watchedresourc watch resourc watchedresourc meta inf context xml watch resourc watchedresourc resourc name jdbc bestfork auth contain type mchang v2 c3p0 combo pool data sourc combopooleddatasourc factori apach name factori bean factori beanfactori user xxx password xxxx driver class driverclass postgresql driver jdbc url jdbcurl jdbc postgresql localhost xxxxx min pool size minpools max pool size maxpools acquir increment acquireincr idl connect test period idleconnectiontestperiod max idl time maxidletim resourc name mail session auth contain type javax mail session mail smtp host xxxx mail smtp auth true usernam xxx password xxx mail user xxxx mail password xxxx mail smtp port mail transport protocol smtp mail debug true realm class name classnam apach catalina realm realm jdbcrealm driver name drivernam postgresql driver connect connectionurl jdbc postgresql localhost xxxx connect name connectionnam xxxx connect password connectionpassword xxxx user tabl usert usuario user name col usernamecol usuario cpf user cred col usercredcol usuario senha user role tabl userrolet usuario papel role name col rolenamecol papel nome digest d5 md5 context','null pointer except nullpointerexcept context xml present resourc','deploy contex xml meta inf context xml resourc tag tomcat boot give error java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina load catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap load bootstrap java apach catalina startup bootstrap main bootstrap java apach catalina startup catalina load aviso catalina start use conf server xml java lang null pointer except nullpointerexcept apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina load catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap load bootstrap java apach catalina startup bootstrap main bootstrap java caus java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java apach tomcat util digest set properti rule setpropertiesrul begin aviso set properti rule setpropertiesrul server servic engin host context set properti sourc jst jee server bestforkprim find match properti apach tomcat util digest digest end element endel grave event threw except java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java apach catalina startup catalina load aviso catalina start use conf server xml java lang null pointer except nullpointerexcept apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest creat except createsaxexcept digest java apach tomcat util digest digest end element endel digest java sun apach xerc intern parser abstract parser abstractsaxpars end element endel abstract parser abstractsaxpars java sun apach xerc intern parser abstract document parser abstractxmldocumentpars empti element emptyel abstract document parser abstractxmldocumentpars java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan start element scanstartel document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl fragment content driver fragmentcontentdriv next document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern impl document scanner impl xmldocumentscannerimpl next document scanner impl xmldocumentscannerimpl java sun apach xerc intern impl document fragment scanner impl xmldocumentfragmentscannerimpl scan document scandocu document fragment scanner impl xmldocumentfragmentscannerimpl java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser l11 configur xml11configur pars l11 configur xml11configur java sun apach xerc intern parser parser xmlparser pars parser xmlparser java sun apach xerc intern parser abstract parser abstractsaxpars pars abstract parser abstractsaxpars java sun apach xerc intern jaxp parser impl saxparserimpl parser jaxpsaxpars pars parser impl saxparserimpl java apach tomcat util digest digest pars digest java apach catalina startup catalina load catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java caus java lang null pointer except nullpointerexcept apach catalina core standard context standardcontext get object key properti name onli getobjectkeypropertiesnameonli standard context standardcontext java apach catalina core standard context standardcontext set name resourc setnamingresourc standard context standardcontext java apach catalina core standard context standardcontext get name resourc getnamingresourc standard context standardcontext java apach catalina startup set next name rule setnextnamingrul set next name rule setnextnamingrul java apach tomcat util digest digest end element endel digest java apach catalina startup catalina start grave cannot start server server instanc configur contex xml ob valu replac xxxx xml version encod utf context privileg true reload true watch resourc watchedresourc web inf web xml watch resourc watchedresourc watch resourc watchedresourc meta inf context xml watch resourc watchedresourc resourc name jdbc bestfork auth contain type mchang v2 c3p0 combo pool data sourc combopooleddatasourc factori apach name factori bean factori beanfactori user xxx password xxxx driver class driverclass postgresql driver jdbc url jdbcurl jdbc postgresql localhost xxxxx min pool size minpools max pool size maxpools acquir increment acquireincr idl connect test period idleconnectiontestperiod max idl time maxidletim resourc name mail session auth contain type javax mail session mail smtp host xxxx mail smtp auth true usernam xxx password xxx mail user xxxx mail password xxxx mail smtp port mail transport protocol smtp mail debug true realm class name classnam apach catalina realm realm jdbcrealm driver name drivernam postgresql driver connect connectionurl jdbc postgresql localhost xxxx connect name connectionnam xxxx connect password connectionpassword xxxx user tabl usert usuario user name col usernamecol usuario cpf user cred col usercredcol usuario senha user role tabl userrolet usuario papel role name col rolenamecol papel nome digest d5 md5 context','2010-09-29 13:02:53',1285780000,'resolved fixed','6ce21f4',1286570000,'java/org/apache/catalina/core/StandardContext.java'),(582,50059,'Bug 50059  Resources are not served from /WEB-INF/lib/{*.jar}/META-INF/resources if metadata-complete=\"true\" is set in web.xml','','resourc serv web inf lib jar meta inf resourc metadata complet metadatacomplet true set web xml','resourc serv web inf lib jar meta inf resourc metadata complet metadatacomplet true set web xml','','2010-10-08 07:57:25',1286540000,'resolved fixed','da36bd1',1286570000,'java/org/apache/catalina/startup/ContextConfig.java'),(583,50017,'Bug 50017  Make private immutable fields final','','make privat immut field final','make privat immut field final','','2010-09-27 20:27:07',1285630000,'resolved fixed','c4a3427',1286550000,'java/javax/el/ValueReference.java\njava/javax/servlet/AsyncEvent.java\njava/javax/servlet/HttpConstraintElement.java\njava/javax/servlet/HttpMethodConstraintElement.java\njava/javax/servlet/MultipartConfigElement.java\njava/javax/servlet/ServletContextAttributeEvent.java\njava/javax/servlet/ServletRequestAttributeEvent.java\njava/javax/servlet/ServletRequestEvent.java\njava/javax/servlet/ServletSecurityElement.java\njava/javax/servlet/UnavailableException.java\njava/javax/servlet/http/HttpSessionBindingEvent.java\njava/javax/servlet/jsp/ErrorData.java\njava/javax/servlet/jsp/tagext/BodyContent.java\njava/javax/servlet/jsp/tagext/FunctionInfo.java\njava/javax/servlet/jsp/tagext/TagAttributeInfo.java\njava/javax/servlet/jsp/tagext/TagData.java\njava/javax/servlet/jsp/tagext/TagExtraInfo.java\njava/javax/servlet/jsp/tagext/TagFileInfo.java\njava/javax/servlet/jsp/tagext/TagVariableInfo.java\njava/javax/servlet/jsp/tagext/ValidationMessage.java\njava/javax/servlet/jsp/tagext/VariableInfo.java'),(584,50016,'Bug 50016  bad division of responsibility around isUserInRole and new Request login and logout methods','','bad divis respons around is user in role isuserinrol new request login logout method','bad divis respons around is user in role isuserinrol new request login logout method','','2010-09-27 16:56:39',1285620000,'resolved fixed','469a916',1286550000,'java/org/apache/catalina/Authenticator.java\njava/org/apache/catalina/Realm.java\njava/org/apache/catalina/authenticator/AuthenticatorBase.java\njava/org/apache/catalina/authenticator/BasicAuthenticator.java\njava/org/apache/catalina/authenticator/DigestAuthenticator.java\njava/org/apache/catalina/authenticator/FormAuthenticator.java\njava/org/apache/catalina/authenticator/NonLoginAuthenticator.java\njava/org/apache/catalina/authenticator/SSLAuthenticator.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/realm/RealmBase.java\njava/org/apache/catalina/realm/UserDatabaseRealm.java'),(585,49987,'Bug 49987  Data race in ApplicationContext','','data race applic context applicationcontext','data race applic context applicationcontext','','2010-09-23 10:16:06',1285250000,'resolved fixed','2db864e',1286490000,'java/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/core/StandardContext.java'),(586,49986,'Bug 49986  Double-check locking. Possible data-race in JspServletWrapper','','doubl check doublecheck lock possibl data race datarac jsp servlet wrapper jspservletwrapp','doubl check doublecheck lock possibl data race datarac jsp servlet wrapper jspservletwrapp','','2010-09-23 09:31:03',1285250000,'resolved fixed','2570d6ff',1286460000,'java/org/apache/jasper/servlet/JspServletWrapper.java'),(587,49972,'Bug 49972  Double-check idiom. Possible data-race.','','doubl check doublecheck idiom possibl data race datarac','doubl check doublecheck idiom possibl data race datarac','','2010-09-22 04:44:02',1285150000,'resolved fixed','0ae33cb',1286460000,'java/org/apache/tomcat/util/http/FastHttpDateFormat.java'),(588,50054,'Bug 50054  When the AJP connector is used, minSpareThreads cannot be used.','I found following warnning messages. \n\n==\nOct 7, 2010 2:25:27 PM org.apache.catalina.startup.SetAllPropertiesRule begin\nWARNING: [SetAllPropertiesRule]{Server/Service/Connector} Setting property \'minSpareThreads\' to \'31\' did not find a matching property.\n==\n\nThe AJP connector\'s configs are the following. \n<Connector port=\"8009\" protocol=\"AJP/1.3\" redirectPort=\"8443\" minSpareThreads=\"100\"/>\n\nWhen I used the Http connector, minSpareThreads was able to be used. \n\norg.apache.coyote.ajp.AjpProtocol doesn\'t set the minSpareThreads to org.apache.tomcat.util.net.JIoEndpoint.\n\nI made a patch.\nThis patch was made based on AbstractHttp11Protocol. \n\nBest regards.','ajp connector use min spare thread minsparethread cannot use found follow warn messag oct pm apach catalina startup set all properti rule setallpropertiesrul begin warn set all properti rule setallpropertiesrul server servic connector set properti min spare thread minsparethread find match properti ajp connector config follow connector port protocol ajp redirect port redirectport min spare thread minsparethread use http connector min spare thread minsparethread abl use apach coyot ajp ajp protocol ajpprotocol doesn set min spare thread minsparethread apach tomcat util net io endpoint jioendpoint made patch patch made base abstract http11 protocol abstracthttp11protocol best regard','ajp connector use min spare thread minsparethread cannot use','found follow warn messag oct pm apach catalina startup set all properti rule setallpropertiesrul begin warn set all properti rule setallpropertiesrul server servic connector set properti min spare thread minsparethread find match properti ajp connector config follow connector port protocol ajp redirect port redirectport min spare thread minsparethread use http connector min spare thread minsparethread abl use apach coyot ajp ajp protocol ajpprotocol doesn set min spare thread minsparethread apach tomcat util net io endpoint jioendpoint made patch patch made base abstract http11 protocol abstracthttp11protocol best regard','2010-10-07 04:22:51',1286440000,'resolved fixed','654c964',1286440000,'java/org/apache/coyote/ajp/AbstractAjpProtocol.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/ajp/AjpProtocol.java'),(589,49956,'Bug 49956  @Resource(name=) Normalization of JNDI Name','','resourc name normal jndi name','resourc name normal jndi name','','2010-09-17 20:15:03',1284770000,'resolved fixed','0e71157',1286400000,'java/org/apache/catalina/core/DefaultInstanceManager.java'),(590,49952,'Bug 49952  ServletContainerInitializer can\'t actually add listeners','','servlet contain initi servletcontaineriniti actual add listen','servlet contain initi servletcontaineriniti actual add listen','','2010-09-17 13:49:20',1284750000,'resolved fixed','937227a',1286400000,'java/org/apache/catalina/core/StandardContext.java\ntest/org/apache/catalina/startup/TestListener.java'),(591,49937,'Bug 49937  Problems with AsyncListener and resource injection','','problem async listen asynclisten resourc inject','problem async listen asynclisten resourc inject','','2010-09-16 01:49:41',1284620000,'resolved fixed','cf4e575',1286140000,'java/org/apache/catalina/core/AsyncContextImpl.java'),(592,49985,'Bug 49985  Lazy initialization without any synchronization - data race in AstInteger, AstFloatingPoint, AstString','','lazi initi without synchron data race ast integ astinteg ast float point astfloatingpoint ast string aststr','lazi initi without synchron data race ast integ astinteg ast float point astfloatingpoint ast string aststr','','2010-09-23 08:55:42',1285250000,'resolved fixed','b893eee',1286050000,'java/org/apache/el/parser/AstFloatingPoint.java\njava/org/apache/el/parser/AstInteger.java\njava/org/apache/el/parser/AstString.java'),(593,49915,'Bug 49915  [Patch] o.a.c.c.StandardServer swallows error on storeConfig.','When o.a.c.c.StandardServer#storeConfig is called all exceptions were getting swallowed. \n\nThis lead to the impresssion it was working correctly when saved either through the manager application /manager/save or through jconsole.\n\nI\'ve removed the catch throwable block and thrown an exception upon not finding the registerd MBean.','patch standard server standardserv swallow error store config storeconfig standard server standardserv store config storeconfig call except get swallow lead impresss work correctli save either manag applic manag save jconsol remov catch throwabl block thrown except upon find registerd bean mbean','patch standard server standardserv swallow error store config storeconfig','standard server standardserv store config storeconfig call except get swallow lead impresss work correctli save either manag applic manag save jconsol remov catch throwabl block thrown except upon find registerd bean mbean','2010-09-10 19:35:43',1284160000,'resolved fixed','5eb3851',1285950000,'java/org/apache/catalina/core/StandardServer.java'),(594,49905,'Bug 49905  In cluster, when using DeltaManager memory leak can occur','','cluster use delta manag deltamanag memori leak occur','cluster use delta manag deltamanag memori leak occur','','2010-09-09 07:22:00',1284030000,'resolved fixed','2c858be',1285950000,'java/org/apache/catalina/tribes/group/interceptors/MessageDispatch15Interceptor.java\njava/org/apache/catalina/tribes/util/TcclThreadFactory.java'),(595,49890,'Bug 49890  Nio Selector issue on linux platform','','nio selector issu linux platform','nio selector issu linux platform','','2010-09-07 09:17:54',1283870000,'resolved wontfix','f4de5ab',1285940000,'java/org/apache/tomcat/util/net/NioEndpoint.java'),(596,49861,'Bug 49861  Log format of RMI ports can be improved, remove \",\"','','log format rmi port improv remov','log format rmi port improv remov','','2010-09-02 04:42:55',1283420000,'resolved fixed','00cc8c6',1285930000,'java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java'),(597,49667,'Bug 49667  JdbcLeakPrevention class can register unregistered JCBC Driver','','jdbc leak prevent jdbcleakprevent class regist unregist jcbc driver','jdbc leak prevent jdbcleakprevent class regist unregist jcbc driver','','2010-07-29 09:31:33',1280410000,'resolved fixed','dc754cc',1285930000,'java/org/apache/catalina/loader/JdbcLeakPrevention.java'),(598,49856,'Bug 49856  Connector/ThreadPool link to Executor not exposed via JMX','When viewing either Connector objects or ThreadPool objects via JMX the name of the executor is not shown. It would be helpful if this were exposed via JMX so the links between Connectors/ThreadPools and Executors could be determined.','connector thread pool threadpool link executor expos via jmx view either connector object thread pool threadpool object via jmx name executor shown would help expos via jmx link connector thread pool threadpool executor could determin','connector thread pool threadpool link executor expos via jmx','view either connector object thread pool threadpool object via jmx name executor shown would help expos via jmx link connector thread pool threadpool executor could determin','2010-09-01 03:24:08',1283330000,'resolved fixed','167829c',1285880000,'java/org/apache/catalina/connector/Connector.java'),(599,49730,'Bug 49730  Race condition in StandardThreadExecutor : requests are sometimes enqueued instead of creating new threads','In tomcat 6, I often configure an Executor with minSpareThreads=0 to work around memory leak issues upon redeployment.\n\nSometimes (especially in development), when I refresh a page of my webapp with Safari, Chrome or Firefox, some resources of the page take several seconds (>10s) to be served though they are static resources and should come in less than 50ms. For instance, over 15 requests for a page (1 for html, the others for resources like js, css, images...), I sometimes have 1 or 2 that take >10s. \n\nAfter analysis, I found that in org.apache.catalina.core.StandardThreadExecutor.TaskQueue.offer(Runnable) the statement \nif (parent.getActiveCount()<(parent.getPoolSize()))\nis sometimes true unexpectedly. Here is the scenario :\n\n- ThreadPoolExecutor is empty\n- the user refreshes the page (or accesses it with an empty cache) in his web browser for a page that uses a more than 10-15 resources\n- the browser establishes one TCP connection and a new Thread is created\n- after the browser receives the response, it decides to load as many resources as possible in parallel. For this it establishes up to 6 TCP connections (in my tests)\n- The Acceptor thread calls StandardThreadExecutor.execute to process each incoming connection.\n- For each call, StandardThreadExecutor.TaskQueue.offer(Runnable) is being called\n- if you study the sources of Java 6 ThreadPoolExecutor, you can see that there\'s a small delay between the time a new Thread is created (thus increasing poolSize) and the time it starts working on its first task (increasing the activeCount)\n- Since in my case connections are established in a rapid burst, the calls to TaskQueue.offer() are sometimes faster than this small delay, so that we do have parent.getActiveCount()<parent.getPoolSize() and thus the task is enqueued instead of forcing the creation of a thread to serve it.\n- Since Keep-Alive is enabled and tomcat 6 threads take care of only one TCP connection at a time, the requests in the queue must wait for the keep-alive timeout so that a Thread is returned to the pool to serve pending tasks.\n- With 25s keepAliveTimeOut, it means that some requests take more than 25s to be served eventhough the pool was never full and the server quite idle!!!\n\nOther facts about this issue :\n- Although my test case starts with an empty pool, it can occur even on a loaded server. The thing that triggers the issue is the burst of new TCP connections.\n- The problem is less severe with a lower keepAliveTimeout, or if keepalive is disabled. In any case, it also depends on the time taken to serve current requests.\n- The issue also affects tomcat 7 but is less severe because tc7 threads are returned to the pool after each http request, even if the TCP connection is kept alive. The impact would the same as with tc6 with keepAlive disabled.','race condit standard thread executor standardthreadexecutor request sometim enqueu instead creat new thread tomcat often configur executor min spare thread minsparethread work around memori leak issu upon redeploy sometim especi develop refresh page webapp safari chrome firefox resourc page take sever second 10 serv though static resourc le 50m instanc request page html other resourc like j cs imag sometim take 10 analysi found apach catalina core standard thread executor standardthreadexecutor task queue taskqueu offer runnabl statement parent get activ count getactivecount parent get pool size getpools sometim true unexpectedli scenario thread pool executor threadpoolexecutor empti user refresh page access empti cach web browser page us resourc browser establish one tcp connect new thread creat browser receiv respons decid load mani resourc possibl parallel establish tcp connect test acceptor thread call standard thread executor standardthreadexecutor execut process incom connect call standard thread executor standardthreadexecutor task queue taskqueu offer runnabl call studi sourc java thread pool executor threadpoolexecutor see small delay time new thread creat thu increas pool size poolsiz time start work first task increas activ count activecount sinc case connect establish rapid burst call task queue taskqueu offer sometim faster small delay parent get activ count getactivecount parent get pool size getpools thu task enqueu instead forc creation thread serv sinc keep aliv enabl tomcat thread take care one tcp connect time request queue must wait keep aliv keepal timeout thread return pool serv pend task 25 keep aliv time out keepalivetimeout mean request take 25 serv eventhough pool never full server quit idl fact issu although case start empti pool occur even load server thing trigger issu burst new tcp connect problem le sever lower keep aliv timeout keepalivetimeout keepal disabl case depend time taken serv current request issu affect tomcat le sever tc7 thread return pool http request even tcp connect kept aliv impact would tc6 keep aliv keepal disabl','race condit standard thread executor standardthreadexecutor request sometim enqueu instead creat new thread','tomcat often configur executor min spare thread minsparethread work around memori leak issu upon redeploy sometim especi develop refresh page webapp safari chrome firefox resourc page take sever second 10 serv though static resourc le 50m instanc request page html other resourc like j cs imag sometim take 10 analysi found apach catalina core standard thread executor standardthreadexecutor task queue taskqueu offer runnabl statement parent get activ count getactivecount parent get pool size getpools sometim true unexpectedli scenario thread pool executor threadpoolexecutor empti user refresh page access empti cach web browser page us resourc browser establish one tcp connect new thread creat browser receiv respons decid load mani resourc possibl parallel establish tcp connect test acceptor thread call standard thread executor standardthreadexecutor execut process incom connect call standard thread executor standardthreadexecutor task queue taskqueu offer runnabl call studi sourc java thread pool executor threadpoolexecutor see small delay time new thread creat thu increas pool size poolsiz time start work first task increas activ count activecount sinc case connect establish rapid burst call task queue taskqueu offer sometim faster small delay parent get activ count getactivecount parent get pool size getpools thu task enqueu instead forc creation thread serv sinc keep aliv enabl tomcat thread take care one tcp connect time request queue must wait keep aliv keepal timeout thread return pool serv pend task 25 keep aliv time out keepalivetimeout mean request take 25 serv eventhough pool never full server quit idl fact issu although case start empti pool occur even load server thing trigger issu burst new tcp connect problem le sever lower keep aliv timeout keepalivetimeout keepal disabl case depend time taken serv current request issu affect tomcat le sever tc7 thread return pool http request even tcp connect kept aliv impact would tc6 keep aliv keepal disabl','2010-08-09 16:16:04',1281380000,'resolved fixed','2bfc300',1285870000,'java/org/apache/tomcat/util/threads/TaskQueue.java\njava/org/apache/tomcat/util/threads/ThreadPoolExecutor.java'),(600,50021,'Bug 50021  ExceptionUtils class missing from bootstrap.jar','o.a.c.startup.Bootstrap uses o.a.jasper.util.ExceptionUtils, but this class is not placed in bootstrap.jar, causing rather nasty failures if anything goes wrong during initial bootstrapping.\n\nThis should be a fairly simple matter of updating build.xml to include it, but I wasn\'t sure whether including Jasper classes in the bootstrap was the done thing.\nThere\'s an o.a.tomcat.util.ExceptionUtils that is identical, but that too looks like the wrong thing to grab.','except util exceptionutil class miss bootstrap jar startup bootstrap us jasper util except util exceptionutil class place bootstrap jar caus rather nasti failur anyth go wrong initi bootstrap fairli simpl matter updat build xml includ wasn sure whether includ jasper class bootstrap done thing tomcat util except util exceptionutil ident look like wrong thing grab','except util exceptionutil class miss bootstrap jar','startup bootstrap us jasper util except util exceptionutil class place bootstrap jar caus rather nasti failur anyth go wrong initi bootstrap fairli simpl matter updat build xml includ wasn sure whether includ jasper class bootstrap done thing tomcat util except util exceptionutil ident look like wrong thing grab','2010-09-29 03:43:11',1285750000,'resolved fixed','6c22816',1285760000,'java/org/apache/catalina/startup/Bootstrap.java'),(601,50018,'Bug 50018  Javadoc corrections','','javadoc correct','javadoc correct','','2010-09-27 20:47:45',1285630000,'resolved fixed','2f8a27c',1285750000,'java/org/apache/jasper/compiler/ParserController.java\njava/org/apache/jasper/compiler/TagFileProcessor.java'),(602,49195,'Bug 49195  Using -1 as shutdown port with Windows service works, but prints error message','1. Install Tomcat as a service on Windows\n2. Specify <Server port=\"-1\" in server.xml\n3. Start the service, and then stop the service.\n4. The following is printed in the catalina.2010-04-27.log:\n\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer\nSEVERE: No shutdown port configured. Shut down server through OS signal. Server not shut down.\n\nIt is just a message. Tomcat stops regardless of it:\nAfter printing the message Catalina#stopServer() performs System.exit(1) which results in Tomcat shutdown.\n\nI think that when service launcher stops Tomcat, Catalina#server is not null. That can be used to differentiate the two use cases.\n\nThere could be improvements on how to stop Tomcat. E.g., to call Catalina.stop(). If that is the case, it would be better to use wait(10000) instead of sleep(10000) in StandardServer.await(), so that it could be woken by a notifyAll() call, or use interrupt() call to wake it up (if we know the thread). System.exit(0) would work regardless of all that.\n\nI suppose that jsvc may show the same behaviour, but I have not tried.','use shutdown port window servic work print error messag instal tomcat servic window specifi server port server xml start servic stop servic follow print catalina log apach catalina startup catalina stop server stopserv sever shutdown port configur shut server signal server shut messag tomcat stop regardless print messag catalina stop server stopserv perform system exit result tomcat shutdown think servic launcher stop tomcat catalina server null use differenti two use case could improv stop tomcat call catalina stop case would better use wait instead sleep standard server standardserv await could woken notifi all notifyal call use interrupt call wake know thread system exit would work regardless suppos jsvc may show behaviour tri','use shutdown port window servic work print error messag','instal tomcat servic window specifi server port server xml start servic stop servic follow print catalina log apach catalina startup catalina stop server stopserv sever shutdown port configur shut server signal server shut messag tomcat stop regardless print messag catalina stop server stopserv perform system exit result tomcat shutdown think servic launcher stop tomcat catalina server null use differenti two use case could improv stop tomcat call catalina stop case would better use wait instead sleep standard server standardserv await could woken notifi all notifyal call use interrupt call wake know thread system exit would work regardless suppos jsvc may show behaviour tri','2010-04-27 10:22:54',1272380000,'resolved fixed','7c6b1a5',1285710000,'java/org/apache/catalina/startup/Catalina.java'),(603,49665,'Bug 49665  When file not found error occurs it does not tell you which file caused the error.','','file found error occur tell file caus error','file found error occur tell file caus error','','2010-07-29 05:08:43',1280390000,'resolved fixed','7b24ed5',1285690000,'java/org/apache/jasper/compiler/Generator.java\njava/org/apache/jasper/compiler/JspDocumentParser.java\njava/org/apache/jasper/compiler/Parser.java\njava/org/apache/jasper/compiler/TagLibraryInfoImpl.java'),(604,49625,'Bug 49625  Tomcat doesn\'t send Vary consistently when gzip enabled','HTTP requires that the Vary response header be sent consistently for all responses if they change based upon different aspects of the request.\nMy pages has both compressed and uncompressed variants available, negotiated by the Accept-Encoding request header, but it sends different Vary headers for each;\n\n\"accept-encoding\" when the response is compressed, and\n\"\" when it is not.\nThis can cause problems for downstream caches, because they cannot consistently determine what the cache key for a given URI is.\n\nMy server.xml content:\n  <Service name=\"Catalina\">\n  \n    <Connector port=\"8080\" proxyPort=\"80\" maxHttpHeaderSize=\"8192\" protocol=\"org.apache.coyote.http11.Http11Protocol\" \n    maxThreads=\"200\" minSpareThreads=\"25\" maxPostSize=\"8\" \n    maxSpareThreads=\"75\" enableLookups=\"false\" keepAliveTimeout=\"3000\" maxKeepAliveRequests=\"100\"\n    redirectPort=\"8443\" acceptCount=\"100\"\n    connectionTimeout=\"8000\" disableUploadTimeout=\"true\"\n    compression=\"on\" compressionMinSize=\"2048\"\n    compressableMimeType=\"text/html,text/xml,text/javascript,text/css\" />\n    \n    <Engine name=\"Catalina\" defaultHost=\"localhost\">\n        <Host name=\"localhost\" appBase=\"webapps\" unpackWARs=\"false\" autoDeploy=\"false\"\ndebug=\"0\"\n            xmlValidation=\"false\" xmlNamespaceAware=\"false\">\n	</Host>\n    </Engine>\n  </Service>','tomcat doesn send vari consist gzip enabl http requir vari respons header sent consist respons chang base upon differ aspect request page compress uncompress variant avail negoti accept encod request header send differ vari header accept encod acceptencod respons compress caus problem downstream cach cannot consist determin cach key given uri server xml content servic name catalina connector port proxi port proxyport max http header size maxhttpheaders protocol apach coyot http11 http11 protocol http11protocol max thread maxthread min spare thread minsparethread max post size maxposts max spare thread maxsparethread enabl lookup enablelookup fals keep aliv timeout keepalivetimeout max keep aliv request maxkeepaliverequest redirect port redirectport accept count acceptcount connect timeout connectiontimeout disabl upload timeout disableuploadtimeout true compress compress min size compressionmins compress mime type compressablemimetyp text html text xml text javascript text cs engin name catalina default host defaulthost localhost host name localhost app base appbas webapp unpack unpackwar fals auto deploy autodeploy fals debug xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals host engin servic','tomcat doesn send vari consist gzip enabl','http requir vari respons header sent consist respons chang base upon differ aspect request page compress uncompress variant avail negoti accept encod request header send differ vari header accept encod acceptencod respons compress caus problem downstream cach cannot consist determin cach key given uri server xml content servic name catalina connector port proxi port proxyport max http header size maxhttpheaders protocol apach coyot http11 http11 protocol http11protocol max thread maxthread min spare thread minsparethread max post size maxposts max spare thread maxsparethread enabl lookup enablelookup fals keep aliv timeout keepalivetimeout max keep aliv request maxkeepaliverequest redirect port redirectport accept count acceptcount connect timeout connectiontimeout disabl upload timeout disableuploadtimeout true compress compress min size compressionmins compress mime type compressablemimetyp text html text xml text javascript text cs engin name catalina default host defaulthost localhost host name localhost app base appbas webapp unpack unpackwar fals auto deploy autodeploy fals debug xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals host engin servic','2010-07-21 03:11:07',1279700000,'resolved fixed','7435fa9',1285680000,'java/org/apache/coyote/http11/AbstractHttp11Processor.java'),(605,49209,'Bug 49209  AccessControlException when undeploying application','When running Tomcat with a SecurityManager, an AccessControlException is thrown during undeployment.\n\nStack trace:\n\nCaused by: java.security.AccessControlException: access denied (java.lang.RuntimePermission getClassLoader)\n	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:323)\n	at java.security.AccessController.checkPermission(AccessController.java:546)\n	at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n	at java.lang.Class.getClassLoader(Class.java:594)\n	at org.apache.catalina.loader.JdbcLeakPrevention.clearJdbcDriverRegistrations(JdbcLeakPrevention.java:49)\n\nI assume the default catalina.policy should be updated, to take this case into account.','access control except accesscontrolexcept undeploy applic run tomcat secur manag securitymanag access control except accesscontrolexcept thrown undeploy stack trace caus java secur access control except accesscontrolexcept access deni java lang runtim permiss runtimepermiss get class loader getclassload java secur access control context accesscontrolcontext check permiss checkpermiss access control context accesscontrolcontext java java secur access control accesscontrol check permiss checkpermiss access control accesscontrol java java lang secur manag securitymanag check permiss checkpermiss secur manag securitymanag java java lang class get class loader getclassload class java apach catalina loader jdbc leak prevent jdbcleakprevent clear jdbc driver registr clearjdbcdriverregistr jdbc leak prevent jdbcleakprevent java assum default catalina polici updat take case account','access control except accesscontrolexcept undeploy applic','run tomcat secur manag securitymanag access control except accesscontrolexcept thrown undeploy stack trace caus java secur access control except accesscontrolexcept access deni java lang runtim permiss runtimepermiss get class loader getclassload java secur access control context accesscontrolcontext check permiss checkpermiss access control context accesscontrolcontext java java secur access control accesscontrol check permiss checkpermiss access control accesscontrol java java lang secur manag securitymanag check permiss checkpermiss secur manag securitymanag java java lang class get class loader getclassload class java apach catalina loader jdbc leak prevent jdbcleakprevent clear jdbc driver registr clearjdbcdriverregistr jdbc leak prevent jdbcleakprevent java assum default catalina polici updat take case account','2010-04-28 07:30:12',1272450000,'resolved fixed','d0d4c75',1285630000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(606,49102,'Bug 49102  coyote.ajp.Constants - 3 \"constant\" arrays are mutable','The class coyote.ajp.Constants contains 3 public static non-empty String[] arrays:\n\nmethodTransArray\nresponseTransArray\nheaderTransArray\n\nresponseTransArray only appears to be locally, so could be made private.\n\nThe others are used in index lookups, so get(index) methods could be used to protect them.','coyot ajp constant constant array mutabl class coyot ajp constant contain public static non empti nonempti string array method tran array methodtransarray respons tran array responsetransarray header tran array headertransarray respons tran array responsetransarray appear local could made privat other use index lookup get index method could use protect','coyot ajp constant constant array mutabl','class coyot ajp constant contain public static non empti nonempti string array method tran array methodtransarray respons tran array responsetransarray header tran array headertransarray respons tran array responsetransarray appear local could made privat other use index lookup get index method could use protect','2010-04-12 16:11:37',1271100000,'resolved fixed','fb5a3e7',1285240000,'java/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/ajp/Constants.java'),(607,49909,'Bug 49909  jstl 1.2 not support','','jstl support','jstl support','','2010-09-10 06:20:26',1284110000,'resolved fixed','8dc0306',1284720000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(608,49924,'Bug 49924  When non-primary node changes into a primary node, isPrimarySession is not changed to true.','If BackupManager is used,\nwhen a primary node is switched, \nDeltaSession#isPrimarySession is not changed to true. \n\nNon-primary node changes into a primary node \nwhen a primary node is stopped or we get a non-primary session. \n\nIf a primary node is stopped, a primary node is switched. \nIn AbstractReplicatedMap, when a primary node is switched, \nMapOwner(BackupManager)#objectMadePrimay is called. \nHowever, isPrimarySession does not change to true in this method. \n=====BackupManager#objectMadePrimay=====\npublic void objectMadePrimay(Object key, Object value) {\n    if (value!=null && value instanceof DeltaSession) {\n        DeltaSession session = (DeltaSession)value;\n        synchronized (session) {\n            session.access();\n            session.endAccess();\n        }\n    }\n}\n=====\n\nIf we get a non-primary session,  a primary node is switched. \nHowever, isPrimarySession does not change to true. \nIt is only a change of primary node.\n\nI made a patch.\nIt contains the following. \nisPrimarySession is set to true in BackupManager#objectMadePrimay.\nWhen get() is called in non-primary node, MapOwner#objectMadePrimay is called.\n\n\nBest regards.','non primari nonprimari node chang primari node is primari session isprimarysess chang true backup manag backupmanag use primari node switch delta session deltasess is primari session isprimarysess chang true non primari nonprimari node chang primari node primari node stop get non primari nonprimari session primari node stop primari node switch abstract replic map abstractreplicatedmap primari node switch map owner mapown backup manag backupmanag object made primay objectmadeprimay call howev is primari session isprimarysess chang true method backup manag backupmanag object made primay objectmadeprimay public void object made primay objectmadeprimay object key object valu valu null valu instanceof delta session deltasess delta session deltasess session delta session deltasess valu synchron session session access session end access endaccess get non primari nonprimari session primari node switch howev is primari session isprimarysess chang true chang primari node made patch contain follow is primari session isprimarysess set true backup manag backupmanag object made primay objectmadeprimay get call non primari nonprimari node map owner mapown object made primay objectmadeprimay call best regard','non primari nonprimari node chang primari node is primari session isprimarysess chang true','backup manag backupmanag use primari node switch delta session deltasess is primari session isprimarysess chang true non primari nonprimari node chang primari node primari node stop get non primari nonprimari session primari node stop primari node switch abstract replic map abstractreplicatedmap primari node switch map owner mapown backup manag backupmanag object made primay objectmadeprimay call howev is primari session isprimarysess chang true method backup manag backupmanag object made primay objectmadeprimay public void object made primay objectmadeprimay object key object valu valu null valu instanceof delta session deltasess delta session deltasess session delta session deltasess valu synchron session session access session end access endaccess get non primari nonprimari session primari node switch howev is primari session isprimarysess chang true chang primari node made patch contain follow is primari session isprimarysess set true backup manag backupmanag object made primay objectmadeprimay get call non primari nonprimari node map owner mapown object made primay objectmadeprimay call best regard','2010-09-14 03:23:07',1284450000,'resolved fixed','b255697',1284450000,'java/org/apache/catalina/ha/session/BackupManager.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(609,49234,'Bug 49234  JMX Descriptor Modifications','','jmx descriptor modif','jmx descriptor modif','','2010-04-30 00:17:34',1272600000,'resolved fixed','e0182ef',1284250000,'java/org/apache/catalina/Server.java\njava/org/apache/catalina/Service.java\njava/org/apache/catalina/core/StandardEngine.java\njava/org/apache/catalina/core/StandardServer.java\njava/org/apache/catalina/core/StandardService.java\njava/org/apache/catalina/mbeans/ContainerMBean.java\njava/org/apache/catalina/mbeans/ContextMBean.java\njava/org/apache/catalina/mbeans/ServiceMBean.java\njava/org/apache/catalina/startup/Catalina.java'),(610,49892,'Bug 49892  Wrong JNDI Name for Method Resource Injections','Method based JNDI env. injections not worked correctly. Patch is attached. See Java EE 6 specification section, EE. 5.2.5 Annotations and Injections. Patch is provided that solves problem.','wrong jndi name method resourc inject method base jndi env inject work correctli patch attach see java ee specif section ee annot inject patch provid solv problem','wrong jndi name method resourc inject','method base jndi env inject work correctli patch attach see java ee specif section ee annot inject patch provid solv problem','2010-09-07 10:44:49',1283870000,'resolved fixed','94147b2',1283980000,'java/org/apache/catalina/core/DefaultInstanceManager.java'),(611,49831,'Bug 49831  Issue with closing XAConnections on MSSQL','When using XAConnections with MSSQL it has been noticed that the physical connections are not being closed when DataSourceProxy.close(boolean all) is called. This method invokes org.apache.tomcat.jdbc.pool.PooledConnection.disconnent() which calls connection.close(). However, when used with SQLServer, the connection attribute is a proxy object (type com.microsoft.sqlserver.jdbc.SQLServerConnectionPoolProxy) which wraps the physical connection (of type com.microsoft.sqlserver.jdbc.SQLServerConnection). Calling close() on the proxy object only notifies the pool manager that the Connection is released back to the pool; it does not close the underlying physical connection.\n\nThis is what the PooledConnection.disconnent() implementation currently reads:\n\nprivate void disconnect(boolean finalize) {\n    if (isDiscarded()) {\n        return;\n    }\n    setDiscarded(true);\n    if (connection != null) {\n        try {\n            connection.close();\n        }catch (Exception ignore) {\n            if (log.isDebugEnabled()) {\n                log.debug(\"Unable to close underlying SQL connection\",ignore);\n            }\n        }\n    }\n    connection = null;\n    xaConnection = null;\n    lastConnected = -1;\n    if (finalize) parent.finalize(this);\n}\n\nIf the logic was changed to the following, it would properly closed the XAConnection with the MSSQL.\n\nprivate void disconnect(boolean finalize) {\n    if (isDiscarded()) {\n        return;\n    }\n    setDiscarded(true);\n    if (connection != null) {\n        try {\n            if (xaConnection != null) {\n                xaConnection.close(); \n            } else {\n                connection.close();\n            }\n        }catch (Exception ignore) {\n            if (log.isDebugEnabled()) {\n                log.debug(\"Unable to close underlying SQL connection\",ignore);\n            }\n        }\n    }\n    connection = null;\n    xaConnection = null;\n    lastConnected = -1;\n    if (finalize) parent.finalize(this);\n}','issu close connect xaconnect mssql use connect xaconnect mssql notic physic connect close data sourc proxi datasourceproxi close boolean call method invok apach tomcat jdbc pool pool connect pooledconnect disconn call connect close howev use server sqlserver connect attribut proxi object type microsoft sqlserver jdbc server connect pool proxi sqlserverconnectionpoolproxi wrap physic connect type microsoft sqlserver jdbc server connect sqlserverconnect call close proxi object notifi pool manag connect releas back pool close underli physic connect pool connect pooledconnect disconn implement current read privat void disconnect boolean final is discard isdiscard return set discard setdiscard true connect null tri connect close catch except ignor log is debug enabl isdebugen log debug unabl close underli sql connect ignor connect null xa connect xaconnect null last connect lastconnect final parent final logic chang follow would properli close connect xaconnect mssql privat void disconnect boolean final is discard isdiscard return set discard setdiscard true connect null tri xa connect xaconnect null xa connect xaconnect close els connect close catch except ignor log is debug enabl isdebugen log debug unabl close underli sql connect ignor connect null xa connect xaconnect null last connect lastconnect final parent final','issu close connect xaconnect mssql','use connect xaconnect mssql notic physic connect close data sourc proxi datasourceproxi close boolean call method invok apach tomcat jdbc pool pool connect pooledconnect disconn call connect close howev use server sqlserver connect attribut proxi object type microsoft sqlserver jdbc server connect pool proxi sqlserverconnectionpoolproxi wrap physic connect type microsoft sqlserver jdbc server connect sqlserverconnect call close proxi object notifi pool manag connect releas back pool close underli physic connect pool connect pooledconnect disconn implement current read privat void disconnect boolean final is discard isdiscard return set discard setdiscard true connect null tri connect close catch except ignor log is debug enabl isdebugen log debug unabl close underli sql connect ignor connect null xa connect xaconnect null last connect lastconnect final parent final logic chang follow would properli close connect xaconnect mssql privat void disconnect boolean final is discard isdiscard return set discard setdiscard true connect null tri xa connect xaconnect null xa connect xaconnect close els connect close catch except ignor log is debug enabl isdebugen log debug unabl close underli sql connect ignor connect null xa connect xaconnect null last connect lastconnect final parent final','2010-08-26 11:08:08',1282840000,'resolved fixed','64a8346',1283960000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PooledConnection.java'),(612,49883,'Bug 49883  java.lang.UnsupportedOperationException: The getName() method should never be called','','java lang unsupport oper except unsupportedoperationexcept get name getnam method never call','java lang unsupport oper except unsupportedoperationexcept get name getnam method never call','','2010-09-04 22:58:52',1283660000,'resolved fixed','a9f0fd5',1283720000,'java/org/apache/catalina/realm/CombinedRealm.java'),(613,49802,'Bug 49802  Shutdown of AJP Connector do not work','','shutdown ajp connector work','shutdown ajp connector work','','2010-08-23 05:59:48',1282560000,'resolved fixed','cd7263e',1283720000,'java/org/apache/catalina/connector/Connector.java\njava/org/apache/catalina/core/StandardService.java\njava/org/apache/coyote/ProtocolHandler.java\njava/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/ajp/AjpProtocol.java\njava/org/apache/coyote/http11/AbstractHttp11Protocol.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java\njava/org/apache/tomcat/util/net/AbstractEndpoint.java\njava/org/apache/tomcat/util/net/AprEndpoint.java\njava/org/apache/tomcat/util/net/JIoEndpoint.java\njava/org/apache/tomcat/util/net/NioEndpoint.java'),(614,49876,'Bug 49876  correcting generics related compile warning in org/apache/tomcat/util/bcel/classfile files','Explanation:\n\nSeveral files have compile time generics related warnings displayed for org/apache/tomcat/util/bcel/classfile. This patch cleans up several of those warnings.','correct gener relat compil warn apach tomcat util bcel classfil file explan sever file compil time gener relat warn display apach tomcat util bcel classfil patch clean sever warn','correct gener relat compil warn apach tomcat util bcel classfil file','explan sever file compil time gener relat warn display apach tomcat util bcel classfil patch clean sever warn','2010-09-03 08:17:45',1283520000,'resolved fixed','6155a8b',1283540000,'java/org/apache/tomcat/util/bcel/classfile/AnnotationEntry.java\njava/org/apache/tomcat/util/bcel/classfile/Attribute.java\njava/org/apache/tomcat/util/bcel/classfile/JavaClass.java\njava/org/apache/tomcat/util/bcel/classfile/Unknown.java\njava/org/apache/tomcat/util/bcel/classfile/Utility.java'),(615,49869,'Bug 49869  Javadoc for WebAppClassLoader constructor has copy/paste error','The constructor that takes a parent class loader has a copy of the doc string from the constructor that does not take a parent class loader.','javadoc web app class loader webappclassload constructor copi past error constructor take parent class loader copi doc string constructor take parent class loader','javadoc web app class loader webappclassload constructor copi past error','constructor take parent class loader copi doc string constructor take parent class loader','2010-09-02 18:26:13',1283470000,'resolved fixed','a6620cb',1283500000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(616,48967,'Bug 48967  Externalize Strings \"catalina.base\" and \"catalina.home\"','','extern string catalina base catalina home','extern string catalina base catalina home','','2010-03-23 14:19:02',1269370000,'resolved fixed','bcb994c',1283440000,'java/org/apache/catalina/Globals.java\njava/org/apache/catalina/connector/Connector.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/ha/deploy/FarmWarDeployer.java\njava/org/apache/catalina/manager/ManagerServlet.java\njava/org/apache/catalina/manager/host/HostManagerServlet.java\njava/org/apache/catalina/realm/JAASMemoryLoginModule.java\njava/org/apache/catalina/realm/MemoryRealm.java\njava/org/apache/catalina/startup/Bootstrap.java\njava/org/apache/catalina/startup/Catalina.java\njava/org/apache/catalina/startup/CatalinaProperties.java\njava/org/apache/catalina/startup/Embedded.java\njava/org/apache/catalina/startup/ExpandWar.java\njava/org/apache/catalina/startup/HostConfig.java\njava/org/apache/catalina/startup/Tomcat.java\njava/org/apache/catalina/startup/Tool.java\njava/org/apache/catalina/users/MemoryUserDatabase.java\njava/org/apache/catalina/valves/AccessLogValve.java\njava/org/apache/jasper/compiler/AntCompiler.java\njava/org/apache/tomcat/util/net/AbstractEndpoint.java\njava/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(617,49749,'Bug 49749  SSO cookie should be added as HttpOnly','SSO cookies should be made HttpOnly by default.\n\nIn org.apache.catalina.authenticator.AuthenticatorBase#register(), \n\n798- response.addCookie(cookie);\n798+ response.addCookieInternal(cookie, true);','sso cooki ad http onli httponli sso cooki made http onli httponli default apach catalina authent authent base authenticatorbas regist respons add cooki addcooki cooki respons add cooki intern addcookieintern cooki true','sso cooki ad http onli httponli','sso cooki made http onli httponli default apach catalina authent authent base authenticatorbas regist respons add cooki addcooki cooki respons add cooki intern addcookieintern cooki true','2010-08-13 19:18:22',1281740000,'resolved fixed','e641f20',1282740000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(618,48738,'Bug 48738  [PATCH]Allow GzipOutputFilter to send partial result when flushBuffer() is called','','patch allow gzip output filter gzipoutputfilt send partial result flush buffer flushbuff call','patch allow gzip output filter gzipoutputfilt send partial result flush buffer flushbuff call','','2010-02-13 23:28:26',1266120000,'resolved fixed','526f4ac',1282640000,'java/org/apache/coyote/http11/AbstractOutputBuffer.java\njava/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java\njava/org/apache/coyote/http11/filters/GzipOutputFilter.java\ntest/org/apache/coyote/http11/TestGzipOutputFilter.java'),(619,49670,'Bug 49670  org.apache.catalina.authenticator.SingleSignOn valve does not function','I have two web applications; neither declare a realm in the context.xml and both are configured for authentication in the web.xml using standard tomcat authentication methods.  I have enabled the tomcat valve in the host and have added a realm to the host as well.\n\n      <Host name=\"localhost\"  appBase=\"webapps\" unpackWARs=\"true\" autoDeploy=\"true\">\n      	<Realm className=\"org.apache.catalina.realm.JAASRealm\" appName=\"SSO\" userClassNames=\"a.b.c\" roleClassNames=\"a.b.c\" useContextClassLoader=\"false\"/>\n        <!-- SingleSignOn valve, share authentication between web applications\n             Documentation at: /docs/config/valve.html -->\n        <Valve className=\"org.apache.catalina.authenticator.SingleSignOn\"/>\n        <!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html -->\n        <!--\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\"  \n               prefix=\"localhost_access_log.\" suffix=\".txt\" pattern=\"common\" resolveHosts=\"false\"/>\n        -->\n\nI have added a jaas configuration for the SSO app in the jaas.conf file for the server.  I am certain that the realm, jaas.conf are all configured properly as the web applications do require a user to authenticate before accessing the application, but if I have authenticated to one application I still am required to authenticate before accessing the other application.\n\nI have this exact same configuration working on a tomcat 6 environment, but an identical configuration will not operate on a tomcat 7 server.','apach catalina authent singl sign on singlesignon valv function two web applic neither declar realm context xml configur authent web xml use standard tomcat authent method enabl tomcat valv host ad realm host well host name localhost app base appbas webapp unpack unpackwar true auto deploy autodeploy true realm class name classnam apach catalina realm realm jaasrealm app name appnam sso user class name userclassnam role class name roleclassnam use context class loader usecontextclassload fals singl sign on singlesignon valv share authent web applic document doc config valv html valv class name classnam apach catalina authent singl sign on singlesignon access log process exampl document doc config valv html valv class name classnam apach catalina valv access log valv accesslogvalv directori log prefix localhost access log suffix txt pattern common resolv host resolvehost fals ad jaa configur sso app jaa conf file server certain realm jaa conf configur properli web applic requir user authent access applic authent one applic still requir authent access applic exact configur work tomcat environ ident configur oper tomcat server','apach catalina authent singl sign on singlesignon valv function','two web applic neither declar realm context xml configur authent web xml use standard tomcat authent method enabl tomcat valv host ad realm host well host name localhost app base appbas webapp unpack unpackwar true auto deploy autodeploy true realm class name classnam apach catalina realm realm jaasrealm app name appnam sso user class name userclassnam role class name roleclassnam use context class loader usecontextclassload fals singl sign on singlesignon valv share authent web applic document doc config valv html valv class name classnam apach catalina authent singl sign on singlesignon access log process exampl document doc config valv html valv class name classnam apach catalina valv access log valv accesslogvalv directori log prefix localhost access log suffix txt pattern common resolv host resolvehost fals ad jaa configur sso app jaa conf file server certain realm jaa conf configur properli web applic requir user authent access applic authent one applic still requir authent access applic exact configur work tomcat environ ident configur oper tomcat server','2010-07-29 10:43:35',1280410000,'resolved fixed','e2f0b9b',1282590000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(620,49721,'Bug 49721  Fail to access the resources such as jsp files from a jar file which is supported by servlet 3.0','I put a jsp file in a jar file and test whether tomcat 7 supports it by viewing it from the browser and failed.','fail access resourc jsp file jar file support servlet put jsp file jar file whether tomcat support view browser fail','fail access resourc jsp file jar file support servlet','put jsp file jar file whether tomcat support view browser fail','2010-08-06 21:52:37',1281150000,'resolved fixed','187eed8',1282590000,'java/org/apache/catalina/startup/ContextConfig.java'),(621,49726,'Bug 49726  JSP 2.2 new configuration element <default-content-type> under <jsp-property-group> works incorrectly on tomcat trunk','','jsp new configur element default content type defaultcontenttyp jsp properti group jsppropertygroup work incorrectli tomcat trunk','jsp new configur element default content type defaultcontenttyp jsp properti group jsppropertygroup work incorrectli tomcat trunk','','2010-08-09 02:07:45',1281330000,'resolved fixed','42c226f',1282590000,'java/org/apache/jasper/compiler/Compiler.java\ntest/org/apache/jasper/compiler/TestCompiler.java'),(622,49750,'Bug 49750  WebappClassLoader.validate(name) does not validate javax.servlet.','The method does not validate the class name as described in the method documentation.\n\n\"Validate a classname. As per SRV.9.7.2, we must restrict loading of classes from J2SE (java.*) and classes of the servlet API (javax.servlet.*) \"','webapp class loader webappclassload valid name valid javax servlet method valid class name describ method document valid classnam srv must restrict load class j2 j2se java class servlet api javax servlet','webapp class loader webappclassload valid name valid javax servlet','method valid class name describ method document valid classnam srv must restrict load class j2 j2se java class servlet api javax servlet','2010-08-15 11:06:54',1281880000,'resolved fixed','6fce7d7',1282580000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(623,49758,'Bug 49758  [Patch] Generics warnings - rawtypes','','patch gener warn rawtyp','patch gener warn rawtyp','','2010-08-16 13:20:09',1281980000,'resolved fixed','c05cb94',1282520000,'java/javax/annotation/Resource.java\njava/javax/ejb/EJB.java\njava/javax/el/BeanELResolver.java\njava/javax/el/ELContext.java\njava/javax/el/ResourceBundleELResolver.java\njava/javax/servlet/ServletRequestWrapper.java\njava/javax/servlet/ServletResponseWrapper.java\njava/javax/servlet/annotation/HandlesTypes.java\njava/javax/servlet/jsp/el/ExpressionEvaluator.java\njava/javax/servlet/jsp/el/ImplicitObjectELResolver.java\njava/javax/servlet/jsp/tagext/TagSupport.java\njava/javax/xml/ws/WebServiceRef.java\njava/org/apache/el/lang/EvaluationContext.java\njava/org/apache/el/parser/AstValue.java\njava/org/apache/jasper/el/ELContextWrapper.java\njava/org/apache/jasper/el/ExpressionEvaluatorImpl.java\njava/org/apache/naming/resources/DirContextURLConnection.java'),(624,49757,'Bug 49757  correcting some generics related warnings','Patch attached. Thanks','correct gener relat warn patch attach thank','correct gener relat warn','patch attach thank','2010-08-16 13:13:12',1281980000,'resolved fixed','d446678',1282490000,'java/org/apache/catalina/manager/JMXProxyServlet.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(625,49714,'Bug 49714  The annotation process of Jar should not impact distributable of web.xml.','Even if < distributable/> is set to web.xml(servlet3.0), \ndistributable is changed from true to false by the annotation process of JAR. \n\nContextConfig#processAnnotations is as follows. \n===ContextConfig#processAnnotations\nprotected void processAnnotations(Set<WebXml> fragments) {\n    for(WebXml fragment : fragments) {\n        if (!fragment.isMetadataComplete()) {\n            WebXml annotations = new WebXml();\n            URL url = fragment.getURL();\n            processAnnotationsUrl(url, annotations);\n            Set<WebXml> set = new HashSet<WebXml>();\n            set.add(annotations);\n            // Merge annotations into fragment - fragment takes priority\n            fragment.merge(set);\n        }\n    }\n}\n===\ndistributable of \"annotations\" created by new WebXml() is false (default). \nIf \"annotations\" is merged with \"fragment\", distributable of \"fragment\" becomes false. \n\nBecause \"fragment\" is merged with web.xml of the web application,\neven if < distributable/> is set to web.xml, distributable is changed from true to false. \n\nThe following are necessary. \nannotations.setDistributable(true);\n\nBest regards.','annot process jar impact distribut web xml even distribut set web xml servlet3 distribut chang true fals annot process jar context config contextconfig process annot processannot follow context config contextconfig process annot processannot protect void process annot processannot set web xml webxml fragment web xml webxml fragment fragment fragment is metadata complet ismetadatacomplet web xml webxml annot new web xml webxml url url fragment get geturl process annot url processannotationsurl url annot set web xml webxml set new hash set hashset web xml webxml set add annot merg annot fragment fragment take prioriti fragment merg set distribut annot creat new web xml webxml fals default annot merg fragment distribut fragment becom fals fragment merg web xml web applic even distribut set web xml distribut chang true fals follow necessari annot set distribut setdistribut true best regard','annot process jar impact distribut web xml','even distribut set web xml servlet3 distribut chang true fals annot process jar context config contextconfig process annot processannot follow context config contextconfig process annot processannot protect void process annot processannot set web xml webxml fragment web xml webxml fragment fragment fragment is metadata complet ismetadatacomplet web xml webxml annot new web xml webxml url url fragment get geturl process annot url processannotationsurl url annot set web xml webxml set new hash set hashset web xml webxml set add annot merg annot fragment fragment take prioriti fragment merg set distribut annot creat new web xml webxml fals default annot merg fragment distribut fragment becom fals fragment merg web xml web applic even distribut set web xml distribut chang true fals follow necessari annot set distribut setdistribut true best regard','2010-08-05 22:06:15',1281060000,'resolved fixed','f4a10ec',1281060000,'java/org/apache/catalina/startup/ContextConfig.java'),(626,49655,'Bug 49655  ExpressionFactoryImpl.createMethodExpression() is not EL 2.2 Spec conform','','express factori impl expressionfactoryimpl creat method express createmethodexpress spec conform','express factori impl expressionfactoryimpl creat method express createmethodexpress spec conform','','2010-07-27 10:32:48',1280240000,'resolved fixed','96a99ce',1280700000,'test/org/apache/el/TestMethodExpressionImpl.java'),(627,49407,'Bug 49407  backup manager reports too few current sessions','With 100 sessions shared across 4 nodes (i.e. 25 active sessions per node), the delta manager reports 100 current sessions per node (25 active and the copies of the sessions from the other nodes). The back manager reports 25. For consistency it should report 50. The 25 active sessions plus the 25 (or so) that are backed up on that node.','backup manag report current session session share across node activ session node delta manag report current session node activ copi session node back manag report consist report activ session plu back node','backup manag report current session','session share across node activ session node delta manag report current session node activ copi session node back manag report consist report activ session plu back node','2010-06-08 15:58:58',1276030000,'resolved fixed','d21b105',1280430000,'java/org/apache/catalina/session/ManagerBase.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(628,49613,'Bug 49613  Request.getAttributeNames() slows down some applications','','request get attribut name getattributenam slow applic','request get attribut name getattributenam slow applic','','2010-07-19 06:23:09',1279530000,'resolved fixed','5f1ad13',1279810000,'java/org/apache/catalina/connector/Request.java'),(629,49567,'Bug 49567  when starting a new thread from a startAsync Runnable, an infinite amount of doPosts is generated','','start new thread start async startasync runnabl infinit amount do post dopost gener','start new thread start async startasync runnabl infinit amount do post dopost gener','','2010-07-07 09:22:22',1278510000,'resolved fixed','2357fb5',1279790000,'java/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/core/AsyncContextImpl.java\njava/org/apache/coyote/http11/Http11Processor.java\ntest/org/apache/catalina/core/TestAsyncContextImpl.java'),(630,49617,'Bug 49617  Fix ExpiresFilter docs (remove remaining ExpiresActive reference)','Remove the last references to the removed configuration parameter ExpiresActive.','fix expir filter expiresfilt doc remov remain expir activ expiresact refer remov last refer remov configur paramet expir activ expiresact','fix expir filter expiresfilt doc remov remain expir activ expiresact refer','remov last refer remov configur paramet expir activ expiresact','2010-07-19 17:44:38',1279580000,'resolved fixed','dfbd8aa',1279730000,'java/org/apache/catalina/filters/ExpiresFilter.java\ntest/org/apache/catalina/filters/TestExpiresFilter.java'),(631,48998,'Bug 48998  Proposal : port mod_expires in java as ExpiresFilter Servlet Filter','','propos port expir java expir filter expiresfilt servlet filter','propos port expir java expir filter expiresfilt servlet filter','','2010-03-26 16:38:18',1269640000,'resolved fixed','7963a16',1279150000,'java/org/apache/catalina/filters/ExpiresFilter.java\ntest/org/apache/catalina/filters/TestExpiresFilter.java'),(632,49127,'Bug 49127  SimpleTcpReplicationManager.startInternal() ignores Exception','ha.session.SimpleTcpReplicationManager.startInternal() ignores Exception when invoking Thread.sleep() - it only needs to ignore InterruptedException.','simpl tcp replic manag simpletcpreplicationmanag start intern startintern ignor except session simpl tcp replic manag simpletcpreplicationmanag start intern startintern ignor except invok thread sleep need ignor interrupt except interruptedexcept','simpl tcp replic manag simpletcpreplicationmanag start intern startintern ignor except','session simpl tcp replic manag simpletcpreplicationmanag start intern startintern ignor except invok thread sleep need ignor interrupt except interruptedexcept','2010-04-14 19:05:06',1271290000,'resolved fixed','eca4ed9',1279140000,'java/org/apache/catalina/ha/session/SimpleTcpReplicationManager.java'),(633,49128,'Bug 49128  loader.WebappClassLoader.start() ignores Exception','catalina.loader.WebappClassLoader.start() ignores Exception.\n\nHowever, it probably only needs to ignore SecurityException','loader webapp class loader webappclassload start ignor except catalina loader webapp class loader webappclassload start ignor except howev probabl need ignor secur except securityexcept','loader webapp class loader webappclassload start ignor except','catalina loader webapp class loader webappclassload start ignor except howev probabl need ignor secur except securityexcept','2010-04-14 19:06:21',1271290000,'resolved fixed','e8245ef',1279140000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(634,48960,'Bug 48960  SSI Servlet should support safe configuration','The current configuration of the SSI module is \"All\" or \"None\". The \"ALL\" option will expose all the legacy Apache SSI directive (echo, printenv, if, exec, ...). As documented, allowing SSI will allow execution of arbitrary programs using the \"exec\". As a result, there is no safe way to expose sites/projects containing SSI directive, without taking a security risk, or reviewing of every file.\n\nThe \"exec\" directive, with the cmd option is a major risk. Even for Apache, you have the option to allowing the \"safe\" include (includeNoExec). The includeNoExec allow pages to be served, even when the content is not reviewed, or when users are allowed to upload content to the site.\n\nI have a big site which need to be converted into JSP. I would like to use the SSI servlet to allow for transition over time. The extra risk from ( from exec cmd) make it impossible to deploy the SSI.\n\nMy request: Modify the configuration of SSI as follow: By default, it will only allow \"safe\" directive (no exec cmd=...). This will eliminate the risk from arbitrary execution of commands (\"del *.*\"). It will also remove many potentail load problems. The cmd= should only be allowed using a directive like \"allowUnsafeExec\", which will default to false.\n\nI think that the change will make it easier to use the SSI feature, without exposing the server to big risk. The risk associated with the \"safer\" version of SSI is similar to the risk from running JSP pages.','ssi servlet support safe configur current configur ssi modul none option expos legaci apach ssi direct echo printenv exec document allow ssi allow execut arbitrari program use exec result safe way expos site project contain ssi direct without take secur risk review everi file exec direct cmd option major risk even apach option allow safe includ includ no exec includenoexec includ no exec includenoexec allow page serv even content review user allow upload content site big site need convert jsp would like use ssi servlet allow transit time extra risk exec cmd make imposs deploy ssi request modifi configur ssi follow default allow safe direct exec cmd elimin risk arbitrari execut command remov mani potentail load problem cmd allow use direct like allow unsaf exec allowunsafeexec default fals think chang make easier use ssi featur without expos server big risk risk associ safer version ssi similar risk run jsp page','ssi servlet support safe configur','current configur ssi modul none option expos legaci apach ssi direct echo printenv exec document allow ssi allow execut arbitrari program use exec result safe way expos site project contain ssi direct without take secur risk review everi file exec direct cmd option major risk even apach option allow safe includ includ no exec includenoexec includ no exec includenoexec allow page serv even content review user allow upload content site big site need convert jsp would like use ssi servlet allow transit time extra risk exec cmd make imposs deploy ssi request modifi configur ssi follow default allow safe direct exec cmd elimin risk arbitrari execut command remov mani potentail load problem cmd allow use direct like allow unsaf exec allowunsafeexec default fals think chang make easier use ssi featur without expos server big risk risk associ safer version ssi similar risk run jsp page','2010-03-22 16:37:48',1269290000,'resolved fixed','a36b0c0',1279060000,'java/org/apache/catalina/ssi/SSIFilter.java\njava/org/apache/catalina/ssi/SSIProcessor.java\njava/org/apache/catalina/ssi/SSIServlet.java'),(635,49442,'Bug 49442  Make StringManager fields final','','make string manag stringmanag field final','make string manag stringmanag field final','','2010-06-15 05:41:37',1276590000,'resolved fixed','4159093',1278800000,'java/org/apache/tomcat/util/res/StringManager.java'),(636,49478,'Bug 49478  Add encoding parameter to AddDefaultCharSetFilter','AddDefaultCharSetFilter adds a default charset to each request. It assumes ISO-8859-1 as the default charset.\n\nThe attached patch makes it configurable by introducing an \"encoding\" parameter. This parameter can take one of two special values \"default\" or \"system\". Every other value will be interpreted as a name of an character set, e.g \"utf-8\".\n\nThe meaning of the two special values are as follows:\n\n default: use ISO-8859-1. This value will also be used, if no parameter was specified, or if it is empty\n\n system: the jvm will be asked for the default charset. This charset will usually be set by system locale.\n\nTogether with this functional change, there are two minor changes and one bigger changes hidden. First use of annotation \"Override\" at overriden methods. Second use of keyword \"static\" for the ResponseWrapper, since it has no reference to outer class. The third and somewhat bigger change is use of HttpServletResponse#setCharacterEncoding(encoding) instead of manipulating the content-type.','add encod paramet add default char set filter adddefaultcharsetfilt add default char set filter adddefaultcharsetfilt add default charset request assum iso default charset attach patch make configur introduc encod paramet paramet take one two special valu default system everi valu interpret name charact set utf mean two special valu follow default use iso valu use paramet specifi empti system jvm ask default charset charset usual set system local togeth function chang two minor chang one bigger chang hidden first use annot overrid overriden method second use keyword static respons wrapper responsewrapp sinc refer outer class third somewhat bigger chang use http servlet respons httpservletrespons set charact encod setcharacterencod encod instead manipul content type contenttyp','add encod paramet add default char set filter adddefaultcharsetfilt','add default char set filter adddefaultcharsetfilt add default charset request assum iso default charset attach patch make configur introduc encod paramet paramet take one two special valu default system everi valu interpret name charact set utf mean two special valu follow default use iso valu use paramet specifi empti system jvm ask default charset charset usual set system local togeth function chang two minor chang one bigger chang hidden first use annot overrid overriden method second use keyword static respons wrapper responsewrapp sinc refer outer class third somewhat bigger chang use http servlet respons httpservletrespons set charact encod setcharacterencod encod instead manipul content type contenttyp','2010-06-21 05:43:57',1277110000,'resolved fixed','d6766f1',1278800000,'java/org/apache/catalina/filters/AddDefaultCharsetFilter.java\ntest/org/apache/catalina/filters/TestAddCharSetFilter.java'),(637,49570,'Bug 49570  The CompressionFilter example should support HTTP proxies to cache gzipped content better by sending Vary: Accept-Encoding header','','compress filter compressionfilt exampl support http proxi cach gzip content better send vari accept encod header','compress filter compressionfilt exampl support http proxi cach gzip content better send vari accept encod header','','2010-07-08 02:11:36',1278570000,'resolved fixed','c191152',1278780000,'webapps/examples/WEB-INF/classes/compressionFilters/CompressionResponseStream.java'),(638,49503,'Bug 49503  Connectors do not bind to their ports in Catalina.load(), but only later in start()','','connector bind port catalina load later start','connector bind port catalina load later start','','2010-06-25 11:22:41',1277480000,'resolved fixed','a90b576',1278600000,'java/org/apache/catalina/connector/Connector.java'),(639,49551,'Bug 49551  When setting absolute path to default context.xml, in ContextConfig.contextConfig() it cannot be found','','set absolut path default context xml context config contextconfig context config contextconfig cannot found','set absolut path default context xml context config contextconfig context config contextconfig cannot found','','2010-07-05 07:41:23',1278330000,'resolved fixed','dca6dd1',1278360000,'java/org/apache/catalina/startup/ContextConfig.java'),(640,49550,'Bug 49550  [PATCH] Response class fix isSpace (deprecated) => isWhiteSpace','','patch respons class fix is space isspac deprec is white space iswhitespac','patch respons class fix is space isspac deprec is white space iswhitespac','','2010-07-05 07:23:31',1278330000,'resolved fixed','7b9630b',1278360000,'java/org/apache/catalina/connector/Response.java'),(641,49530,'Bug 49530  Context is not correctly stopped at shutdown','','context correctli stop shutdown','context correctli stop shutdown','','2010-06-30 10:08:43',1277910000,'resolved fixed','3bd4bcb',1278090000,'java/org/apache/catalina/core/ContainerBase.java'),(642,49536,'Bug 49536  If no webapps deployed, accessing a URL returns 200 OK with no content instead of 404','','webapp deploy access url return ok content instead','webapp deploy access url return ok content instead','','2010-07-01 04:07:11',1277970000,'resolved fixed','4e34898',1278020000,'java/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/catalina/connector/MapperListener.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/tomcat/util/http/mapper/Mapper.java'),(643,49525,'Bug 49525  IE8: Unabled to store data in HttpSession (root context)','Environment:\n\nTomcat 7.0.0 Beta\nIE8\n\nA simplest webapp only have a test.jsp below:\n\n<%=request.getSession().getId()%>\n\nthis app installed as root context\n\nthe test.jsp works fine in firefox\n\nbut when using IE8\n\nthere is always a different session id where refresh the test page.\n\nBTW: the test.jsp works find in Tomcat 6.x','e8 ie8 unabl store data http session httpsession root context environ tomcat beta e8 ie8 simplest webapp jsp request get session getsess get id getid app instal root context jsp work fine firefox use e8 ie8 alway differ session id refresh page btw jsp work find tomcat','e8 ie8 unabl store data http session httpsession root context','environ tomcat beta e8 ie8 simplest webapp jsp request get session getsess get id getid app instal root context jsp work fine firefox use e8 ie8 alway differ session id refresh page btw jsp work find tomcat','2010-06-29 22:22:03',1277860000,'resolved fixed','0b8a9a8',1278010000,'java/org/apache/catalina/core/ApplicationSessionCookieConfig.java'),(644,49522,'Bug 49522  Complete Server status (status/all) causes stack trace','type Exception report\n\nmessage\n\ndescription The server encountered an internal error () that prevented it from fulfilling this request.\n\nexception\n\njavax.servlet.ServletException: javax.management.AttributeNotFoundException:  Cannot find attribute startTime for org.apache.catalina.deploy.NamingResources@d1c778\n	org.apache.catalina.manager.StatusManagerServlet.doGet(StatusManagerServlet.java:292)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n\nroot cause\n\njavax.management.AttributeNotFoundException:  Cannot find attribute startTime for org.apache.catalina.deploy.NamingResources@d1c778\n	org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:493)\n	org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:180)\n	com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666)\n	com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638)\n	org.apache.catalina.manager.StatusTransformer.writeContext(StatusTransformer.java:656)\n	org.apache.catalina.manager.StatusTransformer.writeDetailedState(StatusTransformer.java:590)\n	org.apache.catalina.manager.StatusManagerServlet.doGet(StatusManagerServlet.java:287)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:722)','complet server statu statu caus stack trace type except report messag descript server encount intern error prevent fulfil request except javax servlet servlet except servletexcept javax manag attribut not found except attributenotfoundexcept cannot find attribut start time starttim apach catalina deploy name resourc namingresourc d1c778 apach catalina manag statu manag servlet statusmanagerservlet do get doget statu manag servlet statusmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java root caus javax manag attribut not found except attributenotfoundexcept cannot find attribut start time starttim apach catalina deploy name resourc namingresourc d1c778 apach tomcat util model manag bean managedbean get getter getgett manag bean managedbean java apach tomcat util model base model bean basemodelmbean get attribut getattribut base model bean basemodelmbean java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor get attribut getattribut default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv get attribut getattribut jmx bean server jmxmbeanserv java apach catalina manag statu transform statustransform write context writecontext statu transform statustransform java apach catalina manag statu transform statustransform write detail state writedetailedst statu transform statustransform java apach catalina manag statu manag servlet statusmanagerservlet do get doget statu manag servlet statusmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java','complet server statu statu caus stack trace','type except report messag descript server encount intern error prevent fulfil request except javax servlet servlet except servletexcept javax manag attribut not found except attributenotfoundexcept cannot find attribut start time starttim apach catalina deploy name resourc namingresourc d1c778 apach catalina manag statu manag servlet statusmanagerservlet do get doget statu manag servlet statusmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java root caus javax manag attribut not found except attributenotfoundexcept cannot find attribut start time starttim apach catalina deploy name resourc namingresourc d1c778 apach tomcat util model manag bean managedbean get getter getgett manag bean managedbean java apach tomcat util model base model bean basemodelmbean get attribut getattribut base model bean basemodelmbean java sun jmx interceptor default bean server interceptor defaultmbeanserverinterceptor get attribut getattribut default bean server interceptor defaultmbeanserverinterceptor java sun jmx mbeanserv jmx bean server jmxmbeanserv get attribut getattribut jmx bean server jmxmbeanserv java apach catalina manag statu transform statustransform write context writecontext statu transform statustransform java apach catalina manag statu transform statustransform write detail state writedetailedst statu transform statustransform java apach catalina manag statu manag servlet statusmanagerservlet do get doget statu manag servlet statusmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java','2010-06-29 10:41:51',1277820000,'resolved fixed','3c88f07',1278010000,'java/org/apache/catalina/core/StandardContext.java'),(645,49476,'Bug 49476  Cannot expire selected session in Manager webapp','','cannot expir select session manag webapp','cannot expir select session manag webapp','','2010-06-20 11:47:00',1277050000,'resolved fixed','a0159a3',1277370000,'java/org/apache/catalina/filters/CsrfPreventionFilter.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java'),(646,49443,'Bug 49443  RemoteIpValve : remoteIpHeader vs remoteIPHeader','','remot ip valv remoteipvalv remot ip header remoteiphead v remot header remoteiphead','remot ip valv remoteipvalv remot ip header remoteiphead v remot header remoteiphead','','2010-06-15 07:38:37',1276600000,'resolved fixed','27091e7',1276860000,'java/org/apache/catalina/filters/RemoteIpFilter.java\njava/org/apache/catalina/valves/RemoteIpValve.java'),(647,49445,'Bug 49445  After session ID is changed on authentication, the session replication does not work.','After r889716, \nsession ID is changed on authentication. \n(default of changeSessionIdOnAuthentication is true. )\nBut DeltaManager doesn\'t notify other cluster nodes. \n\nTherefore, non-primary node keeps having old session ID. \nAnd, can not replicate of change of session attribute notified by new session ID. \n\nThe workaround is ...\noverride changeSessionId method, and notify to change session ID.\n\nBackupManager is OK. \nThis problem is DeltaManager only.\n\nBest regards.','session id chang authent session replic work r889716 session id chang authent default chang session id on authent changesessionidonauthent true delta manag deltamanag doesn notifi cluster node therefor non primari nonprimari node keep old session id replic chang session attribut notifi new session id workaround overrid chang session id changesessionid method notifi chang session id backup manag backupmanag ok problem delta manag deltamanag best regard','session id chang authent session replic work','r889716 session id chang authent default chang session id on authent changesessionidonauthent true delta manag deltamanag doesn notifi cluster node therefor non primari nonprimari node keep old session id replic chang session attribut notifi new session id workaround overrid chang session id changesessionid method notifi chang session id backup manag backupmanag ok problem delta manag deltamanag best regard','2010-06-16 05:08:02',1276680000,'resolved fixed','4f990f1',1276690000,'java/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/ha/session/SessionMessage.java\njava/org/apache/catalina/ha/session/SessionMessageImpl.java'),(648,49376,'Bug 49376  Minor corrections to info properties.','The static info properties appear to contain legacy packages.','minor correct info properti static info properti appear contain legaci packag','minor correct info properti','static info properti appear contain legaci packag','2010-06-03 07:33:13',1275560000,'resolved fixed','e119b5b',1275860000,'java/org/apache/catalina/ha/authenticator/ClusterSingleSignOn.java\njava/org/apache/catalina/ha/authenticator/ClusterSingleSignOnListener.java\njava/org/apache/catalina/ha/session/ClusterSessionListener.java'),(649,48971,'Bug 48971  memory leak protection : stopping TimeThreads should be optional and disabled by default','','memori leak protect stop time thread timethread option disabl default','memori leak protect stop time thread timethread option disabl default','','2010-03-23 22:56:08',1269400000,'resolved fixed','ac8a5ba',1275410000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/catalina/loader/WebappLoader.java'),(650,49360,'Bug 49360  Context class reload fails for PersistentManager','On context class reload tomcat fails with\n\nLifecycleException:  An invalid Lifecycle transition was attempted ([before_start]) for component [org.apache.catalina.session.PersistentManager[/xxx]] in state [DESTROYED]','context class reload fail persist manag persistentmanag context class reload tomcat fail lifecycl except lifecycleexcept invalid lifecycl transit attempt start compon apach catalina session persist manag persistentmanag xxx state destroy','context class reload fail persist manag persistentmanag','context class reload tomcat fail lifecycl except lifecycleexcept invalid lifecycl transit attempt start compon apach catalina session persist manag persistentmanag xxx state destroy','2010-05-29 17:45:06',1275170000,'resolved fixed','ac22dd8',1275330000,'java/org/apache/catalina/ha/session/BackupManager.java\njava/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/session/PersistentManagerBase.java'),(651,49340,'Bug 49340  Webapp unavailable after deploy then stop then start','Occurs with tomcat 7.0 RC3 but not with 6.0.26\n\nUsing the manager/html :\n\n- deploy a war\n- test one of its page, it should be deployed properly\n- stop the webapp\n- start the webapp\n- test one of its page : FAILURE : tomcat returns a 404.\n\nNotes :\n- if using \"reload\" instead of stop/start it\'s OK, but it does not fix the unavailability\n- if the webapp is present when tomcat is started, then the stop/start works normally\n- The work around is to undeploy the webapp and redeploy it.','webapp unavail deploy stop start occur tomcat c3 rc3 use manag html deploy one page deploy properli stop webapp start webapp one page failur tomcat return note use reload instead stop start ok fix unavail webapp present tomcat start stop start work normal work around undeploy webapp redeploy','webapp unavail deploy stop start','occur tomcat c3 rc3 use manag html deploy one page deploy properli stop webapp start webapp one page failur tomcat return note use reload instead stop start ok fix unavail webapp present tomcat start stop start work normal work around undeploy webapp redeploy','2010-05-25 17:45:19',1274820000,'resolved fixed','0f669e3',1275080000,'java/org/apache/catalina/connector/MapperListener.java'),(652,49299,'Bug 49299  Servlet 3.0 ch.7.1.1 says that custom cookie name affects URL rewriting','','servlet ch say custom cooki name affect url rewrit','servlet ch say custom cooki name affect url rewrit','','2010-05-15 17:38:08',1273960000,'resolved fixed','9369636',1274050000,'java/org/apache/catalina/Globals.java\njava/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/connector/Response.java\njava/org/apache/catalina/core/ApplicationSessionCookieConfig.java\njava/org/apache/catalina/realm/RealmBase.java\ntest/org/apache/catalina/connector/TestCoyoteAdaptor.java'),(653,49290,'Bug 49290  Using a JarScanner with scanAllDirectories=true causes Tomcat 7 not to start','','use jar scanner jarscann scan all directori scanalldirectori true caus tomcat start','use jar scanner jarscann scan all directori scanalldirectori true caus tomcat start','','2010-05-14 10:26:11',1273850000,'resolved fixed','a7b96d0',1273960000,'java/org/apache/catalina/startup/ContextConfig.java'),(654,49221,'Bug 49221  javax.servlet.http.Cookie.setDomain uses default charset','javax.servlet.http.Cookie.setDomain(String pattern)\nhas the following code:\n\ndomain = pattern.toLowerCase();\n\nThe result of this depends on the default Locale; it would be safer to use a fixed locale, e.g. Local.ENGLISH.','javax servlet http cooki set domain setdomain us default charset javax servlet http cooki set domain setdomain string pattern follow code domain pattern to lower case tolowercas result depend default local would safer use fix local local english','javax servlet http cooki set domain setdomain us default charset','javax servlet http cooki set domain setdomain string pattern follow code domain pattern to lower case tolowercas result depend default local would safer use fix local local english','2010-04-29 09:40:27',1272550000,'resolved fixed','05810ee',1273660000,'java/javax/servlet/http/Cookie.java'),(655,49224,'Bug 49224  NullPointerException in PooledConnection when username or password are null','I\'m using jdbc-pool (version 1.0.8.5) to connect to a DataSource requiring no authentication.  Unless I explicitly set the username and password in the PoolProperties object to empty String (as opposed to leaving them null), a NullPointerException is thrown on lines 215 or 216 of PooledConnection.connectUsingDriver().','null pointer except nullpointerexcept pool connect pooledconnect usernam password null use jdbc pool jdbcpool version connect data sourc datasourc requir authent unless explicitli set usernam password pool properti poolproperti object empti string oppos leav null null pointer except nullpointerexcept thrown line pool connect pooledconnect connect use driver connectusingdriv','null pointer except nullpointerexcept pool connect pooledconnect usernam password null','use jdbc pool jdbcpool version connect data sourc datasourc requir authent unless explicitli set usernam password pool properti poolproperti object empti string oppos leav null null pointer except nullpointerexcept thrown line pool connect pooledconnect connect use driver connectusingdriv','2010-04-29 11:15:49',1272550000,'resolved fixed','4fff6c0',1273660000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PooledConnection.java'),(656,49226,'Bug 49226  toLowerCase()/toUpperCase() may not work OK in all Locales','','to lower case tolowercas to upper case touppercas may work ok local','to lower case tolowercas to upper case touppercas may work ok local','','2010-04-29 11:29:18',1272560000,'resolved fixed','5ad9ecd',1273610000,'java/org/apache/catalina/core/ApplicationPart.java\njava/org/apache/catalina/core/StandardEngine.java\njava/org/apache/catalina/core/StandardHost.java\njava/org/apache/catalina/deploy/FilterMap.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/manager/util/SessionUtils.java\njava/org/apache/catalina/servlets/CGIServlet.java\njava/org/apache/catalina/servlets/WebdavServlet.java\njava/org/apache/catalina/ssi/ResponseIncludeWrapper.java\njava/org/apache/catalina/ssi/SSIMediator.java\njava/org/apache/catalina/ssi/SSIProcessor.java\njava/org/apache/catalina/ssi/SSIServlet.java\njava/org/apache/catalina/ssi/SSIServletExternalResolver.java\njava/org/apache/catalina/startup/ClassLoaderFactory.java\njava/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/startup/HostConfig.java\njava/org/apache/catalina/util/ExtensionValidator.java\njava/org/apache/catalina/util/MIME2Java.java\njava/org/apache/tomcat/util/buf/MessageBytes.java\njava/org/apache/tomcat/util/http/AcceptLanguage.java\njava/org/apache/tomcat/util/http/fileupload/FileItemHeadersImpl.java\njava/org/apache/tomcat/util/http/fileupload/FileUploadBase.java\njava/org/apache/tomcat/util/http/fileupload/ParameterParser.java\njava/org/apache/tomcat/util/http/fileupload/ServletFileUpload.java\njava/org/apache/tomcat/util/modeler/OperationInfo.java\njava/org/apache/tomcat/util/net/URL.java\njava/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java\nwebapps/examples/WEB-INF/classes/examples/ShowSource.java\nwebapps/examples/WEB-INF/classes/jsp2/examples/el/Functions.java'),(657,49227,'Bug 49227  toLowerCase()/toUpperCase() may not work OK in all Locales','','to lower case tolowercas to upper case touppercas may work ok local','to lower case tolowercas to upper case touppercas may work ok local','','2010-04-29 11:30:31',1272560000,'resolved fixed','09abffb',1273610000,'java/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java'),(658,49228,'Bug 49228  toLowerCase()/toUpperCase() may not work OK in all Locales','','to lower case tolowercas to upper case touppercas may work ok local','to lower case tolowercas to upper case touppercas may work ok local','','2010-04-29 11:31:40',1272560000,'resolved fixed','a954806',1273590000,'java/org/apache/jasper/compiler/Validator.java\njava/org/apache/jasper/tagplugins/jstl/Util.java'),(659,49235,'Bug 49235  ServletContainerInitializer onStartup(Set<Class<?>> classSet is not expect class','','servlet contain initi servletcontaineriniti on startup onstartup set class class set classset expect class','servlet contain initi servletcontaineriniti on startup onstartup set class class set classset expect class','','2010-04-30 03:08:29',1272610000,'resolved fixed','4a581aa',1273590000,'java/org/apache/catalina/startup/ContextConfig.java'),(660,49240,'Bug 49240  Error thrown during detection of ServletContainerInitializer\'s','ContextConfig.checkHandlesTypes() throws a NoClassDefFoundError, which isn\'t caught, when the class being analysed is initialised if the class, or a class that it references(?), is not present in the classpath.\n\nE.g. When a mysql connector/j jar (v5.x) is scanned, an attempt to load the following class occurs: com.mchange.v2.c3p0.QueryConnectionTester\n\njava.lang.NoClassDefFoundError: com/mchange/v2/c3p0/QueryConnectionTester\n	at java.lang.ClassLoader.defineClass1(Native Method)\n	at java.lang.ClassLoader.defineClass(ClassLoader.java:698)\n	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)\n	at java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\n	at java.net.URLClassLoader.access$000(URLClassLoader.java:56)\n	at java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:315)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:250)\n	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398)\n	at java.lang.Class.forName0(Native Method)\n	at java.lang.Class.forName(Class.java:247)\n\nAlso Class.forName is used here, referencing the WebappClassLoader, instead of calling WebappClassLoader.loadClass() directly.','error thrown detect servlet contain initi servletcontaineriniti context config contextconfig check handl type checkhandlestyp throw no class def found error noclassdeffounderror isn caught class analys initialis class class refer present classpath mysql connector jar v5 scan attempt load follow class occur mchang v2 c3p0 queri connect tester queryconnectiontest java lang no class def found error noclassdeffounderror mchang v2 c3p0 queri connect tester queryconnectiontest java lang class loader classload defin class1 defineclass1 nativ method java lang class loader classload defin class defineclass class loader classload java java secur secur class loader secureclassload defin class defineclass secur class loader secureclassload java java net class loader urlclassload defin class defineclass class loader urlclassload java java net class loader urlclassload access class loader urlclassload java java net class loader urlclassload run class loader urlclassload java java secur access control accesscontrol do privileg doprivileg nativ method java net class loader urlclassload find class findclass class loader urlclassload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class intern loadclassintern class loader classload java java lang class for name0 forname0 nativ method java lang class for name fornam class java class for name fornam use referenc webapp class loader webappclassload instead call webapp class loader webappclassload load class loadclass directli','error thrown detect servlet contain initi servletcontaineriniti','context config contextconfig check handl type checkhandlestyp throw no class def found error noclassdeffounderror isn caught class analys initialis class class refer present classpath mysql connector jar v5 scan attempt load follow class occur mchang v2 c3p0 queri connect tester queryconnectiontest java lang no class def found error noclassdeffounderror mchang v2 c3p0 queri connect tester queryconnectiontest java lang class loader classload defin class1 defineclass1 nativ method java lang class loader classload defin class defineclass class loader classload java java secur secur class loader secureclassload defin class defineclass secur class loader secureclassload java java net class loader urlclassload defin class defineclass class loader urlclassload java java net class loader urlclassload access class loader urlclassload java java net class loader urlclassload run class loader urlclassload java java secur access control accesscontrol do privileg doprivileg nativ method java net class loader urlclassload find class findclass class loader urlclassload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class loadclass class loader classload java java lang class loader classload load class intern loadclassintern class loader classload java java lang class for name0 forname0 nativ method java lang class for name fornam class java class for name fornam use referenc webapp class loader webappclassload instead call webapp class loader webappclassload load class loadclass directli','2010-05-01 07:46:16',1272710000,'resolved fixed','f24ed2d',1273570000,'java/org/apache/catalina/startup/ContextConfig.java'),(661,49269,'Bug 49269  Shouldn\'t see maxIdle > maxActive message with default props','In PoolProperties, the default value for maxIdle is Integer.MAX_VALUE and the default for maxActive is 100.  This results in a warning message being logged and the value for maxIdle set to match maxActive on lines 393/394 of ConnectionPool.  The default for maxIdle should match that of maxActive.','shouldn see max idl maxidl max activ maxact messag default prop pool properti poolproperti default valu max idl maxidl integ max valu default max activ maxact result warn messag log valu max idl maxidl set match max activ maxact line connect pool connectionpool default max idl maxidl match max activ maxact','shouldn see max idl maxidl max activ maxact messag default prop','pool properti poolproperti default valu max idl maxidl integ max valu default max activ maxact result warn messag log valu max idl maxidl set match max activ maxact line connect pool connectionpool default max idl maxidl match max activ maxact','2010-05-10 14:32:07',1273520000,'resolved fixed','27a3909',1273560000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PoolProperties.java'),(662,49241,'Bug 49241  DataSourceFactory.parsePoolProperties() doesn\'t look for \"suspectTimeout\"','If you call the DataSourceFactory.parsePoolProperties() method, passing in a Properties object with the \"suspectTimeout\" property set, that key/value pair is never passed on to the PoolProperties.setSuspectTimeout() method.','data sourc factori datasourcefactori pars pool properti parsepoolproperti doesn look suspect timeout suspecttimeout call data sourc factori datasourcefactori pars pool properti parsepoolproperti method pass properti object suspect timeout suspecttimeout properti set key valu pair never pass pool properti poolproperti set suspect timeout setsuspecttimeout method','data sourc factori datasourcefactori pars pool properti parsepoolproperti doesn look suspect timeout suspecttimeout','call data sourc factori datasourcefactori pars pool properti parsepoolproperti method pass properti object suspect timeout suspecttimeout properti set key valu pair never pass pool properti poolproperti set suspect timeout setsuspecttimeout method','2010-05-01 21:01:46',1272760000,'resolved fixed','b75b021',1272910000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/DataSourceFactory.java'),(663,49092,'Bug 49092  util.IntrospectionUtils.PATH_SEPARATOR should be final','The field\n\norg.apache.tomcat.util.IntrospectionUtils.PATH_SEPARATOR\n\nshould be final.','util introspect util introspectionutil path separ final field apach tomcat util introspect util introspectionutil path separ final','util introspect util introspectionutil path separ final','field apach tomcat util introspect util introspectionutil path separ final','2010-04-11 22:37:12',1271040000,'resolved fixed','616bd68',1272730000,'test/org/apache/catalina/tribes/demos/IntrospectionUtils.java'),(664,49207,'Bug 49207  Filter name not set when dynamically added','When dynamically adding a Filter the name is not set when calling the method \"addMappingForUrlPatterns\" in ApplicationFilterRegistration.java.\n\njava.lang.IllegalArgumentException: Filter mapping specifies an unknown\nfilter name null\n	at\norg.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:2650)\n	at\norg.apache.catalina.core.StandardContext.addFilterMapBefore(StandardContext.java:2622)\n	at\norg.apache.catalina.core.ApplicationFilterRegistration.addMappingForUrlPatterns(ApplicationFilterRegistration.java:102)\n	at\norg.pidster.tomcat.test7.dyn.TestDynamicsListener.contextInitialized(TestDynamicsListener.java:105)','filter name set dynam ad dynam ad filter name set call method add map for url pattern addmappingforurlpattern applic filter registr applicationfilterregistr java java lang illeg argument except illegalargumentexcept filter map specifi unknown filter name null apach catalina core standard context standardcontext valid filter map validatefiltermap standard context standardcontext java apach catalina core standard context standardcontext add filter map befor addfiltermapbefor standard context standardcontext java apach catalina core applic filter registr applicationfilterregistr add map for url pattern addmappingforurlpattern applic filter registr applicationfilterregistr java pidster tomcat test7 dyn test dynam listen testdynamicslisten context initi contextiniti test dynam listen testdynamicslisten java','filter name set dynam ad','dynam ad filter name set call method add map for url pattern addmappingforurlpattern applic filter registr applicationfilterregistr java java lang illeg argument except illegalargumentexcept filter map specifi unknown filter name null apach catalina core standard context standardcontext valid filter map validatefiltermap standard context standardcontext java apach catalina core standard context standardcontext add filter map befor addfiltermapbefor standard context standardcontext java apach catalina core applic filter registr applicationfilterregistr add map for url pattern addmappingforurlpattern applic filter registr applicationfilterregistr java pidster tomcat test7 dyn test dynam listen testdynamicslisten context initi contextiniti test dynam listen testdynamicslisten java','2010-04-28 05:40:52',1272450000,'resolved fixed','3396917',1272470000,'java/org/apache/catalina/core/ApplicationFilterRegistration.java'),(665,49184,'Bug 49184  Index out of bounds exception thrown when dynamically adding Filter','When dynamically adding a filter to a context an exception is thrown.\n\njava.lang.ArrayIndexOutOfBoundsException\n	at java.lang.System.arraycopy(Native Method)\n	at org.apache.catalina.core.StandardContext.addFilterMapBefore(StandardContext.java:2629)\n	at org.apache.catalina.core.ApplicationFilterRegistration.addMappingForServletNames(ApplicationFilterRegistration.java:75)','index bound except thrown dynam ad filter dynam ad filter context except thrown java lang array index out of bound except arrayindexoutofboundsexcept java lang system arraycopi nativ method apach catalina core standard context standardcontext add filter map befor addfiltermapbefor standard context standardcontext java apach catalina core applic filter registr applicationfilterregistr add map for servlet name addmappingforservletnam applic filter registr applicationfilterregistr java','index bound except thrown dynam ad filter','dynam ad filter context except thrown java lang array index out of bound except arrayindexoutofboundsexcept java lang system arraycopi nativ method apach catalina core standard context standardcontext add filter map befor addfiltermapbefor standard context standardcontext java apach catalina core applic filter registr applicationfilterregistr add map for servlet name addmappingforservletnam applic filter registr applicationfilterregistr java','2010-04-25 08:54:34',1272200000,'resolved fixed','3f4a241',1272270000,'java/org/apache/catalina/core/StandardContext.java'),(666,48689,'Bug 48689  Jar abstraction for Jasper','Jasper can load TLD files through the ServletContext or from a Jar file. To load TLDs from Jar file, an URL to a Jar file must be passed. However, in some environments (e.g. in OSGi) it might not be easy to provide an URL to a jar file. It would be nice to abstract the way Jasper is looking up the embedded TLDs so that different ways of looking up TLDs within Jar files or Bundles or whatever could be used.','jar abstract jasper jasper load tld file servlet context servletcontext jar file load tld jar file url jar file must pass howev environ gi osgi might easi provid url jar file would nice abstract way jasper look embed tld differ way look tld within jar file bundl whatev could use','jar abstract jasper','jasper load tld file servlet context servletcontext jar file load tld jar file url jar file must pass howev environ gi osgi might easi provid url jar file would nice abstract way jasper look embed tld differ way look tld within jar file bundl whatev could use','2010-02-05 12:30:40',1265390000,'resolved fixed','efd418b',1272200000,'java/org/apache/jasper/JspCompilationContext.java\njava/org/apache/jasper/compiler/ImplicitTagLibraryInfo.java\njava/org/apache/jasper/compiler/JarResource.java\njava/org/apache/jasper/compiler/JarURLResource.java\njava/org/apache/jasper/compiler/JspDocumentParser.java\njava/org/apache/jasper/compiler/Parser.java\njava/org/apache/jasper/compiler/ParserController.java\njava/org/apache/jasper/compiler/TagFileProcessor.java\njava/org/apache/jasper/compiler/TagLibraryInfoImpl.java\njava/org/apache/jasper/compiler/TldLocation.java\njava/org/apache/jasper/compiler/TldLocationsCache.java\njava/org/apache/jasper/servlet/JspServletWrapper.java'),(667,49140,'Bug 49140  Inefficient use of keySet() iterator in StandardContext.java','','ineffici use key set keyset iter standard context standardcontext java','ineffici use key set keyset iter standard context standardcontext java','','2010-04-16 21:14:48',1271470000,'resolved fixed','b30fc95',1272040000,'java/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/core/ApplicationHttpRequest.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/ha/authenticator/ClusterSingleSignOnListener.java\njava/org/apache/catalina/ha/session/ClusterSessionListener.java\njava/org/apache/catalina/startup/ContextConfig.java'),(668,49143,'Bug 49143  Possible incorrect lazy initialisations','Incorrect lazy initialization of static field:\n\norg.apache.catalina.realm.RealmBase.md5Helper\norg.apache.catalina.session.StandardSession.sessionContext\norg.apache.catalina.startup.TldConfig.noTldJars\norg.apache.catalina.util.ExtensionValidator.containerAvailableExtensions\norg.apache.tomcat.util.modeler.modules.MbeansDescriptorsDigesterSource.digester\n\nfields should probably all be made volatile','possibl incorrect lazi initialis incorrect lazi initi static field apach catalina realm realm base realmbas md5 helper md5helper apach catalina session standard session standardsess session context sessioncontext apach catalina startup tld config tldconfig no tld jar notldjar apach catalina util extens valid extensionvalid contain avail extens containeravailableextens apach tomcat util model modul mbean descriptor digest sourc mbeansdescriptorsdigestersourc digest field probabl made volatil','possibl incorrect lazi initialis','incorrect lazi initi static field apach catalina realm realm base realmbas md5 helper md5helper apach catalina session standard session standardsess session context sessioncontext apach catalina startup tld config tldconfig no tld jar notldjar apach catalina util extens valid extensionvalid contain avail extens containeravailableextens apach tomcat util model modul mbean descriptor digest sourc mbeansdescriptorsdigestersourc digest field probabl made volatil','2010-04-16 21:44:52',1271470000,'resolved fixed','a6092d7',1272030000,'java/org/apache/catalina/realm/RealmBase.java\njava/org/apache/catalina/session/StandardSession.java\njava/org/apache/catalina/startup/TldConfig.java\njava/org/apache/catalina/util/ExtensionValidator.java\njava/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsDigesterSource.java'),(669,49144,'Bug 49144  Incorrect lazy initialization and update of static fields?','Incorrect lazy initialization and update of static fields:\n\norg.apache.catalina.startup.Bootstrap.daemon\norg.apache.catalina.startup.ContextConfig.contextDigester\n\nFindbugs says:\n\nThis method contains an unsynchronized lazy initialization of a static field. After the field is set, the object stored into that location is further updated or accessed. The setting of the field is visible to other threads as soon as it is set. If the futher accesses in the method that set the field serve to initialize the object, then you have a very serious multithreading bug, unless something else prevents any other thread from accessing the stored object until it is fully initialized. \n\nEven if you feel confident that the method is never called by multiple threads, it might be better to not set the static field until the value you are setting it to is fully populated/initialized.','incorrect lazi initi updat static field incorrect lazi initi updat static field apach catalina startup bootstrap daemon apach catalina startup context config contextconfig context digest contextdigest findbug say method contain unsynchron lazi initi static field field set object store locat updat access set field visibl thread soon set futher access method set field serv initi object seriou multithread unless someth els prevent thread access store object fulli initi even feel confid method never call multipl thread might better set static field valu set fulli popul initi','incorrect lazi initi updat static field','incorrect lazi initi updat static field apach catalina startup bootstrap daemon apach catalina startup context config contextconfig context digest contextdigest findbug say method contain unsynchron lazi initi static field field set object store locat updat access set field visibl thread soon set futher access method set field serv initi object seriou multithread unless someth els prevent thread access store object fulli initi even feel confid method never call multipl thread might better set static field valu set fulli popul initi','2010-04-16 21:47:20',1271470000,'resolved fixed','fd7ed83',1272030000,'java/org/apache/catalina/startup/Bootstrap.java'),(670,49164,'Bug 49164  junit test ignores failures in threads','','junit ignor failur thread','junit ignor failur thread','','2010-04-21 14:08:24',1271870000,'resolved fixed','aa758d8',1272030000,'test/org/apache/catalina/tribes/test/interceptors/TestOrderInterceptor.java'),(671,49171,'Bug 49171  Avoid raw type warning in TagSupport','','avoid raw type warn tag support tagsupport','avoid raw type warn tag support tagsupport','','2010-04-22 07:10:06',1271930000,'resolved fixed','8bd4d7a',1272030000,'java/javax/servlet/jsp/tagext/TagSupport.java'),(672,49170,'Bug 49170  Transmission of duplicated session in DeltaManager#handleGET_ALL_SESSIONS.','','transmiss duplic session delta manag deltamanag handl handleget session','transmiss duplic session delta manag deltamanag handl handleget session','','2010-04-22 06:54:01',1271930000,'resolved fixed','f61100d',1271930000,'java/org/apache/catalina/ha/session/DeltaManager.java'),(673,43642,'Bug 43642  Add prestartminSpareThreads attribute for Executor','The attached patch adds the boolean attribute prestartminSpareThreads to the\nExecutor element. This allows the admin to prestart minspareThreads for this\nExecutor during the start of Tomcat. The default value is false which is the old\nbehaviour. A documentation patch for executor.xml can be created if there is\ninterest in committing this patch.','add prestartmin spare thread prestartminsparethread attribut executor attach patch add boolean attribut prestartmin spare thread prestartminsparethread executor element allow admin prestart minspar thread minsparethread executor start tomcat default valu fals old behaviour document patch executor xml creat interest commit patch','add prestartmin spare thread prestartminsparethread attribut executor','attach patch add boolean attribut prestartmin spare thread prestartminsparethread executor element allow admin prestart minspar thread minsparethread executor start tomcat default valu fals old behaviour document patch executor xml creat interest commit patch','2007-10-17 08:00:46',1192620000,'resolved fixed','e7fb8fa',1271850000,'java/org/apache/catalina/core/StandardThreadExecutor.java'),(674,49141,'Bug 49141  Impossible cast in naming.factory.SendMailFactory.getObjectInstance','naming.factory.SendMailFactory.getObjectInstance contains an impossible cast from javax.mail.internet.MimeMessage to javax.mail.internet.MimePart\n\n[Findbugs]','imposs cast name factori send mail factori sendmailfactori get object instanc getobjectinst name factori send mail factori sendmailfactori get object instanc getobjectinst contain imposs cast javax mail internet mime messag mimemessag javax mail internet mime part mimepart findbug','imposs cast name factori send mail factori sendmailfactori get object instanc getobjectinst','name factori send mail factori sendmailfactori get object instanc getobjectinst contain imposs cast javax mail internet mime messag mimemessag javax mail internet mime part mimepart findbug','2010-04-16 21:21:03',1271470000,'resolved fixed','7205c74',1271790000,'java/javax/mail/internet/MimeMessage.java'),(675,49151,'Bug 49151  ClassCastException in BackupManager#stopInternal.','In BackupManager#startInternal,\nWhen constructor of LazyReplicatedMap throws exception, \nsessions is not LazyReplicatedMap.\nActually, AbstractReplicatedMap#init has the possibility of throwing RuntimeException. \n\nIn BackupManager#stopInternal ClassCastException is thrown \nbecause AbstractReplicatedMap#breakdown is executed regardless of the type of sessions. \n\nshould be changed as follows to avoid ClassCastException. \n===\nskip.\nif (sessions instanceof LazyReplicatedMap) {\n    LazyReplicatedMap map = (LazyReplicatedMap)sessions;\n    if ( map!=null ) {\n        map.breakdown();\n    }\n}\nskip.\n===\n\nThis problem exists in Tomcat7.0 and 6.0.\n\nBest Regards.','class cast except classcastexcept backup manag backupmanag stop intern stopintern backup manag backupmanag start intern startintern constructor lazi replic map lazyreplicatedmap throw except session lazi replic map lazyreplicatedmap actual abstract replic map abstractreplicatedmap init possibl throw runtim except runtimeexcept backup manag backupmanag stop intern stopintern class cast except classcastexcept thrown abstract replic map abstractreplicatedmap breakdown execut regardless type session chang follow avoid class cast except classcastexcept skip session instanceof lazi replic map lazyreplicatedmap lazi replic map lazyreplicatedmap map lazi replic map lazyreplicatedmap session map null map breakdown skip problem exist tomcat7 best regard','class cast except classcastexcept backup manag backupmanag stop intern stopintern','backup manag backupmanag start intern startintern constructor lazi replic map lazyreplicatedmap throw except session lazi replic map lazyreplicatedmap actual abstract replic map abstractreplicatedmap init possibl throw runtim except runtimeexcept backup manag backupmanag stop intern stopintern class cast except classcastexcept thrown abstract replic map abstractreplicatedmap breakdown execut regardless type session chang follow avoid class cast except classcastexcept skip session instanceof lazi replic map lazyreplicatedmap lazi replic map lazyreplicatedmap map lazi replic map lazyreplicatedmap session map null map breakdown skip problem exist tomcat7 best regard','2010-04-19 05:02:32',1271670000,'resolved fixed','fcb9861',1271670000,'java/org/apache/catalina/ha/session/BackupManager.java'),(676,49150,'Bug 49150  All primary sessions are deleted at BackupManager#stopInternal.','BackupManager#stopInternal is as follows.\n\n=====\nprotected synchronized void stopInternal() throws LifecycleException {\n\n    super.stopInternal();\n\n    LazyReplicatedMap map = (LazyReplicatedMap)sessions;\n        if ( map!=null ) {\n            map.breakdown();\n        }\n\n        cluster.removeManager(this);\n}\n=====\n\nIn Tomcat 7.0.0 RC1, super#stopInternal() is called first.\nIn StandardManager#stopInternal() of the super class,\nThe session is stored, and expire all active sessions. \n\nStoring session is unnecessary in BackupManager.\nand\nWhen the session expired, the session is deleted from all cluster nodes.\n\nAs a Result,\nAll primary sessions (of own node has) are deleted  from all cluster nodes.\n\nFor instance,\nNode1 : sessionA(primary), sessionB(proxy), sessionC(backup)\nNode2 : sessionA(backup), sessionB(primary), sessionC(proxy)\nNode3 : sessionA(proxy), sessionB(backup), sessionC(primary)\n\nIf Node1 is stopped, it becomes the following. \n\nNode1 : stopped\nNode2 : sessionB(primary), sessionC(backup)\nNode3 : sessionB(backup), sessionC(primary)\n\nsessionA is expired.\nIt should be the following. \n\nNode1 : stopped\nNode2 : sessionA(primary), sessionB(primary), sessionC(backup)\nNode3 : sessionA(backup), sessionB(backup), sessionC(primary)\n\n\nThere is no problem in Tomcat6.0.x, \nbecause it executes super.stop() after LazyReplicatedMap#breakdown() .\n\nI made a patch against trunk.\n\nBest Regards.','primari session delet backup manag backupmanag stop intern stopintern backup manag backupmanag stop intern stopintern follow protect synchron void stop intern stopintern throw lifecycl except lifecycleexcept super stop intern stopintern lazi replic map lazyreplicatedmap map lazi replic map lazyreplicatedmap session map null map breakdown cluster remov manag removemanag tomcat c1 rc1 super stop intern stopintern call first standard manag standardmanag stop intern stopintern super class session store expir activ session store session unnecessari backup manag backupmanag session expir session delet cluster node result primari session node delet cluster node instanc node1 session sessiona primari session sessionb proxi session sessionc backup node2 session sessiona backup session sessionb primari session sessionc proxi node3 session sessiona proxi session sessionb backup session sessionc primari node1 stop becom follow node1 stop node2 session sessionb primari session sessionc backup node3 session sessionb backup session sessionc primari session sessiona expir follow node1 stop node2 session sessiona primari session sessionb primari session sessionc backup node3 session sessiona backup session sessionb backup session sessionc primari problem tomcat6 execut super stop lazi replic map lazyreplicatedmap breakdown made patch trunk best regard','primari session delet backup manag backupmanag stop intern stopintern','backup manag backupmanag stop intern stopintern follow protect synchron void stop intern stopintern throw lifecycl except lifecycleexcept super stop intern stopintern lazi replic map lazyreplicatedmap map lazi replic map lazyreplicatedmap session map null map breakdown cluster remov manag removemanag tomcat c1 rc1 super stop intern stopintern call first standard manag standardmanag stop intern stopintern super class session store expir activ session store session unnecessari backup manag backupmanag session expir session delet cluster node result primari session node delet cluster node instanc node1 session sessiona primari session sessionb proxi session sessionc backup node2 session sessiona backup session sessionb primari session sessionc proxi node3 session sessiona proxi session sessionb backup session sessionc primari node1 stop becom follow node1 stop node2 session sessionb primari session sessionc backup node3 session sessionb backup session sessionc primari session sessiona expir follow node1 stop node2 session sessiona primari session sessionb primari session sessionc backup node3 session sessiona backup session sessionb backup session sessionc primari problem tomcat6 execut super stop lazi replic map lazyreplicatedmap breakdown made patch trunk best regard','2010-04-19 03:37:08',1271660000,'resolved fixed','09f4e25',1271670000,'java/org/apache/catalina/ha/session/BackupManager.java'),(677,49129,'Bug 49129  DigestAuthenticator.md5Helper - possible incorrect lazy initialisation','Findbugs says:\n\n\"This method contains an unsynchronized lazy initialization of a non-volatile static field. Because the compiler or processor may reorder instructions, threads are not guaranteed to see a completely initialized object, if the method can be called by multiple threads. You can make the field volatile to correct the problem.\"','digest authent digestauthent md5 helper md5helper possibl incorrect lazi initialis findbug say method contain unsynchron lazi initi non volatil nonvolatil static field compil processor may reorder instruct thread guarante see complet initi object method call multipl thread make field volatil correct problem','digest authent digestauthent md5 helper md5helper possibl incorrect lazi initialis','findbug say method contain unsynchron lazi initi non volatil nonvolatil static field compil processor may reorder instruct thread guarante see complet initi object method call multipl thread make field volatil correct problem','2010-04-14 19:09:31',1271290000,'resolved fixed','867605f',1271290000,'java/org/apache/catalina/authenticator/DigestAuthenticator.java'),(678,49118,'Bug 49118  Inefficient use of String concatenation in loop','','ineffici use string concaten loop','ineffici use string concaten loop','','2010-04-14 05:40:15',1271240000,'resolved fixed','95a2eb8',1271290000,'java/javax/servlet/http/HttpServlet.java'),(679,49110,'Bug 49110  runtime.JspFactoryImpl$PageContextPool needs to be static','Findbugs says:\n\nBug: org.apache.jasper.runtime.JspFactoryImpl$PageContextPool needs to be _static_ to avoid a deadly embrace with org.apache.jasper.runtime.JspFactoryImpl.localPool\nPattern id: SIC_THREADLOCAL_DEADLY_EMBRACE, type: SIC, category: CORRECTNESS\n\n\nThis class is an inner class, but should probably be a static inner class. As it is, there is a serious danger of a deadly embrace between the inner class and the thread local in the outer class. Because the inner class isn\'t static, it retains a reference to the outer class. If the thread local contains a reference to an instance of the inner class, the inner and outer instance will both be reachable and not eligible for garbage collection.','runtim jsp factori impl jspfactoryimpl page context pool pagecontextpool need static findbug say apach jasper runtim jsp factori impl jspfactoryimpl page context pool pagecontextpool need static avoid deadli embrac apach jasper runtim jsp factori impl jspfactoryimpl local pool localpool pattern id sic threadloc deadli embrac type sic categori correct class inner class probabl static inner class seriou danger deadli embrac inner class thread local outer class inner class isn static retain refer outer class thread local contain refer instanc inner class inner outer instanc reachabl elig garbag collect','runtim jsp factori impl jspfactoryimpl page context pool pagecontextpool need static','findbug say apach jasper runtim jsp factori impl jspfactoryimpl page context pool pagecontextpool need static avoid deadli embrac apach jasper runtim jsp factori impl jspfactoryimpl local pool localpool pattern id sic threadloc deadli embrac type sic categori correct class inner class probabl static inner class seriou danger deadli embrac inner class thread local outer class inner class isn static retain refer outer class thread local contain refer instanc inner class inner outer instanc reachabl elig garbag collect','2010-04-12 19:50:48',1271120000,'resolved fixed','b027259',1271290000,'java/org/apache/jasper/runtime/JspFactoryImpl.java'),(680,49109,'Bug 49109  RealmBase.authenticate uses toString on byte array','catalina.realm.RealmBase.authenticate(String username, byte[] credentials)\nhas the following code:\n\nreturn (authenticate(username, credentials.toString()));\n\nThis looks wrong, as credentials is a byte array.\n\nIt should probably be:\n\nreturn (authenticate(username, new String(credentials[,charset])));','realm base realmbas authent us to string tostr byte array catalina realm realm base realmbas authent string usernam byte credenti follow code return authent usernam credenti to string tostr look wrong credenti byte array probabl return authent usernam new string credenti charset','realm base realmbas authent us to string tostr byte array','catalina realm realm base realmbas authent string usernam byte credenti follow code return authent usernam credenti to string tostr look wrong credenti byte array probabl return authent usernam new string credenti charset','2010-04-12 19:36:53',1271120000,'resolved fixed','bcf0a01',1271280000,'java/org/apache/catalina/Realm.java\njava/org/apache/catalina/realm/CombinedRealm.java\njava/org/apache/catalina/realm/LockOutRealm.java\njava/org/apache/catalina/realm/RealmBase.java'),(681,49106,'Bug 49106  Unused imports','','unus import','unus import','','2010-04-12 19:01:41',1271110000,'resolved fixed','f8d3565',1271280000,'java/org/apache/catalina/realm/JNDIRealm.java'),(682,49105,'Bug 49105  Javadoc corrections','','javadoc correct','javadoc correct','','2010-04-12 19:00:58',1271110000,'resolved fixed','ead3997',1271280000,'java/javax/el/ExpressionFactory.java\njava/javax/servlet/HttpConstraintElement.java\njava/javax/servlet/ServletContext.java\njava/org/apache/catalina/Context.java\njava/org/apache/catalina/Host.java\njava/org/apache/catalina/Lifecycle.java\njava/org/apache/catalina/Session.java\njava/org/apache/catalina/authenticator/FormAuthenticator.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/core/ApplicationSessionCookieConfig.java\njava/org/apache/catalina/core/ContainerBase.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/session/StandardSession.java\njava/org/apache/catalina/tribes/ChannelListener.java\njava/org/apache/catalina/tribes/group/RpcChannel.java\njava/org/apache/el/parser/AstValue.java\njava/org/apache/jasper/compiler/Node.java\nwebapps/examples/WEB-INF/classes/chat/ChatServlet.java\nwebapps/examples/WEB-INF/classes/filters/ExampleFilter.java\nwebapps/examples/WEB-INF/classes/filters/SetCharacterEncodingFilter.java'),(683,49104,'Bug 49104  Fix up some raw types','','fix raw type','fix raw type','','2010-04-12 18:59:00',1271110000,'resolved fixed','5be4f29',1271280000,'java/org/apache/coyote/ajp/AjpProtocol.java\njava/org/apache/coyote/http11/Http11Protocol.java\njava/org/apache/tomcat/util/net/JIoEndpoint.java'),(684,49103,'Bug 49103  Missing annotations','','miss annot','miss annot','','2010-04-12 18:57:56',1271110000,'resolved fixed','1018cd7',1271280000,'java/org/apache/coyote/http11/Http11NioProtocol.java\njava/org/apache/coyote/http11/Http11Protocol.java\njava/org/apache/tomcat/util/net/AprEndpoint.java\njava/org/apache/tomcat/util/net/NioEndpoint.java\njava/org/apache/tomcat/util/net/jsse/JSSEImplementation.java'),(685,49045,'Bug 49045  JMX Enhancement- Provision of MBeanFactory createStandardService','Currently MBeanFactory doesn\'t have a method for creating a new StandardService MBean. This would become an issue for future enhancements of JMX support in Tomcat. As per discussions with Mark, this enhancement is suggested as a starting point for possible future enhancements in JMX support.','jmx enhanc provis bean factori mbeanfactori creat standard servic createstandardservic current bean factori mbeanfactori doesn method creat new standard servic standardservic bean mbean would becom issu futur enhanc jmx support tomcat discuss mark enhanc suggest start point possibl futur enhanc jmx support','jmx enhanc provis bean factori mbeanfactori creat standard servic createstandardservic','current bean factori mbeanfactori doesn method creat new standard servic standardservic bean mbean would becom issu futur enhanc jmx support tomcat discuss mark enhanc suggest start point possibl futur enhanc jmx support','2010-04-04 05:40:57',1270370000,'resolved fixed','32046eb',1271250000,'java/org/apache/catalina/mbeans/MBeanFactory.java'),(686,49089,'Bug 49089  ChannelData.USE_SECURE_RANDOM_FOR_UUID public static mutable field','catalina.tribes.io.ChannelData.USE_SECURE_RANDOM_FOR_UUID is a mutable public static field.\n\nIt\'s only used by an instance method, so there\'s no need for it to be static.\nProbably no need for it to be public either; it could be a private field with a setter - or better a final field set by the constructor.','channel data channeldata use secur random uui uuid public static mutabl field catalina tribe channel data channeldata use secur random uui uuid mutabl public static field use instanc method need static probabl need public either could privat field setter better final field set constructor','channel data channeldata use secur random uui uuid public static mutabl field','catalina tribe channel data channeldata use secur random uui uuid mutabl public static field use instanc method need static probabl need public either could privat field setter better final field set constructor','2010-04-11 22:24:38',1271040000,'resolved fixed','cb0b029',1271240000,'java/org/apache/catalina/tribes/io/ChannelData.java'),(687,49116,'Bug 49116  Memory leak by HttpSession.','When session is stored in StandardManager#doUnload method, \nan invalid session is stored. \n\nFor instance, \nIf HttpSession#invalidate is executed while executing StandardManager#doUnload,\nsession of \"isValid=false\" is stored.\n\nThe session of isValid=false is restored in StandardManager#doLoad, \nand it registers in session map (sessions). \nHowever, no one can invalidate this session. \n\nIf isValid is false, StandardSession#invalidate() and StandardSession#isValid() can not expire session.\nThey are throws IllegalStateException or return immediately. \n\nConsequently, the session of isValid=false is never deleted from the session map(sessions). \n\nI made a patch.\nIf session is already invalid, expire session to prevent memory leak.\n\nBest Regards.\nKeiichi.','memori leak http session httpsession session store standard manag standardmanag do unload dounload method invalid session store instanc http session httpsession invalid execut execut standard manag standardmanag do unload dounload session is valid isvalid fals store session is valid isvalid fals restor standard manag standardmanag do load doload regist session map session howev one invalid session is valid isvalid fals standard session standardsess invalid standard session standardsess is valid isvalid expir session throw illeg state except illegalstateexcept return immedi consequ session is valid isvalid fals never delet session map session made patch session alreadi invalid expir session prevent memori leak best regard keiichi','memori leak http session httpsession','session store standard manag standardmanag do unload dounload method invalid session store instanc http session httpsession invalid execut execut standard manag standardmanag do unload dounload session is valid isvalid fals store session is valid isvalid fals restor standard manag standardmanag do load doload regist session map session howev one invalid session is valid isvalid fals standard session standardsess invalid standard session standardsess is valid isvalid expir session throw illeg state except illegalstateexcept return immedi consequ session is valid isvalid fals never delet session map session made patch session alreadi invalid expir session prevent memori leak best regard keiichi','2010-04-14 04:43:30',1271230000,'resolved fixed','bddfc0a',1271230000,'java/org/apache/catalina/session/StandardManager.java'),(688,49086,'Bug 49086  Addition of Javadoc for Servlet 3.0 annotations','','addit javadoc servlet annot','addit javadoc servlet annot','','2010-04-11 16:43:49',1271020000,'resolved fixed','6fc4360',1271070000,'java/javax/servlet/annotation/HandlesTypes.java\njava/javax/servlet/annotation/HttpConstraint.java\njava/javax/servlet/annotation/HttpMethodConstraint.java\njava/javax/servlet/annotation/MultipartConfig.java\njava/javax/servlet/annotation/ServletSecurity.java\njava/javax/servlet/annotation/WebFilter.java\njava/javax/servlet/annotation/WebInitParam.java\njava/javax/servlet/annotation/WebListener.java\njava/javax/servlet/annotation/WebServlet.java'),(689,49091,'Bug 49091  Util.specialCharactersRepresentation should be private','jasper.tagplugins.jstl.Util.specialCharactersRepresentation is a mutable public static array; it is not used outside the class as far as I can tell and so should be made private','util special charact represent specialcharactersrepresent privat jasper tagplugin jstl util special charact represent specialcharactersrepresent mutabl public static array use outsid class far tell made privat','util special charact represent specialcharactersrepresent privat','jasper tagplugin jstl util special charact represent specialcharactersrepresent mutabl public static array use outsid class far tell made privat','2010-04-11 22:31:35',1271040000,'resolved fixed','1ecfaa9',1271070000,'java/org/apache/jasper/tagplugins/jstl/Util.java'),(690,49075,'Bug 49075  protected Class User doesn\'t check argument roles for null','','protect class user doesn check argument role null','protect class user doesn check argument role null','','2010-04-08 18:15:55',1270760000,'resolved fixed','e59ba8f',1270810000,'java/org/apache/catalina/realm/JNDIRealm.java'),(691,49018,'Bug 49018  Timeout argument misprocessed when expiring sessions from Tomcat Manager','Steps to reproduce:\n1. Login to the Tomcat Manager Application\n2. Select a web application that has several sessions that are inactive for more than 2 minutes\n3. In the text field next to the \"Expire sessions\" button print \"2\"\n4. Press \"Expire sessions\"\n5. Sample observed result:\n\nOK - Session information for application at context path /myapp\nDefault maximum session inactive interval 30 minutes\n<1 minutes:16 sessions\n1 - <2 minutes:2 sessions\n2 - <3 minutes:5 sessions\n3 - <4 minutes:1 sessions\n4 - <5 minutes:2 sessions\n5 - <6 minutes:1 sessions\n6 - <7 minutes:2 sessions\n9 - <10 minutes:1 sessions\n8 minutes:expired 0 sessions\n\nActually some sessions were expired (even if the above message prints \"0\").\n\nExpected result:\nAll sessions with idle time > 2 minutes had to be expired.\n\nThe bug is in the following lines of ManagerServlet#sessions(PrintWriter, String, int):\n\nLines 1176-1179\n                if (idle >= 0 && time >= idle*60) {\n                    sessions[i].expire();\n                    idle++;\n                }\n\nThe patch would be to replace \"idle++\" with \"expired++\",\nbecause \"idle\" is the time (in minutes) as submitted from the web form and \"expired\" is the counter.','timeout argument misprocess expir session tomcat manag step reproduc login tomcat manag applic select web applic sever session inact minut text field next expir session button print press expir session sampl observ result ok session inform applic context path myapp default maximum session inact interv minut minut session minut session minut session minut session minut session minut session minut session minut session minut expir session actual session expir even messag print expect result session idl time minut expir follow line manag servlet managerservlet session print writer printwrit string int line idl time idl session expir idl patch would replac idl expir idl time minut submit web form expir counter','timeout argument misprocess expir session tomcat manag','step reproduc login tomcat manag applic select web applic sever session inact minut text field next expir session button print press expir session sampl observ result ok session inform applic context path myapp default maximum session inact interv minut minut session minut session minut session minut session minut session minut session minut session minut session minut expir session actual session expir even messag print expect result session idl time minut expir follow line manag servlet managerservlet session print writer printwrit string int line idl time idl session expir idl patch would replac idl expir idl time minut submit web form expir counter','2010-03-29 15:18:35',1269890000,'resolved fixed','155e3f8',1270610000,'java/org/apache/catalina/manager/ManagerServlet.java'),(692,48648,'Bug 48648  Blank page (dropped connection) when running TC7 with TCnative (APR)','','blank page drop connect run c7 tc7 cnativ tcnativ apr','blank page drop connect run c7 tc7 cnativ tcnativ apr','','2010-01-31 17:58:11',1264980000,'resolved fixed','216352a',1270400000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(693,49014,'Bug 49014  Add RemoteIpFilter test case','','add remot ip filter remoteipfilt case','add remot ip filter remoteipfilt case','','2010-03-29 00:17:51',1269840000,'resolved fixed','d9330a9',1270380000,'test/org/apache/catalina/filters/TestRemoteIpFilter.java'),(694,48983,'Bug 48983  Enhance RemoteIpValve and RemoteIpFilter logging','','enhanc remot ip valv remoteipvalv remot ip filter remoteipfilt log','enhanc remot ip valv remoteipvalv remot ip filter remoteipfilt log','','2010-03-24 23:15:14',1269490000,'resolved fixed','9a42719',1270380000,'java/org/apache/catalina/filters/RemoteIpFilter.java\njava/org/apache/catalina/valves/RemoteIpValve.java'),(695,48895,'Bug 48895  WebAppClassLoader.clearThreadLocalMap() concurrency issues','I think that the memory leak protection of WebAppClassLoader.clearReferencesThreadLocals() which detects and clears ThreadLocals that would prevent GC the WebAppClassLoader instance has issues regarding concurrency :\n\n- It enumerates Threads and looks into internal structures of the Thread class, but there are no \"memory barrier\" that would ensure a consistent state of the ThreadLocalMap being examined.\nSo, it is theoretically possible that a ThreadLocal in Thread A was properly cleaned up by the application, but the current thread B (that is undeploying the application) does not see the up to date state because there\'s no synchronization between those threads.\n\n- Much more severe : after detecting such a leak, it invokes java.lang.ThreadLocal.ThreadLocalMap.remove(ThreadLocal) on Thread A\'s ThreadLocalMap instance but the invocation is done by Thread B (the thread that undeploys the app). The remove() method is not thread safe at all, and nor is the expungeStaleEntries() method which may also be invoked in clearThreadLocalMap().\nSo, if a webapp is being undeployed while other applications continue to receive a heavy load of requests, this could corrupt the internal structures of the ThreadLocalMap instance !\n\nI propose to keep the detection of leaks as it is, but to make the actual clearing optional (and disabled by default) to avoid encountering big problems in production.\n\nIdea to improve the clearing in a safe way : if the thread that is \"provoking\" the leak is one of tomcat\'s worker threads, we could mark it as \"dirty\", and then have a background task that would end such threads (renew those threads in the pool).','web app class loader webappclassload clear thread local map clearthreadlocalmap concurr issu think memori leak protect web app class loader webappclassload clear refer thread local clearreferencesthreadloc detect clear thread local threadloc would prevent gc web app class loader webappclassload instanc issu regard concurr enumer thread look intern structur thread class memori barrier would ensur consist state thread local map threadlocalmap examin theoret possibl thread local threadloc thread properli clean applic current thread undeploy applic see date state synchron thread much sever detect leak invok java lang thread local threadloc thread local map threadlocalmap remov thread local threadloc thread thread local map threadlocalmap instanc invoc done thread thread undeploy app remov method thread safe expung stale entri expungestaleentri method may invok clear thread local map clearthreadlocalmap webapp undeploy applic continu receiv heavi load request could corrupt intern structur thread local map threadlocalmap instanc propos keep detect leak make actual clear option disabl default avoid encount big problem product idea improv clear safe way thread provok leak one tomcat worker thread could mark dirti background task would thread renew thread pool','web app class loader webappclassload clear thread local map clearthreadlocalmap concurr issu','think memori leak protect web app class loader webappclassload clear refer thread local clearreferencesthreadloc detect clear thread local threadloc would prevent gc web app class loader webappclassload instanc issu regard concurr enumer thread look intern structur thread class memori barrier would ensur consist state thread local map threadlocalmap examin theoret possibl thread local threadloc thread properli clean applic current thread undeploy applic see date state synchron thread much sever detect leak invok java lang thread local threadloc thread local map threadlocalmap remov thread local threadloc thread thread local map threadlocalmap instanc invoc done thread thread undeploy app remov method thread safe expung stale entri expungestaleentri method may invok clear thread local map clearthreadlocalmap webapp undeploy applic continu receiv heavi load request could corrupt intern structur thread local map threadlocalmap instanc propos keep detect leak make actual clear option disabl default avoid encount big problem product idea improv clear safe way thread provok leak one tomcat worker thread could mark dirti background task would thread renew thread pool','2010-03-11 22:20:01',1268360000,'resolved fixed','ae6fcf5',1269870000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/catalina/loader/WebappLoader.java'),(696,48717,'Bug 48717  Session listeners not called on cluster node start','','session listen call cluster node start','session listen call cluster node start','','2010-02-09 17:43:14',1265760000,'resolved fixed','39d3082',1269800000,'java/org/apache/catalina/ha/session/DeltaManager.java'),(697,48662,'Bug 48662  context.xml expansion on deployment improvements','Two parts:\n\n1. Log a warning/info message if Tomcat ignores a bundled context.xml in favour of one in CATALINA_BASE/<engine name>/<host name>\n\n2. Make the extraction/copying of context.xml configurable, probably via a new attribute extractXml on the host','context xml expans deploy improv two part log warn info messag tomcat ignor bundl context xml favour one catalina base engin name host name make extract copi context xml configur probabl via new attribut extract xml extractxml host','context xml expans deploy improv','two part log warn info messag tomcat ignor bundl context xml favour one catalina base engin name host name make extract copi context xml configur probabl via new attribut extract xml extractxml host','2010-02-02 22:44:07',1265170000,'resolved fixed','83226d9',1269780000,'java/org/apache/catalina/Context.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/core/StandardHost.java\njava/org/apache/catalina/mbeans/MBeanFactory.java\njava/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/startup/HostConfig.java'),(698,48934,'Bug 48934  Cluster\'s regression. When replication fails once, replication can be never done again.','','cluster regress replic fail replic never done','cluster regress replic fail replic never done','','2010-03-18 11:09:23',1268920000,'resolved fixed','fc66705',1268920000,'java/org/apache/catalina/tribes/transport/ReplicationTransmitter.java\njava/org/apache/catalina/tribes/transport/nio/PooledParallelSender.java'),(699,44265,'Bug 44265  Improve JspWriterImpl performance with \"inline\" sub method','As you know, the JspWriterImpl.write method was always invoked in JSP file \nfrequently. But I found its performance is poor because too many sub method \nwere invoked as well.\nAfter copying two sub method\'s code to write method, the performance was \nimproved observably.','improv jsp writer impl jspwriterimpl perform inlin sub method know jsp writer impl jspwriterimpl write method alway invok jsp file frequent found perform poor mani sub method invok well copi two sub method code write method perform improv observ','improv jsp writer impl jspwriterimpl perform inlin sub method','know jsp writer impl jspwriterimpl write method alway invok jsp file frequent found perform poor mani sub method invok well copi two sub method code write method perform improv observ','2008-01-18 02:51:47',1200640000,'resolved fixed','9113574',1268330000,'java/org/apache/jasper/runtime/JspWriterImpl.java'),(700,48760,'Bug 48760  Tomcat breaks in serving large files (>=1.8MB) under high load and high threading.','','tomcat break serv larg file 8mb high load high thread','tomcat break serv larg file 8mb high load high thread','','2010-02-17 20:44:37',1266460000,'resolved fixed','f1760d8',1268140000,'java/org/apache/naming/resources/FileDirContext.java\njava/org/apache/naming/resources/WARDirContext.java'),(701,48737,'Bug 48737  JspCompilationContext assumes that tagfile with a path starting with META-INF are in jars without checking','','jsp compil context jspcompilationcontext assum tagfil path start meta inf jar without check','jsp compil context jspcompilationcontext assum tagfil path start meta inf jar without check','','2010-02-13 18:19:03',1266100000,'resolved fixed','6ac5036',1268140000,'java/org/apache/jasper/JspCompilationContext.java'),(702,48729,'Bug 48729  JNDIRealm.java not parsing roles correctly','','realm jndirealm java pars role correctli','realm jndirealm java pars role correctli','','2010-02-11 17:27:55',1265930000,'resolved fixed','4cf35b8',1268140000,'java/org/apache/catalina/realm/JNDIRealm.java'),(703,48661,'Bug 48661  inconsistent error page behavior','There seems to be a bug or at least an inconsistency in how tomcat handles the error page.\n\nIn Tomcat 6.0.20, if I define my error page like this in web.xml:\n\n<error-page>\n      <exception-type>java.lang.Exception</exception-type>\n      <location>/unexpectedErrors.jsp</location>\n</error-page>\n\nThen, if the response has already been committed, Tomcat does this on\nthe system console:\n\nFeb 1, 2010 5:59:04 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet jsp threw exception\njava.lang.NullPointerException\n       at org.apache.jsp.cpe_jsp._jspService(cpe_jsp.java:693)\n       at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n       at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)\n       at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)\n       at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n       at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n       at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n       at com.eaglecreektech.expedience.provisioning.web.servletFilters.AuthFilter.doFilter(AuthFilter.java:133)\n       at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n       at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n       at com.eaglecreektech.expedience.provisioning.web.servletFilters.RequestVolumeFilter.doFilter(RequestVolumeFilter.java:141)\n       at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n       at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n       at com.eaglecreektech.expedience.provisioning.web.servletFilters.StartupCheckFilter.doFilter(StartupCheckFilter.java:65)\n       at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n       at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n       at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n       at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n       at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n       at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n       at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n       at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n       at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)\n       at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n       at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)\n       at java.lang.Thread.run(Thread.java:619)\nFeb 1, 2010 5:59:04 PM org.apache.catalina.core.StandardHostValve custom\nSEVERE: Exception Processing\nErrorPage[exceptionType=java.lang.Exception,\nlocation=/unexpectedErrors.jsp]\njava.lang.IllegalStateException: Cannot reset buffer after response\nhas been committed\n       at org.apache.catalina.connector.Response.resetBuffer(Response.java:691)\n       at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:409)\n       at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:271)\n       at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\n       at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n       at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n       at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n       at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)\n       at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n       at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)\n       at java.lang.Thread.run(Thread.java:619)\n\n\nAnd it doesn\'t put any error text into the broken page - the page just\nshows how ever far it got before it encountered the error.\n\nThis behavior doesn\'t seem correct - it seems like it should at least\nbehave the same way as it does when the error page is defined in a jsp\npage:\n\n<%@ page errorPage=\"unexpectedErrors.jsp\" %>\n\nIf the response has already been committed, then it just appends the\nerror page onto the end of the response (not ideal, but nothing else can be done, as far as I know)\n\nIf the response has not been committed, it clears the buffer and\nwrites the error page (which looks nice and pretty , like it should)\n\nI\'d suggest that the error handling code for the error page as defined in web.xml should check if the response has been committed, and not try to clear the buffer if it is already committed - just append to the end, the same way that the jsp error handler does.','inconsist error page behavior seem least inconsist tomcat handl error page tomcat defin error page like web xml error page errorpag except type exceptiontyp java lang except except type exceptiontyp locat unexpect error unexpectederror jsp locat error page errorpag respons alreadi commit tomcat system consol feb pm apach catalina core standard wrapper valv standardwrappervalv invok sever servlet servic servlet jsp threw except java lang null pointer except nullpointerexcept apach jsp cpe jsp jsp servic jspservic cpe jsp java apach jasper runtim http jsp base httpjspbase servic http jsp base httpjspbase java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java eaglecreektech expedi provis web servlet filter servletfilt auth filter authfilt do filter dofilt auth filter authfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java eaglecreektech expedi provis web servlet filter servletfilt request volum filter requestvolumefilt do filter dofilt request volum filter requestvolumefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java eaglecreektech expedi provis web servlet filter servletfilt startup check filter startupcheckfilt do filter dofilt startup check filter startupcheckfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java feb pm apach catalina core standard host valv standardhostvalv custom sever except process error page errorpag except type exceptiontyp java lang except locat unexpect error unexpectederror jsp java lang illeg state except illegalstateexcept cannot reset buffer respons commit apach catalina connector respons reset buffer resetbuff respons java apach catalina core standard host valv standardhostvalv custom standard host valv standardhostvalv java apach catalina core standard host valv standardhostvalv throwabl standard host valv standardhostvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java doesn put error text broken page page show ever far got encount error behavior doesn seem correct seem like least behav way error page defin jsp page page error page errorpag unexpect error unexpectederror jsp respons alreadi commit append error page onto respons ideal noth els done far know respons commit clear buffer write error page look nice pretti like suggest error handl code error page defin web xml check respons commit tri clear buffer alreadi commit append way jsp error handler','inconsist error page behavior','seem least inconsist tomcat handl error page tomcat defin error page like web xml error page errorpag except type exceptiontyp java lang except except type exceptiontyp locat unexpect error unexpectederror jsp locat error page errorpag respons alreadi commit tomcat system consol feb pm apach catalina core standard wrapper valv standardwrappervalv invok sever servlet servic servlet jsp threw except java lang null pointer except nullpointerexcept apach jsp cpe jsp jsp servic jspservic cpe jsp java apach jasper runtim http jsp base httpjspbase servic http jsp base httpjspbase java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java eaglecreektech expedi provis web servlet filter servletfilt auth filter authfilt do filter dofilt auth filter authfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java eaglecreektech expedi provis web servlet filter servletfilt request volum filter requestvolumefilt do filter dofilt request volum filter requestvolumefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java eaglecreektech expedi provis web servlet filter servletfilt startup check filter startupcheckfilt do filter dofilt startup check filter startupcheckfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java feb pm apach catalina core standard host valv standardhostvalv custom sever except process error page errorpag except type exceptiontyp java lang except locat unexpect error unexpectederror jsp java lang illeg state except illegalstateexcept cannot reset buffer respons commit apach catalina connector respons reset buffer resetbuff respons java apach catalina core standard host valv standardhostvalv custom standard host valv standardhostvalv java apach catalina core standard host valv standardhostvalv throwabl standard host valv standardhostvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java doesn put error text broken page page show ever far got encount error behavior doesn seem correct seem like least behav way error page defin jsp page page error page errorpag unexpect error unexpectederror jsp respons alreadi commit append error page onto respons ideal noth els done far know respons commit clear buffer write error page look nice pretti like suggest error handl code error page defin web xml check respons commit tri clear buffer alreadi commit append way jsp error handler','2010-02-02 15:07:25',1265140000,'resolved fixed','1ec5ca7',1268070000,'java/org/apache/catalina/core/StandardHostValve.java'),(704,48582,'Bug 48582  JspServletWrapper.getServletContext() throws NullPointerException','','jsp servlet wrapper jspservletwrapp get servlet context getservletcontext throw null pointer except nullpointerexcept','jsp servlet wrapper jspservletwrapp get servlet context getservletcontext throw null pointer except nullpointerexcept','','2010-01-20 13:25:03',1264010000,'resolved fixed','7301a10',1266320000,'java/org/apache/jasper/servlet/JspServletWrapper.java'),(705,48580,'Bug 48580  6.0.24: AccessControlException in ProtectedFunctionMapper on first access to certain JSP','','access control except accesscontrolexcept protect function mapper protectedfunctionmapp first access certain jsp','access control except accesscontrolexcept protect function mapper protectedfunctionmapp first access certain jsp','','2010-01-20 11:54:45',1264010000,'resolved fixed','9e55819',1266310000,'java/org/apache/jasper/security/SecurityClassLoad.java'),(706,48498,'Bug 48498  6.0.22RC: ArrayIndexOutOfBoundsException from Jasper when compilation error inside a CDATA block','','22 22rc array index out of bound except arrayindexoutofboundsexcept jasper compil error insid cdata block','22 22rc array index out of bound except arrayindexoutofboundsexcept jasper compil error insid cdata block','','2010-01-06 19:40:54',1262820000,'resolved fixed','789ac1e',1266280000,'java/org/apache/jasper/compiler/JavacErrorDetail.java'),(707,48384,'Bug 48384  globalXsltFile parameter for the DefaultServlet','When overriding the DefaultServlet for a given application, the globalXsltFile path need to be relative to Tomcat root.\n\nfor example:\n<init-param>\n<param-name>globalXsltFile</param-name>\n<param-value>webapps/quercus/WEB-INF/listing.xsl</param-value>\n</init-param>\n\nit would be nice if the path could be relative to the application context.','global xslt file globalxsltfil paramet default servlet defaultservlet overrid default servlet defaultservlet given applic global xslt file globalxsltfil path need rel tomcat root exampl init param initparam param name paramnam global xslt file globalxsltfil param name paramnam param valu paramvalu webapp quercu web inf list xsl param valu paramvalu init param initparam would nice path could rel applic context','global xslt file globalxsltfil paramet default servlet defaultservlet','overrid default servlet defaultservlet given applic global xslt file globalxsltfil path need rel tomcat root exampl init param initparam param name paramnam global xslt file globalxsltfil param name paramnam param valu paramvalu webapp quercu web inf list xsl param valu paramvalu init param initparam would nice path could rel applic context','2009-12-13 16:24:30',1260740000,'resolved fixed','0e595cf',1266090000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(708,48371,'Bug 48371  addWebXmlMappings does not place servlet tags correctly','If there is a commented-out <security-constraint> or commented-out <servlet> tag and addWebXmlMappings=\"true\", the JSP\'s servlet and servlet-mapping tags are placed incorrectly and Tomcat will not start due to \"--\" being inside a comment.\n\nBasically, it seems the web.xml is not parsed correctly when using addWebXmlMappings and you cannot have above tags commented out, or new servlet tags will be placed incorrectly and comment tags not respected.','add web xml map addwebxmlmap place servlet tag correctli comment out commentedout secur constraint securityconstraint comment out commentedout servlet tag add web xml map addwebxmlmap true jsp servlet servlet map servletmap tag place incorrectli tomcat start due insid comment basic seem web xml pars correctli use add web xml map addwebxmlmap cannot tag comment new servlet tag place incorrectli comment tag respect','add web xml map addwebxmlmap place servlet tag correctli','comment out commentedout secur constraint securityconstraint comment out commentedout servlet tag add web xml map addwebxmlmap true jsp servlet servlet map servletmap tag place incorrectli tomcat start due insid comment basic seem web xml pars correctli use add web xml map addwebxmlmap cannot tag comment new servlet tag place incorrectli comment tag respect','2009-12-10 18:16:34',1260490000,'resolved fixed','563e315',1266090000,'java/org/apache/jasper/JspC.java'),(709,48318,'Bug 48318  WebDAV servlet returns 500 if files not readable','If a directory contains a file that is not readable by the Tomcat\nprocess (eg file permissions, dangling symlink) then Tomcat throws a\nNullPointerException and returns a 500 Internal Server Error to the\nclient.\n\nThrowing NPE in these circumstances is certainly wrong.  Returning 500\nwith no further information is unhelpful behavior and should be fixed.\nGenerally, interfaces of this type at least list inaccessible files\n(Windows Explorer, UNIX ls(1), BSD FTP client, ...) and only return an\nerror when one attempts to access such a file.\n\nmarkt suggests an alternative of simply ignoring inaccessible files but notes\nthat \"could cause issues if a user tries to upload a file of that name\" and\nsuggests better error reporting.\n\n\nStack:\n\n    SEVERE: Servlet.service() for servlet webdav threw exception\n    java.lang.NullPointerException\n            at org.apache.catalina.servlets.WebdavServlet.parseProperties(Unknown Source)\n            at org.apache.catalina.servlets.WebdavServlet.doPropfind(Unknown Source)\n            at org.apache.catalina.servlets.WebdavServlet.service(Unknown Source)\n            at javax.servlet.http.HttpServlet.service(Unknown Source)\n            ...\n\n\nMethod parseProperties() is in\njava/org/apache/catalina/servlets/WebdavServlet.java.org and the NPE\nhappens when cacheEntry.attributes is null (case FIND_BY_PROPERTY in my\ntesting and possibly in other cases too).\n\nFollowing the breadcrumbs via:\n\n    cacheEntry = resources.lookupCache(path);\n\nleads eventually to java/org/apache/naming/resources/FileDirContext.java:\n\n    public Attributes getAttributes(String name, String[] attrIds)\n        throws NamingException {\n        // Building attribute list\n        File file = file(name);\n        if (file == null)\n            throw new NamingException\n                (sm.getString(\"resources.notFound\", name));\n    ...\n    protected File file(String name) {\n        File file = new File(base, name);\n        if (file.exists() && file.canRead()) {\n            ... // do useful stuff\n        } else {\n            return null; // ouch\n        }','web webdav servlet return file readabl directori contain file readabl tomcat process file permiss dangl symlink tomcat throw null pointer except nullpointerexcept return intern server error client throw npe circumst certainli wrong return inform unhelp behavior fix gener interfac type least list inaccess file window explor unix l bsd ftp client return error one attempt access file markt suggest altern simpli ignor inaccess file note could caus issu user tri upload file name suggest better error report stack sever servlet servic servlet webdav threw except java lang null pointer except nullpointerexcept apach catalina servlet webdav servlet webdavservlet pars properti parseproperti unknown sourc apach catalina servlet webdav servlet webdavservlet do propfind dopropfind unknown sourc apach catalina servlet webdav servlet webdavservlet servic unknown sourc javax servlet http http servlet httpservlet servic unknown sourc method pars properti parseproperti java apach catalina servlet webdav servlet webdavservlet java npe happen cach entri cacheentri attribut null case find properti test possibl case follow breadcrumb via cach entri cacheentri resourc lookup cach lookupcach path lead eventu java apach name resourc file dir context filedircontext java public attribut get attribut getattribut string name string attr id attrid throw name except namingexcept build attribut list file file file name file null throw new name except namingexcept sm get string getstr resourc not found notfound name protect file file string name file file new file base name file exist file can read canread use stuff els return null ouch','web webdav servlet return file readabl','directori contain file readabl tomcat process file permiss dangl symlink tomcat throw null pointer except nullpointerexcept return intern server error client throw npe circumst certainli wrong return inform unhelp behavior fix gener interfac type least list inaccess file window explor unix l bsd ftp client return error one attempt access file markt suggest altern simpli ignor inaccess file note could caus issu user tri upload file name suggest better error report stack sever servlet servic servlet webdav threw except java lang null pointer except nullpointerexcept apach catalina servlet webdav servlet webdavservlet pars properti parseproperti unknown sourc apach catalina servlet webdav servlet webdavservlet do propfind dopropfind unknown sourc apach catalina servlet webdav servlet webdavservlet servic unknown sourc javax servlet http http servlet httpservlet servic unknown sourc method pars properti parseproperti java apach catalina servlet webdav servlet webdavservlet java npe happen cach entri cacheentri attribut null case find properti test possibl case follow breadcrumb via cach entri cacheentri resourc lookup cach lookupcach path lead eventu java apach name resourc file dir context filedircontext java public attribut get attribut getattribut string name string attr id attrid throw name except namingexcept build attribut list file file file name file null throw new name except namingexcept sm get string getstr resourc not found notfound name protect file file string name file file new file base name file exist file can read canread use stuff els return null ouch','2009-12-01 07:07:07',1259670000,'resolved fixed','da42e44',1266010000,'java/org/apache/catalina/servlets/WebdavServlet.java'),(710,48726,'Bug 48726  DeployTask throws OutOfMemoryErrors when deploying large WAR files','','deploy task deploytask throw out of memori error outofmemoryerror deploy larg file','deploy task deploytask throw out of memori error outofmemoryerror deploy larg file','','2010-02-10 22:46:18',1265860000,'resolved fixed','53e0674',1265850000,'java/org/apache/catalina/ant/AbstractCatalinaTask.java\njava/org/apache/catalina/ant/DeployTask.java'),(711,48170,'Bug 48170  Unnecessary synchronization by JspFactory.getDefaultFactory contributes to stability problems','I have a soak test at constant load that is initially stable.  Within the hour, an ever increasing number of blocked threads develops.  The vast majority of threads are in JSP rendering, blocked on JspFactory.getDefaultFactory().\n\nThe server eventually crashes.\n\nWe are running Java 6.\n\nUpon code inspection, there appears to be no real reason for synchronizing the getDefaultFactory() and setDefaultFactory() as the setter is called only once upon startup when the sub-class loads.\n\nPatching the jar, I tried three other experiments:\n1) Removing the synchronized keyword entirely.\n2) Locking on an inner static class instead of the JspFactory.class.\n3) Using volatile for the static member variable.\n\nBoth experiments #1 and #3 showed vastly better stability.  I was able to double the throughput of the server without seeing increasing number of blocked threads.\n\nExperiment #2 yielded the same behavior as the original code.  Thus, no other code\nis synchronizing on JspFactory.class.  Rather, there seem to be some sort of contention in the java.lang.Class monitor.\n\nUsing volatile would preserve the multi-threading semantics while avoiding contributing to the instability issue.','unnecessari synchron jsp factori jspfactori get default factori getdefaultfactori contribut stabil problem soak constant load initi stabl within hour ever increas number block thread develop vast major thread jsp render block jsp factori jspfactori get default factori getdefaultfactori server eventu crash run java upon code inspect appear real reason synchron get default factori getdefaultfactori set default factori setdefaultfactori setter call upon startup sub class subclass load patch jar tri three experi remov synchron keyword entir lock inner static class instead jsp factori jspfactori class use volatil static member variabl experi show vastli better stabil abl doubl throughput server without see increas number block thread experi yield behavior origin code thu code synchron jsp factori jspfactori class rather seem sort content java lang class monitor use volatil would preserv multi thread multithread semant avoid contribut instabl issu','unnecessari synchron jsp factori jspfactori get default factori getdefaultfactori contribut stabil problem','soak constant load initi stabl within hour ever increas number block thread develop vast major thread jsp render block jsp factori jspfactori get default factori getdefaultfactori server eventu crash run java upon code inspect appear real reason synchron get default factori getdefaultfactori set default factori setdefaultfactori setter call upon startup sub class subclass load patch jar tri three experi remov synchron keyword entir lock inner static class instead jsp factori jspfactori class use volatil static member variabl experi show vastli better stabil abl doubl throughput server without see increas number block thread experi yield behavior origin code thu code synchron jsp factori jspfactori class rather seem sort content java lang class monitor use volatil would preserv multi thread multithread semant avoid contribut instabl issu','2009-11-10 18:04:01',1257890000,'resolved fixed','c09753b',1265670000,'java/javax/servlet/jsp/JspFactory.java'),(712,48109,'Bug 48109  Improve binaryStream processing in WebappClassLoader#findResourceInternal','','improv binari stream binarystream process webapp class loader webappclassload find resourc intern findresourceintern','improv binari stream binarystream process webapp class loader webappclassload find resourc intern findresourceintern','','2009-11-02 19:49:49',1257210000,'resolved fixed','dda2cbc',1265670000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(713,48665,'Bug 48665  RemoteIpValve examples refer to \"connector\" package','','remot ip valv remoteipvalv exampl refer connector packag','remot ip valv remoteipvalv exampl refer connector packag','','2010-02-03 03:38:00',1265190000,'resolved fixed','9905155',1265590000,'java/org/apache/catalina/valves/RemoteIpValve.java'),(714,48643,'Bug 48643  catalina.session.FileStore.save() and load() - close() bugs','The code for the save() method reads:\n\ntry {\n    fos = new FileOutputStream(file.getAbsolutePath());\n    oos = new ObjectOutputStream(new BufferedOutputStream(fos));\n} catch (IOException e) {\n    if (oos != null) { <== oos can only be null here\n        try {\n            oos.close();\n        } catch (IOException f) {\n            // Ignore\n        }\n    }\n    throw e;\n}\n\nPresumably the catch statement should try to close fos instead?\n\nSimilarly for the load() method; at line 280/281 there is the code:\n\n        } catch (IOException e) {\n            if (ois != null) {\n\nHowever, ois is the last object created by the try clause, so must be null.\nProbably the code should check and close bis and/or fis.\n\nAt the end of the load() method, the code says:\n\n            // Close the input stream\n            if (ois != null) {\n\nHowever, ois cannot be null at that point.\n\nNote: these bugs were detected by the Eclipse compiler.','catalina session file store filestor save load close bug code save method read tri fo new file output stream fileoutputstream file get absolut path getabsolutepath oo new object output stream objectoutputstream new buffer output stream bufferedoutputstream fo catch except ioexcept oo null oo null tri oo close catch except ioexcept ignor throw presum catch statement tri close fo instead similarli load method line code catch except ioexcept oi null howev oi last object creat tri claus must null probabl code check close fi load method code say close input stream oi null howev oi cannot null point note bug detect compil','catalina session file store filestor save load close bug','code save method read tri fo new file output stream fileoutputstream file get absolut path getabsolutepath oo new object output stream objectoutputstream new buffer output stream bufferedoutputstream fo catch except ioexcept oo null oo null tri oo close catch except ioexcept ignor throw presum catch statement tri close fo instead similarli load method line code catch except ioexcept oi null howev oi last object creat tri claus must null probabl code check close fi load method code say close input stream oi null howev oi cannot null point note bug detect compil','2010-01-30 16:53:02',1264890000,'resolved fixed','6f48cde',1265580000,'java/org/apache/catalina/session/FileStore.java\njava/org/apache/catalina/session/StandardManager.java'),(715,48678,'Bug 48678  org.apache.catalina.startup.Catalina incorrectly duplicates super class member','','apach catalina startup catalina incorrectli duplic super class member','apach catalina startup catalina incorrectli duplic super class member','','2010-02-04 00:09:04',1265260000,'resolved fixed','067e0ba',1265490000,'java/org/apache/catalina/startup/Catalina.java'),(716,48551,'Bug 48551  StringCache: Use entrySet() rather than keySet() + get()','','string cach stringcach use entri set entryset rather key set keyset get','string cach stringcach use entri set entryset rather key set keyset get','','2010-01-14 19:23:43',1263520000,'resolved fixed','c85e791',1265130000,'java/org/apache/catalina/deploy/WebXml.java\njava/org/apache/tomcat/util/buf/StringCache.java'),(717,48653,'Bug 48653  RemoteIpValve : request.secure and request.scheme are not forced to \"false\" and \"http\" if X-Forwarded-Proto=http','','remot ip valv remoteipvalv request secur request scheme forc fals http forward proto http','remot ip valv remoteipvalv request secur request scheme forc fals http forward proto http','','2010-02-01 09:26:02',1265030000,'resolved fixed','1789bd8',1265120000,'java/org/apache/catalina/valves/RemoteIpValve.java\ntest/org/apache/catalina/valves/TestRemoteIpValve.java'),(718,48647,'Bug 48647  RemoteIpFilter : request.secure and request.scheme are not forced to \"false\" and \"http\" if X-Forwarded-Proto=http','','remot ip filter remoteipfilt request secur request scheme forc fals http forward proto http','remot ip filter remoteipfilt request secur request scheme forc fals http forward proto http','','2010-01-31 16:28:21',1264970000,'resolved fixed','7aa1206',1265120000,'java/org/apache/catalina/filters/RemoteIpFilter.java'),(719,48645,'Bug 48645  RequestUtil.URLDecode(byte[] bytes, String enc)','the enc is not used in the implementation\n\n  public static String URLDecode(byte[] bytes, String enc) {\n        return URLDecode(bytes, null, false);\n    }','request util requestutil decod urldecod byte byte string enc enc use implement public static string decod urldecod byte byte string enc return decod urldecod byte null fals','request util requestutil decod urldecod byte byte string enc','enc use implement public static string decod urldecod byte byte string enc return decod urldecod byte null fals','2010-01-31 04:36:17',1264930000,'resolved fixed','d0f9da2',1264940000,'java/org/apache/catalina/util/RequestUtil.java'),(720,48516,'Bug 48516  NullPointerException in JNDIRealm','','null pointer except nullpointerexcept realm jndirealm','null pointer except nullpointerexcept realm jndirealm','','2010-01-11 05:42:00',1263210000,'resolved fixed','62d29b6',1263340000,'java/org/apache/catalina/realm/JNDIRealm.java'),(721,48004,'Bug 48004  setHeader() does not replace the previous value for a \"Server\"','','set header sethead replac previou valu server','set header sethead replac previou valu server','','2009-10-15 11:16:16',1255620000,'resolved fixed','13daf69',1263330000,'java/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java'),(722,48421,'Bug 48421  JULI webapp logging files will not closed when webapp is stopped,reloaded or undeployed','In Tomcat 6  the JULI logging files which are (can be) declared in webapp/WEB-INF/classes/logging.properties will not closed, when the\nwebapp is reloaded, stopped or even undeployed. The files will at last be closed, when tomcat is shut down or restarted.\n\nThis is also true for the normally used Handler org.apache.juli.FileHandler, which opens a new File every day and closes the old.\n\nOn windows this has following effects:\nA) If  the webapp is undeployed the files which are open at this moment are locked and cannot be deleted until tomcat is (someday) stopped or restarted.\nB) If the webapp is reloaded the file is opened a second time. So the file has two open handles.\nThe next day the FileHandler closes one handle but the file is kept locked through the other handle and cannot be deleted.\n\nEvery time a webapp is reloaded the associated logfile is opened again (but not closed).\nThis has the consequence that after reloading webapps a few times tomcat must be restarted from time to time.\n\nWhen tomcat is shutdown the unnecessary (and other) open files are closed and will get the shutdown time as modification time.\nThat means any old log files will receive a current modification time, which is irritating.\n\nSteps to verify on windows: (for example: undeploy)\n1. create in the examples webapp: of tomcat 6.0.20:\nexamples/WEB-INF/classes/logging.properties:\n\nhandlers = org.apache.juli.FileHandler\norg.apache.juli.FileHandler.level = FINE\norg.apache.juli.FileHandler.directory = ${catalina.base}/logs\norg.apache.juli.FileHandler.prefix = servlet-examples.\n\n2. start tomcat\n3. undeploy examples using manager\nActual Results:\nfile ${catalina.base}/logs/servlet-examples.<date>.log cannot be deleted (nor at the next day)\nExpected:\nfile ${catalina.base}/logs/servlet-examples.<date>.log can be deleted\n\nvery cumbersome Workaround (working for reload):\nThe getHead method of a custom Formatter is extended to track the handlers along with the classloader and webapp.\nIf for a webapp a different (i.e. new) classloader is detected the close method of the handlers assigned to the old classloader is called. So the assigned file is proper closed (and the Formatter.getTail result is appended)\n\nI have set severity at minor because tomcat can be used (without webapp logging). But it is a bug because with this logging the same logfile can be useless multiple open (as described above), which should be considered as buggy.','juli webapp log file close webapp stop reload undeploy tomcat juli log file declar webapp web inf class log properti close webapp reload stop even undeploy file last close tomcat shut restart true normal use handler apach juli file handler filehandl open new file everi day close old window follow effect webapp undeploy file open moment lock cannot delet tomcat someday stop restart webapp reload file open second time file two open handl next day file handler filehandl close one handl file kept lock handl cannot delet everi time webapp reload associ logfil open close consequ reload webapp time tomcat must restart time time tomcat shutdown unnecessari open file close get shutdown time modif time mean old log file receiv current modif time irrit step verifi window exampl undeploy creat exampl webapp tomcat exampl web inf class log properti handler apach juli file handler filehandl apach juli file handler filehandl level fine apach juli file handler filehandl directori catalina base log apach juli file handler filehandl prefix servlet exampl servletexampl start tomcat undeploy exampl use manag actual result file catalina base log servlet exampl servletexampl date log cannot delet next day expect file catalina base log servlet exampl servletexampl date log delet cumbersom workaround work reload get head gethead method custom formatt extend track handler along classload webapp webapp differ new classload detect close method handler assign old classload call assign file proper close formatt get tail gettail result append set sever minor tomcat use without webapp log log logfil useless multipl open describ consid buggi','juli webapp log file close webapp stop reload undeploy','tomcat juli log file declar webapp web inf class log properti close webapp reload stop even undeploy file last close tomcat shut restart true normal use handler apach juli file handler filehandl open new file everi day close old window follow effect webapp undeploy file open moment lock cannot delet tomcat someday stop restart webapp reload file open second time file two open handl next day file handler filehandl close one handl file kept lock handl cannot delet everi time webapp reload associ logfil open close consequ reload webapp time tomcat must restart time time tomcat shutdown unnecessari open file close get shutdown time modif time mean old log file receiv current modif time irrit step verifi window exampl undeploy creat exampl webapp tomcat exampl web inf class log properti handler apach juli file handler filehandl apach juli file handler filehandl level fine apach juli file handler filehandl directori catalina base log apach juli file handler filehandl prefix servlet exampl servletexampl start tomcat undeploy exampl use manag actual result file catalina base log servlet exampl servletexampl date log cannot delet next day expect file catalina base log servlet exampl servletexampl date log delet cumbersom workaround work reload get head gethead method custom formatt extend track handler along classload webapp webapp differ new classload detect close method handler assign old classload call assign file proper close formatt get tail gettail result append set sever minor tomcat use without webapp log log logfil useless multipl open describ consid buggi','2009-12-20 14:45:51',1261340000,'resolved fixed','eeb017a',1263320000,'java/org/apache/juli/ClassLoaderLogManager.java\njava/org/apache/juli/logging/LogFactory.java'),(723,48523,'Bug 48523  Duplicate property keys in various files','There are some properties files with non-unique property keys; normally these should be unique.\n\nFile: java\\org\\apache\\catalina\\realm\\LocalStrings.properties\nDuplicate key: \'jaasRealm.userPrincipalSuccess\'\njaasRealm.userPrincipalSuccess=Principal \"{0}\" is a valid user class. We will use this as the user Principal.\njaasRealm.userPrincipalSuccess=Subject for username \"{0}\" returned user Principal \"{1}\"\nDuplicate key: \'jaasRealm.userPrincipalFailure\'\njaasRealm.userPrincipalFailure=No valid user Principal found\njaasRealm.userPrincipalFailure=Subject for username \"{0}\" did not return a valid user Principal\nFile: java\\org\\apache\\catalina\\realm\\LocalStrings_es.properties\nDuplicate key: \'jaasRealm.userPrincipalSuccess\'\njaasRealm.userPrincipalSuccess = El Principal \"{0}\" es una clase v\\u00E1lida de usuario. La vamos a usar como usuario Principal.\njaasRealm.userPrincipalSuccess = El asunto para el nombre de usuario \"{0}\" devolvi\\u00F3 usuario Principal \"{1}\"\nDuplicate key: \'jaasRealm.userPrincipalFailure\'\njaasRealm.userPrincipalFailure = No se ha hallado usuario Principal\njaasRealm.userPrincipalFailure = El asunto para el nombre de usuario \"{0}\" no devolvi\\u00F3 un usuario Principal v\\u00E1lido\nFile: java\\org\\apache\\catalina\\startup\\LocalStrings.properties\nDuplicate key: \'contextConfig.jndiUrl\'\ncontextConfig.jndiUrl=The connection created for URL [{0}] was not a DirContextURLConnection\ncontextConfig.jndiUrl=Unable to process JNDI URL [{0}] for annotations\nDuplicate key: \'webXml.mergeConflictFilter\'\nwebXml.mergeConflictFilter=The Servlet [{0}] was defined inconsistently in multiple fragments including fragment with name [{1}] located at [{2}]\nwebXml.mergeConflictFilter=The Filter [{0}] was defined inconsistently in multiple fragments including fragment with name [{1}] located at [{2}]\nFile: java\\org\\apache\\jasper\\resources\\LocalStrings.properties\nDuplicate key: \'jsp.error.page.invalid.buffer\'\njsp.error.page.invalid.buffer=Page directive: invalid value for buffer\njsp.error.page.invalid.buffer=Page directive: invalid buffer size\nDuplicate key: \'jsp.error.xml.invalidHighSurrogate\'\njsp.error.xml.invalidHighSurrogate = High surrogate bits in UTF-8 sequence must not exceed 0x10 but found 0x{0}.\njsp.error.xml.invalidHighSurrogate = High surrogate bits in UTF-8 sequence must not exceed 0x10 but found 0x{0}.\nFile: java\\org\\apache\\jasper\\resources\\LocalStrings_es.properties\nDuplicate key: \'jsp.error.page.invalid.buffer\'\njsp.error.page.invalid.buffer = Directiva Page\\: valor incorrecto para b\\u00FAfer\njsp.error.page.invalid.buffer = Directiva Page\\: valor incorrecto para buffer\nDuplicate key: \'jsp.error.xml.invalidHighSurrogate\'\njsp.error.xml.invalidHighSurrogate = Los bits de surrogaci\\u00F3n alta en secuencai UTF-8 no deben de exceder 0x10 pero se hall\\u00F3 0x{0}.\njsp.error.xml.invalidHighSurrogate = Surrogaci\\u00F3n Alta de bits en secuencia UTF-8 no debe de exceder 0x10, pero se hall\\u00F3 0x{0}.\nFile: java\\org\\apache\\jasper\\resources\\LocalStrings_ja.properties\nDuplicate key: \'jsp.error.page.invalid.buffer\'\njsp.error.page.invalid.buffer=page\\u6307\\u793a\\u5b50: buffer\\u5c5e\\u6027\\u306e\\u5024\\u304c\\u7121\\u52b9\\u3067\\u3059\njsp.error.page.invalid.buffer=page\\u6307\\u793a\\u5b50: \\u7121\\u52b9\\u306a\\u30d0\\u30c3\\u30d5\\u30a1\\u30b5\\u30a4\\u30ba\\u3067\\u3059\nDuplicate key: \'jsp.error.xml.invalidHighSurrogate\'\njsp.error.xml.invalidHighSurrogate = UTF-8\\u30b7\\u30fc\\u30b1\\u30f3\\u30b9\\u306e\\u30cf\\u30a4\\u30b5\\u30ed\\u30b2\\u30fc\\u30c8\\u30d3\\u30c3\\u30c8\\u306f0x10\\u3092\\u8d8a\\u3048\\u3066\\u306f\\u3044\\u3051\\u307e\\u305b\\u3093\\u304c\\u30010x{0}\\u304c\\u898b\\u3064\\u304b\\u308a\\u307e\\u3057\\u305f\njsp.error.xml.invalidHighSurrogate = UTF-8\\u30b7\\u30fc\\u30b1\\u30f3\\u30b9\\u306e\\u30cf\\u30a4\\u30b5\\u30ed\\u30b2\\u30fc\\u30c8\\u30d3\\u30c3\\u30c8\\u306f0x10\\u3092\\u8d8a\\u3048\\u3066\\u306f\\u3044\\u3051\\u307e\\u305b\\u3093\\u304c\\u30010x{0}\\u304c\\u898b\\u3064\\u304b\\u308a\\u307e\\u3057\\u305f\nFile: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings.properties\nDuplicate key: \'endpoint.poll.fail\'\nendpoint.poll.fail=Socket [{0}] poll event: [{1}] {2}\nendpoint.poll.fail=Critical poller failure (restarting poller): [{0}] {1}\nFile: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings_es.properties\nDuplicate key: \'endpoint.poll.fail\'\nendpoint.poll.fail = Conector [{0}] evento de encuesta\\: [{1}] {2}\nendpoint.poll.fail = Fallo cr\\u00EDtico de encuestador (reiniciando encuestador)\\: [{0}] {1}\nFile: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings.properties\nDuplicate key: \'endpoint.poll.fail\'\nendpoint.poll.fail=Socket [{0}] poll event: [{1}] {2}\nendpoint.poll.fail=Critical poller failure (restarting poller): [{0}] {1}\nFile: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings_es.properties\nDuplicate key: \'endpoint.poll.fail\'\nendpoint.poll.fail = Conector [{0}] evento de encuesta\\: [{1}] {2}\nendpoint.poll.fail = Fallo cr\\u00EDtico de encuestador (reiniciando encuestador)\\: [{0}] {1}','duplic properti key variou file properti file non uniqu nonuniqu properti key normal uniqu file java apach catalina realm local string localstr properti duplic key jaa realm jaasrealm user princip success userprincipalsuccess jaa realm jaasrealm user princip success userprincipalsuccess princip valid user class use user princip jaa realm jaasrealm user princip success userprincipalsuccess subject usernam return user princip duplic key jaa realm jaasrealm user princip failur userprincipalfailur jaa realm jaasrealm user princip failur userprincipalfailur valid user princip found jaa realm jaasrealm user princip failur userprincipalfailur subject usernam return valid user princip file java apach catalina realm local string localstr properti duplic key jaa realm jaasrealm user princip success userprincipalsuccess jaa realm jaasrealm user princip success userprincipalsuccess princip clase u00 e1lida u00e1lida usuario vamo usar usuario princip jaa realm jaasrealm user princip success userprincipalsuccess asunto nombr usuario devolvi u00 f3 u00f3 usuario princip duplic key jaa realm jaasrealm user princip failur userprincipalfailur jaa realm jaasrealm user princip failur userprincipalfailur hallado usuario princip jaa realm jaasrealm user princip failur userprincipalfailur asunto nombr usuario devolvi u00 f3 u00f3 usuario princip u00 e1lido u00e1lido file java apach catalina startup local string localstr properti duplic key context config contextconfig jndi url jndiurl context config contextconfig jndi url jndiurl connect creat url dir context connect dircontexturlconnect context config contextconfig jndi url jndiurl unabl process jndi url annot duplic key web xml webxml merg conflict filter mergeconflictfilt web xml webxml merg conflict filter mergeconflictfilt servlet defin inconsist multipl fragment includ fragment name locat web xml webxml merg conflict filter mergeconflictfilt filter defin inconsist multipl fragment includ fragment name locat file java apach jasper resourc local string localstr properti duplic key jsp error page invalid buffer jsp error page invalid buffer page direct invalid valu buffer jsp error page invalid buffer page direct invalid buffer size duplic key jsp error xml invalid high surrog invalidhighsurrog jsp error xml invalid high surrog invalidhighsurrog high surrog bit utf sequenc must exceed 0x10 found 0x jsp error xml invalid high surrog invalidhighsurrog high surrog bit utf sequenc must exceed 0x10 found 0x file java apach jasper resourc local string localstr properti duplic key jsp error page invalid buffer jsp error page invalid buffer directiva page valor incorrecto u00 afer u00faf jsp error page invalid buffer directiva page valor incorrecto buffer duplic key jsp error xml invalid high surrog invalidhighsurrog jsp error xml invalid high surrog invalidhighsurrog bit surrogaci u00 f3n u00f3n alta secuencai utf deben exced 0x10 hall u00 f3 u00f3 0x jsp error xml invalid high surrog invalidhighsurrog surrogaci u00 f3n u00f3n alta bit secuencia utf debe exced 0x10 hall u00 f3 u00f3 0x file java apach jasper resourc local string localstr properti duplic key jsp error page invalid buffer jsp error page invalid buffer page u6307 u793a u5b50 buffer u5c5 u6027 u306 u5024 u304c u7121 u52b9 u3067 u3059 jsp error page invalid buffer page u6307 u793a u5b50 u7121 u52b9 u306a u30d0 u30c3 u30d5 u30a1 u30b5 u30a4 u30ba u3067 u3059 duplic key jsp error xml invalid high surrog invalidhighsurrog jsp error xml invalid high surrog invalidhighsurrog utf u30b7 u30fc u30b1 u30f3 u30b9 u306 u30cf u30a4 u30b5 u30 u30b2 u30fc u30c8 u30d3 u30c3 u30c8 u306f0x10 u3092 u8d8a u3048 u3066 u306f u3044 u3051 u307 u305b u3093 u304c u30010x u304c u898b u3064 u304b u308a u307 u3057 u305f jsp error xml invalid high surrog invalidhighsurrog utf u30b7 u30fc u30b1 u30f3 u30b9 u306 u30cf u30a4 u30b5 u30 u30b2 u30fc u30c8 u30d3 u30c3 u30c8 u306f0x10 u3092 u8d8a u3048 u3066 u306f u3044 u3051 u307 u305b u3093 u304c u30010x u304c u898b u3064 u304b u308a u307 u3057 u305f file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail socket poll event endpoint poll fail critic poller failur restart poller file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail conector evento encuesta endpoint poll fail fallo cr u00 dtico u00edtico encuestador reiniciando encuestador file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail socket poll event endpoint poll fail critic poller failur restart poller file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail conector evento encuesta endpoint poll fail fallo cr u00 dtico u00edtico encuestador reiniciando encuestador','duplic properti key variou file','properti file non uniqu nonuniqu properti key normal uniqu file java apach catalina realm local string localstr properti duplic key jaa realm jaasrealm user princip success userprincipalsuccess jaa realm jaasrealm user princip success userprincipalsuccess princip valid user class use user princip jaa realm jaasrealm user princip success userprincipalsuccess subject usernam return user princip duplic key jaa realm jaasrealm user princip failur userprincipalfailur jaa realm jaasrealm user princip failur userprincipalfailur valid user princip found jaa realm jaasrealm user princip failur userprincipalfailur subject usernam return valid user princip file java apach catalina realm local string localstr properti duplic key jaa realm jaasrealm user princip success userprincipalsuccess jaa realm jaasrealm user princip success userprincipalsuccess princip clase u00 e1lida u00e1lida usuario vamo usar usuario princip jaa realm jaasrealm user princip success userprincipalsuccess asunto nombr usuario devolvi u00 f3 u00f3 usuario princip duplic key jaa realm jaasrealm user princip failur userprincipalfailur jaa realm jaasrealm user princip failur userprincipalfailur hallado usuario princip jaa realm jaasrealm user princip failur userprincipalfailur asunto nombr usuario devolvi u00 f3 u00f3 usuario princip u00 e1lido u00e1lido file java apach catalina startup local string localstr properti duplic key context config contextconfig jndi url jndiurl context config contextconfig jndi url jndiurl connect creat url dir context connect dircontexturlconnect context config contextconfig jndi url jndiurl unabl process jndi url annot duplic key web xml webxml merg conflict filter mergeconflictfilt web xml webxml merg conflict filter mergeconflictfilt servlet defin inconsist multipl fragment includ fragment name locat web xml webxml merg conflict filter mergeconflictfilt filter defin inconsist multipl fragment includ fragment name locat file java apach jasper resourc local string localstr properti duplic key jsp error page invalid buffer jsp error page invalid buffer page direct invalid valu buffer jsp error page invalid buffer page direct invalid buffer size duplic key jsp error xml invalid high surrog invalidhighsurrog jsp error xml invalid high surrog invalidhighsurrog high surrog bit utf sequenc must exceed 0x10 found 0x jsp error xml invalid high surrog invalidhighsurrog high surrog bit utf sequenc must exceed 0x10 found 0x file java apach jasper resourc local string localstr properti duplic key jsp error page invalid buffer jsp error page invalid buffer directiva page valor incorrecto u00 afer u00faf jsp error page invalid buffer directiva page valor incorrecto buffer duplic key jsp error xml invalid high surrog invalidhighsurrog jsp error xml invalid high surrog invalidhighsurrog bit surrogaci u00 f3n u00f3n alta secuencai utf deben exced 0x10 hall u00 f3 u00f3 0x jsp error xml invalid high surrog invalidhighsurrog surrogaci u00 f3n u00f3n alta bit secuencia utf debe exced 0x10 hall u00 f3 u00f3 0x file java apach jasper resourc local string localstr properti duplic key jsp error page invalid buffer jsp error page invalid buffer page u6307 u793a u5b50 buffer u5c5 u6027 u306 u5024 u304c u7121 u52b9 u3067 u3059 jsp error page invalid buffer page u6307 u793a u5b50 u7121 u52b9 u306a u30d0 u30c3 u30d5 u30a1 u30b5 u30a4 u30ba u3067 u3059 duplic key jsp error xml invalid high surrog invalidhighsurrog jsp error xml invalid high surrog invalidhighsurrog utf u30b7 u30fc u30b1 u30f3 u30b9 u306 u30cf u30a4 u30b5 u30 u30b2 u30fc u30c8 u30d3 u30c3 u30c8 u306f0x10 u3092 u8d8a u3048 u3066 u306f u3044 u3051 u307 u305b u3093 u304c u30010x u304c u898b u3064 u304b u308a u307 u3057 u305f jsp error xml invalid high surrog invalidhighsurrog utf u30b7 u30fc u30b1 u30f3 u30b9 u306 u30cf u30a4 u30b5 u30 u30b2 u30fc u30c8 u30d3 u30c3 u30c8 u306f0x10 u3092 u8d8a u3048 u3066 u306f u3044 u3051 u307 u305b u3093 u304c u30010x u304c u898b u3064 u304b u308a u307 u3057 u305f file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail socket poll event endpoint poll fail critic poller failur restart poller file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail conector evento encuesta endpoint poll fail fallo cr u00 dtico u00edtico encuestador reiniciando encuestador file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail socket poll event endpoint poll fail critic poller failur restart poller file java apach tomcat util net re local string localstr properti duplic key endpoint poll fail endpoint poll fail conector evento encuesta endpoint poll fail fallo cr u00 dtico u00edtico encuestador reiniciando encuestador','2010-01-11 12:45:44',1263230000,'resolved fixed','f2eea0c',1263290000,'java/org/apache/catalina/startup/ContextConfig.java'),(724,48517,'Bug 48517  @SuppressWarnings(\"unchecked\") - document and reduce scope','','suppress warn suppresswarn uncheck document reduc scope','suppress warn suppresswarn uncheck document reduc scope','','2010-01-11 07:49:28',1263210000,'resolved fixed','4df1957',1263290000,'java/javax/el/BeanELResolver.java\njava/javax/el/ELContext.java\njava/javax/el/ResourceBundleELResolver.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/el/lang/ELSupport.java\njava/org/apache/el/lang/EvaluationContext.java\njava/org/apache/el/parser/AstIdentifier.java\njava/org/apache/el/parser/AstValue.java\njava/org/apache/el/parser/SimpleNode.java\njava/org/apache/naming/resources/VirtualDirContext.java'),(725,48112,'Bug 48112  Closing curly brace in literal string incorrectly treated as expression terminator.','On tomcat 6.0.20 something like the following line in a JSP causes a exception:\n\n<c:out value=\"${fn:trim(\'{world}\')}\"/>\n\nAfter removing the closing curly brace from the literal (\'{world}\' -> \'{world\') the JSP works. This behaviour seems specific to 6.0.20, as on 6.0.18 and 6.0.16 the line above works fine.\n\nExample of exception:\n=====================\norg.apache.jasper.JasperException: An exception occurred processing JSP page /test.jsp at line 11\n\n8: <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n9: </head>\n10: <body>\n11: <c:out value=\"${fn:trim(\'{world}\')}\"/>\n12: </body>\n13: </html>\n\n\nStacktrace:\n	org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:505)\n	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:416)\n	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)\n	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nroot cause\n\njavax.el.ELException: Error Parsing: ${fn:trim(\'{world}\n	org.apache.el.lang.ExpressionBuilder.createNodeInternal(ExpressionBuilder.java:125)\n	org.apache.el.lang.ExpressionBuilder.build(ExpressionBuilder.java:150)\n	org.apache.el.lang.ExpressionBuilder.createValueExpression(ExpressionBuilder.java:194)\n	org.apache.el.ExpressionFactoryImpl.createValueExpression(ExpressionFactoryImpl.java:68)\n	org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:934)\n	org.apache.jsp.test_jsp._jspx_meth_c_005fout_005f0(test_jsp.java:98)\n	org.apache.jsp.test_jsp._jspService(test_jsp.java:72)\n	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)\n	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)\n	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nroot cause\n\norg.apache.el.parser.ParseException: Encountered \" <ILLEGAL_CHARACTER> \"\\\' \"\" at line 1, column 11.\nWas expecting one of:\n    <INTEGER_LITERAL> ...\n    <FLOATING_POINT_LITERAL> ...\n    <STRING_LITERAL> ...\n    \"true\" ...\n    \"false\" ...\n    \"null\" ...\n    \"(\" ...\n    \")\" ...\n    \"!\" ...\n    \"not\" ...\n    \"empty\" ...\n    \"-\" ...\n    <IDENTIFIER> ...\n    \n	org.apache.el.parser.ELParser.generateParseException(ELParser.java:2142)\n	org.apache.el.parser.ELParser.jj_consume_token(ELParser.java:2024)\n	org.apache.el.parser.ELParser.Function(ELParser.java:1207)\n	org.apache.el.parser.ELParser.NonLiteral(ELParser.java:1114)\n	org.apache.el.parser.ELParser.ValuePrefix(ELParser.java:1016)\n	org.apache.el.parser.ELParser.Value(ELParser.java:965)\n	org.apache.el.parser.ELParser.Unary(ELParser.java:947)\n	org.apache.el.parser.ELParser.Multiplication(ELParser.java:711)\n	org.apache.el.parser.ELParser.Math(ELParser.java:631)\n	org.apache.el.parser.ELParser.Compare(ELParser.java:443)\n	org.apache.el.parser.ELParser.Equality(ELParser.java:337)\n	org.apache.el.parser.ELParser.And(ELParser.java:281)\n	org.apache.el.parser.ELParser.Or(ELParser.java:225)\n	org.apache.el.parser.ELParser.Choice(ELParser.java:182)\n	org.apache.el.parser.ELParser.Expression(ELParser.java:174)\n	org.apache.el.parser.ELParser.DynamicExpression(ELParser.java:146)\n	org.apache.el.parser.ELParser.CompositeExpression(ELParser.java:43)\n	org.apache.el.lang.ExpressionBuilder.createNodeInternal(ExpressionBuilder.java:93)\n	org.apache.el.lang.ExpressionBuilder.build(ExpressionBuilder.java:150)\n	org.apache.el.lang.ExpressionBuilder.createValueExpression(ExpressionBuilder.java:194)\n	org.apache.el.ExpressionFactoryImpl.createValueExpression(ExpressionFactoryImpl.java:68)\n	org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:934)\n	org.apache.jsp.test_jsp._jspx_meth_c_005fout_005f0(test_jsp.java:98)\n	org.apache.jsp.test_jsp._jspService(test_jsp.java:72)\n	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)\n	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)\n	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)','close curli brace liter string incorrectli treat express termin tomcat someth like follow line jsp caus except valu fn trim world remov close curli brace liter world world jsp work behaviour seem specif line work fine exampl except apach jasper jasper except jasperexcept except occur process jsp page jsp line meta http equiv httpequiv content type content text html charset utf head bodi valu fn trim world bodi html stacktrac apach jasper servlet jsp servlet wrapper jspservletwrapp handl jsp except handlejspexcept jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java root caus javax except elexcept error pars fn trim world apach lang express builder expressionbuild creat node intern createnodeintern express builder expressionbuild java apach lang express builder expressionbuild build express builder expressionbuild java apach lang express builder expressionbuild creat valu express createvalueexpress express builder expressionbuild java apach express factori impl expressionfactoryimpl creat valu express createvalueexpress express factori impl expressionfactoryimpl java apach jasper runtim page context impl pagecontextimpl proprietari evalu proprietaryevalu page context impl pagecontextimpl java apach jsp jsp jspx meth 005fout 005f0 jsp java apach jsp jsp jsp servic jspservic jsp java apach jasper runtim http jsp base httpjspbase servic http jsp base httpjspbase java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java root caus apach parser pars except parseexcept encount illeg charact line column expect one integ liter float point liter string liter true fals null empti identifi apach parser parser elpars gener pars except generateparseexcept parser elpars java apach parser parser elpars jj consum token parser elpars java apach parser parser elpars function parser elpars java apach parser parser elpars non liter nonliter parser elpars java apach parser parser elpars valu prefix valueprefix parser elpars java apach parser parser elpars valu parser elpars java apach parser parser elpars unari parser elpars java apach parser parser elpars multipl parser elpars java apach parser parser elpars math parser elpars java apach parser parser elpars compar parser elpars java apach parser parser elpars equal parser elpars java apach parser parser elpars parser elpars java apach parser parser elpars parser elpars java apach parser parser elpars choic parser elpars java apach parser parser elpars express parser elpars java apach parser parser elpars dynam express dynamicexpress parser elpars java apach parser parser elpars composit express compositeexpress parser elpars java apach lang express builder expressionbuild creat node intern createnodeintern express builder expressionbuild java apach lang express builder expressionbuild build express builder expressionbuild java apach lang express builder expressionbuild creat valu express createvalueexpress express builder expressionbuild java apach express factori impl expressionfactoryimpl creat valu express createvalueexpress express factori impl expressionfactoryimpl java apach jasper runtim page context impl pagecontextimpl proprietari evalu proprietaryevalu page context impl pagecontextimpl java apach jsp jsp jspx meth 005fout 005f0 jsp java apach jsp jsp jsp servic jspservic jsp java apach jasper runtim http jsp base httpjspbase servic http jsp base httpjspbase java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java','close curli brace liter string incorrectli treat express termin','tomcat someth like follow line jsp caus except valu fn trim world remov close curli brace liter world world jsp work behaviour seem specif line work fine exampl except apach jasper jasper except jasperexcept except occur process jsp page jsp line meta http equiv httpequiv content type content text html charset utf head bodi valu fn trim world bodi html stacktrac apach jasper servlet jsp servlet wrapper jspservletwrapp handl jsp except handlejspexcept jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java root caus javax except elexcept error pars fn trim world apach lang express builder expressionbuild creat node intern createnodeintern express builder expressionbuild java apach lang express builder expressionbuild build express builder expressionbuild java apach lang express builder expressionbuild creat valu express createvalueexpress express builder expressionbuild java apach express factori impl expressionfactoryimpl creat valu express createvalueexpress express factori impl expressionfactoryimpl java apach jasper runtim page context impl pagecontextimpl proprietari evalu proprietaryevalu page context impl pagecontextimpl java apach jsp jsp jspx meth 005fout 005f0 jsp java apach jsp jsp jsp servic jspservic jsp java apach jasper runtim http jsp base httpjspbase servic http jsp base httpjspbase java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java root caus apach parser pars except parseexcept encount illeg charact line column expect one integ liter float point liter string liter true fals null empti identifi apach parser parser elpars gener pars except generateparseexcept parser elpars java apach parser parser elpars jj consum token parser elpars java apach parser parser elpars function parser elpars java apach parser parser elpars non liter nonliter parser elpars java apach parser parser elpars valu prefix valueprefix parser elpars java apach parser parser elpars valu parser elpars java apach parser parser elpars unari parser elpars java apach parser parser elpars multipl parser elpars java apach parser parser elpars math parser elpars java apach parser parser elpars compar parser elpars java apach parser parser elpars equal parser elpars java apach parser parser elpars parser elpars java apach parser parser elpars parser elpars java apach parser parser elpars choic parser elpars java apach parser parser elpars express parser elpars java apach parser parser elpars dynam express dynamicexpress parser elpars java apach parser parser elpars composit express compositeexpress parser elpars java apach lang express builder expressionbuild creat node intern createnodeintern express builder expressionbuild java apach lang express builder expressionbuild build express builder expressionbuild java apach lang express builder expressionbuild creat valu express createvalueexpress express builder expressionbuild java apach express factori impl expressionfactoryimpl creat valu express createvalueexpress express factori impl expressionfactoryimpl java apach jasper runtim page context impl pagecontextimpl proprietari evalu proprietaryevalu page context impl pagecontextimpl java apach jsp jsp jspx meth 005fout 005f0 jsp java apach jsp jsp jsp servic jspservic jsp java apach jasper runtim http jsp base httpjspbase servic http jsp base httpjspbase java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java','2009-11-03 07:09:58',1257250000,'resolved fixed','11810fb',1262800000,'test/org/apache/el/TestELEvaluation.java'),(726,48424,'Bug 48424  Keep same logic for creating the objectnames for connector mbeans','Currently, for connector MBeans, they are registered and unregistered by Connector classes themselves. But in the ServerLifecycle and MBeanUtils, there are also codes for unregistering the connector MBeans. Suppose it is used for double check ?\nThe question is that the codes for creating connector object name are not same, in the MBeanUtils, it always assume that address property is of String type, sometimes that a ClassCastException would be thrown.','keep logic creat objectnam connector mbean current connector bean mbean regist unregist connector class server lifecycl serverlifecycl bean util mbeanutil code unregist connector bean mbean suppos use doubl check question code creat connector object name bean util mbeanutil alway assum address properti string type sometim class cast except classcastexcept would thrown','keep logic creat objectnam connector mbean','current connector bean mbean regist unregist connector class server lifecycl serverlifecycl bean util mbeanutil code unregist connector bean mbean suppos use doubl check question code creat connector object name bean util mbeanutil alway assum address properti string type sometim class cast except classcastexcept would thrown','2009-12-20 23:29:35',1261370000,'resolved fixed','da5f249',1262720000,'java/org/apache/catalina/connector/Connector.java\njava/org/apache/catalina/mbeans/MBeanUtils.java'),(727,48006,'Bug 48006  Implement the header X-Powered-By suggested by the servlet specification','','implement header power suggest servlet specif','implement header power suggest servlet specif','','2009-10-15 11:34:52',1255620000,'resolved fixed','3d309a5',1262260000,'java/org/apache/catalina/connector/CoyoteAdapter.java'),(728,43819,'Bug 43819  Support latest JSR245 proposal to make EL \"self-contained\"','','support latest r245 jsr245 propos make self contain selfcontain','support latest r245 jsr245 propos make self contain selfcontain','','2007-11-08 14:48:53',1194550000,'resolved fixed','9a2ae02',1262210000,'java/javax/el/ExpressionFactory.java\njava/org/apache/jasper/compiler/JspUtil.java\njava/org/apache/jasper/compiler/PageInfo.java\njava/org/apache/jasper/compiler/Validator.java\njava/org/apache/jasper/runtime/JspApplicationContextImpl.java'),(729,48345,'Bug 48345  Session does time-out shorter than setting in web.xml when PersistentManager is used.','I am encountering the problem that Session does time-out shorter than setting in web.xml.\n\nThis is a simple scenario where the problem occurs. \n\nI am using PersistentManager by the following configuration.\n<Context>\n  <Manager className=\"org.apache.catalina.session.PersistentManager\"\n           maxIdleSwap=\"120\">\n    <Store className=\"org.apache.catalina.session.FileStore\"/>\n  </Manager>\n</Context>\n\nI am setting the session-timeout at five minutes.\n<session-config>\n    <session-timeout>5</session-timeout>\n</session-config>\n\n[scenario]\n1. Create Session.\n2. 120 seconds pass. \n   Session does swapOut. \n3. In addition, 120 seconds pass. \n   Get Session.\n   Session does swapIn and access time of session in the memory is updated. \n4. In addition, 90 seconds pass.\n   Get Session.\n\nBecause the access time of the session has been updated in (3),\nThe session should be able to be acquired.\nHowever, the session can not be acquired. \n\nThis cause is StoreBase#processExpires invoked between (3) and (4).\nStoreBase#processExpire deletes the session saved in Store.\nStoreBase#processExpires is as follows.\n\n=====StoreBase#processExpires=====\npublic void processExpires() {\n...\n    for (int i = 0; i < keys.length; i++) {\n        try {\n            StandardSession session = (StandardSession) load(keys[i]);\n            if (session == null) {\n                continue;\n            }\n            if (session.isValid()) {\n                continue;\n            }\n              ...\n            if ( ( (PersistentManagerBase) manager).isLoaded( keys[i] )) {\n                // recycle old backup session\n                session.recycle();\n            } else {\n                // expire swapped out session\n                session.expire();\n            }\n            remove(session.getIdInternal());\n        } catch (Exception e) {\n            ...\n        }\n    }\n}\n======\n\nThe session saved in Store is loaded, and StandardSession#isValid() is executed. \nStandardSession#expire(true) is invoked for the session that passes \nsession time-out in \"StandardSession#isValid()\". \n\nStandardSession#expire(true) invokes Manager#remove(Session).\nAs a result, the session is deleted from the session map. \n\nIn a word, session in memory is deleted by invalidating old session in Store. \nAs a result, session does time-out shorter than setting in web.xml\n\nI made a patch against trunk.\n\nBest regards.','session time out timeout shorter set web xml persist manag persistentmanag use encount problem session time out timeout shorter set web xml simpl scenario problem occur use persist manag persistentmanag follow configur context manag class name classnam apach catalina session persist manag persistentmanag max idl swap maxidleswap store class name classnam apach catalina session file store filestor manag context set session timeout sessiontimeout five minut session config sessionconfig session timeout sessiontimeout session timeout sessiontimeout session config sessionconfig scenario creat session second pa session swap out swapout addit second pa get session session swap in swapin access time session memori updat addit second pa get session access time session updat session abl acquir howev session acquir caus store base storebas process expir processexpir invok store base storebas process expir processexpir delet session save store store base storebas process expir processexpir follow store base storebas process expir processexpir public void process expir processexpir int key length tri standard session standardsess session standard session standardsess load key session null continu session is valid isvalid continu persist manag base persistentmanagerbas manag is load isload key recycl old backup session session recycl els expir swap session session expir remov session get id intern getidintern catch except session save store load standard session standardsess is valid isvalid execut standard session standardsess expir true invok session pass session time out timeout standard session standardsess is valid isvalid standard session standardsess expir true invok manag remov session result session delet session map word session memori delet invalid old session store result session time out timeout shorter set web xml made patch trunk best regard','session time out timeout shorter set web xml persist manag persistentmanag use','encount problem session time out timeout shorter set web xml simpl scenario problem occur use persist manag persistentmanag follow configur context manag class name classnam apach catalina session persist manag persistentmanag max idl swap maxidleswap store class name classnam apach catalina session file store filestor manag context set session timeout sessiontimeout five minut session config sessionconfig session timeout sessiontimeout session timeout sessiontimeout session config sessionconfig scenario creat session second pa session swap out swapout addit second pa get session session swap in swapin access time session memori updat addit second pa get session access time session updat session abl acquir howev session acquir caus store base storebas process expir processexpir invok store base storebas process expir processexpir delet session save store store base storebas process expir processexpir follow store base storebas process expir processexpir public void process expir processexpir int key length tri standard session standardsess session standard session standardsess load key session null continu session is valid isvalid continu persist manag base persistentmanagerbas manag is load isload key recycl old backup session session recycl els expir swap session session expir remov session get id intern getidintern catch except session save store load standard session standardsess is valid isvalid execut standard session standardsess expir true invok session pass session time out timeout standard session standardsess is valid isvalid standard session standardsess expir true invok manag remov session result session delet session map word session memori delet invalid old session store result session time out timeout shorter set web xml made patch trunk best regard','2009-12-07 02:09:14',1260170000,'resolved fixed','d939925',1262170000,'java/org/apache/catalina/session/StoreBase.java'),(730,48454,'Bug 48454  \"Bad file descriptor\"-IOException in CGIServlet for some programs','','bad file descriptor except ioexcept servlet cgiservlet program','bad file descriptor except ioexcept servlet cgiservlet program','','2009-12-29 02:46:52',1262070000,'resolved fixed','ae6c3c4',1262170000,'java/org/apache/catalina/servlets/CGIServlet.java'),(731,48443,'Bug 48443  when the context path is empty,tomcat will startup with a FileNotFoundException','','context path empti tomcat startup file not found except filenotfoundexcept','context path empti tomcat startup file not found except filenotfoundexcept','','2009-12-24 22:34:44',1261710000,'resolved fixed','ff22e4a',1262170000,'java/org/apache/naming/resources/DirContextURLConnection.java'),(732,48399,'Bug 48399  Lock fields should be final','','lock field final','lock field final','','2009-12-16 19:20:55',1261010000,'resolved fixed','e1d1476',1261280000,'java/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/tribes/group/interceptors/OrderInterceptor.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/MultiLockFairBlockingQueue.java'),(733,47930,'Bug 47930  PersistentManager (using filestore) can return different session objects linked to the same session ID, when Tomcat is restarted','','persist manag persistentmanag use filestor return differ session object link session id tomcat restart','persist manag persistentmanag use filestor return differ session object link session id tomcat restart','','2009-10-01 22:42:57',1254450000,'resolved fixed','d9f2c99',1261160000,'java/org/apache/catalina/session/PersistentManagerBase.java'),(734,48387,'Bug 48387  Make RemoteIpFilter parameters consistent with RemoteIpValve','','make remot ip filter remoteipfilt paramet consist remot ip valv remoteipvalv','make remot ip filter remoteipfilt paramet consist remot ip valv remoteipvalv','','2009-12-14 10:28:40',1260800000,'resolved fixed','803d64d',1260830000,'java/org/apache/catalina/filters/RemoteIpFilter.java'),(735,47744,'Bug 47744  Memory leak when using SSL + Java security manager','','memori leak use ssl java secur manag','memori leak use ssl java secur manag','','2009-08-26 11:01:57',1251300000,'resolved fixed','51d5511',1260800000,'java/org/apache/tomcat/util/net/jsse/JSSESupport.java'),(736,47537,'Bug 47537  Empty response when forward to login page fails','When tomcat receives a POST request on a session that has timedout, it will forward to the form based login page (form-login-page). \nIf this forward fails for some reason (an error in the login page for instance), tomcat will return an empty HTTP response, without any error code. \n\nThe tomcat log says \"Unexpected error forwarding to login page\" and contains the detailed stacktrace, but i would expect the error to show up in the browser as well (at least a 500 status)','empti respons forward login page fail tomcat receiv post request session timedout forward form base login page form login page formloginpag forward fail reason error login page instanc tomcat return empti http respons without error code tomcat log say unexpect error forward login page contain detail stacktrac would expect error show browser well least statu','empti respons forward login page fail','tomcat receiv post request session timedout forward form base login page form login page formloginpag forward fail reason error login page instanc tomcat return empti http respons without error code tomcat log say unexpect error forward login page contain detail stacktrac would expect error show browser well least statu','2009-07-15 10:06:41',1247670000,'resolved fixed','88b5d4b',1260540000,'java/org/apache/catalina/authenticator/FormAuthenticator.java'),(737,48373,'Bug 48373  Can not get clients from TomcatBayeux','When call the getClients method,there will be a Exception:\njava.lang.ArrayStoreException: java.util.HashMap$Entry\n\nmaybe this method should be:\n\npublic List<Client> getClients() {\n    return java.util.Arrays.asList(clients.values().toArray(new Client[0]));\n}\n\ninstead of this:\n\npublic List<Client> getClients() {\n    return java.util.Arrays.asList(clients.entrySet().toArray(new Client[0]));\n}','get client tomcat bayeux tomcatbayeux call get client getclient method except java lang array store except arraystoreexcept java util hash map hashmap entri mayb method public list client get client getclient return java util array list aslist client valu to array toarray new client instead public list client get client getclient return java util array list aslist client entri set entryset to array toarray new client','get client tomcat bayeux tomcatbayeux','call get client getclient method except java lang array store except arraystoreexcept java util hash map hashmap entri mayb method public list client get client getclient return java util array list aslist client valu to array toarray new client instead public list client get client getclient return java util array list aslist client entri set entryset to array toarray new client','2009-12-11 00:22:52',1260510000,'resolved fixed','b09d817',1260530000,'modules/bayeux/java/org/apache/tomcat/bayeux/TomcatBayeux.java'),(738,48370,'Bug 48370  PublishRequest.java can not be compiled','There is a log used in org.apache.tomcat.bayeux.request.PublishRequest,but it was not be defined,so the class can not be complied successfully,there should be something like this?\n\nprivate static final Log log = LogFactory.getLog(PublishRequest.class);','publish request publishrequest java compil log use apach tomcat bayeux request publish request publishrequest defin class compli success someth like privat static final log log log factori logfactori get log getlog publish request publishrequest class','publish request publishrequest java compil','log use apach tomcat bayeux request publish request publishrequest defin class compli success someth like privat static final log log log factori logfactori get log getlog publish request publishrequest class','2009-12-10 17:24:23',1260480000,'resolved fixed','9be399f',1260530000,'modules/bayeux/java/org/apache/tomcat/bayeux/request/PublishRequest.java'),(739,48324,'Bug 48324  Javadoc fixes for connector.Request.java','','javadoc fix connector request java','javadoc fix connector request java','','2009-12-01 16:02:13',1259700000,'resolved fixed','549a5d5',1260460000,'java/org/apache/catalina/connector/Request.java'),(740,47502,'Bug 47502  clustering fails on serializing javax.security.auth.subject','Clustering fails on serializing javax.security.auth.subject. See stack below.\n\nI looked a little into the Tomcat code. In ./java/org/apache/catalina/connector/Request.java on line 1752 Tomcat puts the \'javax.security.auth.subject\' on the session if you use a securitymanager. This is the MemoryUser in my case I think.\n\nI must use the securitymanager because I use RMI.\n\nIs there a solution possible by making the MemoryUser serializable or by not putting it in the session as an attribute. Mark Thomas <markt_at_apache_dot_org> suggested a note on the session at the Tomcat user-mailinglist. I\'ve never seen notes on sessions.\n\nThe MemoryUser comes from the security-constraint in my web.xml.\n\n\nJul 8, 2009 5:53:52 PM org.apache.catalina.ha.session.DeltaSession writeObject\nSEVERE: Cannot serialize session attribute javax.security.auth.subject for session 9C533E0EB4A79ED5B206B8F5A5DB09AD\njava.io.NotSerializableException: org.apache.catalina.users.MemoryUser\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1156)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n    at java.util.LinkedList.writeObject(LinkedList.java:943)\n    at sun.reflect.GeneratedMethodAccessor216.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n    at java.io.ObjectOutputStream.access$300(ObjectOutputStream.java:143)\n    at java.io.ObjectOutputStream$PutFieldImpl.writeFields(ObjectOutputStream.java:1668)\n    at java.io.ObjectOutputStream.writeFields(ObjectOutputStream.java:454)\n    at javax.security.auth.Subject$SecureSet.writeObject(Subject.java:1281)\n    at sun.reflect.GeneratedMethodAccessor215.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n    at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:416)\n    at java.util.Collections$SynchronizedCollection.writeObject(Collections.java:1602)\n    at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n    at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:416)\n    at javax.security.auth.Subject.writeObject(Subject.java:919)\n    at sun.reflect.GeneratedMethodAccessor213.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n    at org.apache.catalina.ha.session.DeltaSession.writeObject(DeltaSession.java:714)\n    at org.apache.catalina.ha.session.DeltaSession.writeObjectData(DeltaSession.java:475)\n    at org.apache.catalina.ha.session.DeltaSession.writeObjectData(DeltaSession.java:472)\n    at org.apache.catalina.ha.session.DeltaManager.serializeSessions(DeltaManager.java:733)\n    at org.apache.catalina.ha.session.DeltaManager.sendSessions(DeltaManager.java:1513)\n    at org.apache.catalina.ha.session.DeltaManager.handleGET_ALL_SESSIONS(DeltaManager.java:1479)\n    at org.apache.catalina.ha.session.DeltaManager.messageReceived(DeltaManager.java:1310)\n    at org.apache.catalina.ha.session.DeltaManager.messageDataReceived(DeltaManager.java:1093)\n    at org.apache.catalina.ha.session.ClusterSessionListener.messageReceived(ClusterSessionListener.java:87)\n    at org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(SimpleTcpCluster.java:901)\n    at org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(SimpleTcpCluster.java:882)\n    at org.apache.catalina.tribes.group.GroupChannel.messageReceived(GroupChannel.java:269)\n    at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79)\n    at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79)\n    at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.messageReceived(TcpFailureDetector.java:110)\n    at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79)\n    at org.apache.catalina.tribes.group.ChannelCoordinator.messageReceived(ChannelCoordinator.java:241)\n    at org.apache.catalina.tribes.transport.ReceiverBase.messageDataReceived(ReceiverBase.java:225)\n    at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:188)\n    at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:91)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)','cluster fail serial javax secur auth subject cluster fail serial javax secur auth subject see stack look littl tomcat code java apach catalina connector request java line tomcat put javax secur auth subject session use securitymanag memori user memoryus case think must use securitymanag use rmi solut possibl make memori user memoryus serializ put session attribut mark thoma markt apach dot suggest note session tomcat user mailinglist usermailinglist never seen note session memori user memoryus come secur constraint securityconstraint web xml jul pm apach catalina session delta session deltasess write object writeobject sever cannot serial session attribut javax secur auth subject session c533 e0 b4 a79 d5 b206 b8 f5 a5 b09 9c533e0eb4a79ed5b206b8f5a5db09ad java not serializ except notserializableexcept apach catalina user memori user memoryus java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream write object writeobject object output stream objectoutputstream java java util link list linkedlist write object writeobject link list linkedlist java sun reflect gener method accessor216 generatedmethodaccessor216 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream access object output stream objectoutputstream java java object output stream objectoutputstream put field impl putfieldimpl write field writefield object output stream objectoutputstream java java object output stream objectoutputstream write field writefield object output stream objectoutputstream java javax secur auth subject secur set secureset write object writeobject subject java sun reflect gener method accessor215 generatedmethodaccessor215 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream default write field defaultwritefield object output stream objectoutputstream java java object output stream objectoutputstream default write object defaultwriteobject object output stream objectoutputstream java java util collect synchron collect synchronizedcollect write object writeobject collect java sun reflect gener method accessor214 generatedmethodaccessor214 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream default write field defaultwritefield object output stream objectoutputstream java java object output stream objectoutputstream default write object defaultwriteobject object output stream objectoutputstream java javax secur auth subject write object writeobject subject java sun reflect gener method accessor213 generatedmethodaccessor213 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream write object writeobject object output stream objectoutputstream java apach catalina session delta session deltasess write object writeobject delta session deltasess java apach catalina session delta session deltasess write object data writeobjectdata delta session deltasess java apach catalina session delta session deltasess write object data writeobjectdata delta session deltasess java apach catalina session delta manag deltamanag serial session serializesess delta manag deltamanag java apach catalina session delta manag deltamanag send session sendsess delta manag deltamanag java apach catalina session delta manag deltamanag handl handleget session delta manag deltamanag java apach catalina session delta manag deltamanag messag receiv messagereceiv delta manag deltamanag java apach catalina session delta manag deltamanag messag data receiv messagedatareceiv delta manag deltamanag java apach catalina session cluster session listen clustersessionlisten messag receiv messagereceiv cluster session listen clustersessionlisten java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tribe group group channel groupchannel messag receiv messagereceiv group channel groupchannel java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group interceptor tcp failur detector tcpfailuredetector messag receiv messagereceiv tcp failur detector tcpfailuredetector java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel coordin channelcoordin messag receiv messagereceiv channel coordin channelcoordin java apach catalina tribe transport receiv base receiverbas messag data receiv messagedatareceiv receiv base receiverbas java apach catalina tribe transport nio nio replic task nioreplicationtask drain channel drainchannel nio replic task nioreplicationtask java apach catalina tribe transport nio nio replic task nioreplicationtask run nio replic task nioreplicationtask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','cluster fail serial javax secur auth subject','cluster fail serial javax secur auth subject see stack look littl tomcat code java apach catalina connector request java line tomcat put javax secur auth subject session use securitymanag memori user memoryus case think must use securitymanag use rmi solut possibl make memori user memoryus serializ put session attribut mark thoma markt apach dot suggest note session tomcat user mailinglist usermailinglist never seen note session memori user memoryus come secur constraint securityconstraint web xml jul pm apach catalina session delta session deltasess write object writeobject sever cannot serial session attribut javax secur auth subject session c533 e0 b4 a79 d5 b206 b8 f5 a5 b09 9c533e0eb4a79ed5b206b8f5a5db09ad java not serializ except notserializableexcept apach catalina user memori user memoryus java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream write object writeobject object output stream objectoutputstream java java util link list linkedlist write object writeobject link list linkedlist java sun reflect gener method accessor216 generatedmethodaccessor216 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream access object output stream objectoutputstream java java object output stream objectoutputstream put field impl putfieldimpl write field writefield object output stream objectoutputstream java java object output stream objectoutputstream write field writefield object output stream objectoutputstream java javax secur auth subject secur set secureset write object writeobject subject java sun reflect gener method accessor215 generatedmethodaccessor215 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream default write field defaultwritefield object output stream objectoutputstream java java object output stream objectoutputstream default write object defaultwriteobject object output stream objectoutputstream java java util collect synchron collect synchronizedcollect write object writeobject collect java sun reflect gener method accessor214 generatedmethodaccessor214 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream default write field defaultwritefield object output stream objectoutputstream java java object output stream objectoutputstream default write object defaultwriteobject object output stream objectoutputstream java javax secur auth subject write object writeobject subject java sun reflect gener method accessor213 generatedmethodaccessor213 invok unknown sourc sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java java object stream class objectstreamclass invok write object invokewriteobject object stream class objectstreamclass java java object output stream objectoutputstream write serial data writeserialdata object output stream objectoutputstream java java object output stream objectoutputstream write ordinari object writeordinaryobject object output stream objectoutputstream java java object output stream objectoutputstream write object0 writeobject0 object output stream objectoutputstream java java object output stream objectoutputstream write object writeobject object output stream objectoutputstream java apach catalina session delta session deltasess write object writeobject delta session deltasess java apach catalina session delta session deltasess write object data writeobjectdata delta session deltasess java apach catalina session delta session deltasess write object data writeobjectdata delta session deltasess java apach catalina session delta manag deltamanag serial session serializesess delta manag deltamanag java apach catalina session delta manag deltamanag send session sendsess delta manag deltamanag java apach catalina session delta manag deltamanag handl handleget session delta manag deltamanag java apach catalina session delta manag deltamanag messag receiv messagereceiv delta manag deltamanag java apach catalina session delta manag deltamanag messag data receiv messagedatareceiv delta manag deltamanag java apach catalina session cluster session listen clustersessionlisten messag receiv messagereceiv cluster session listen clustersessionlisten java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tcp simpl tcp cluster simpletcpclust messag receiv messagereceiv simpl tcp cluster simpletcpclust java apach catalina tribe group group channel groupchannel messag receiv messagereceiv group channel groupchannel java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group interceptor tcp failur detector tcpfailuredetector messag receiv messagereceiv tcp failur detector tcpfailuredetector java apach catalina tribe group channel interceptor base channelinterceptorbas messag receiv messagereceiv channel interceptor base channelinterceptorbas java apach catalina tribe group channel coordin channelcoordin messag receiv messagereceiv channel coordin channelcoordin java apach catalina tribe transport receiv base receiverbas messag data receiv messagedatareceiv receiv base receiverbas java apach catalina tribe transport nio nio replic task nioreplicationtask drain channel drainchannel nio replic task nioreplicationtask java apach catalina tribe transport nio nio replic task nioreplicationtask run nio replic task nioreplicationtask java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2009-07-09 05:57:29',1247130000,'resolved fixed','806200c',1259710000,'java/org/apache/catalina/ha/session/DeltaSession.java'),(741,48296,'Bug 48296  Generics fixes','','gener fix','gener fix','','2009-11-28 07:42:38',1259410000,'resolved fixed','ed40c2c',1259710000,'java/org/apache/catalina/ant/jmx/JMXAccessorTask.java\njava/org/apache/catalina/tribes/membership/Membership.java\njava/org/apache/naming/resources/DirContextURLConnection.java'),(742,47342,'Bug 47342  ReplicatedContext#start throws NullPointerException.','','replic context replicatedcontext start throw null pointer except nullpointerexcept','replic context replicatedcontext start throw null pointer except nullpointerexcept','','2009-06-10 02:48:24',1244620000,'resolved fixed','9afe6ce',1259360000,'java/org/apache/catalina/ha/context/ReplicatedContext.java'),(743,48289,'Bug 48289  ElSupport - Javadoc and generics fixes','','el support elsupport javadoc gener fix','el support elsupport javadoc gener fix','','2009-11-25 16:35:49',1259180000,'resolved fixed','b8599a3',1259350000,'java/org/apache/el/lang/ELSupport.java\ntest/org/apache/el/TestELEvaluation.java'),(744,48288,'Bug 48288  Patch to fix generics in javax.el package helpers','','patch fix gener javax packag helper','patch fix gener javax packag helper','','2009-11-25 15:43:06',1259180000,'resolved fixed','2ac1900',1259350000,'java/org/apache/el/lang/EvaluationContext.java\njava/org/apache/jasper/el/ELContextWrapper.java'),(745,48287,'Bug 48287  ApplicationContextFacade - generics fixes','','applic context facad applicationcontextfacad gener fix','applic context facad applicationcontextfacad gener fix','','2009-11-25 15:36:20',1259180000,'resolved fixed','ce8d1c5',1259350000,'java/org/apache/catalina/core/ApplicationContextFacade.java'),(746,48285,'Bug 48285  ApplicationFilterFactory.matchDispatcher() fails to check ASYNC','catalina.core.ApplicationFilterFactory.matchDispatcher(FilterMap filterMap, DispatcherType type) fails to check for type == ASYNC\n\nThe extra case ought to be added (but I don\'t know what it should contain, so cannot provide a patch)','applic filter factori applicationfilterfactori match dispatch matchdispatch fail check async catalina core applic filter factori applicationfilterfactori match dispatch matchdispatch filter map filtermap filter map filtermap dispatch type dispatchertyp type fail check type async extra case ought ad know contain cannot provid patch','applic filter factori applicationfilterfactori match dispatch matchdispatch fail check async','catalina core applic filter factori applicationfilterfactori match dispatch matchdispatch filter map filtermap filter map filtermap dispatch type dispatchertyp type fail check type async extra case ought ad know contain cannot provid patch','2009-11-25 08:41:12',1259160000,'resolved fixed','f0a0aec',1259340000,'java/org/apache/catalina/core/ApplicationFilterFactory.java\njava/org/apache/catalina/deploy/FilterMap.java'),(747,48282,'Bug 48282  Possible NPE in org.apache.tomcat.util.modeler.Registry','','possibl npe apach tomcat util model registri','possibl npe apach tomcat util model registri','','2009-11-25 07:42:40',1259150000,'resolved fixed','56897be',1259340000,'java/org/apache/tomcat/util/modeler/Registry.java'),(748,48267,'Bug 48267  Patch to fix generics in javax packages','','patch fix gener javax packag','patch fix gener javax packag','','2009-11-23 13:22:35',1259000000,'resolved fixed','632e68c',1259340000,'java/javax/annotation/Resource.java\njava/javax/ejb/EJB.java\njava/javax/el/BeanELResolver.java\njava/javax/el/ELContext.java\njava/javax/el/ListELResolver.java\njava/javax/el/MapELResolver.java\njava/javax/el/ResourceBundleELResolver.java\njava/javax/xml/ws/WebServiceRef.java'),(749,48266,'Bug 48266  Patch to fix generics in catalina','','patch fix gener catalina','patch fix gener catalina','','2009-11-23 13:21:28',1259000000,'resolved fixed','21cd308',1259110000,'java/org/apache/catalina/ant/jmx/JMXAccessorTask.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/core/StandardPart.java\njava/org/apache/catalina/ha/backend/CollectedInfo.java\njava/org/apache/catalina/ha/session/BackupManager.java\njava/org/apache/catalina/ha/tcp/ReplicationValve.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java\njava/org/apache/catalina/tribes/transport/bio/MultipointBioSender.java'),(750,47836,'Bug 47836  TldConfig keeps an internal list of ApplicationListeners','','tld config tldconfig keep intern list applic listen applicationlisten','tld config tldconfig keep intern list applic listen applicationlisten','','2009-09-14 07:03:43',1252930000,'resolved fixed','92e53f3',1259030000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/startup/TldConfig.java'),(751,48239,'Bug 48239  HexUtils exposes public array','','hex util hexutil expos public array','hex util hexutil expos public array','','2009-11-19 07:48:12',1258630000,'resolved fixed','55e5052',1258940000,'java/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java\njava/org/apache/coyote/http11/filters/ChunkedInputFilter.java\njava/org/apache/coyote/http11/filters/ChunkedOutputFilter.java\njava/org/apache/tomcat/util/buf/HexUtils.java\njava/org/apache/tomcat/util/buf/MessageBytes.java'),(752,48248,'Bug 48248  tribes.group.interceptors.MessageDispatchInterceptor.run should be volatile','org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.run should be volatile, as it is used to communicate between running threads.','tribe group interceptor messag dispatch interceptor messagedispatchinterceptor run volatil apach catalina tribe group interceptor messag dispatch interceptor messagedispatchinterceptor run volatil use commun run thread','tribe group interceptor messag dispatch interceptor messagedispatchinterceptor run volatil','apach catalina tribe group interceptor messag dispatch interceptor messagedispatchinterceptor run volatil use commun run thread','2009-11-20 04:56:14',1258710000,'resolved fixed','a524187',1258940000,'java/org/apache/catalina/tribes/group/GroupChannel.java\njava/org/apache/catalina/tribes/group/interceptors/MessageDispatchInterceptor.java\njava/org/apache/catalina/tribes/group/interceptors/TcpPingInterceptor.java\njava/org/apache/catalina/tribes/membership/McastServiceImpl.java'),(753,48249,'Bug 48249  org.apache.tomcat.util.net.NioBlockingSelector.BlockPoller.run <= volatile','org.apache.tomcat.util.net.NioBlockingSelector.BlockPoller.run should be volatile, as it is used to communicate between running threads.','apach tomcat util net nio block selector nioblockingselector block poller blockpol run volatil apach tomcat util net nio block selector nioblockingselector block poller blockpol run volatil use commun run thread','apach tomcat util net nio block selector nioblockingselector block poller blockpol run volatil','apach tomcat util net nio block selector nioblockingselector block poller blockpol run volatil use commun run thread','2009-11-20 05:06:47',1258710000,'resolved fixed','c7d7ba2',1258940000,'java/org/apache/tomcat/util/net/NioBlockingSelector.java'),(754,48049,'Bug 48049  org.apache.naming.NamingContext\'s destroySubcontext() method doesn\'t  invoke itself recursively, but invoke unbind() method','Below is the original implementation of destroySubcontext(Name name) method:\n\npublic void destroySubcontext(Name name)\n        throws NamingException {\n        \n        checkWritable();\n        \n        while ((!name.isEmpty()) && (name.get(0).length() == 0))\n            name = name.getSuffix(1);\n        if (name.isEmpty())\n            throw new NamingException\n                (sm.getString(\"namingContext.invalidName\"));\n        \n        NamingEntry entry = (NamingEntry) bindings.get(name.get(0));\n        \n        if (entry == null) {\n            throw new NameNotFoundException\n                (sm.getString(\"namingContext.nameNotBound\", name.get(0)));\n        }\n        \n        if (name.size() > 1) {\n            if (entry.type == NamingEntry.CONTEXT) {\n                ((Context) entry.value).unbind(name.getSuffix(1));\n            } else {\n                throw new NamingException\n                    (sm.getString(\"namingContext.contextExpected\"));\n            }\n        } else {\n            if (entry.type == NamingEntry.CONTEXT) {\n                ((Context) entry.value).close();\n                bindings.remove(name.get(0));\n            } else {\n                throw new NotContextException\n                    (sm.getString(\"namingContext.contextExpected\"));\n            }\n        }\n        \n    }\n\n\nHowever, the method invokes \'unbind\' method rather than invokes itself recursively. \n\nif (name.size() > 1) {\n            if (entry.type == NamingEntry.CONTEXT) {\n                ((Context) entry.value).unbind(name.getSuffix(1));\n            } else {\n                throw new NamingException\n                    (sm.getString(\"namingContext.contextExpected\"));\n            }\n\nshould be: \n\nif (name.size() > 1) {\n            if (entry.type == NamingEntry.CONTEXT) {\n                ((Context) entry.value).destroySubcontext(name.getSuffix(1));\n            } else {\n                throw new NamingException\n                    (sm.getString(\"namingContext.contextExpected\"));\n            }','apach name name context namingcontext destroy subcontext destroysubcontext method doesn invok recurs invok unbind method origin implement destroy subcontext destroysubcontext name name method public void destroy subcontext destroysubcontext name name throw name except namingexcept check writabl checkwrit name is empti isempti name get length name name get suffix getsuffix name is empti isempti throw new name except namingexcept sm get string getstr name context namingcontext invalid name invalidnam name entri namingentri entri name entri namingentri bind get name get entri null throw new name not found except namenotfoundexcept sm get string getstr name context namingcontext name not bound namenotbound name get name size entri type name entri namingentri context context entri valu unbind name get suffix getsuffix els throw new name except namingexcept sm get string getstr name context namingcontext context expect contextexpect els entri type name entri namingentri context context entri valu close bind remov name get els throw new not context except notcontextexcept sm get string getstr name context namingcontext context expect contextexpect howev method invok unbind method rather invok recurs name size entri type name entri namingentri context context entri valu unbind name get suffix getsuffix els throw new name except namingexcept sm get string getstr name context namingcontext context expect contextexpect name size entri type name entri namingentri context context entri valu destroy subcontext destroysubcontext name get suffix getsuffix els throw new name except namingexcept sm get string getstr name context namingcontext context expect contextexpect','apach name name context namingcontext destroy subcontext destroysubcontext method doesn invok recurs invok unbind method','origin implement destroy subcontext destroysubcontext name name method public void destroy subcontext destroysubcontext name name throw name except namingexcept check writabl checkwrit name is empti isempti name get length name name get suffix getsuffix name is empti isempti throw new name except namingexcept sm get string getstr name context namingcontext invalid name invalidnam name entri namingentri entri name entri namingentri bind get name get entri null throw new name not found except namenotfoundexcept sm get string getstr name context namingcontext name not bound namenotbound name get name size entri type name entri namingentri context context entri valu unbind name get suffix getsuffix els throw new name except namingexcept sm get string getstr name context namingcontext context expect contextexpect els entri type name entri namingentri context context entri valu close bind remov name get els throw new not context except notcontextexcept sm get string getstr name context namingcontext context expect contextexpect howev method invok unbind method rather invok recurs name size entri type name entri namingentri context context entri valu unbind name get suffix getsuffix els throw new name except namingexcept sm get string getstr name context namingcontext context expect contextexpect name size entri type name entri namingentri context context entri valu destroy subcontext destroysubcontext name get suffix getsuffix els throw new name except namingexcept sm get string getstr name context namingcontext context expect contextexpect','2009-10-25 07:24:55',1256470000,'resolved fixed','af8a612',1258930000,'java/org/apache/naming/NamingContext.java'),(755,47799,'Bug 47799  Domain does not work in Membership and DomainFilterInterceptor.','','domain work membership domain filter interceptor domainfilterinterceptor','domain work membership domain filter interceptor domainfilterinterceptor','','2009-09-08 02:39:42',1252390000,'resolved fixed','94c643b',1258930000,'java/org/apache/catalina/tribes/group/interceptors/DomainFilterInterceptor.java\njava/org/apache/catalina/tribes/membership/McastService.java'),(756,47462,'Bug 47462  The annotation doesn\'t become effective.(metadata-complete=\"false\" is not effective.)','','annot doesn becom effect metadata complet metadatacomplet fals effect','annot doesn becom effect metadata complet metadatacomplet fals effect','','2009-07-01 02:51:39',1246430000,'resolved fixed','04b0838',1258920000,'java/org/apache/catalina/startup/WebRuleSet.java'),(757,47997,'Bug 47997  NamingContextListener fails to add itself as a PropertyChangeListener to all namingResources','','name context listen namingcontextlisten fail add properti chang listen propertychangelisten name resourc namingresourc','name context listen namingcontextlisten fail add properti chang listen propertychangelisten name resourc namingresourc','','2009-10-14 17:45:53',1255560000,'resolved fixed','58162ed',1258920000,'java/org/apache/catalina/core/NamingContextListener.java'),(758,47718,'Bug 47718  ManagerBase leaks fd to /dev/urandom when context stopped','On operating systems where /dev/urandom exists, org.apache.catalina.session.ManagerBase will use it as a source of data for getRandomBytes().\n\nIf you stop a context or undeploy a host, the number of file descriptors that have /dev/urandom open tomcat remains constant.\n\nFor example, if you use the manager application to stop or undeploy a context, the number of file descriptors to /dev/urandom is the same as before the stop.\n\nFile descriptor use is determined by using lsof or examining the /proc/<pid>/fd directory on Linux.\n\nThe same issue is seen if you undeploy a virtual host.\n\nIf you undeploy/deploy a context, or remove/add a virtual host, the # of file descriptors to /dev/urandom will increase each time.\n\nThis is because ManagerBase does not close the DataInputStream it holds to /dev/urandom.\n\nThe patch shown below resolves this issue. Stopping a context, or undeploying a virtual host will close the session manager\'s reference to /dev/urandom.\n\n--- apache-tomcat-5.5.28-src/container/catalina/src/share/org/apache/catalina/session/ManagerBase.java	2009-07-24 13:35:00.000000000 -0600\n+++ apache-tomcat-5.5.28-gls/container/catalina/src/share/org/apache/catalina/session/ManagerBase.java	2009-08-20 13:38:03.000000000 -0600\n@@ -688,10 +688,17 @@\n     }\n\n    public void destroy() {\n         if( oname != null )\n             Registry.getRegistry(null, null).unregisterComponent(oname);\n+        if (randomIS!=null) {\n+            try {\n+                randomIS.close();\n+            } catch (IOException ioe) {\n+            }\n+            randomIS=null;\n+        }\n         initialized=false;\n         oname = null;\n         // Don\'t clear log since it is required in case attributes are changed\n         // (eg via JMX) whilst the manager is stopped.\n     }','manag base managerbas leak fd dev urandom context stop oper system dev urandom exist apach catalina session manag base managerbas use sourc data get random byte getrandombyt stop context undeploy host number file descriptor dev urandom open tomcat remain constant exampl use manag applic stop undeploy context number file descriptor dev urandom stop file descriptor use determin use lsof examin proc pid fd directori linux issu seen undeploy virtual host undeploy deploy context remov add virtual host file descriptor dev urandom increas time manag base managerbas close data input stream datainputstream hold dev urandom patch shown resolv issu stop context undeploy virtual host close session manag refer dev urandom apach tomcat apachetomcat 28 src 28src contain catalina src share apach catalina session manag base managerbas java apach tomcat apachetomcat 28 gl 28gl contain catalina src share apach catalina session manag base managerbas java public void destroy onam null registri get registri getregistri null null unregist compon unregistercompon onam random randomi null tri random randomi close catch except ioexcept ioe random randomi null initi fals onam null clear log sinc requir case attribut chang via jmx whilst manag stop','manag base managerbas leak fd dev urandom context stop','oper system dev urandom exist apach catalina session manag base managerbas use sourc data get random byte getrandombyt stop context undeploy host number file descriptor dev urandom open tomcat remain constant exampl use manag applic stop undeploy context number file descriptor dev urandom stop file descriptor use determin use lsof examin proc pid fd directori linux issu seen undeploy virtual host undeploy deploy context remov add virtual host file descriptor dev urandom increas time manag base managerbas close data input stream datainputstream hold dev urandom patch shown resolv issu stop context undeploy virtual host close session manag refer dev urandom apach tomcat apachetomcat 28 src 28src contain catalina src share apach catalina session manag base managerbas java apach tomcat apachetomcat 28 gl 28gl contain catalina src share apach catalina session manag base managerbas java public void destroy onam null registri get registri getregistri null null unregist compon unregistercompon onam random randomi null tri random randomi close catch except ioexcept ioe random randomi null initi fals onam null clear log sinc requir case attribut chang via jmx whilst manag stop','2009-08-20 14:48:26',1250790000,'resolved fixed','ae5c640',1258920000,'java/org/apache/catalina/session/ManagerBase.java'),(759,48252,'Bug 48252  StackOverflowError in NioEndpoint.setProperty when setting jkHome','- Noticed only when running in debugger with breakpoint set for StackOverflowError.\n- The error is translated by Java\'s reflection mechanism to an InvocationTargetException, which is caught and silently ignored by IntrospectionUtils.\n\n- Connector.initialize() sets jkHome property on Http11NioProtocol.\n- Http11NioProtocol sets jkHome property on NioEndpoint.\n- NioEndpoint recursively invokes its own setProperty method via IntrospectionUtils.setProperty, causing the stack overflow.\n\n- Using embedded Tomcat.\n- Using Nio connector. Does not happen for standard connector.\n- Happens in 6.0.18 and 6.0.20; haven\'t tested with earlier versions.','stack overflow error stackoverflowerror nio endpoint nioendpoint set properti setproperti set jk home jkhome notic run debugg breakpoint set stack overflow error stackoverflowerror error translat java reflect mechan invoc target except invocationtargetexcept caught silent ignor introspect util introspectionutil connector initi set jk home jkhome properti http11 nio protocol http11nioprotocol http11 nio protocol http11nioprotocol set jk home jkhome properti nio endpoint nioendpoint nio endpoint nioendpoint recurs invok set properti setproperti method via introspect util introspectionutil set properti setproperti caus stack overflow use embed tomcat use nio connector happen standard connector happen haven test earlier version','stack overflow error stackoverflowerror nio endpoint nioendpoint set properti setproperti set jk home jkhome','notic run debugg breakpoint set stack overflow error stackoverflowerror error translat java reflect mechan invoc target except invocationtargetexcept caught silent ignor introspect util introspectionutil connector initi set jk home jkhome properti http11 nio protocol http11nioprotocol http11 nio protocol http11nioprotocol set jk home jkhome properti nio endpoint nioendpoint nio endpoint nioendpoint recurs invok set properti setproperti method via introspect util introspectionutil set properti setproperti caus stack overflow use embed tomcat use nio connector happen standard connector happen haven test earlier version','2009-11-20 08:25:45',1258720000,'resolved fixed','c0cb61b',1258740000,'java/org/apache/tomcat/util/IntrospectionUtils.java\njava/org/apache/tomcat/util/net/AbstractEndpoint.java'),(760,48234,'Bug 48234  org.apache.catalina.core.ContainerBase.getLogger() not thread-safe?','org.apache.catalina.core.ContainerBase.getLogger() is not synchronised, yet all the other methods which access org.apache.catalina.core.ContainerBase.logger are synch. This seems wrong.\n\norg.apache.catalina.core.ContainerBase.logger should probably be private to prevent unsynch. access by subclasses.\n\nSimilar considerations apply to logName and logName()\n\nThe Javadoc for getLogger() states that it can return null - that does not appear to be possible. [Not sure if the method ever returns the parent logger either.]','apach catalina core contain base containerbas get logger getlogg thread safe threadsaf apach catalina core contain base containerbas get logger getlogg synchronis yet method access apach catalina core contain base containerbas logger synch seem wrong apach catalina core contain base containerbas logger probabl privat prevent unsynch access subclass similar consider appli log name lognam log name lognam javadoc get logger getlogg state return null appear possibl sure method ever return parent logger either','apach catalina core contain base containerbas get logger getlogg thread safe threadsaf','apach catalina core contain base containerbas get logger getlogg synchronis yet method access apach catalina core contain base containerbas logger synch seem wrong apach catalina core contain base containerbas logger probabl privat prevent unsynch access subclass similar consider appli log name lognam log name lognam javadoc get logger getlogg state return null appear possibl sure method ever return parent logger either','2009-11-18 17:41:42',1258580000,'resolved fixed','c53173b',1258600000,'java/org/apache/catalina/core/ContainerBase.java'),(761,48172,'Bug 48172  JspRuntimeContext synch. problems.','JspRuntimeContext.jspReloadCount is synchronised when updated, but not when read by getJspReloadCount().\n\nIf the instance is accessed from multiple threads, then the returned value may not be the current value, it could be arbitrarily stale.\n\nIf this is acceptable, then the Javadoc should say so; otherwise the getter needs to be synch. (or the field needs to be volatile) Or just use AtomicInteger.\n\n==\n\nVarious other fields are neither final nor synchronized, e.g.\n\nclasspath\ncodeSource\netc.\n\nAs far as I can tell, these could easily be made final as they are only written by the constructor.','jsp runtim context jspruntimecontext synch problem jsp runtim context jspruntimecontext jsp reload count jspreloadcount synchronis updat read get jsp reload count getjspreloadcount instanc access multipl thread return valu may current valu could arbitrarili stale accept javadoc say otherwis getter need synch field need volatil use atom integ atomicinteg variou field neither final synchron classpath code sourc codesourc etc far tell could easili made final written constructor','jsp runtim context jspruntimecontext synch problem','jsp runtim context jspruntimecontext jsp reload count jspreloadcount synchronis updat read get jsp reload count getjspreloadcount instanc access multipl thread return valu may current valu could arbitrarili stale accept javadoc say otherwis getter need synch field need volatil use atom integ atomicinteg variou field neither final synchron classpath code sourc codesourc etc far tell could easili made final written constructor','2009-11-11 03:23:50',1257930000,'resolved fixed','242b6a3',1258590000,'java/org/apache/jasper/compiler/JspRuntimeContext.java'),(762,48197,'Bug 48197  XByteBuffer: privatize public fields; fix Javadoc','','byte buffer xbytebuff privat public field fix javadoc','byte buffer xbytebuff privat public field fix javadoc','','2009-11-14 06:29:45',1258200000,'resolved fixed','a1cb0c3',1258590000,'java/org/apache/catalina/tribes/io/XByteBuffer.java'),(763,48230,'Bug 48230  Unused imports','','unus import','unus import','','2009-11-18 14:00:17',1258570000,'resolved fixed','84d49a0',1258590000,'java/org/apache/catalina/Authenticator.java\njava/org/apache/catalina/authenticator/FormAuthenticator.java\njava/org/apache/tomcat/util/net/NioEndpoint.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestSuspectTimeout.java'),(764,48217,'Bug 48217  Loggers should be final','','logger final','logger final','','2009-11-17 16:30:07',1258490000,'resolved fixed','0d7263a',1258550000,'java/org/apache/coyote/http11/AbstractHttp11Protocol.java\njava/org/apache/coyote/http11/Http11NioProtocol.java\njava/org/apache/coyote/http11/Http11Protocol.java'),(765,48196,'Bug 48196  Public arrays that should be private','','public array privat','public array privat','','2009-11-14 06:28:06',1258200000,'resolved fixed','38f52b5',1258500000,'java/org/apache/catalina/startup/Tomcat.java\njava/org/apache/catalina/tribes/group/interceptors/TwoPhaseCommitInterceptor.java\njava/org/apache/catalina/util/HexUtils.java'),(766,48176,'Bug 48176  Fields that should be final','','field final','field final','','2009-11-11 08:01:28',1257940000,'resolved fixed','16c4534',1258500000,'java/org/apache/catalina/tribes/io/BufferPool.java\njava/org/apache/jasper/compiler/ServletWriter.java\nmodules/tomcat-lite/java/org/apache/tomcat/util/http/MimeMap.java'),(767,48175,'Bug 48175  Loggers should be final','','logger final','logger final','','2009-11-11 07:37:28',1257940000,'resolved fixed','799b934',1258500000,'java/org/apache/catalina/core/ApplicationFilterConfig.java\njava/org/apache/catalina/core/ContainerBase.java\njava/org/apache/catalina/core/StandardHost.java\njava/org/apache/catalina/core/StandardWrapper.java\njava/org/apache/catalina/ha/ClusterListener.java\njava/org/apache/catalina/ha/context/ReplicatedContext.java\njava/org/apache/catalina/ha/deploy/FarmWarDeployer.java\njava/org/apache/catalina/ha/deploy/FileMessageFactory.java\njava/org/apache/catalina/ha/deploy/WarWatcher.java\njava/org/apache/catalina/ha/session/BackupManager.java\njava/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/ha/session/DeltaRequest.java\njava/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/ha/session/JvmRouteBinderValve.java\njava/org/apache/catalina/ha/session/SerializablePrincipal.java\njava/org/apache/catalina/ha/session/SimpleTcpReplicationManager.java\njava/org/apache/catalina/ha/tcp/ReplicationValve.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/catalina/loader/WebappLoader.java\njava/org/apache/catalina/mbeans/MBeanFactory.java\njava/org/apache/catalina/security/SecurityConfig.java\njava/org/apache/catalina/security/SecurityUtil.java\njava/org/apache/catalina/startup/Catalina.java\njava/org/apache/catalina/startup/CatalinaProperties.java\njava/org/apache/catalina/startup/ContextConfig.java\njava/org/apache/catalina/startup/DefaultJarScanner.java\njava/org/apache/catalina/startup/DigesterFactory.java\njava/org/apache/catalina/startup/EngineConfig.java\njava/org/apache/catalina/startup/HostConfig.java\njava/org/apache/catalina/startup/TldConfig.java\njava/org/apache/catalina/startup/UserConfig.java\njava/org/apache/catalina/startup/WebXml.java\njava/org/apache/catalina/tribes/group/ChannelInterceptorBase.java\njava/org/apache/catalina/tribes/group/GroupChannel.java\njava/org/apache/catalina/tribes/group/RpcChannel.java\njava/org/apache/catalina/tribes/group/interceptors/FragmentationInterceptor.java\njava/org/apache/catalina/tribes/group/interceptors/MessageDispatchInterceptor.java\njava/org/apache/catalina/tribes/group/interceptors/TcpFailureDetector.java\njava/org/apache/catalina/tribes/group/interceptors/TcpPingInterceptor.java\njava/org/apache/catalina/tribes/group/interceptors/ThroughputInterceptor.java\njava/org/apache/catalina/tribes/group/interceptors/TwoPhaseCommitInterceptor.java\njava/org/apache/catalina/tribes/io/ObjectReader.java\njava/org/apache/catalina/tribes/io/XByteBuffer.java\njava/org/apache/catalina/tribes/membership/McastService.java\njava/org/apache/catalina/tribes/membership/McastServiceImpl.java\njava/org/apache/catalina/tribes/tipis/LazyReplicatedMap.java\njava/org/apache/catalina/tribes/tipis/ReplicatedMap.java\njava/org/apache/catalina/tribes/transport/bio/BioReceiver.java\njava/org/apache/catalina/tribes/transport/bio/BioReplicationTask.java\njava/org/apache/catalina/tribes/transport/bio/BioSender.java\njava/org/apache/catalina/tribes/transport/bio/util/FastQueue.java\njava/org/apache/catalina/tribes/transport/nio/NioReceiver.java\njava/org/apache/catalina/tribes/transport/nio/NioReplicationTask.java\njava/org/apache/catalina/tribes/transport/nio/NioSender.java\njava/org/apache/catalina/tribes/transport/nio/ParallelNioSender.java\njava/org/apache/catalina/tribes/util/Logs.java\njava/org/apache/catalina/util/ExtensionValidator.java\njava/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/ajp/AjpMessage.java\njava/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/ajp/AjpProtocol.java\njava/org/apache/coyote/http11/AbstractHttp11Processor.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/coyote/http11/Http11NioProtocol.java\njava/org/apache/coyote/http11/Http11Protocol.java\njava/org/apache/jasper/JspCompilationContext.java\njava/org/apache/jasper/compiler/SmapUtil.java\njava/org/apache/jasper/security/SecurityClassLoad.java\njava/org/apache/jasper/xmlparser/UCSReader.java\njava/org/apache/jasper/xmlparser/UTF8Reader.java\njava/org/apache/naming/NamingContext.java\njava/org/apache/naming/SelectorContext.java\njava/org/apache/naming/resources/FileDirContext.java\njava/org/apache/naming/resources/WARDirContext.java\njava/org/apache/tomcat/util/DomUtil.java\njava/org/apache/tomcat/util/IntrospectionUtils.java\njava/org/apache/tomcat/util/buf/B2CConverter.java\njava/org/apache/tomcat/util/buf/C2BConverter.java\njava/org/apache/tomcat/util/buf/StringCache.java\njava/org/apache/tomcat/util/buf/UEncoder.java\njava/org/apache/tomcat/util/http/Cookies.java\njava/org/apache/tomcat/util/http/Parameters.java\njava/org/apache/tomcat/util/http/mapper/Mapper.java\njava/org/apache/tomcat/util/net/SSLImplementation.java\njava/org/apache/tomcat/util/net/jsse/JSSEImplementation.java\njava/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java\njava/org/apache/tomcat/util/net/jsse/JSSESupport.java\nmodules/tomcat-lite/java/org/apache/tomcat/util/http/mapper/BaseMapper.java\ntest/org/apache/catalina/tribes/demos/IntrospectionUtils.java'),(768,48174,'Bug 48174  org.apache.tomcat.jni.Address.APR_ANYADDR should be final','org.apache.tomcat.jni.Address.APR_ANYADDR should be final','apach tomcat jni address apr anyaddr final apach tomcat jni address apr anyaddr final','apach tomcat jni address apr anyaddr final','apach tomcat jni address apr anyaddr final','2009-11-11 07:14:34',1257940000,'resolved fixed','57571a7',1258500000,'java/org/apache/tomcat/jni/Address.java'),(769,48173,'Bug 48173  org.apache.catalina.tribes.io.ChannelData.EMPTY_DATA_ARRAY should be final','org.apache.catalina.tribes.io.ChannelData.EMPTY_DATA_ARRAY should be final','apach catalina tribe channel data channeldata empti data array final apach catalina tribe channel data channeldata empti data array final','apach catalina tribe channel data channeldata empti data array final','apach catalina tribe channel data channeldata empti data array final','2009-11-11 06:59:39',1257940000,'resolved fixed','e5ae1bc',1258500000,'java/org/apache/catalina/tribes/io/ChannelData.java'),(770,48151,'Bug 48151  Java files that don\'t have AL headers','','java file header','java file header','','2009-11-06 03:06:03',1257490000,'resolved fixed','5447621',1258500000,'java/org/apache/catalina/startup/DefaultJarScanner.java\njava/org/apache/tomcat/JarScannerCallback.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestConcurrency.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestException.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/driver/ResultSet.java\nmodules/tomcat-lite/examples/spring/TomcatSpring.java\nmodules/tomcat-lite/java/org/apache/tomcat/addons/Filesystem.java\nmodules/tomcat-lite/java/org/apache/tomcat/addons/UserAuthentication.java\nmodules/tomcat-lite/java/org/apache/tomcat/addons/UserSessionManager.java\nmodules/tomcat-lite/java/org/apache/tomcat/addons/UserTemplateClassMapper.java\nmodules/tomcat-lite/java/org/apache/tomcat/integration/ObjectManager.java\nmodules/tomcat-lite/java/org/apache/tomcat/integration/jmx/JmxObjectManagerSpi.java\nmodules/tomcat-lite/java/org/apache/tomcat/integration/simple/LocalFilesystem.java\nmodules/tomcat-lite/java/org/apache/tomcat/integration/simple/Main.java\nmodules/tomcat-lite/java/org/apache/tomcat/integration/simple/ServletHelper.java\nmodules/tomcat-lite/java/org/apache/tomcat/integration/simple/SimpleObjectManager.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/BodyWriter.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/Connector.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/ContextPreinitListener.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/WebappContextMapper.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/coyote/CoyoteConnector.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/webxml/ServletContextConfig.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/webxml/TomcatLiteWebXmlConfig.java\nmodules/tomcat-lite/java/org/apache/tomcat/lite/webxml/WebXml.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/file/CopyUtils.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/file/FileCopyUtils.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/jsp/PreCompileFilter.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/jsp/SingleThreadedProxyServlet.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/sec/UserDB.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/session/RandomGenerator.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/util/Range.java\nmodules/tomcat-lite/java/org/apache/tomcat/servlets/util/UrlUtils.java\nmodules/tomcat-lite/java/org/apache/tomcat/util/http/HttpRequest.java\nmodules/tomcat-lite/java/org/apache/tomcat/util/http/HttpResponse.java\nmodules/tomcat-lite/test/org/apache/tomcat/lite/LiteTestHelper.java\nmodules/tomcat-lite/test/org/apache/tomcat/lite/PropertiesSpiTest.java\nmodules/tomcat-lite/test/org/apache/tomcat/lite/SimpleServlet.java\nmodules/tomcat-lite/test/org/apache/tomcat/test/watchdog/WatchdogTest.java\nmodules/tomcat-lite/test/org/apache/tomcat/util/buf/UEncoderTest.java\ntest/org/apache/TestAll.java\ntest/org/apache/catalina/startup/SimpleHttpClient.java\ntest/org/apache/catalina/startup/TestWebXml.java'),(771,48150,'Bug 48150  some misspellings I found in the \"javax.servlet\" package','','misspel found javax servlet packag','misspel found javax servlet packag','','2009-11-06 01:46:29',1257490000,'resolved fixed','7849435',1258500000,'java/javax/servlet/GenericServlet.java\njava/javax/servlet/http/HttpServlet.java\njava/javax/servlet/jsp/JspWriter.java\njava/javax/servlet/jsp/PageContext.java\njava/javax/servlet/jsp/SkipPageException.java\njava/javax/servlet/jsp/tagext/JspFragment.java\njava/javax/servlet/jsp/tagext/PageData.java\njava/javax/servlet/jsp/tagext/SimpleTagSupport.java\njava/javax/servlet/jsp/tagext/TagLibraryInfo.java\njava/javax/servlet/jsp/tagext/TagLibraryValidator.java\njava/javax/servlet/jsp/tagext/TagSupport.java'),(772,48149,'Bug 48149  some misspellings I  found in the \"org.apache.coyote\" package and \"org.apache.el\" package','','misspel found apach coyot packag apach packag','misspel found apach coyot packag apach packag','','2009-11-06 01:14:34',1257490000,'resolved fixed','39a78f4',1258500000,'java/org/apache/coyote/ActionCode.java\njava/org/apache/coyote/ProtocolHandler.java\njava/org/apache/coyote/Request.java\njava/org/apache/coyote/RequestGroupInfo.java\njava/org/apache/coyote/RequestInfo.java\njava/org/apache/coyote/Response.java\njava/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/coyote/ajp/AjpAprProtocol.java\njava/org/apache/coyote/ajp/AjpProcessor.java\njava/org/apache/coyote/ajp/AjpProtocol.java\njava/org/apache/coyote/http11/AbstractHttp11Processor.java\njava/org/apache/coyote/http11/AbstractInputBuffer.java\njava/org/apache/coyote/http11/AbstractOutputBuffer.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java\njava/org/apache/coyote/http11/InternalAprInputBuffer.java\njava/org/apache/coyote/http11/InternalAprOutputBuffer.java\njava/org/apache/coyote/http11/InternalInputBuffer.java\njava/org/apache/coyote/http11/InternalNioInputBuffer.java\njava/org/apache/coyote/http11/InternalNioOutputBuffer.java\njava/org/apache/coyote/http11/InternalOutputBuffer.java\njava/org/apache/coyote/http11/filters/VoidInputFilter.java\njava/org/apache/el/parser/AstValue.java\njava/org/apache/el/parser/ParseException.java'),(773,48148,'Bug 48148  some misspellings I  found in the \"org.apache.jasper\" package and \"org.apache.juli\" package','','misspel found apach jasper packag apach juli packag','misspel found apach jasper packag apach juli packag','','2009-11-06 00:32:48',1257490000,'resolved fixed','6ce7032',1258500000,'java/org/apache/jasper/Constants.java\njava/org/apache/jasper/EmbeddedServletOptions.java\njava/org/apache/jasper/JasperException.java\njava/org/apache/jasper/JspC.java\njava/org/apache/jasper/JspCompilationContext.java\njava/org/apache/jasper/Options.java\njava/org/apache/jasper/compiler/Collector.java\njava/org/apache/jasper/compiler/Compiler.java\njava/org/apache/jasper/compiler/ELFunctionMapper.java\njava/org/apache/jasper/compiler/Generator.java\njava/org/apache/jasper/compiler/JarScannerFactory.java\njava/org/apache/jasper/compiler/JspConfig.java\njava/org/apache/jasper/compiler/JspDocumentParser.java\njava/org/apache/jasper/compiler/JspReader.java\njava/org/apache/jasper/compiler/JspRuntimeContext.java\njava/org/apache/jasper/compiler/JspUtil.java\njava/org/apache/jasper/compiler/Node.java\njava/org/apache/jasper/compiler/TagFileProcessor.java\njava/org/apache/jasper/compiler/TagLibraryInfoImpl.java\njava/org/apache/jasper/compiler/TextOptimizer.java\njava/org/apache/jasper/compiler/TldLocationsCache.java\njava/org/apache/jasper/compiler/Validator.java\njava/org/apache/jasper/compiler/tagplugin/TagPluginContext.java\njava/org/apache/jasper/runtime/BodyContentImpl.java\njava/org/apache/jasper/runtime/JspContextWrapper.java\njava/org/apache/jasper/servlet/JspServlet.java\njava/org/apache/jasper/servlet/JspServletWrapper.java\njava/org/apache/jasper/tagplugins/jstl/core/Import.java\njava/org/apache/jasper/util/Enumerator.java\njava/org/apache/jasper/xmlparser/UTF8Reader.java\njava/org/apache/jasper/xmlparser/XMLEncodingDetector.java\njava/org/apache/juli/ClassLoaderLogManager.java\njava/org/apache/juli/OneLineFormatter.java\njava/org/apache/juli/logging/DirectJDKLog.java\njava/org/apache/juli/logging/Log.java\njava/org/apache/juli/logging/LogFactory.java'),(774,48147,'Bug 48147  some misspellings I can find in the \"org.apache.naming\" package','','misspel find apach name packag','misspel find apach name packag','','2009-11-05 23:26:42',1257480000,'resolved fixed','21e86e6',1258500000,'java/org/apache/naming/NamingEntry.java\njava/org/apache/naming/NamingService.java\njava/org/apache/naming/NamingServiceMBean.java\njava/org/apache/naming/ResourceRef.java\njava/org/apache/naming/factory/EjbFactory.java\njava/org/apache/naming/factory/OpenEjbFactory.java\njava/org/apache/naming/factory/ResourceEnvFactory.java\njava/org/apache/naming/factory/TransactionFactory.java\njava/org/apache/naming/resources/BaseDirContext.java\njava/org/apache/naming/resources/DirContextURLConnection.java\njava/org/apache/naming/resources/FileDirContext.java\njava/org/apache/naming/resources/ProxyDirContext.java\njava/org/apache/naming/resources/Resource.java\njava/org/apache/naming/resources/ResourceCache.java\njava/org/apache/naming/resources/WARDirContext.java'),(775,48146,'Bug 48146  some misspellings I can find in the \"org.apache.tomcat\" package','','misspel find apach tomcat packag','misspel find apach tomcat packag','','2009-11-05 23:05:31',1257480000,'resolved fixed','ed97da7',1258500000,'java/org/apache/tomcat/jni/BIOCallback.java\njava/org/apache/tomcat/jni/Directory.java\njava/org/apache/tomcat/jni/File.java\njava/org/apache/tomcat/jni/Local.java\njava/org/apache/tomcat/jni/OS.java\njava/org/apache/tomcat/jni/Poll.java\njava/org/apache/tomcat/jni/Pool.java\njava/org/apache/tomcat/jni/Proc.java\njava/org/apache/tomcat/jni/SSL.java\njava/org/apache/tomcat/jni/SSLContext.java\njava/org/apache/tomcat/jni/Shm.java\njava/org/apache/tomcat/jni/Socket.java\njava/org/apache/tomcat/jni/Time.java\njava/org/apache/tomcat/jni/User.java\njava/org/apache/tomcat/util/DomUtil.java\njava/org/apache/tomcat/util/IntrospectionUtils.java\njava/org/apache/tomcat/util/buf/B2CConverter.java\njava/org/apache/tomcat/util/buf/ByteChunk.java\njava/org/apache/tomcat/util/buf/C2BConverter.java\njava/org/apache/tomcat/util/buf/CharChunk.java\njava/org/apache/tomcat/util/buf/MessageBytes.java\njava/org/apache/tomcat/util/buf/StringCache.java\njava/org/apache/tomcat/util/buf/UDecoder.java\njava/org/apache/tomcat/util/buf/UEncoder.java\njava/org/apache/tomcat/util/collections/MultiMap.java\njava/org/apache/tomcat/util/collections/MultiMapNamesEnumeration.java\njava/org/apache/tomcat/util/digester/AbstractRulesImpl.java\njava/org/apache/tomcat/util/digester/CallMethodRule.java\njava/org/apache/tomcat/util/digester/Digester.java\njava/org/apache/tomcat/util/digester/FactoryCreateRule.java\njava/org/apache/tomcat/util/digester/GenericParser.java\njava/org/apache/tomcat/util/digester/NodeCreateRule.java\njava/org/apache/tomcat/util/digester/RuleSet.java\njava/org/apache/tomcat/util/digester/RulesBase.java\njava/org/apache/tomcat/util/digester/SetNextRule.java\njava/org/apache/tomcat/util/digester/SetPropertiesRule.java\njava/org/apache/tomcat/util/digester/SetPropertyRule.java\njava/org/apache/tomcat/util/digester/SetRootRule.java\njava/org/apache/tomcat/util/digester/SetTopRule.java\njava/org/apache/tomcat/util/digester/WithDefaultsRulesWrapper.java\njava/org/apache/tomcat/util/http/ContentType.java\njava/org/apache/tomcat/util/http/Cookies.java\njava/org/apache/tomcat/util/http/MimeHeaders.java\njava/org/apache/tomcat/util/http/fileupload/FileItem.java\njava/org/apache/tomcat/util/http/fileupload/MultipartStream.java\njava/org/apache/tomcat/util/http/mapper/Mapper.java\njava/org/apache/tomcat/util/modeler/AttributeInfo.java\njava/org/apache/tomcat/util/modeler/BaseModelMBean.java\njava/org/apache/tomcat/util/modeler/Registry.java\njava/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsIntrospectionSource.java\njava/org/apache/tomcat/util/net/AprEndpoint.java\njava/org/apache/tomcat/util/net/DefaultServerSocketFactory.java\njava/org/apache/tomcat/util/net/NioEndpoint.java\njava/org/apache/tomcat/util/net/ServerSocketFactory.java\njava/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(776,48143,'Bug 48143  Javadoc fixes','','javadoc fix','javadoc fix','','2009-11-05 13:04:26',1257440000,'resolved fixed','c52b1ba',1258500000,'java/javax/servlet/SessionCookieConfig.java\njava/org/apache/catalina/ant/jmx/JMXAccessorCreateTask.java\njava/org/apache/catalina/core/ApplicationFilterChain.java\njava/org/apache/catalina/core/StandardContextValve.java\njava/org/apache/catalina/core/StandardEngineValve.java\njava/org/apache/catalina/core/StandardHostValve.java\njava/org/apache/catalina/core/StandardWrapperValve.java\njava/org/apache/catalina/ha/ClusterManager.java\njava/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/ha/tcp/SimpleTcpCluster.java\njava/org/apache/catalina/manager/StatusTransformer.java\njava/org/apache/catalina/realm/CombinedRealm.java\njava/org/apache/catalina/realm/LockOutRealm.java\njava/org/apache/catalina/startup/Embedded.java\njava/org/apache/catalina/startup/WebRuleSet.java\njava/org/apache/catalina/tribes/group/ChannelCoordinator.java\njava/org/apache/catalina/tribes/io/ChannelData.java\njava/org/apache/catalina/tribes/io/ObjectReader.java\njava/org/apache/catalina/tribes/io/ReplicationStream.java\njava/org/apache/catalina/tribes/io/XByteBuffer.java\njava/org/apache/catalina/tribes/membership/McastServiceImpl.java\njava/org/apache/catalina/tribes/membership/MemberImpl.java\njava/org/apache/catalina/tribes/membership/Membership.java\njava/org/apache/catalina/tribes/transport/bio/util/LinkObject.java\njava/org/apache/catalina/tribes/transport/nio/NioReceiver.java\njava/org/apache/catalina/users/MemoryUserDatabase.java\njava/org/apache/catalina/valves/RemoteIpValve.java\njava/org/apache/coyote/http11/Http11Processor.java\njava/org/apache/jasper/compiler/ParserController.java\njava/org/apache/jasper/compiler/TagFileProcessor.java\njava/org/apache/jasper/compiler/TldLocationsCache.java\njava/org/apache/naming/HandlerRef.java\njava/org/apache/naming/ServiceRef.java\njava/org/apache/naming/resources/BaseDirContext.java\njava/org/apache/tomcat/buildutil/Txt2Html.java\njava/org/apache/tomcat/util/digester/SetPropertiesRule.java\njava/org/apache/tomcat/util/digester/SetPropertyRule.java\njava/org/apache/tomcat/util/modeler/BaseModelMBean.java\njava/org/apache/tomcat/util/net/NioBlockingSelector.java\njava/org/apache/tomcat/util/net/SSLSessionManager.java'),(777,48139,'Bug 48139  Tomcat Javadoc and unthrown exception fixes','','tomcat javadoc unthrown except fix','tomcat javadoc unthrown except fix','','2009-11-05 08:10:54',1257430000,'resolved fixed','ab3620c',1257450000,'java/org/apache/catalina/startup/Tomcat.java'),(778,48137,'Bug 48137  some misspellings I can find in the \"org.apache.catalina\" package','','misspel find apach catalina packag','misspel find apach catalina packag','','2009-11-05 06:13:59',1257420000,'resolved fixed','18c0edc',1257450000,'java/org/apache/catalina/Cluster.java\njava/org/apache/catalina/CometEvent.java\njava/org/apache/catalina/CometProcessor.java\njava/org/apache/catalina/Context.java\njava/org/apache/catalina/Host.java\njava/org/apache/catalina/Pipeline.java\njava/org/apache/catalina/ant/BaseRedirectorHelperTask.java\njava/org/apache/catalina/ant/JKStatusUpdateTask.java\njava/org/apache/catalina/ant/jmx/JMXAccessorQueryTask.java\njava/org/apache/catalina/ant/jmx/JMXAccessorSetTask.java\njava/org/apache/catalina/ant/jmx/JMXAccessorTask.java\njava/org/apache/catalina/authenticator/AuthenticatorBase.java\njava/org/apache/catalina/authenticator/FormAuthenticator.java\njava/org/apache/catalina/authenticator/SingleSignOn.java\njava/org/apache/catalina/connector/Connector.java\njava/org/apache/catalina/connector/CoyoteAdapter.java\njava/org/apache/catalina/connector/CoyoteInputStream.java\njava/org/apache/catalina/connector/CoyoteReader.java\njava/org/apache/catalina/connector/OutputBuffer.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/connector/RequestFacade.java\njava/org/apache/catalina/connector/Response.java\njava/org/apache/catalina/deploy/ContextService.java\njava/org/apache/catalina/filters/WebdavFixFilter.java\njava/org/apache/catalina/ha/authenticator/ClusterSingleSignOn.java\njava/org/apache/catalina/ha/backend/CollectedInfo.java\njava/org/apache/catalina/ha/backend/HeartbeatListener.java\njava/org/apache/catalina/ha/deploy/FarmWarDeployer.java\njava/org/apache/catalina/ha/deploy/FileMessageFactory.java\njava/org/apache/catalina/ha/deploy/WarWatcher.java\njava/org/apache/catalina/ha/session/DeltaManager.java\njava/org/apache/catalina/ha/session/DeltaRequest.java\njava/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/ha/session/JvmRouteBinderValve.java\njava/org/apache/catalina/ha/session/SessionMessageImpl.java\njava/org/apache/catalina/ha/tcp/ReplicationValve.java\njava/org/apache/catalina/ha/tcp/SimpleTcpCluster.java\njava/org/apache/catalina/loader/WebappClassLoader.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/manager/JMXProxyServlet.java\njava/org/apache/catalina/manager/ManagerServlet.java\njava/org/apache/catalina/manager/host/HTMLHostManagerServlet.java\njava/org/apache/catalina/manager/util/SessionUtils.java\njava/org/apache/catalina/mbeans/ContextEnvironmentMBean.java\njava/org/apache/catalina/mbeans/ContextResourceLinkMBean.java\njava/org/apache/catalina/mbeans/ContextResourceMBean.java\njava/org/apache/catalina/mbeans/MBeanFactory.java\njava/org/apache/catalina/mbeans/ServerLifecycleListener.java\njava/org/apache/catalina/realm/DataSourceRealm.java\njava/org/apache/catalina/realm/JAASCallbackHandler.java\njava/org/apache/catalina/realm/JAASMemoryLoginModule.java\njava/org/apache/catalina/realm/JAASRealm.java\njava/org/apache/catalina/realm/JDBCRealm.java\njava/org/apache/catalina/realm/JNDIRealm.java\njava/org/apache/catalina/realm/LockOutRealm.java\njava/org/apache/catalina/realm/RealmBase.java\njava/org/apache/catalina/security/SecurityUtil.java\njava/org/apache/catalina/servlets/CGIServlet.java\njava/org/apache/catalina/servlets/DefaultServlet.java\njava/org/apache/catalina/servlets/WebdavServlet.java\njava/org/apache/catalina/session/JDBCStore.java\njava/org/apache/catalina/session/PersistentManagerBase.java\njava/org/apache/catalina/session/StandardManager.java\njava/org/apache/catalina/ssi/ExpressionParseTree.java\njava/org/apache/catalina/ssi/SSIFsize.java\njava/org/apache/catalina/ssi/SSIServletExternalResolver.java\njava/org/apache/catalina/ssi/SSIStopProcessingException.java\njava/org/apache/catalina/tribes/Channel.java\njava/org/apache/catalina/tribes/ChannelListener.java\njava/org/apache/catalina/tribes/Heartbeat.java\njava/org/apache/catalina/tribes/Member.java\njava/org/apache/catalina/tribes/UniqueId.java\njava/org/apache/catalina/tribes/group/GroupChannel.java\njava/org/apache/catalina/tribes/group/interceptors/MessageDispatch15Interceptor.java\njava/org/apache/catalina/tribes/io/ObjectReader.java\njava/org/apache/catalina/tribes/membership/McastServiceImpl.java\njava/org/apache/catalina/tribes/transport/PooledSender.java\njava/org/apache/catalina/tribes/transport/bio/BioReplicationTask.java\njava/org/apache/catalina/tribes/transport/bio/BioSender.java\njava/org/apache/catalina/tribes/transport/bio/util/FastQueue.java\njava/org/apache/catalina/tribes/transport/nio/NioSender.java\njava/org/apache/catalina/tribes/transport/nio/ParallelNioSender.java\njava/org/apache/catalina/users/MemoryUserDatabase.java\njava/org/apache/catalina/util/Base64.java\njava/org/apache/catalina/util/DateTool.java\njava/org/apache/catalina/util/ExtensionValidator.java\njava/org/apache/catalina/util/IOTools.java\njava/org/apache/catalina/util/ManifestResource.java\njava/org/apache/catalina/util/ParameterMap.java\njava/org/apache/catalina/util/RequestUtil.java\njava/org/apache/catalina/util/SchemaResolver.java\njava/org/apache/catalina/util/Strftime.java\njava/org/apache/catalina/valves/AccessLogValve.java\njava/org/apache/catalina/valves/CometConnectionManagerValve.java'),(779,48135,'Bug 48135  ServiceRefFactory: impossible null check of serviceInterfaceClass','The ServiceRefFactory class performs an impossible null check of serviceInterfaceClass at line 238:\n\n237: Class[] serviceInterfaces = serviceInterfaceClass.getInterfaces();\n238: if (serviceInterfaceClass != null) {\n\nIf it were null, line 237 would generate an NPE.','servic ref factori servicereffactori imposs null check servic interfac class serviceinterfaceclass servic ref factori servicereffactori class perform imposs null check servic interfac class serviceinterfaceclass line class servic interfac serviceinterfac servic interfac class serviceinterfaceclass get interfac getinterfac servic interfac class serviceinterfaceclass null null line would gener npe','servic ref factori servicereffactori imposs null check servic interfac class serviceinterfaceclass','servic ref factori servicereffactori class perform imposs null check servic interfac class serviceinterfaceclass line class servic interfac serviceinterfac servic interfac class serviceinterfaceclass get interfac getinterfac servic interfac class serviceinterfaceclass null null line would gener npe','2009-11-05 03:34:18',1257410000,'resolved fixed','97ccffd',1257450000,'java/org/apache/naming/factory/webservices/ServiceProxy.java\njava/org/apache/naming/factory/webservices/ServiceRefFactory.java'),(780,48133,'Bug 48133  misspellings in the javadoc and comment of the various classes in the package of \"org.apache.core\"','','misspel javadoc comment variou class packag apach core','misspel javadoc comment variou class packag apach core','','2009-11-04 19:05:17',1257380000,'resolved fixed','9204e4d',1257450000,'java/org/apache/catalina/core/ApplicationDispatcher.java\njava/org/apache/catalina/core/ApplicationFilterFactory.java\njava/org/apache/catalina/core/ApplicationHttpRequest.java\njava/org/apache/catalina/core/ContainerBase.java\njava/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/core/StandardEngine.java\njava/org/apache/catalina/core/StandardHost.java\njava/org/apache/catalina/core/StandardPipeline.java\njava/org/apache/catalina/core/StandardService.java\njava/org/apache/catalina/core/StandardWrapperFacade.java\njava/org/apache/catalina/core/StandardWrapperValve.java'),(781,48131,'Bug 48131  Add @deprecated annotations to deprecated elements','','add deprec annot deprec element','add deprec annot deprec element','','2009-11-04 13:30:07',1257360000,'resolved fixed','a3fa5d3',1257380000,'java/javax/servlet/ServletContext.java\njava/javax/servlet/ServletRequest.java\njava/javax/servlet/ServletRequestWrapper.java\njava/javax/servlet/SingleThreadModel.java\njava/javax/servlet/UnavailableException.java\njava/javax/servlet/http/HttpServletRequest.java\njava/javax/servlet/http/HttpServletRequestWrapper.java\njava/javax/servlet/http/HttpServletResponse.java\njava/javax/servlet/http/HttpServletResponseWrapper.java\njava/javax/servlet/http/HttpSession.java\njava/javax/servlet/http/HttpSessionContext.java\njava/javax/servlet/http/HttpUtils.java\njava/javax/servlet/jsp/JspException.java\njava/javax/servlet/jsp/el/ELException.java\njava/javax/servlet/jsp/el/ELParseException.java\njava/javax/servlet/jsp/el/Expression.java\njava/javax/servlet/jsp/el/ExpressionEvaluator.java\njava/javax/servlet/jsp/el/FunctionMapper.java\njava/javax/servlet/jsp/el/VariableResolver.java\njava/javax/servlet/jsp/tagext/BodyTag.java\njava/org/apache/catalina/Cluster.java\njava/org/apache/catalina/Manager.java\njava/org/apache/catalina/connector/Request.java\njava/org/apache/catalina/connector/Response.java\njava/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/core/ApplicationContextFacade.java\njava/org/apache/catalina/core/ApplicationHttpResponse.java\njava/org/apache/catalina/core/DummyRequest.java\njava/org/apache/catalina/core/DummyResponse.java\njava/org/apache/catalina/ha/session/DeltaSession.java\njava/org/apache/catalina/ha/tcp/SimpleTcpCluster.java\njava/org/apache/catalina/realm/JAASRealm.java\njava/org/apache/catalina/session/ManagerBase.java\njava/org/apache/catalina/session/StandardSession.java\njava/org/apache/catalina/session/StandardSessionFacade.java\njava/org/apache/catalina/startup/Catalina.java\njava/org/apache/catalina/tribes/io/XByteBuffer.java\njava/org/apache/catalina/tribes/membership/McastService.java\njava/org/apache/catalina/tribes/transport/ReceiverBase.java\njava/org/apache/el/parser/SimpleCharStream.java\njava/org/apache/jasper/servlet/JspCServletContext.java\njava/org/apache/naming/resources/ResourceAttributes.java\njava/org/apache/tomcat/util/digester/Rule.java\njava/org/apache/tomcat/util/digester/SetNextRule.java\njava/org/apache/tomcat/util/digester/SetPropertiesRule.java\njava/org/apache/tomcat/util/digester/SetPropertyRule.java\njava/org/apache/tomcat/util/digester/SetRootRule.java\njava/org/apache/tomcat/util/digester/SetTopRule.java'),(782,48123,'Bug 48123  4 misspellings in the javadoc of class \"org.apache.catalina.startup.WebRuleSet\"','No.1\n\nLine: 99\n\n/**\n     * Construct an instance of this <code>RuleSet</code> with the default\n     * matching pattern prefix and default fargment setting.\n     */\n    public WebRuleSet() {\n\n\'fragment\' was misspelled as \'fargment\'\n\nNo.2\n\nLine: 614\n\n/**\n * Rule to check that the <code>login-config</code> is occuring \n * only 1 time within the web.xml\n */\nfinal class SetLoginConfig extends Rule {\n\n\'occurring\' was misspelled as \'occuring\'\n\nNo.3\n\nLine 635\n\n/**\n * Rule to check that the <code>jsp-config</code> is occuring \n * only 1 time within the web.xml\n */\nfinal class SetJspConfig extends Rule {\n\n\'occurring\' was misspelled as \'occuring\'\n\nNo.4\n\nLine 656\n\n/**\n * Rule to check that the <code>session-config</code> is occuring \n * only 1 time within the web.xml\n */\nfinal class SetSessionConfig extends Rule {\n\n\'occurring\' was misspelled as \'occuring\'','misspel javadoc class apach catalina startup web rule set webruleset line construct instanc code rule set ruleset code default match pattern prefix default fargment set public web rule set webruleset fragment misspel fargment line rule check code login config loginconfig code occur time within web xml final class set login config setloginconfig extend rule occur misspel occur line rule check code jsp config jspconfig code occur time within web xml final class set jsp config setjspconfig extend rule occur misspel occur line rule check code session config sessionconfig code occur time within web xml final class set session config setsessionconfig extend rule occur misspel occur','misspel javadoc class apach catalina startup web rule set webruleset','line construct instanc code rule set ruleset code default match pattern prefix default fargment set public web rule set webruleset fragment misspel fargment line rule check code login config loginconfig code occur time within web xml final class set login config setloginconfig extend rule occur misspel occur line rule check code jsp config jspconfig code occur time within web xml final class set jsp config setjspconfig extend rule occur misspel occur line rule check code session config sessionconfig code occur time within web xml final class set session config setsessionconfig extend rule occur misspel occur','2009-11-04 02:02:40',1257320000,'resolved fixed','363b79a',1257380000,'java/org/apache/catalina/startup/WebRuleSet.java'),(783,48121,'Bug 48121  2 misspellings in the javadoc of class \"org.apache.catalina.startup.TldConfig\"','No.1\n\nLine 194:\n\n/**\n     * Attribute value used to turn on/off TLD  namespace awarenes.\n     */\n    private boolean tldNamespaceAware = false;\n\n\'awareness\' was misspelled as \'awarenes\'\n\n\nNo.2\n\nLine 261\n\n/**\n     * Get the server.xml &lt;host&gt; attribute\'s xmlNamespaceAware.\n     * @return true if namespace awarenes is enabled.\n     *\n     */\n    public boolean getTldNamespaceAware(){\n        return this.tldNamespaceAware;\n    }\n\n\'awareness\' was misspelled as \'awarenes\'','misspel javadoc class apach catalina startup tld config tldconfig line attribut valu use turn tld namespac awaren privat boolean tld namespac awar tldnamespaceawar fals awar misspel awaren line get server xml lt host gt attribut xml namespac awar xmlnamespaceawar return true namespac awaren enabl public boolean get tld namespac awar gettldnamespaceawar return tld namespac awar tldnamespaceawar awar misspel awaren','misspel javadoc class apach catalina startup tld config tldconfig','line attribut valu use turn tld namespac awaren privat boolean tld namespac awar tldnamespaceawar fals awar misspel awaren line get server xml lt host gt attribut xml namespac awar xmlnamespaceawar return true namespac awaren enabl public boolean get tld namespac awar gettldnamespaceawar return tld namespac awar tldnamespaceawar awar misspel awaren','2009-11-04 01:48:39',1257320000,'resolved fixed','5d9f68b',1257380000,'java/org/apache/catalina/startup/TldConfig.java'),(784,48120,'Bug 48120  one misspelling in the javadoc of class \"org.apache.catalina.startup.SetNextNamingRule\"','Line 50:\n\n/**\n     * Construct a \"set next\" rule with the specified method name.\n     *\n     * @param methodName Method name of the parent method to call\n     * @param paramType Java class of the parent method\'s argument\n     *  (if you wish to use a primitive type, specify the corresonding\n     *  Java wrapper class instead, such as <code>java.lang.Boolean</code>\n     *  for a <code>boolean</code> parameter)\n     */\n    public SetNextNamingRule(String methodName,\n                       String paramType) {\n\n\'corresponding\' was misspelled as \'corresonding\'','one misspel javadoc class apach catalina startup set next name rule setnextnamingrul line construct set next rule specifi method name param method name methodnam method name parent method call param param type paramtyp java class parent method argument wish use primit type specifi corresond java wrapper class instead code java lang boolean code code boolean code paramet public set next name rule setnextnamingrul string method name methodnam string param type paramtyp correspond misspel corresond','one misspel javadoc class apach catalina startup set next name rule setnextnamingrul','line construct set next rule specifi method name param method name methodnam method name parent method call param param type paramtyp java class parent method argument wish use primit type specifi corresond java wrapper class instead code java lang boolean code code boolean code paramet public set next name rule setnextnamingrul string method name methodnam string param type paramtyp correspond misspel corresond','2009-11-04 01:45:46',1257320000,'resolved fixed','7508847',1257380000,'java/org/apache/catalina/startup/SetNextNamingRule.java'),(785,48117,'Bug 48117  two misspellings in the javadoc of class \"org.apache.catalina.startup.ContextConfig\"','in protected synchronized void stop(): (Line: 1059)\n\n// Removing sercurity role\n\n\'security\' is misspelled to \'sercurity\'\n\n\n\n\nin protected InputSource getWebXmlSource(String filename, String path): (Line: 1354)\n\n/**\n     * \n     * @param filename  Name of the file (possibly with one or more leading path\n     *                  segemnts) to read\n     * @param path      Location that filename is relative to \n     * @return\n     */\n\n\'segments\' is misspelled to \'segemnts\'.','two misspel javadoc class apach catalina startup context config contextconfig protect synchron void stop line remov sercur role secur misspel sercur protect input sourc inputsourc get web xml sourc getwebxmlsourc string filenam string path line param filenam name file possibl one lead path segemnt read param path locat filenam rel return segment misspel segemnt','two misspel javadoc class apach catalina startup context config contextconfig','protect synchron void stop line remov sercur role secur misspel sercur protect input sourc inputsourc get web xml sourc getwebxmlsourc string filenam string path line param filenam name file possibl one lead path segemnt read param path locat filenam rel return segment misspel segemnt','2009-11-04 01:26:19',1257320000,'resolved fixed','b6df018',1257380000,'java/org/apache/catalina/startup/ContextConfig.java'),(786,48119,'Bug 48119  5 misspellings in the javadoc of class \"org.apache.catalina.startup.HostConfig\'','No.1\n\nLine 146:\n\n/**\n     * Attribute value used to turn on/off XML namespace awarenes.\n     */\n    protected boolean xmlNamespaceAware = false;\n\n\'awareness\' was misspelled as \'awarenes\'\n\n\nNo.2\n\nLine 268:\n\n/**\n     * Get the server.xml &lt;host&gt; attribute\'s xmlNamespaceAware.\n     * @return true if namespace awarenes is enabled.\n     *\n     */\n    public boolean getXmlNamespaceAware(){\n        return xmlNamespaceAware;\n    }\n\n\'awareness\' was misspelled as \'awarenes\'\n\nNo.3\n\nLine 366:\n\n/**\n     * Has the specified application been deployed? Note applications defined\n     * in server.xml will not have been deployed.\n     * @return <code>true</code> if the application has been deployed and\n     * <code>false</code> if the applciation has not been deployed or does not\n     * exist\n     */\n    public boolean isDeployed(String name) {\n\n\'application\' was misspelled as \'applciation\'\n\nNo.4\n\nLine 1328:\n\n/**\n     * Add a new Context to be managed by us.\n     * Entry point for the admin webapp, and other JMX Context controlers.\n     */\n    public void manageApp(Context context)  {    \n\n\'controllers\' was misspelled as \'controlers\'\n\nLine 1382:\n\n/**\n     * Remove a webapp from our control.\n     * Entry point for the admin webapp, and other JMX Context controlers.\n     */\n    public void unmanageApp(String contextPath) {\n\n\'controllers\' was misspelled as \'controlers\'','misspel javadoc class apach catalina startup host config hostconfig line attribut valu use turn xml namespac awaren protect boolean xml namespac awar xmlnamespaceawar fals awar misspel awaren line get server xml lt host gt attribut xml namespac awar xmlnamespaceawar return true namespac awaren enabl public boolean get xml namespac awar getxmlnamespaceawar return xml namespac awar xmlnamespaceawar awar misspel awaren line specifi applic deploy note applic defin server xml deploy return code true code applic deploy code fals code applciat deploy exist public boolean is deploy isdeploy string name applic misspel applciat line add new context manag u entri point admin webapp jmx context control public void manag app manageapp context context control misspel control line remov webapp control entri point admin webapp jmx context control public void unmanag app unmanageapp string context path contextpath control misspel control','misspel javadoc class apach catalina startup host config hostconfig','line attribut valu use turn xml namespac awaren protect boolean xml namespac awar xmlnamespaceawar fals awar misspel awaren line get server xml lt host gt attribut xml namespac awar xmlnamespaceawar return true namespac awaren enabl public boolean get xml namespac awar getxmlnamespaceawar return xml namespac awar xmlnamespaceawar awar misspel awaren line specifi applic deploy note applic defin server xml deploy return code true code applic deploy code fals code applciat deploy exist public boolean is deploy isdeploy string name applic misspel applciat line add new context manag u entri point admin webapp jmx context control public void manag app manageapp context context control misspel control line remov webapp control entri point admin webapp jmx context control public void unmanag app unmanageapp string context path contextpath control misspel control','2009-11-04 01:42:30',1257320000,'resolved fixed','07e5982',1257340000,'java/org/apache/catalina/startup/HostConfig.java'),(787,48118,'Bug 48118  two misspellings in the javadoc of class \"org.apache.catalina.startup.Embeded\"','Line: 230\n/**\n     * Return true if redirction of standard streams is enabled.\n     */\n    public boolean isRedirectStreams() {\n\n        return (this.redirectStreams);\n\n    }\n\n\'redirection\' was misspelled to \'redirction\'\n\n\nLine: 875\n\n/** Initialize naming - this should only enable java:env and root naming.\n     * If tomcat is embeded in an application that already defines those -\n     * it shouldn\'t do it.\n     *\n     * XXX The 2 should be separated, you may want to enable java: but not\n     * the initial context and the reverse\n     * XXX Can we \"guess\" - i.e. lookup java: and if something is returned assume\n     * false ?\n     * XXX We have a major problem with the current setting for java: url\n     */\n    protected void initNaming() {\n\n\n\'embedded\' was mispelled to \'embeded\'','two misspel javadoc class apach catalina startup embed line return true redirct standard stream enabl public boolean is redirect stream isredirectstream return redirect stream redirectstream redirect misspel redirct line initi name enabl java env root name tomcat embed applic alreadi defin shouldn xxx separ may enabl java initi context revers xxx guess lookup java someth return assum fals xxx major problem current set java url protect void init name initnam embed mispel embed','two misspel javadoc class apach catalina startup embed','line return true redirct standard stream enabl public boolean is redirect stream isredirectstream return redirect stream redirectstream redirect misspel redirct line initi name enabl java env root name tomcat embed applic alreadi defin shouldn xxx separ may enabl java initi context revers xxx guess lookup java someth return assum fals xxx major problem current set java url protect void init name initnam embed mispel embed','2009-11-04 01:33:03',1257320000,'resolved fixed','ae16eb2',1257340000,'java/org/apache/catalina/startup/Embedded.java'),(788,46947,'Bug 46947  Code cleanup patch that removes some obsolete null checks','','code cleanup patch remov obsolet null check','code cleanup patch remov obsolet null check','','2009-03-31 13:00:32',1238520000,'resolved fixed','6908b18',1257300000,'java/org/apache/catalina/ant/jmx/JMXAccessorTask.java\njava/org/apache/catalina/tribes/transport/bio/BioReceiver.java\njava/org/apache/catalina/valves/JDBCAccessLogValve.java\njava/org/apache/tomcat/util/net/NioBlockingSelector.java'),(789,48102,'Bug 48102  \'Bootstrap\' is misspelled as \'Boostrap\' in the javadoc of the class of \'org.apache.catalina.startup.Bootstrap\'','Below is the javadoc of the class of \'org.apache.catalina.startup.Bootstrap\':\n\n/**\n * Boostrap loader for Catalina.  This application constructs a class loader\n * for use in loading the Catalina internal classes (by accumulating all of the\n * JAR files found in the \"server\" directory under \"catalina.home\"), and\n * starts the regular execution of the container.  The purpose of this\n * roundabout approach is to keep the Catalina internal classes (and any\n * other classes they depend on, such as an XML parser) out of the system\n * class path and therefore not visible to application level classes.\n *\n * @author Craig R. McClanahan\n * @author Remy Maucherat\n * @version $Revision: 831860 $ $Date: 2009-11-02 19:00:01 +0800 (Mon, 02 Nov 2009) $\n */\n\nthe first word ommits a \'t\' letter. It sould be \'Bootstrap\', not \'Boostrap\'.','bootstrap misspel boostrap javadoc class apach catalina startup bootstrap javadoc class apach catalina startup bootstrap boostrap loader catalina applic construct class loader use load catalina intern class accumul jar file found server directori catalina home start regular execut contain purpos roundabout approach keep catalina intern class class depend xml parser system class path therefor visibl applic level class author craig mc clanahan mcclanahan author remi maucherat version revis date nov first word ommit letter sould bootstrap boostrap','bootstrap misspel boostrap javadoc class apach catalina startup bootstrap','javadoc class apach catalina startup bootstrap boostrap loader catalina applic construct class loader use load catalina intern class accumul jar file found server directori catalina home start regular execut contain purpos roundabout approach keep catalina intern class class depend xml parser system class path therefor visibl applic level class author craig mc clanahan mcclanahan author remi maucherat version revis date nov first word ommit letter sould bootstrap boostrap','2009-11-02 03:11:25',1257150000,'resolved fixed','c060034',1257210000,'java/org/apache/catalina/startup/Bootstrap.java'),(790,48104,'Bug 48104  the javadoc of class \'org.apache.catalina.startup.Catalina\' is not complete, as in the usage() method','Below is the javadoc of class \'org.apache.catalina.startup.Catalina\':\n\n/**\n * Startup/Shutdown shell program for Catalina.  The following command line\n * options are recognized:\n * <ul>\n * <li><b>-config {pathname}</b> - Set the pathname of the configuration file\n *     to be processed.  If a relative path is specified, it will be\n *     interpreted as relative to the directory pathname specified by the\n *     \"catalina.base\" system property.   [conf/server.xml]\n * <li><b>-help</b> - Display usage information.\n * <li><b>-stop</b> - Stop the currently running instance of Catalina.\n * </u>\n *\n * Should do the same thing as Embedded, but using a server.xml file.\n *\n * @author Craig R. McClanahan\n * @author Remy Maucherat\n * @version $Revision: 752323 $ $Date: 2009-03-11 08:46:54 +0800 (Wed, 11 Mar 2009) $\n */\n\nHowever, it doesn\'t allude the \'-nonmaing\' option, and \'start\' option.\n\nBelow is the usage() method of the same class:\n\n/**\n     * Print usage information for this application.\n     */\n    protected void usage() {\n\n        System.out.println\n            (\"usage: java org.apache.catalina.startup.Catalina\"\n             + \" [ -config {pathname} ]\"\n             + \" [ -nonaming ] { start | stop }\");\n\n    }\n\nIt is not complete either. It lacks the \'-help\' option.','javadoc class apach catalina startup catalina complet usag method javadoc class apach catalina startup catalina startup shutdown shell program catalina follow command line option recogn ul config pathnam set pathnam configur file process rel path specifi interpret rel directori pathnam specifi catalina base system properti conf server xml help display usag inform stop stop current run instanc catalina thing embed use server xml file author craig mc clanahan mcclanahan author remi maucherat version revis date wed mar howev doesn allud nonma option start option usag method class print usag inform applic protect void usag system println usag java apach catalina startup catalina config pathnam nonam start stop complet either lack help option','javadoc class apach catalina startup catalina complet usag method','javadoc class apach catalina startup catalina startup shutdown shell program catalina follow command line option recogn ul config pathnam set pathnam configur file process rel path specifi interpret rel directori pathnam specifi catalina base system properti conf server xml help display usag inform stop stop current run instanc catalina thing embed use server xml file author craig mc clanahan mcclanahan author remi maucherat version revis date wed mar howev doesn allud nonma option start option usag method class print usag inform applic protect void usag system println usag java apach catalina startup catalina config pathnam nonam start stop complet either lack help option','2009-11-02 03:20:57',1257150000,'resolved fixed','481cfe9',1257210000,'java/org/apache/catalina/startup/Catalina.java'),(791,47881,'Bug 47881  org.apache.catalina.startup.Bootstrap\'s main method handles \'startd\' or \'stopd\' wrongly','String command = \"start\";\nif (args.length > 0) {\n    command = args[args.length - 1];\n}\n\nif (command.equals(\"startd\")) {\n    args[0] = \"start\";\n    daemon.load(args);\n    daemon.start();\n} else if (command.equals(\"stopd\")) {\n    args[0] = \"stop\";\n    daemon.stop();\n} \n... ...\n\n\nshould be: \n\nString command = \"start\";\nif (args.length > 0) {\n    command = args[args.length - 1];\n}\nif (command.equals(\"startd\")) {\n    args[args.length - 1] = \"start\";\n    daemon.load(args);\n    daemon.start();\n} else if (command.equals(\"stopd\")) {\n    args[args.length - 1] = \"stop\";\n    daemon.stop();\n} \n... ...\n\nPlease refer to the following usage method of  org.apache.catalina.startup.Catalina:\nprotected void usage() {\n\n        System.out.println\n            (\"usage: java org.apache.catalina.startup.Catalina\"\n             + \" [ -config {pathname} ]\"\n             + \" [ -nonaming ] { start | stop }\");\n\n    }','apach catalina startup bootstrap main method handl startd stopd wrongli string command start arg length command arg arg length command equal startd arg start daemon load arg daemon start els command equal stopd arg stop daemon stop string command start arg length command arg arg length command equal startd arg arg length start daemon load arg daemon start els command equal stopd arg arg length stop daemon stop pleas refer follow usag method apach catalina startup catalina protect void usag system println usag java apach catalina startup catalina config pathnam nonam start stop','apach catalina startup bootstrap main method handl startd stopd wrongli','string command start arg length command arg arg length command equal startd arg start daemon load arg daemon start els command equal stopd arg stop daemon stop string command start arg length command arg arg length command equal startd arg arg length start daemon load arg daemon start els command equal stopd arg arg length stop daemon stop pleas refer follow usag method apach catalina startup catalina protect void usag system println usag java apach catalina startup catalina config pathnam nonam start stop','2009-09-20 19:14:04',1253490000,'resolved fixed','3ef0f21',1257160000,'java/org/apache/catalina/startup/Bootstrap.java'),(792,47331,'Bug 47331  No translation error messag when using #{...} in template text','','translat error messag use templat text','translat error messag use templat text','','2009-06-08 02:22:52',1244440000,'resolved fixed','f3b04b4',1257120000,'java/org/apache/jasper/compiler/Validator.java'),(793,47451,'Bug 47451  NPE if response contains null content-encoding header','','npe respons contain null content encod contentencod header','npe respons contain null content encod contentencod header','','2009-06-29 14:53:48',1246300000,'resolved fixed','14084ac',1257120000,'java/org/apache/catalina/connector/Response.java'),(794,47364,'Bug 47364  HttpServletRequest.getAttributeNames() does not return the names of all attributes','In an email exchange that involved Ranier (see attachment), he suggested I log this in Bugzilla, so I am.\n\nI was using Tomcat 6.0.20 on Windows XP SP3 with the latest Java 6 JVM. In the doGet method of a servlet, I was trying to see all request attributes to see if the \"sendfile supported\" attribute was set (specifically the request attribute org.apache.tomcat.sendfile.support). On my first pass at this I just used HttpServletRequest.getAttributeNames() to dump all the names of the attributes expecting to see this one listed, but I got no attributes listed at all. Then I actually got the attribute via getAttribute(\"org.apache.tomcat.sendfile.support\") which worked. So getAttributeNames is not returning the names of all attributes.\n\nSo either:\n\n1. getAttributeNames needs to be fixed to return the names of all attributes (i.e., a code change); or\n\n2. The Tomcat doc needs to be updated in some way as to say thatgetAttributeNames only returns certain attributes and blah blah (i.e., a doc change).\n\nAgain my original email and Ranier\'s reply is attached.\n\nThanks!','http servlet request httpservletrequest get attribut name getattributenam return name attribut email exchang involv ranier see attach suggest log bugzilla use tomcat window xp p3 sp3 latest java jvm do get doget method servlet tri see request attribut see sendfil support attribut set specif request attribut apach tomcat sendfil support first pa use http servlet request httpservletrequest get attribut name getattributenam dump name attribut expect see one list got attribut list actual got attribut via get attribut getattribut apach tomcat sendfil support work get attribut name getattributenam return name attribut either get attribut name getattributenam need fix return name attribut code chang tomcat doc need updat way say thatget attribut name thatgetattributenam return certain attribut blah blah doc chang origin email ranier repli attach thank','http servlet request httpservletrequest get attribut name getattributenam return name attribut','email exchang involv ranier see attach suggest log bugzilla use tomcat window xp p3 sp3 latest java jvm do get doget method servlet tri see request attribut see sendfil support attribut set specif request attribut apach tomcat sendfil support first pa use http servlet request httpservletrequest get attribut name getattributenam dump name attribut expect see one list got attribut list actual got attribut via get attribut getattribut apach tomcat sendfil support work get attribut name getattributenam return name attribut either get attribut name getattributenam need fix return name attribut code chang tomcat doc need updat way say thatget attribut name thatgetattributenam return certain attribut blah blah doc chang origin email ranier repli attach thank','2009-06-12 13:44:21',1244830000,'resolved fixed','7fc56b4',1257100000,'java/org/apache/catalina/connector/Request.java'),(795,48009,'Bug 48009  Editing context.xml may cause unwanted undeploy of a webapp','Tomcat polls context.xml files for changes.  If a previously-existing context.xml is missing at the instant Tomcat polls, then the application is undeployed.\n\nSome text editors (notably vi and its derivatives) create backup files by: 1) Renaming the original file, then 2) creating a new file and writing the edited contents to that file.\n\nTherefore there is a race condition.  There is a small but non-zero probability that a user editing and saving context.xml using such an editor will see their webapp undeployed.  Messages on tomcat-users indicate that such a situation has occurred on a production server at least once.  It\'s undoubtedly rare.\n\nSuggested fixes:\n\n- Examine the directory for the presence of backup files for context.xml, and do not undeploy if one is found even if context.xml is missing.  This is horribly ugly and makes the semantics of \"a backup file\" very peculiar, but is actually the only way to *prevent* the race - anything else only makes it less likely, as on a heavily loaded system (or one where context.xml is being edited via a network file share) the interval between the old context.xml being renamed and the new one being created may be arbitrarily long.\n\n- Only undeploy if the file is missing for a period of time.  The discussion is then around that period.  On tomcat-users, Mark Thomas suggested polling again after 500ms; I suggested remembering the state between polls and only undeploying if the file was missing for two successive polls.  This is a cleaner fix to explain, but is not a complete solution as it does not remove the possibility of such a race.\n\n---\n\nAs an aside, there may well be a similar issue where Tomcat polls for context.xml as it is being written, finds it has changed, and reads a part-written version.  In mitigation, the files involved are typically small and may well be written in one or very few operations; however, Tomcat should probably not assume that any file change is atomic.','edit context xml may caus unwant undeploy webapp tomcat poll context xml file chang previous exist previouslyexist context xml miss instant tomcat poll applic undeploy text editor notabl deriv creat backup file renam origin file creat new file write edit content file therefor race condit small non zero nonzero probabl user edit save context xml use editor see webapp undeploy messag tomcat user tomcatus indic situat occur product server least undoubtedli rare suggest fix examin directori presenc backup file context xml undeploy one found even context xml miss horribl ugli make semant backup file peculiar actual way prevent race anyth els make le like heavili load system one context xml edit via network file share interv old context xml renam new one creat may arbitrarili long undeploy file miss period time discuss around period tomcat user tomcatus mark thoma suggest poll 500m suggest rememb state poll undeploy file miss two success poll cleaner fix explain complet solut remov possibl race asid may well similar issu tomcat poll context xml written find chang read part written partwritten version mitig file involv typic small may well written one oper howev tomcat probabl assum file chang atom','edit context xml may caus unwant undeploy webapp','tomcat poll context xml file chang previous exist previouslyexist context xml miss instant tomcat poll applic undeploy text editor notabl deriv creat backup file renam origin file creat new file write edit content file therefor race condit small non zero nonzero probabl user edit save context xml use editor see webapp undeploy messag tomcat user tomcatus indic situat occur product server least undoubtedli rare suggest fix examin directori presenc backup file context xml undeploy one found even context xml miss horribl ugli make semant backup file peculiar actual way prevent race anyth els make le like heavili load system one context xml edit via network file share interv old context xml renam new one creat may arbitrarili long undeploy file miss period time discuss around period tomcat user tomcatus mark thoma suggest poll 500m suggest rememb state poll undeploy file miss two success poll cleaner fix explain complet solut remov possibl race asid may well similar issu tomcat poll context xml written find chang read part written partwritten version mitig file involv typic small may well written one oper howev tomcat probabl assum file chang atom','2009-10-16 01:52:21',1255670000,'resolved fixed','d55f1d9',1256160000,'java/org/apache/catalina/startup/HostConfig.java'),(796,48019,'Bug 48019  StackOverflowError on \"include\"','JSP file name: \n/common/headers.jsp\n\n\nIt\'s cotent:\n\n<% // example: <%@ include file=\"/common/headers.jsp\" % >\n%>\n<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" />\n<meta http-equiv=\"Cache-Control\" content=\"no-store\" />\n<meta http-equiv=\"Pragma\" content=\"no-cache\" />\n<meta http-equiv=\"Expires\" content=\"0\" />\n<link href=\"../css/css.css\" rel=\"stylesheet\" type=\"text/css\">\n\n\nConsole output:\n\njava.lang.StackOverflowError\n	at java.text.DateFormat.format(DateFormat.java:275)\n	at java.text.Format.format(Format.java:140)\n	at java.text.MessageFormat.subformat(MessageFormat.java:1288)\n	at java.text.MessageFormat.format(MessageFormat.java:795)\n	at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:50)\n	at java.util.logging.StreamHandler.publish(StreamHandler.java:179)\n	at java.util.logging.ConsoleHandler.publish(ConsoleHandler.java:88)\n	at java.util.logging.Logger.log(Logger.java:458)\n	at java.util.logging.Logger.doLog(Logger.java:480)\n	at java.util.logging.Logger.logp(Logger.java:680)\n	at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:167)\n	at org.apache.juli.logging.DirectJDKLog.error(DirectJDKLog.java:135)\n	at org.apache.jasper.compiler.JspReader.pushFile(JspReader.java:606)\n	at org.apache.jasper.compiler.JspReader.<init>(JspReader.java:141)\n	at org.apache.jasper.compiler.JspReader.<init>(JspReader.java:119)\n	at org.apache.jasper.compiler.ParserController.determineSyntaxAndEncoding(ParserController.java:399)\n	at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:207)\n	at org.apache.jasper.compiler.ParserController.parse(ParserController.java:137)\n	at org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:339)\n	at org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java:376)\n	at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:484)\n	at org.apache.jasper.compiler.Parser.parseTagFileDirectives(Parser.java:1784)\n	at org.apache.jasper.compiler.Parser.parse(Parser.java:127)\n\n\nThis not exist in \"6.0.18\".','stack overflow error stackoverflowerror includ jsp file name common header jsp cotent exampl includ file common header jsp meta http equiv httpequiv content type content text html charset utf meta http equiv httpequiv cach control content no store nostor meta http equiv httpequiv pragma content no cach nocach meta http equiv httpequiv expir content link href cs cs cs rel stylesheet type text cs consol output java lang stack overflow error stackoverflowerror java text date format dateformat format date format dateformat java java text format format format java java text messag format messageformat subformat messag format messageformat java java text messag format messageformat format messag format messageformat java java util log simpl formatt simpleformatt format simpl formatt simpleformatt java java util log stream handler streamhandl publish stream handler streamhandl java java util log consol handler consolehandl publish consol handler consolehandl java java util log logger log logger java java util log logger do log dolog logger java java util log logger logp logger java apach juli log direct log directjdklog log direct log directjdklog java apach juli log direct log directjdklog error direct log directjdklog java apach jasper compil jsp reader jspreader push file pushfil jsp reader jspreader java apach jasper compil jsp reader jspreader init jsp reader jspreader java apach jasper compil jsp reader jspreader init jsp reader jspreader java apach jasper compil parser control parsercontrol determin syntax and encod determinesyntaxandencod parser control parsercontrol java apach jasper compil parser control parsercontrol do pars dopars parser control parsercontrol java apach jasper compil parser control parsercontrol pars parser control parsercontrol java apach jasper compil parser process includ direct processincludedirect parser java apach jasper compil parser pars includ direct parseincludedirect parser java apach jasper compil parser pars direct parsedirect parser java apach jasper compil parser pars tag file direct parsetagfiledirect parser java apach jasper compil parser pars parser java exist','stack overflow error stackoverflowerror includ','jsp file name common header jsp cotent exampl includ file common header jsp meta http equiv httpequiv content type content text html charset utf meta http equiv httpequiv cach control content no store nostor meta http equiv httpequiv pragma content no cach nocach meta http equiv httpequiv expir content link href cs cs cs rel stylesheet type text cs consol output java lang stack overflow error stackoverflowerror java text date format dateformat format date format dateformat java java text format format format java java text messag format messageformat subformat messag format messageformat java java text messag format messageformat format messag format messageformat java java util log simpl formatt simpleformatt format simpl formatt simpleformatt java java util log stream handler streamhandl publish stream handler streamhandl java java util log consol handler consolehandl publish consol handler consolehandl java java util log logger log logger java java util log logger do log dolog logger java java util log logger logp logger java apach juli log direct log directjdklog log direct log directjdklog java apach juli log direct log directjdklog error direct log directjdklog java apach jasper compil jsp reader jspreader push file pushfil jsp reader jspreader java apach jasper compil jsp reader jspreader init jsp reader jspreader java apach jasper compil jsp reader jspreader init jsp reader jspreader java apach jasper compil parser control parsercontrol determin syntax and encod determinesyntaxandencod parser control parsercontrol java apach jasper compil parser control parsercontrol do pars dopars parser control parsercontrol java apach jasper compil parser control parsercontrol pars parser control parsercontrol java apach jasper compil parser process includ direct processincludedirect parser java apach jasper compil parser pars includ direct parseincludedirect parser java apach jasper compil parser pars direct parsedirect parser java apach jasper compil parser pars tag file direct parsetagfiledirect parser java apach jasper compil parser pars parser java exist','2009-10-17 07:18:47',1255780000,'resolved fixed','deac657',1256160000,'java/org/apache/jasper/compiler/Parser.java'),(797,40001,'Bug 40001  HTML pages should not use GET to restart web-apps.','','html page use get restart web app webapp','html page use get restart web app webapp','','2006-07-10 14:32:20',1152560000,'resolved fixed','99f01fd',1255210000,'java/org/apache/catalina/manager/Constants.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java'),(798,47320,'Bug 47320  Decoding jsessionid bug on z/os','If you receive a rewritten URL on z/os with uss (unix on a mainframe), Tomcat\ndoes not properly decode the jsessionid portion of the URL.\n\nThe problem is in org.apache.catalina.connector.CoyoteAdapter in the parseSessionId method.\n\nThe two instantiations of a String object do not specify the encdoding to use.\n\ne.g. String sid = new String(uriBC.getBuffer(), start + sessionIdStart,\n                            semicolon2 - sessionIdStart); \n\n...as well as the second String instantiation in this method.\n\nConsequently z/os uses its default encoding which (I think) is EBCDIC.\n\nIf I recompile with a hardcoded \"UTF-8\" for the encoding then the jsessionid decodes properly.  Not that I am suggesting this literally for the official fix.\n\ne.g. String sid = new String(uriBC.getBuffer(), start + sessionIdStart,\n                            semicolon2 - sessionIdStart, \"UTF-8\");','decod jsessionid receiv rewritten url us unix mainfram tomcat properli decod jsessionid portion url problem apach catalina connector coyot adapt coyoteadapt pars session id parsesessionid method two instanti string object specifi encdod use string sid new string uri uribc get buffer getbuff start session id start sessionidstart semicolon2 session id start sessionidstart well second string instanti method consequ us default encod think ebcdic recompil hardcod utf encod jsessionid decod properli suggest liter offici fix string sid new string uri uribc get buffer getbuff start session id start sessionidstart semicolon2 session id start sessionidstart utf','decod jsessionid','receiv rewritten url us unix mainfram tomcat properli decod jsessionid portion url problem apach catalina connector coyot adapt coyoteadapt pars session id parsesessionid method two instanti string object specifi encdod use string sid new string uri uribc get buffer getbuff start session id start sessionidstart semicolon2 session id start sessionidstart well second string instanti method consequ us default encod think ebcdic recompil hardcod utf encod jsessionid decod properli suggest liter offici fix string sid new string uri uribc get buffer getbuff start session id start sessionidstart semicolon2 session id start sessionidstart utf','2009-06-05 08:37:24',1244210000,'resolved fixed','0f99904',1254070000,'java/org/apache/catalina/connector/CoyoteAdapter.java'),(799,47499,'Bug 47499  provide better insight on BindException: Cannot assign requested address','1) cite the address you attempt to listen (not just the port)\n2) proper exception chaining\n\nthe following info is currently lost: <<java.net.BindException: Cannot assign requested address\n	at java.net.PlainSocketImpl.socketBind(Native Method)\n	at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:359)\n	at java.net.ServerSocket.bind(ServerSocket.java:319)\n	at java.net.ServerSocket.<init>(ServerSocket.java:185)\n	at javax.net.ssl.SSLServerSocket.<init>(SSLServerSocket.java:106)\n	at com.privasphere.net.ssl.SSLServerSocketImpl.<init>(SSLServerSocketImpl.java:106)\n	at com.privasphere.net.ssl.SSLServerSocketFactoryImpl.createServerSocket(SSLServerSocketFactoryImpl.java:71)\n	at org.apache.tomcat.util.net.jsse.JSSESocketFactory.createSocket(JSSESocketFactory.java:100)\n	at org.apache.tomcat.util.net.PoolTcpEndpoint.initEndpoint(PoolTcpEndpoint.java:295)\n	at org.apache.coyote.http11.Http11BaseProtocol.init(Http11BaseProtocol.java:139)\n	at org.apache.catalina.connector.Connector.initialize(Connector.java:1017)\n	at org.apache.catalina.core.StandardService.initialize(StandardService.java:578)>>','provid better insight bind except bindexcept cannot assign request address cite address attempt listen port proper except chain follow info current lost java net bind except bindexcept cannot assign request address java net plain socket impl plainsocketimpl socket bind socketbind nativ method java net plain socket impl plainsocketimpl bind plain socket impl plainsocketimpl java java net server socket serversocket bind server socket serversocket java java net server socket serversocket init server socket serversocket java javax net ssl server socket sslserversocket init server socket sslserversocket java privaspher net ssl server socket impl sslserversocketimpl init server socket impl sslserversocketimpl java privaspher net ssl server socket factori impl sslserversocketfactoryimpl creat server socket createserversocket server socket factori impl sslserversocketfactoryimpl java apach tomcat util net jsse socket factori jssesocketfactori creat socket createsocket socket factori jssesocketfactori java apach tomcat util net pool tcp endpoint pooltcpendpoint init endpoint initendpoint pool tcp endpoint pooltcpendpoint java apach coyot http11 http11 base protocol http11baseprotocol init http11 base protocol http11baseprotocol java apach catalina connector connector initi connector java apach catalina core standard servic standardservic initi standard servic standardservic java','provid better insight bind except bindexcept cannot assign request address','cite address attempt listen port proper except chain follow info current lost java net bind except bindexcept cannot assign request address java net plain socket impl plainsocketimpl socket bind socketbind nativ method java net plain socket impl plainsocketimpl bind plain socket impl plainsocketimpl java java net server socket serversocket bind server socket serversocket java java net server socket serversocket init server socket serversocket java javax net ssl server socket sslserversocket init server socket sslserversocket java privaspher net ssl server socket impl sslserversocketimpl init server socket impl sslserversocketimpl java privaspher net ssl server socket factori impl sslserversocketfactoryimpl creat server socket createserversocket server socket factori impl sslserversocketfactoryimpl java apach tomcat util net jsse socket factori jssesocketfactori creat socket createsocket socket factori jssesocketfactori java apach tomcat util net pool tcp endpoint pooltcpendpoint init endpoint initendpoint pool tcp endpoint pooltcpendpoint java apach coyot http11 http11 base protocol http11baseprotocol init http11 base protocol http11baseprotocol java apach catalina connector connector initi connector java apach catalina core standard servic standardservic initi standard servic standardservic java','2009-07-08 22:05:03',1247110000,'resolved fixed','73bb9e4',1253650000,'java/org/apache/tomcat/util/net/JIoEndpoint.java'),(800,47866,'Bug 47866  NullPointerException in embedded tomcat','It seems that the WebappClassLoader was stopped?\n\n{noformat}\nCaused by: java.lang.NullPointerException\n	at org.apache.catalina.loader.WebappClassLoader.findResources(WebappClassLoader.java:994)\n	at java.lang.ClassLoader.getResources(ClassLoader.java:1016)\n{noformat}\n\nAll I did was launch a server add a context and then ask it to load a resource from its classpath.  It\'s a bit more complicated than that, so I\'ll try and narrow it down if needed.','null pointer except nullpointerexcept embed tomcat seem webapp class loader webappclassload stop noformat caus java lang null pointer except nullpointerexcept apach catalina loader webapp class loader webappclassload find resourc findresourc webapp class loader webappclassload java java lang class loader classload get resourc getresourc class loader classload java noformat launch server add context ask load resourc classpath bit complic ll tri narrow need','null pointer except nullpointerexcept embed tomcat','seem webapp class loader webappclassload stop noformat caus java lang null pointer except nullpointerexcept apach catalina loader webapp class loader webappclassload find resourc findresourc webapp class loader webappclassload java java lang class loader classload get resourc getresourc class loader classload java noformat launch server add context ask load resourc classpath bit complic ll tri narrow need','2009-09-18 00:23:03',1253250000,'resolved wontfix','189181a',1253530000,'test/org/apache/catalina/startup/TestTomcat.java'),(801,47225,'Bug 47225  Wrong argument in redirectPath.setChars in Mapper.internalMapWrapper()','','wrong argument redirect path redirectpath set char setchar mapper intern map wrapper internalmapwrapp','wrong argument redirect path redirectpath set char setchar mapper intern map wrapper internalmapwrapp','','2009-05-19 21:52:39',1242780000,'resolved fixed','a31d52f',1253140000,'java/org/apache/tomcat/util/http/mapper/Mapper.java'),(802,47161,'Bug 47161  Manager ignores executors on status pages','When displaying the thread pools, the StatusManagerServlet ignores executors and uses the \'standard\' ThreadPool information for each connector. This causes incorrect information to be displayed when a connector is configured to use an executor.\n\nOn a related topic, it appears that the connector<->executor link is not exposed via JMX (which it will need to be to fix this).','manag ignor executor statu page display thread pool statu manag servlet statusmanagerservlet ignor executor us standard thread pool threadpool inform connector caus incorrect inform display connector configur use executor relat topic appear connector executor link expos via jmx need fix','manag ignor executor statu page','display thread pool statu manag servlet statusmanagerservlet ignor executor us standard thread pool threadpool inform connector caus incorrect inform display connector configur use executor relat topic appear connector executor link expos via jmx need fix','2009-05-06 07:20:31',1241610000,'resolved fixed','aaf7b5d',1253050000,'java/org/apache/tomcat/util/net/AbstractEndpoint.java\njava/org/apache/tomcat/util/threads/ResizableExecutor.java'),(803,46950,'Bug 46950  SSL renegotiation does not occur when resource with CLIENT-CERT auth is requested','When a part of a webapp requires an SSL connection with a client certificate there should be an SSL renegotiation to request a client certificate from the browser.\n\nThis is the configuration I added to an webapp that already uses an SSL connector:\n\n<login-config id=\"LoginConfig_1\">\n                <auth-method>CLIENT-CERT</auth-method>\n                <realm-name>WPS</realm-name>\n</login-config>\n\n<security-constraint id=\"SecurityConstraint_1\">\n                <web-resource-collection id=\"WebResourceCollection_1\">\n                        <web-resource-name/>   \n                        <url-pattern>/LoginWithCert.do</url-pattern>\n                        <http-method>DELETE</http-method>\n                        <http-method>GET</http-method>\n                        <http-method>POST</http-method>\n                        <http-method>PUT</http-method>\n                        <http-method>HEAD</http-method>\n                </web-resource-collection>\n                <user-data-constraint id=\"UserDataConstraint_4\">\n                        <transport-guarantee>CONFIDENTIAL</transport-guarantee>\n                </user-data-constraint>\n</security-constraint>\n\nRequests to /LoginWithCert.do require an SSL connection, if there isn\'t one, but no client certificate is requested.','ssl renegoti occur resourc client cert auth request part webapp requir ssl connect client certif ssl renegoti request client certif browser configur ad webapp alreadi us ssl connector login config loginconfig id login config loginconfig auth method authmethod client cert auth method authmethod realm name realmnam wp realm name realmnam login config loginconfig secur constraint securityconstraint id secur constraint securityconstraint web resourc collect webresourcecollect id web resourc collect webresourcecollect web resourc name webresourcenam url pattern urlpattern login with cert loginwithcert url pattern urlpattern http method httpmethod delet http method httpmethod http method httpmethod get http method httpmethod http method httpmethod post http method httpmethod http method httpmethod put http method httpmethod http method httpmethod head http method httpmethod web resourc collect webresourcecollect user data constraint userdataconstraint id user data constraint userdataconstraint transport guarante transportguarante confidenti transport guarante transportguarante user data constraint userdataconstraint secur constraint securityconstraint request login with cert loginwithcert requir ssl connect isn one client certif request','ssl renegoti occur resourc client cert auth request','part webapp requir ssl connect client certif ssl renegoti request client certif browser configur ad webapp alreadi us ssl connector login config loginconfig id login config loginconfig auth method authmethod client cert auth method authmethod realm name realmnam wp realm name realmnam login config loginconfig secur constraint securityconstraint id secur constraint securityconstraint web resourc collect webresourcecollect id web resourc collect webresourcecollect web resourc name webresourcenam url pattern urlpattern login with cert loginwithcert url pattern urlpattern http method httpmethod delet http method httpmethod http method httpmethod get http method httpmethod http method httpmethod post http method httpmethod http method httpmethod put http method httpmethod http method httpmethod head http method httpmethod web resourc collect webresourcecollect user data constraint userdataconstraint id user data constraint userdataconstraint transport guarante transportguarante confidenti transport guarante transportguarante user data constraint userdataconstraint secur constraint securityconstraint request login with cert loginwithcert requir ssl connect isn one client certif request','2009-04-01 06:33:02',1238580000,'resolved fixed','e9248d7',1253040000,'java/org/apache/catalina/core/AprLifecycleListener.java\njava/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/tomcat/jni/SSLSocket.java'),(804,47828,'Bug 47828  Change Tomcat.setSilent() to setSilent(boolean)','Change Tomcat.setSilent() to setSilent(boolean).  It\'s nicer for clients to have a JavaBean type setter, and it doesn\'t seem to make sense that you can set something but not unset it.','chang tomcat set silent setsil set silent setsil boolean chang tomcat set silent setsil set silent setsil boolean nicer client java bean javabean type setter doesn seem make sens set someth unset','chang tomcat set silent setsil set silent setsil boolean','chang tomcat set silent setsil set silent setsil boolean nicer client java bean javabean type setter doesn seem make sens set someth unset','2009-09-12 00:37:54',1252730000,'resolved fixed','59e88f1',1253010000,'java/org/apache/catalina/startup/Tomcat.java'),(805,47820,'Bug 47820  Static utility methods in Tomcat should be instance methods','Why are the static addServlet() methods in Tomcat static?  I can see\nthey don\'t use any state from the instance, but isn\'t it cleaner to use\nan instance method, so that the API is uniform (everything I want to do\nto a tomcat instance goes through the instance)?  It would be more\nconsistent to follow the pattern of addServlet(String,String,String),\nand search for the context by name instead of requiring the instance to\nbe passed in to a static method.','static util method tomcat instanc method static add servlet addservlet method tomcat static see use state instanc isn cleaner use instanc method api uniform everyth tomcat instanc go instanc would consist follow pattern add servlet addservlet string string string search context name instead requir instanc pass static method','static util method tomcat instanc method','static add servlet addservlet method tomcat static see use state instanc isn cleaner use instanc method api uniform everyth tomcat instanc go instanc would consist follow pattern add servlet addservlet string string string search context name instead requir instanc pass static method','2009-09-11 02:09:00',1252650000,'resolved fixed','6cce550',1253010000,'java/org/apache/catalina/startup/Tomcat.java'),(806,47826,'Bug 47826  a logging statement error in org.apache.catalina.startup.Bootstrap.java','// Local repository\n            boolean replace = false;\n            String before = repository;\n            while ((i=repository.indexOf(CATALINA_HOME_TOKEN))>=0) {\n                replace=true;\n                if (i>0) {\n                repository = repository.substring(0,i) + getCatalinaHome() \n                    + repository.substring(i+CATALINA_HOME_TOKEN.length());\n                } else {\n                    repository = getCatalinaHome() \n                        + repository.substring(CATALINA_HOME_TOKEN.length());\n                }\n            }\n            while ((i=repository.indexOf(CATALINA_BASE_TOKEN))>=0) {\n                replace=true;\n                if (i>0) {\n                repository = repository.substring(0,i) + getCatalinaBase() \n                    + repository.substring(i+CATALINA_BASE_TOKEN.length());\n                } else {\n                    repository = getCatalinaBase() \n                        + repository.substring(CATALINA_BASE_TOKEN.length());\n                }\n            }\n            if (replace && log.isDebugEnabled())\n                log.debug(\"Expanded \" + before + \" to \" + replace);\n\nThe last line should be: \"log.debug(\"Expanded \" + before + \" to \" + repository);\"','log statement error apach catalina startup bootstrap java local repositori boolean replac fals string repositori repositori index of indexof catalina home token replac true repositori repositori substr get catalina home getcatalinahom repositori substr catalina home token length els repositori get catalina home getcatalinahom repositori substr catalina home token length repositori index of indexof catalina base token replac true repositori repositori substr get catalina base getcatalinabas repositori substr catalina base token length els repositori get catalina base getcatalinabas repositori substr catalina base token length replac log is debug enabl isdebugen log debug expand replac last line log debug expand repositori','log statement error apach catalina startup bootstrap java','local repositori boolean replac fals string repositori repositori index of indexof catalina home token replac true repositori repositori substr get catalina home getcatalinahom repositori substr catalina home token length els repositori get catalina home getcatalinahom repositori substr catalina home token length repositori index of indexof catalina base token replac true repositori repositori substr get catalina base getcatalinabas repositori substr catalina base token length els repositori get catalina base getcatalinabas repositori substr catalina base token length replac log is debug enabl isdebugen log debug expand replac last line log debug expand repositori','2009-09-11 17:39:34',1252710000,'resolved fixed','720de5e',1252770000,'java/org/apache/catalina/startup/Bootstrap.java'),(807,47705,'Bug 47705  ArithmeticException: / by zero when expiring sessions via manager','Received ArithmeticException: / by zero when expiring sessions via Tomcat manager webapp.\n\nThis exception was thrown only if session-timeout is set as -1 on webapp web.xml. Moreover, the exception was also thrown regardless of the idle parameter value (/expire?path=/xxx&idle=mm) as long as session-timeout = -1.\n\nResult:\nException stacktrace:\nERROR: 19/08/2009 00:18:22 [http-80-exec-33] (org.apache.catalina.core.ApplicationContext:669) HTMLManager: ManagerServlet.sessions[/contextpath]\njava.lang.ArithmeticException: / by zero\n        at org.apache.catalina.manager.ManagerServlet.sessions(ManagerServlet.java:1133)\n        at org.apache.catalina.manager.HTMLManagerServlet.sessions(HTMLManagerServlet.java:573)\n        at org.apache.catalina.manager.HTMLManagerServlet.expireSessions(HTMLManagerServlet.java:660)\n        at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:118)\n        at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:157)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n        at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:880)\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:719)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2081)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)','arithmet except arithmeticexcept zero expir session via manag receiv arithmet except arithmeticexcept zero expir session via tomcat manag webapp except thrown session timeout sessiontimeout set webapp web xml moreov except thrown regardless idl paramet valu expir path xxx idl mm long session timeout sessiontimeout result except stacktrac error http 80 exec 80exec apach catalina core applic context applicationcontext manag htmlmanag manag servlet managerservlet session contextpath java lang arithmet except arithmeticexcept zero apach catalina manag manag servlet managerservlet session manag servlet managerservlet java apach catalina manag manag servlet htmlmanagerservlet session manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet expir session expiresess manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do get doget manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do post dopost manag servlet htmlmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor process http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','arithmet except arithmeticexcept zero expir session via manag','receiv arithmet except arithmeticexcept zero expir session via tomcat manag webapp except thrown session timeout sessiontimeout set webapp web xml moreov except thrown regardless idl paramet valu expir path xxx idl mm long session timeout sessiontimeout result except stacktrac error http 80 exec 80exec apach catalina core applic context applicationcontext manag htmlmanag manag servlet managerservlet session contextpath java lang arithmet except arithmeticexcept zero apach catalina manag manag servlet managerservlet session manag servlet managerservlet java apach catalina manag manag servlet htmlmanagerservlet session manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet expir session expiresess manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do get doget manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do post dopost manag servlet htmlmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor process http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2009-08-19 00:12:52',1250660000,'resolved fixed','6ab874a',1251730000,'java/org/apache/catalina/manager/ManagerServlet.java'),(808,47378,'Bug 47378  welcome-file ignores servlet mapping','Web applications that use a servlet mapping for their welcome-file are ignored\nand the server returns either a directory listing or a 404 if the listing is\ndisabled.\nI have JSF servlet defined and a servlet-mapping for *.jsf to go to the\nFacesServlet.\nI have \"index.jsf\" listed as by welcome-file and I get a 404 with directory\nlisting disabled.\nI also have a custom servlet defined with its mapping and set the welcome-file\nto its mapping and get a 404 as well.','welcom file welcomefil ignor servlet map web applic use servlet map welcom file welcomefil ignor server return either directori list list disabl jsf servlet defin servlet map servletmap jsf go face servlet facesservlet index jsf list welcom file welcomefil get directori list disabl custom servlet defin map set welcom file welcomefil map get well','welcom file welcomefil ignor servlet map','web applic use servlet map welcom file welcomefil ignor server return either directori list list disabl jsf servlet defin servlet map servletmap jsf go face servlet facesservlet index jsf list welcom file welcomefil get directori list disabl custom servlet defin map set welcom file welcomefil map get well','2009-06-16 12:52:31',1245170000,'resolved fixed','fe53ca9',1251730000,'java/org/apache/tomcat/util/http/mapper/Mapper.java'),(809,47612,'Bug 47612  [PATCH] fix unsafe public string array in AbstractCreateStatementInterceptor','','patch fix unsaf public string array abstract creat statement interceptor abstractcreatestatementinterceptor','patch fix unsaf public string array abstract creat statement interceptor abstractcreatestatementinterceptor','','2009-07-30 18:21:37',1248990000,'resolved fixed','4f5a5e4',1249490000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/interceptor/AbstractCreateStatementInterceptor.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/interceptor/AbstractQueryReport.java'),(810,47583,'Bug 47583  Fix occasional test failure in TestConcurrency','','fix occasion failur test concurr testconcurr','fix occasion failur test concurr testconcurr','','2009-07-26 06:43:28',1248610000,'resolved fixed','278dedc',1248980000,'modules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestConcurrency.java'),(811,47576,'Bug 47576  Javadoc errors - Exception name misspelt','The files\n\nFairBlockingQueue.java\nMultiLockFairBlockingQueue.java\n\nuse\n \n* @throws UnsupportedOperation\n\nThis should be\n\n* @throws UnsupportedOperationException','javadoc error except name misspelt file fair block queue fairblockingqueu java multi lock fair block queue multilockfairblockingqueu java use throw unsupport oper unsupportedoper throw unsupport oper except unsupportedoperationexcept','javadoc error except name misspelt','file fair block queue fairblockingqueu java multi lock fair block queue multilockfairblockingqueu java use throw unsupport oper unsupportedoper throw unsupport oper except unsupportedoperationexcept','2009-07-24 17:27:54',1248470000,'resolved fixed','abbb922',1248980000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/FairBlockingQueue.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/MultiLockFairBlockingQueue.java'),(812,47569,'Bug 47569  Test cases do not clear up afterwards','Some of the test cases (e.g. TestTomcat) start a Tomcat server,\n\nThis creates the directory tree\n\ntomcat.8080/work...\n\nwhich is not deleted when the test finishes.','case clear afterward case test tomcat testtomcat start tomcat server creat directori tree tomcat work delet finish','case clear afterward','case test tomcat testtomcat start tomcat server creat directori tree tomcat work delet finish','2009-07-23 13:08:38',1248370000,'resolved fixed','a9e00d5',1248980000,'test/org/apache/catalina/connector/TestRequest.java\ntest/org/apache/catalina/startup/TestTomcat.java'),(813,47568,'Bug 47568  TestTomcat fails to delete work directory','TestTomcat.setUp() creates a work directory, but does not delete it in tearDown()','test tomcat testtomcat fail delet work directori test tomcat testtomcat set up setup creat work directori delet tear down teardown','test tomcat testtomcat fail delet work directori','test tomcat testtomcat set up setup creat work directori delet tear down teardown','2009-07-23 12:56:58',1248370000,'resolved fixed','cfb18a0',1248940000,'test/org/apache/catalina/startup/TestTomcat.java'),(814,41824,'Bug 41824  Unable to use nested type in TLD','','unabl use nest type tld','unabl use nest type tld','','2007-03-12 10:40:25',1173710000,'resolved fixed','768af9f',1248460000,'java/org/apache/jasper/compiler/JspUtil.java'),(815,46907,'Bug 46907  Jasper with log4j in web-app classpath and debug level enabled prevents reading HTTP POST stream from JSP','This is on Tomcat 5.5.x (don\'t remember the last rev. number, not my current machine).\n\nWhen log4j is in the classpath of the web-app and is configured to log at debug level, Jasper dumps the whole HTTP POST request body as debug traces. This consumes the HttpServletRequest input stream which then arrives unusable for the user at the beginning of the JSP code (using  HttpServletRequest.getInputStream(), the stream is already at its end).\nA workaround is to disable debug traces for Japser class in log4j.properties, but Jasper should not consume the HttpServletRequest input stream whatever mode it runs into.','jasper log4j web app webapp classpath debug level enabl prevent read http post stream jsp tomcat rememb last rev number current machin log4j classpath web app webapp configur log debug level jasper dump whole http post request bodi debug trace consum http servlet request httpservletrequest input stream arriv unus user begin jsp code use http servlet request httpservletrequest get input stream getinputstream stream alreadi workaround disabl debug trace japser class log4j properti jasper consum http servlet request httpservletrequest input stream whatev mode run','jasper log4j web app webapp classpath debug level enabl prevent read http post stream jsp','tomcat rememb last rev number current machin log4j classpath web app webapp configur log debug level jasper dump whole http post request bodi debug trace consum http servlet request httpservletrequest input stream arriv unus user begin jsp code use http servlet request httpservletrequest get input stream getinputstream stream alreadi workaround disabl debug trace japser class log4j properti jasper consum http servlet request httpservletrequest input stream whatev mode run','2009-03-24 15:20:17',1237920000,'resolved fixed','50d0e6e',1248370000,'java/org/apache/jasper/servlet/JspServlet.java'),(816,47518,'Bug 47518  Valve Interface Javadocs for invoke method references non-existent method','It appears that the Valve interface javadoc hasn\'t been updated since around TC 5.5. Here is a snip of what it currently available from TC\'s website (6.0.20 I would guess):\n\n\"\n# If the corresponding Response was not generated (and control was not returned, call the next Valve in the pipeline (if there is one) by executing context.invokeNext().\n\n.\n.\n.\n\n# Modify the HTTP headers included with the Response after the invokeNext() method has returned.\n# Perform any actions on the output stream associated with the specified Response after the invokeNext() method has returned.\n\"\n\nThe invokeNext method has not existed in the Valve interface in many versions. I believe the replacement is:\n\nthis.getNext().invoke(request, response)\n\nI\'m happy to provide a doc patch if getNext().invoke(request, response) is the expected replacement for invokeNext(request, response).\n\nNote that the docs for 5.5 also have the same problem. Please let me know if I should log that separately.','valv interfac javadoc invok method refer non exist nonexist method appear valv interfac javadoc hasn updat sinc around tc snip current avail tc websit would guess correspond respons gener control return call next valv pipelin one execut context invok next invokenext modifi http header includ respons invok next invokenext method return perform action output stream associ specifi respons invok next invokenext method return invok next invokenext method exist valv interfac mani version believ replac get next getnext invok request respons happi provid doc patch get next getnext invok request respons expect replac invok next invokenext request respons note doc problem pleas let know log separ','valv interfac javadoc invok method refer non exist nonexist method','appear valv interfac javadoc hasn updat sinc around tc snip current avail tc websit would guess correspond respons gener control return call next valv pipelin one execut context invok next invokenext modifi http header includ respons invok next invokenext method return perform action output stream associ specifi respons invok next invokenext method return invok next invokenext method exist valv interfac mani version believ replac get next getnext invok request respons happi provid doc patch get next getnext invok request respons expect replac invok next invokenext request respons note doc problem pleas let know log separ','2009-07-13 06:40:01',1247480000,'resolved fixed','9dc93f5',1248160000,'java/org/apache/catalina/Valve.java'),(817,41059,'Bug 41059  WebAppClassLoader clearReferences code break running threads','When the WebAppClassLoader stops it manually sets all static and final \nvariables to null in the clearReferences method.  This results in NPEs for any \nthread that was not stopped and not expecting its final or static variables to \nbe null.  This is particularly a problem with hot deploys since the unload \nfails and terminating the deploy.','web app class loader webappclassload clear refer clearrefer code break run thread web app class loader webappclassload stop manual set static final variabl null clear refer clearrefer method result npe thread stop expect final static variabl null particularli problem hot deploy sinc unload fail termin deploy','web app class loader webappclassload clear refer clearrefer code break run thread','web app class loader webappclassload stop manual set static final variabl null clear refer clearrefer method result npe thread stop expect final static variabl null particularli problem hot deploy sinc unload fail termin deploy','2006-11-28 11:53:02',1164730000,'resolved fixed','a9f0239',1247850000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(818,40551,'Bug 40551  Sticky sessions using PersistentManager enter indeterminate state on node failover','If a cluster of nodes is being load balanced with sticky sessions, and a\nparticular node becomes unavailable, any sessions bound to that node must be\nredistributed.  Particularly in the case of mod_jk these sessions will not be\nbound to whichever node the failover occurred on because the jessionid will\nstill contain the JVM route of the original failed node, thus placing the\nsession in an indeterminate state and losing sticky properties.\n\nI am attaching a patch that will trigger a session to rebind itself to a new\nnode if the jvmroutes don\'t match and replace the jessionid in the browser\'s cookie.','sticki session use persist manag persistentmanag enter indetermin state node failov cluster node load balanc sticki session particular node becom unavail session bound node must redistribut particularli case jk session bound whichev node failov occur jessionid still contain jvm rout origin fail node thu place session indetermin state lose sticki properti attach patch trigger session rebind new node jvmrout match replac jessionid browser cooki','sticki session use persist manag persistentmanag enter indetermin state node failov','cluster node load balanc sticki session particular node becom unavail session bound node must redistribut particularli case jk session bound whichev node failov occur jessionid still contain jvm rout origin fail node thu place session indetermin state lose sticki properti attach patch trigger session rebind new node jvmrout match replac jessionid browser cooki','2006-09-20 01:33:41',1158730000,'resolved fixed','f0d447d',1247770000,'java/org/apache/catalina/ha/session/JvmRouteBinderValve.java'),(819,47515,'Bug 47515  Tomcat can\'t replicate session when it is started.','','tomcat replic session start','tomcat replic session start','','2009-07-12 23:08:36',1247450000,'resolved fixed','83e98da',1247750000,'java/org/apache/catalina/ha/session/DeltaManager.java'),(820,40380,'Bug 40380  Potential syncro problem in StandardSession.expire(boolean)','public void expire(boolean notify) {\n\n        // Mark this session as \"being expired\" if needed\n        if (expiring)\n            return;\n\n// No man\'s land here\n\n        synchronized (this) {\n\n            if (manager == null)\n                return;\n\n            expiring = true;','potenti syncro problem standard session standardsess expir boolean public void expir boolean notifi mark session expir need expir return land synchron manag null return expir true','potenti syncro problem standard session standardsess expir boolean','public void expir boolean notifi mark session expir need expir return land synchron manag null return expir true','2006-08-31 18:57:30',1157070000,'resolved fixed','6f3e56e',1247590000,'java/org/apache/catalina/session/StandardSession.java'),(821,47524,'Bug 47524  McastServiceImpl executor is not dispatching events.','','mcast servic impl mcastserviceimpl executor dispatch event','mcast servic impl mcastserviceimpl executor dispatch event','','2009-07-14 06:20:02',1247570000,'resolved fixed','aa8a2d3',1247580000,'java/org/apache/catalina/tribes/membership/McastServiceImpl.java\njava/org/apache/catalina/tribes/transport/ReceiverBase.java\njava/org/apache/catalina/tribes/util/ExecutorFactory.java'),(822,39231,'Bug 39231  The JAAS contract for LoginModule is broken','The issue is that the custom JAAS\'s LoginModule.logout() method is never \ncalled. I guess this has been never implemented correctly (at least since \nTomcat 5.5.9).\n\nThe thing is that according to the JAAS spec, the LoginContext.logout() is \nsupposed to invoke the logout method for each LoginModule configured for this \nLoginContext.\n\nSo, somebody should be sure to call LoginContext.logout() method. The caller \nfor this method could be either a server or a client. \n\nSo, either Tomcat should provide some means to access the LoginContext to the \nclients, or Tomcat should take the responsibility to call this method by itself.\n\nI guess the solution could be for Tomcat to associate the instance of \nLoginContext with the user\'s session, and then Tomcat could invoke \nLoginContext.logout() when the session is being invalidated (both when the \nsession times out or invalidated explicitely).\n\nI hope that I am correctly interpreting the JAAS spec.','jaa contract login modul loginmodul broken issu custom jaa login modul loginmodul logout method never call guess never implement correctli least sinc tomcat thing accord jaa spec login context logincontext logout suppos invok logout method login modul loginmodul configur login context logincontext somebodi sure call login context logincontext logout method caller method could either server client either tomcat provid mean access login context logincontext client tomcat take respons call method guess solut could tomcat associ instanc login context logincontext user session tomcat could invok login context logincontext logout session invalid session time invalid explicit hope correctli interpret jaa spec','jaa contract login modul loginmodul broken','issu custom jaa login modul loginmodul logout method never call guess never implement correctli least sinc tomcat thing accord jaa spec login context logincontext logout suppos invok logout method login modul loginmodul configur login context logincontext somebodi sure call login context logincontext logout method caller method could either server client either tomcat provid mean access login context logincontext client tomcat take respons call method guess solut could tomcat associ instanc login context logincontext user session tomcat could invok login context logincontext logout session invalid session time invalid explicit hope correctli interpret jaa spec','2006-04-06 21:19:49',1144370000,'resolved fixed','80f8ec6',1246980000,'java/org/apache/catalina/realm/GenericPrincipal.java\njava/org/apache/catalina/realm/JAASRealm.java\njava/org/apache/catalina/session/StandardSession.java'),(823,47478,'Bug 47478  DeltaSession ignores notifyListenersOnReplication when BackupManager is used.','','delta session deltasess ignor notifi listen on replic notifylistenersonrepl backup manag backupmanag use','delta session deltasess ignor notifi listen on replic notifylistenersonrepl backup manag backupmanag use','','2009-07-06 03:05:17',1246860000,'resolved fixed','c1099f7',1246900000,'java/org/apache/catalina/ha/session/DeltaSession.java'),(824,37933,'Bug 37933  Bugs in Tomcat','','bug tomcat','bug tomcat','','2005-12-16 07:00:20',1134730000,'resolved fixed','202a33e',1246790000,'java/org/apache/jasper/compiler/Generator.java\njava/org/apache/jasper/compiler/PageInfo.java'),(825,37984,'Bug 37984  JNDIRealm.java not able to handle MD5 password','I\'m using JNDIRealm to authenticate to OpenLDAP 2.2.28.  Within OpenLDAP I\'ve\nconfigured the userPassword attribute for each user to contain the MD5 digest,\nand each is prefixed with the string \"{MD5}\".  I am not an LDAP expert by any\nmeans but I believe this prefix is a standard convention.  Anyway assuming this\nis a convention then JNDIRealm needs to strip off the \"{MD5}\" portion much like\nit does with \"{SHA1}\".  See attached patch which accomplishes this and I\nverified it works in my environment.','realm jndirealm java abl handl d5 md5 password use realm jndirealm authent open openldap within open openldap configur user password userpassword attribut user contain d5 md5 digest prefix string d5 md5 ldap expert mean believ prefix standard convent anyway assum convent realm jndirealm need strip d5 md5 portion much like a1 sha1 see attach patch accomplish verifi work environ','realm jndirealm java abl handl d5 md5 password','use realm jndirealm authent open openldap within open openldap configur user password userpassword attribut user contain d5 md5 digest prefix string d5 md5 ldap expert mean believ prefix standard convent anyway assum convent realm jndirealm need strip d5 md5 portion much like a1 sha1 see attach patch accomplish verifi work environ','2005-12-21 05:51:20',1135160000,'resolved fixed','c6818a0',1246490000,'java/org/apache/catalina/realm/JNDIRealm.java'),(826,47440,'Bug 47440  Remove DB-specific SQL statements from test cases (SELECT 1)','Some of the test cases assume that the JDBC provider supports \"SELECT 1\" as a valid SQL statement; however this is not always the case, e.g. Derby requires a table name to select from.\n\nThe solution provided in the patches is to use the validation query defined in the properties set up for the test, rather than always using \"SELECT 1\".','remov specif dbspecif sql statement case select case assum jdbc provid support select valid sql statement howev alway case derbi requir tabl name select solut provid patch use valid queri defin properti set rather alway use select','remov specif dbspecif sql statement case select','case assum jdbc provid support select valid sql statement howev alway case derbi requir tabl name select solut provid patch use valid queri defin properti set rather alway use select','2009-06-27 05:17:55',1246090000,'resolved fixed','d92da6e',1246290000,'modules/jdbc-pool/test/org/apache/tomcat/jdbc/test/CheckOutThreadTest.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/DefaultProperties.java\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestSlowQueryReport.java'),(827,47439,'Bug 47439  PooledConnection.connect() fails to check for null connection','PooledConnection.connect() fails to check for null return from java.sql.Driver.connect() method.\n\nThis can result in an NPE when the connection is used later.','pool connect pooledconnect connect fail check null connect pool connect pooledconnect connect fail check null return java sql driver connect method result npe connect use later','pool connect pooledconnect connect fail check null connect','pool connect pooledconnect connect fail check null return java sql driver connect method result npe connect use later','2009-06-27 05:01:35',1246090000,'resolved fixed','ef96fa2',1246200000,'modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/PooledConnection.java'),(828,38352,'Bug 38352  Additional Entries for Default catalina.policy file.','This patch adds additional entries to the catalina.policy file. Specifically:\n\nThe catalina.base/shared directory is added and given equal permissions to\ncatalina.home/common\n\njava.io.tmpdir is now readable.\njavax.servlet.context.tempdir is now readable. I think to be compliant with the\nspec, this must be allowed.\n\nDirectory specified by java.io.tmpdir (which is what tomcat points\njavax.servlet.context.tempdir to) is now read, write, delete. Again, I think the\nspec requires this.','addit entri default catalina polici file patch add addit entri catalina polici file specif catalina base share directori ad given equal permiss catalina home common java tmpdir readabl javax servlet context tempdir readabl think compliant spec must allow directori specifi java tmpdir tomcat point javax servlet context tempdir read write delet think spec requir','addit entri default catalina polici file','patch add addit entri catalina polici file specif catalina base share directori ad given equal permiss catalina home common java tmpdir readabl javax servlet context tempdir readabl think compliant spec must allow directori specifi java tmpdir tomcat point javax servlet context tempdir read write delet think spec requir','2006-01-22 20:27:46',1137980000,'resolved fixed','76a4eb3',1245420000,'java/org/apache/jasper/compiler/JspRuntimeContext.java'),(829,47308,'Bug 47308  Cannot join in the cluster membership.','','cannot join cluster membership','cannot join cluster membership','','2009-06-03 03:39:06',1244010000,'resolved fixed','51fd68b',1245340000,'java/org/apache/catalina/tribes/membership/McastService.java\njava/org/apache/catalina/tribes/membership/McastServiceImpl.java'),(830,47389,'Bug 47389  DeltaManager doesn\'t do the session replication. (notifySessionListenersOnReplication=false)','','delta manag deltamanag doesn session replic notifi session listen on replic notifysessionlistenersonrepl fals','delta manag deltamanag doesn session replic notifi session listen on replic notifysessionlistenersonrepl fals','','2009-06-18 03:39:55',1245310000,'resolved fixed','c768090',1245340000,'java/org/apache/catalina/ha/session/DeltaManager.java'),(831,47369,'Bug 47369  DeltaRequest is never reset. (use BackupManager)','','delta request deltarequest never reset use backup manag backupmanag','delta request deltarequest never reset use backup manag backupmanag','','2009-06-15 03:34:59',1245050000,'resolved fixed','b3e2be4',1245090000,'java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(832,47343,'Bug 47343  Fails re-deploying, when we update context.xml.','','fail re deploy redeploy updat context xml','fail re deploy redeploy updat context xml','','2009-06-10 03:54:19',1244620000,'resolved fixed','cc1f0dd',1244730000,'java/org/apache/catalina/startup/HostConfig.java'),(833,47299,'Bug 47299  Cannot override StandardContext in embedding case because of StandardSession.fireContainerEvent','StandardSession.fireContainerEvent checks for the String class name! Why not just use an instanceof check here?','cannot overrid standard context standardcontext embed case standard session standardsess fire contain event firecontainerev standard session standardsess fire contain event firecontainerev check string class name use instanceof check','cannot overrid standard context standardcontext embed case standard session standardsess fire contain event firecontainerev','standard session standardsess fire contain event firecontainerev check string class name use instanceof check','2009-06-02 07:19:36',1243940000,'resolved fixed','468f370',1244240000,'java/org/apache/catalina/session/StandardSession.java'),(834,47158,'Bug 47158  I think AccessLogValve has race condition problem','','think access log valv accesslogvalv race condit problem','think access log valv accesslogvalv race condit problem','','2009-05-05 15:12:45',1241550000,'resolved fixed','f00029e',1244130000,'java/org/apache/catalina/valves/AccessLogValve.java'),(835,47216,'Bug 47216  Possible NPE in Http11Processor.action()','The code at around line 1075:\n\n        } else if (actionCode == ActionCode.ACTION_REQ_LOCAL_ADDR_ATTRIBUTE) {\n\n            if (localAddr == null)\n               localAddr = socket.getLocalAddress().getHostAddress();\n\nfails to check if \"socket != null\".\n\nSince this is checked everywhere else in the method this is probably a bug.\n\nThe method Http11Processor.parseHost() also references \"socket\" without checking for null. Within the class, it is only called by process(Socket), which guarantees that it won\'t be null.\n\nHowever once process() returns normally, socket will be set to null.\n\nThe parseHost() method is public, so it may be called when socket == null.\n\nPerhaps the parseHost() method should be private?','possibl npe http11 processor http11processor action code around line els action code actioncod action code actioncod action req local addr attribut local addr localaddr null local addr localaddr socket get local address getlocaladdress get host address gethostaddress fail check socket null sinc check everywher els method probabl method http11 processor http11processor pars host parsehost refer socket without check null within class call process socket guarante won null howev process return normal socket set null pars host parsehost method public may call socket null perhap pars host parsehost method privat','possibl npe http11 processor http11processor action','code around line els action code actioncod action code actioncod action req local addr attribut local addr localaddr null local addr localaddr socket get local address getlocaladdress get host address gethostaddress fail check socket null sinc check everywher els method probabl method http11 processor http11processor pars host parsehost refer socket without check null within class call process socket guarante won null howev process return normal socket set null pars host parsehost method public may call socket null perhap pars host parsehost method privat','2009-05-18 18:13:50',1242680000,'resolved wontfix','36feee0',1243250000,'java/org/apache/coyote/http11/Http11Processor.java'),(836,47234,'Bug 47234  serviceStartTime is different in MemberImpl from McastServiceImpl','Hi,\nI\'m using the tribes cluster module in my own application (which has nothing to do with tomcat) and I\'m using the member alive time value to sort all the cluster members.\nThis bug produces the following:\nI have 2 nodes that were started almost at the same time and both nodes claim that the other node was started before them\n\nNODE1:\nRemote members: (-52.63.57.110:4001 ready=true suspect=false failing=false aliveTime=1526)\nLocal member: (-52.63.57.109:4000 ready=true suspect=false failing=false aliveTime=1236)\n\n\nNODE2:\nRemote members: (-52.63.57.109:4000 ready=true suspect=false failing=false aliveTime=2021)\nLocal member: (-52.63.57.110:4001 ready=true suspect=false failing=false aliveTime=1069)\n\n\nMy code do the following:\nMember[] members = groupChannel.getMembers();\nprintRemote(members);\nMember localMember = groupChannel.getLocalMember(true);\nprintLocal(localMember);\n\n\nIn that code (due to timing issues) it should possible the other way around (that every node claim to be started before the other) but not that case.\n\nThe issue occurs because when the McastService is started, it assigns a start  time to the local member. \npublic class McastService .... {\npublic void start(int level) {\n     ....\n    localMember.setServiceStartTime(System.currentTimeMillis());\n    ....\n    impl = new McastServiceImpl(localMember, ....);\n    impl.start(level);\n}\n}\nBut, then it creates and starts a McastServiceImpl which also stores a new serviceStartTime :-(\n \npublic class McastServiceImpl {\nprotected long serviceStartTime;\npublic void start(int level) {\n     ....\n    serviceStartTime = System.currentTimeMillis();\n    ....\n}\n}\n\nSo, we have 2 different start times. Unfortunately both times are used:\nTo get the local member, the impl.getServiceStartTime() is used:\n\npublic class McastService .... {\npublic Member getLocalMember(boolean alive) {\n  if ( alive && localMember != null && impl != null)\n      localMember.setMemberAliveTime(System.currentTimeMillis()-impl.getServiceStartTime());\n    return localMember;\n  }\n}\n\nBut, when the member is transmited throw the network, the MemberImpl.getServiceStartTime() is used.\npublic class MemberImpl .... {\n    public byte[] getData(boolean getalive, boolean reset)  {\n        if ( reset ) dataPkg = null;\n        //look in cache first\n        if ( dataPkg!=null ) {\n            if ( getalive ) {\n                //you\'d be surprised, but System.currentTimeMillis\n                //shows up on the profiler\n                long alive=System.currentTimeMillis()-getServiceStartTime();\n                XByteBuffer.toBytes( (long) alive, dataPkg, TRIBES_MBR_BEGIN.length+4);\n            }\n            return dataPkg;\n        }\n ......\n}\n\nThat produces that weird behaviour.\nIMHO, the fix should be setting the same \"serviceStartTime\" to both components.\n\nThis issue is affecting seriously my code. I would appreciate if you could fix it asap.\nI\'ve verified that the same code is present in trunk repository.\n\nRegards,\nAriel','servic start time servicestarttim differ member impl memberimpl mcast servic impl mcastserviceimpl hi use tribe cluster modul applic noth tomcat use member aliv time valu sort cluster member produc follow node start almost time node claim node start e1 node1 remot member readi true suspect fals fail fals aliv time alivetim local member readi true suspect fals fail fals aliv time alivetim e2 node2 remot member readi true suspect fals fail fals aliv time alivetim local member readi true suspect fals fail fals aliv time alivetim code follow member member group channel groupchannel get member getmemb print remot printremot member member local member localmemb group channel groupchannel get local member getlocalmemb true print local printloc local member localmemb code due time issu possibl way around everi node claim start case issu occur mcast servic mcastservic start assign start time local member public class mcast servic mcastservic public void start int level local member localmemb set servic start time setservicestarttim system current time milli currenttimemilli impl new mcast servic impl mcastserviceimpl local member localmemb impl start level creat start mcast servic impl mcastserviceimpl store new servic start time servicestarttim public class mcast servic impl mcastserviceimpl protect long servic start time servicestarttim public void start int level servic start time servicestarttim system current time milli currenttimemilli differ start time unfortun time use get local member impl get servic start time getservicestarttim use public class mcast servic mcastservic public member get local member getlocalmemb boolean aliv aliv local member localmemb null impl null local member localmemb set member aliv time setmemberalivetim system current time milli currenttimemilli impl get servic start time getservicestarttim return local member localmemb member transmit throw network member impl memberimpl get servic start time getservicestarttim use public class member impl memberimpl public byte get data getdata boolean getal boolean reset reset data pkg datapkg null look cach first data pkg datapkg null getal surpris system current time milli currenttimemilli show profil long aliv system current time milli currenttimemilli get servic start time getservicestarttim byte buffer xbytebuff to byte tobyt long aliv data pkg datapkg tribe mbr begin length return data pkg datapkg produc weird behaviour imho fix set servic start time servicestarttim compon issu affect serious code would appreci could fix asap verifi code present trunk repositori regard ariel','servic start time servicestarttim differ member impl memberimpl mcast servic impl mcastserviceimpl','hi use tribe cluster modul applic noth tomcat use member aliv time valu sort cluster member produc follow node start almost time node claim node start e1 node1 remot member readi true suspect fals fail fals aliv time alivetim local member readi true suspect fals fail fals aliv time alivetim e2 node2 remot member readi true suspect fals fail fals aliv time alivetim local member readi true suspect fals fail fals aliv time alivetim code follow member member group channel groupchannel get member getmemb print remot printremot member member local member localmemb group channel groupchannel get local member getlocalmemb true print local printloc local member localmemb code due time issu possibl way around everi node claim start case issu occur mcast servic mcastservic start assign start time local member public class mcast servic mcastservic public void start int level local member localmemb set servic start time setservicestarttim system current time milli currenttimemilli impl new mcast servic impl mcastserviceimpl local member localmemb impl start level creat start mcast servic impl mcastserviceimpl store new servic start time servicestarttim public class mcast servic impl mcastserviceimpl protect long servic start time servicestarttim public void start int level servic start time servicestarttim system current time milli currenttimemilli differ start time unfortun time use get local member impl get servic start time getservicestarttim use public class mcast servic mcastservic public member get local member getlocalmemb boolean aliv aliv local member localmemb null impl null local member localmemb set member aliv time setmemberalivetim system current time milli currenttimemilli impl get servic start time getservicestarttim return local member localmemb member transmit throw network member impl memberimpl get servic start time getservicestarttim use public class member impl memberimpl public byte get data getdata boolean getal boolean reset reset data pkg datapkg null look cach first data pkg datapkg null getal surpris system current time milli currenttimemilli show profil long aliv system current time milli currenttimemilli get servic start time getservicestarttim byte buffer xbytebuff to byte tobyt long aliv data pkg datapkg tribe mbr begin length return data pkg datapkg produc weird behaviour imho fix set servic start time servicestarttim compon issu affect serious code would appreci could fix asap verifi code present trunk repositori regard ariel','2009-05-21 07:32:52',1242910000,'resolved fixed','9fa7640',1242930000,'java/org/apache/catalina/tribes/membership/McastServiceImpl.java'),(837,47111,'Bug 47111  do caching the resources like the docu say it (StringManager)','','cach resourc like docu say string manag stringmanag','cach resourc like docu say string manag stringmanag','','2009-04-28 08:54:49',1240920000,'resolved wontfix','96167ed',1241310000,'java/org/apache/tomcat/util/res/StringManager.java'),(838,47050,'Bug 47050  StandardHostValve.status unnecessarily HTML-escapes the error message','','standard host valv standardhostvalv statu unnecessarili escap htmlescap error messag','standard host valv standardhostvalv statu unnecessarili escap htmlescap error messag','','2009-04-19 01:59:15',1240120000,'resolved fixed','1ad0501',1241190000,'java/org/apache/catalina/core/StandardHostValve.java'),(839,47046,'Bug 47046  Shutdown does not unregister all MBeans','','shutdown unregist bean mbean','shutdown unregist bean mbean','','2009-04-17 07:59:51',1239970000,'resolved fixed','54b9da9',1241050000,'java/org/apache/catalina/connector/MapperListener.java\njava/org/apache/catalina/mbeans/MBeanUtils.java\njava/org/apache/catalina/mbeans/ServerLifecycleListener.java'),(840,46925,'Bug 46925  Nested groups in JNDI realm with non-recursive implementation','','nest group jndi realm non recurs nonrecurs implement','nest group jndi realm non recurs nonrecurs implement','','2009-03-27 03:58:28',1238140000,'resolved fixed','d04dd88',1240860000,'java/org/apache/catalina/realm/JNDIRealm.java'),(841,37929,'Bug 37929  invalidated session causes pageContext methods to fail','javax.servlet.http.HttpSession methods such as getAttribute(),\ngetValue(), getAttributeNames(), getValueNames(), etc, throw an\nIllegalStateException if called on a session that has been\ninvalidated.\n\nSo, with the following code in a JSP page:\n\n    <% \n       session.invalidate(); \n       Object obj = pageContext.findAttribute(\"foo\");\n    %>\n\nAn IllegalStateException is thrown because pageContext.findAttribute()\neventually calls session.getAttribute() on a session that has been\ninvalidated.\n\nThe session that has been invalidated should simply be ignored when a\nmethod needs to process the various scopes (page, request, session,\napplication).\n\nThis impacts the following methods in PageContextImpl:\n\n   public int getAttributesScope(final String name)\n      which calls -> private int doGetAttributeScope(String name);\n   public Object findAttribute(final String name)\n      which calls -> private Object doFindAttribute(String name);\n   public void removeAttribute(final String name)\n      which calls -> private void doRemoveAttribute(String name);\n\nThe fix is to catch IllegalStateException and ignore it when processing\nthe attribute in session scope. The code then simply follows through to \nprocess application scope.\n\nNo need to worry about setAttribute() because it is always invoked\non a specific scope, and the spec already states\nthat java.lang.IllegalStateException must be thrown when called \non an invalidated session.\n\n  pageContext.setAttribute(\"foo\", \"value of foo\", PageContext.SESSION_SCOPE);\n\n  java.lang.IllegalStateException - if the scope is PageContext.SESSION_SCOPE \n  but the page that was requested does not participate in a session or \n  the session has been invalidated.\n\n---------------------------------------------------------------------------\n\nAt the same time, a fix should be done to method \"doRemoveAttribute(String\nname)\" where a try/catch block for Exception appears unnecessary.\n\n    private void doRemoveAttribute(String name){\n        try {\n            removeAttribute(name, PAGE_SCOPE);\n            removeAttribute(name, REQUEST_SCOPE);\n            if( session != null ) {\n                try {\n                    removeAttribute(name, SESSION_SCOPE);\n                } catch (IllegalStateException ex) {\n                    // Session has been invalidated.\n                    // Ignore and fall through to application scope.\n                }\n            }\n            removeAttribute(name, APPLICATION_SCOPE);\n        } catch (Exception ex) {\n            // we remove as much as we can, and\n            // simply ignore possible exceptions\n        }\n    }\n\nHere is a full analysis:\n\nStarting with \'removeAttribute(final String name)\'\n  - we check for null and throw NPE if necessary\n\n  - we call doRemoveAttribute(name)\n  \ndoRemoveAttribute(name)\n  - we call removeAttribute(name, scope) for each scope\n\nremoveAttribute(final String name, final int scope)\n  - this calls doRemoveAttribute(name, scope)\n\ndoRemoveAttribute(name, scope)\n  - page scope: attributes.remove -> won\'t throw an Exception\n  - request scope: request.removeAttribute -> no documented Exception thrown\n  - session scope: throws IllegalStateException if session is null\n  - app scope: context.removeAttribute -> no documented Exception thrown\n\nA null value for name is already checked in removeAttribute(final String name)\nand we throw NPE. So this situation (removing an attr from page or request\nscope throwing an NPE) won\'t happen.\n\nIn doRemoveAttribute(name), we already check on session != null\nbefore calling removeAttribute(name, SESSION_SCOPE). So there\nnormally is no IllegalStateException thrown (except for the invalidated\ncase).\n\nWhen removing an attribute from application (i.e., ServletContext)\nscope, any registered listeners will be notified, but the code that\ndoes that (see\nappserv-webtier/src/java/org/apache/catalina/core/ApplicationContext.\nremoveAttribute()) already catches any Throwable that a listener\nmay throw.\n\nThe try/catch block is therefore unnecessary.\nMoreover, if any of the removal actions from the different scopes could\nhave thrown an exception, each of them would have needed to be wrapped\ninside their own try/catch, so as to ensure that an exception in one\nscope does not cause any of the subsequent removals to be bypassed.\n\ndoRemoveAttribute(String name) has therefore been modified as follows:\n\n    private void doRemoveAttribute(String name){\n            removeAttribute(name, PAGE_SCOPE);\n            removeAttribute(name, REQUEST_SCOPE);\n            if( session != null ) {\n                try {\n                    removeAttribute(name, SESSION_SCOPE);\n                } catch (IllegalStateException ex) {\n                    // Session has been invalidated.\n                    // Ignore and fall through to application scope.\n                }\n            }\n            removeAttribute(name, APPLICATION_SCOPE);\n    }\n\n--------------------------\nChanges done on glassfish. ymmv on jasper for the diffs.\n\n--- PageContextImpl.java	9 Dec 2005 18:54:30 -0000	1.7\n+++ PageContextImpl.java	16 Dec 2005 00:11:21 -0000	1.8\n@@ -452,8 +452,13 @@\n             return REQUEST_SCOPE;\n \n         if (session != null) {\n+            try {\n             if (session.getAttribute(name) != null)\n                 return SESSION_SCOPE;\n+            } catch (IllegalStateException ex) {\n+ 	        // Session has been invalidated.\n+                // Ignore and fall through to application scope.\n+            }\n         }\n \n         if (context.getAttribute(name) != null)\n@@ -495,9 +500,14 @@\n             return o;\n \n         if (session != null) {\n+	    try {\n             o = session.getAttribute(name);\n-            if (o != null)\n-                return o;\n+ 	    } catch (IllegalStateException ex) {\n+ 	        // Session has been invalidated.\n+                // Ignore and fall through to application scope.\n+ 	    }\n+\n+ 	    if (o != null) return o;\n         }\n \n         return context.getAttribute(name);\n@@ -559,19 +569,18 @@\n         }\n     }\n \n-\n     private void doRemoveAttribute(String name){\n-        try {\n             removeAttribute(name, PAGE_SCOPE);\n             removeAttribute(name, REQUEST_SCOPE);\n             if( session != null ) {\n+            try {\n                 removeAttribute(name, SESSION_SCOPE);\n+            } catch (IllegalStateException ex) {\n+                // Session has been invalidated.\n+                // Ignore and fall through to application scope.\n             }\n-            removeAttribute(name, APPLICATION_SCOPE);\n-        } catch (Exception ex) {\n-            // we remove as much as we can, and\n-            // simply ignore possible exceptions\n         }\n+        removeAttribute(name, APPLICATION_SCOPE);\n     }\n \n     public JspWriter getOut() {','invalid session caus page context pagecontext method fail javax servlet http http session httpsession method get attribut getattribut get valu getvalu get attribut name getattributenam get valu name getvaluenam etc throw illeg state except illegalstateexcept call session invalid follow code jsp page session invalid object obj page context pagecontext find attribut findattribut foo illeg state except illegalstateexcept thrown page context pagecontext find attribut findattribut eventu call session get attribut getattribut session invalid session invalid simpli ignor method need process variou scope page request session applic impact follow method page context impl pagecontextimpl public int get attribut scope getattributesscop final string name call privat int do get attribut scope dogetattributescop string name public object find attribut findattribut final string name call privat object do find attribut dofindattribut string name public void remov attribut removeattribut final string name call privat void do remov attribut doremoveattribut string name fix catch illeg state except illegalstateexcept ignor process attribut session scope code simpli follow process applic scope need worri set attribut setattribut alway invok specif scope spec alreadi state java lang illeg state except illegalstateexcept must thrown call invalid session page context pagecontext set attribut setattribut foo valu foo page context pagecontext session scope java lang illeg state except illegalstateexcept scope page context pagecontext session scope page request particip session session invalid time fix done method do remov attribut doremoveattribut string name tri catch block except appear unnecessari privat void do remov attribut doremoveattribut string name tri remov attribut removeattribut name page scope remov attribut removeattribut name request scope session null tri remov attribut removeattribut name session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope remov attribut removeattribut name applic scope catch except ex remov much simpli ignor possibl except full analysi start remov attribut removeattribut final string name check null throw npe necessari call do remov attribut doremoveattribut name do remov attribut doremoveattribut name call remov attribut removeattribut name scope scope remov attribut removeattribut final string name final int scope call do remov attribut doremoveattribut name scope do remov attribut doremoveattribut name scope page scope attribut remov won throw except request scope request remov attribut removeattribut document except thrown session scope throw illeg state except illegalstateexcept session null app scope context remov attribut removeattribut document except thrown null valu name alreadi check remov attribut removeattribut final string name throw npe situat remov attr page request scope throw npe won happen do remov attribut doremoveattribut name alreadi check session null call remov attribut removeattribut name session scope normal illeg state except illegalstateexcept thrown except invalid case remov attribut applic servlet context servletcontext scope regist listen notifi code see appserv webtier appservwebti src java apach catalina core applic context applicationcontext remov attribut removeattribut alreadi catch throwabl listen may throw tri catch block therefor unnecessari moreov remov action differ scope could thrown except would need wrap insid tri catch ensur except one scope caus subsequ remov bypass do remov attribut doremoveattribut string name therefor modifi follow privat void do remov attribut doremoveattribut string name remov attribut removeattribut name page scope remov attribut removeattribut name request scope session null tri remov attribut removeattribut name session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope remov attribut removeattribut name applic scope chang done glassfish ymmv jasper diff page context impl pagecontextimpl java dec page context impl pagecontextimpl java dec return request scope session null tri session get attribut getattribut name null return session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope context get attribut getattribut name null return session null tri session get attribut getattribut name null return catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope null return return context get attribut getattribut name privat void do remov attribut doremoveattribut string name tri remov attribut removeattribut name page scope remov attribut removeattribut name request scope session null tri remov attribut removeattribut name session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope remov attribut removeattribut name applic scope catch except ex remov much simpli ignor possibl except remov attribut removeattribut name applic scope public jsp writer jspwriter get out getout','invalid session caus page context pagecontext method fail','javax servlet http http session httpsession method get attribut getattribut get valu getvalu get attribut name getattributenam get valu name getvaluenam etc throw illeg state except illegalstateexcept call session invalid follow code jsp page session invalid object obj page context pagecontext find attribut findattribut foo illeg state except illegalstateexcept thrown page context pagecontext find attribut findattribut eventu call session get attribut getattribut session invalid session invalid simpli ignor method need process variou scope page request session applic impact follow method page context impl pagecontextimpl public int get attribut scope getattributesscop final string name call privat int do get attribut scope dogetattributescop string name public object find attribut findattribut final string name call privat object do find attribut dofindattribut string name public void remov attribut removeattribut final string name call privat void do remov attribut doremoveattribut string name fix catch illeg state except illegalstateexcept ignor process attribut session scope code simpli follow process applic scope need worri set attribut setattribut alway invok specif scope spec alreadi state java lang illeg state except illegalstateexcept must thrown call invalid session page context pagecontext set attribut setattribut foo valu foo page context pagecontext session scope java lang illeg state except illegalstateexcept scope page context pagecontext session scope page request particip session session invalid time fix done method do remov attribut doremoveattribut string name tri catch block except appear unnecessari privat void do remov attribut doremoveattribut string name tri remov attribut removeattribut name page scope remov attribut removeattribut name request scope session null tri remov attribut removeattribut name session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope remov attribut removeattribut name applic scope catch except ex remov much simpli ignor possibl except full analysi start remov attribut removeattribut final string name check null throw npe necessari call do remov attribut doremoveattribut name do remov attribut doremoveattribut name call remov attribut removeattribut name scope scope remov attribut removeattribut final string name final int scope call do remov attribut doremoveattribut name scope do remov attribut doremoveattribut name scope page scope attribut remov won throw except request scope request remov attribut removeattribut document except thrown session scope throw illeg state except illegalstateexcept session null app scope context remov attribut removeattribut document except thrown null valu name alreadi check remov attribut removeattribut final string name throw npe situat remov attr page request scope throw npe won happen do remov attribut doremoveattribut name alreadi check session null call remov attribut removeattribut name session scope normal illeg state except illegalstateexcept thrown except invalid case remov attribut applic servlet context servletcontext scope regist listen notifi code see appserv webtier appservwebti src java apach catalina core applic context applicationcontext remov attribut removeattribut alreadi catch throwabl listen may throw tri catch block therefor unnecessari moreov remov action differ scope could thrown except would need wrap insid tri catch ensur except one scope caus subsequ remov bypass do remov attribut doremoveattribut string name therefor modifi follow privat void do remov attribut doremoveattribut string name remov attribut removeattribut name page scope remov attribut removeattribut name request scope session null tri remov attribut removeattribut name session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope remov attribut removeattribut name applic scope chang done glassfish ymmv jasper diff page context impl pagecontextimpl java dec page context impl pagecontextimpl java dec return request scope session null tri session get attribut getattribut name null return session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope context get attribut getattribut name null return session null tri session get attribut getattribut name null return catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope null return return context get attribut getattribut name privat void do remov attribut doremoveattribut string name tri remov attribut removeattribut name page scope remov attribut removeattribut name request scope session null tri remov attribut removeattribut name session scope catch illeg state except illegalstateexcept ex session invalid ignor fall applic scope remov attribut removeattribut name applic scope catch except ex remov much simpli ignor possibl except remov attribut removeattribut name applic scope public jsp writer jspwriter get out getout','2005-12-16 01:58:15',1134720000,'resolved fixed','04cacaf',1239900000,'java/org/apache/jasper/runtime/PageContextImpl.java'),(842,47013,'Bug 47013  JSP not compiled at startup when used as a servlet','','jsp compil startup use servlet','jsp compil startup use servlet','','2009-04-10 09:26:22',1239370000,'resolved fixed','c8cbc28',1239750000,'java/org/apache/catalina/core/Constants.java\njava/org/apache/catalina/core/StandardWrapper.java'),(843,42579,'Bug 42579  [Patch] JNDIRealm fails to parse absolute names','Active Directory can respond to a query with SearchResult\'s that are not\nrelative.  We discovered this happening with a directory hosted across many\nservers when the userBase was not sufficient to identify a single server.\n\nIn getUserBySearch, JNDIRealm assumes that the SearchResult is relative and goes\nabout creating a DN for the user by appending together the various bits of names\nit gets back.  This is definitely wrong for absolute names which are URL\'s of\nthe form:  ldap://server/encoded_user_dn\n\nI discovered this issue in Tomcat 5.5 and a cursory look at the SVN repo for\nTomcat 6.0 reveals that this bug is also present there.  \n\nI have a patch for this issue which I will attach.','patch realm jndirealm fail pars absolut name activ directori respond queri search result searchresult rel discov happen directori host across mani server user base userbas suffici identifi singl server get user by search getuserbysearch realm jndirealm assum search result searchresult rel go creat dn user append togeth variou bit name get back definit wrong absolut name url form ldap server encod user dn discov issu tomcat cursori look svn repo tomcat reveal present patch issu attach','patch realm jndirealm fail pars absolut name','activ directori respond queri search result searchresult rel discov happen directori host across mani server user base userbas suffici identifi singl server get user by search getuserbysearch realm jndirealm assum search result searchresult rel go creat dn user append togeth variou bit name get back definit wrong absolut name url form ldap server encod user dn discov issu tomcat cursori look svn repo tomcat reveal present patch issu attach','2007-06-04 14:13:14',1180980000,'resolved fixed','90e8d0d',1239290000,'java/org/apache/catalina/realm/JNDIRealm.java'),(844,46354,'Bug 46354  LIMIT_BUFFER setting causes arraycopy errors','','limit buffer set caus arraycopi error','limit buffer set caus arraycopi error','','2008-12-05 09:01:51',1228490000,'resolved fixed','78a994a',1239290000,'java/org/apache/jasper/runtime/BodyContentImpl.java'),(845,46984,'Bug 46984  Server incorrectly reports a 501 error on bad method name.  Should report 400 error.','','server incorrectli report error bad method name report error','server incorrectli report error bad method name report error','','2009-04-07 07:44:46',1239100000,'resolved fixed','42a093b',1239290000,'java/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java\njava/org/apache/coyote/http11/InternalAprInputBuffer.java\njava/org/apache/coyote/http11/InternalInputBuffer.java\njava/org/apache/coyote/http11/InternalNioInputBuffer.java'),(846,46961,'Bug 46961  org.apache.catalina.loader.WebappClassLoader throws exception related to Java 6 Bug 6434149','','apach catalina loader webapp class loader webappclassload throw except relat java','apach catalina loader webapp class loader webappclassload throw except relat java','','2009-04-03 07:15:39',1238760000,'resolved fixed','f109fb9',1239280000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(847,46909,'Bug 46909  <jsp:plugin> error','<jsp:plugin type=\"applet\"> generates type=\"application/x-java-applet;\" instead of type = \"application/x-java-applet\".\nFirefox with Java-plugin cannot display Java applets because \";\" is added.','jsp plugin error jsp plugin type applet gener type applic java applet xjavaapplet instead type applic java applet xjavaapplet firefox java plugin javaplugin cannot display java applet ad','jsp plugin error','jsp plugin type applet gener type applic java applet xjavaapplet instead type applic java applet xjavaapplet firefox java plugin javaplugin cannot display java applet ad','2009-03-25 03:07:44',1237960000,'resolved fixed','80b90ee',1239280000,'java/org/apache/jasper/compiler/Generator.java'),(848,46562,'Bug 46562  Reader not closed','SHTML files are locked when using windows. Closing the reader solves the problem.','reader close shtml file lock use window close reader solv problem','reader close','shtml file lock use window close reader solv problem','2009-01-19 08:17:14',1232370000,'resolved fixed','6ecc35d',1239280000,'java/org/apache/catalina/ssi/SSIServlet.java'),(849,46998,'Bug 46998  small fix to TaskThreadFactory','','small fix task thread factori taskthreadfactori','small fix task thread factori taskthreadfactori','','2009-04-08 11:35:20',1239200000,'resolved fixed','0c48c98',1239270000,'java/org/apache/tomcat/util/threads/TaskThreadFactory.java'),(850,46997,'Bug 46997  small fix to TaskQueue','','small fix task queue taskqueu','small fix task queue taskqueu','','2009-04-08 11:30:59',1239200000,'resolved fixed','4e1c4b2',1239270000,'java/org/apache/tomcat/util/threads/TaskQueue.java'),(851,46991,'Bug 46991  \"Bytes received \"  problem','use jk module\n\nsubmit some data with post method ,but  \"Bytes received\" always show zero\n\nsee source file ,JkCoyoteHandler.java ,in \"inovke\" method\n\n public int invoke( Msg msg, MsgContext ep )\n        throws IOException {\n        if( ep.isLogTimeEnabled() )\n            ep.setLong( MsgContext.TIMER_PRE_REQUEST, System.currentTimeMillis());\n\n        Request req=ep.getRequest();\n        Response res=req.getResponse();\n\n        if( log.isDebugEnabled() )\n            log.debug( \"Invoke \" + req + \" \" + res + \" \" + req.requestURI().toString());\n\n        res.setNote( epNote, ep );\n        ep.setStatus( MsgContext.JK_STATUS_HEAD );\n        RequestInfo rp = req.getRequestProcessor();\n        rp.setStage(Constants.STAGE_SERVICE);\n        try {\n            adapter.service( req, res );\n        } catch( Exception ex ) {\n            log.info(\"Error servicing request \" + req,ex);\n        }\n        if(ep.getStatus() != MsgContext.JK_STATUS_CLOSED) {\n            res.finish();\n        }\n      \n        req.recycle();         \n        req.updateCounters();   //see this line\n         res.recycle();\n        ep.recycle();\n        if( ep.getStatus() == MsgContext.JK_STATUS_ERROR ) {\n            return ERROR;\n        }\n        ep.setStatus( MsgContext.JK_STATUS_NEW );\n        rp.setStage(Constants.STAGE_KEEPALIVE);\n        return OK;\n    }\n\n the request object recycled,the \"byteRead\" property must be set to zero ,but at the next line ,begin to \"updateCounters\",this may be a bug','byte receiv problem use jk modul submit data post method byte receiv alway show zero see sourc file jk coyot handler jkcoyotehandl java inovk method public int invok msg msg msg context msgcontext ep throw except ioexcept ep is log time enabl islogtimeen ep set long setlong msg context msgcontext timer pre request system current time milli currenttimemilli request req ep get request getrequest respons re req get respons getrespons log is debug enabl isdebugen log debug invok req re req request requesturi to string tostr re set note setnot ep note epnot ep ep set statu setstatu msg context msgcontext jk statu head request info requestinfo rp req get request processor getrequestprocessor rp set stage setstag constant stage servic tri adapt servic req re catch except ex log info error servic request req ex ep get statu getstatu msg context msgcontext jk statu close re finish req recycl req updat counter updatecount see line re recycl ep recycl ep get statu getstatu msg context msgcontext jk statu error return error ep set statu setstatu msg context msgcontext jk statu new rp set stage setstag constant stage keepal return ok request object recycl byte read byteread properti must set zero next line begin updat counter updatecount may','byte receiv problem','use jk modul submit data post method byte receiv alway show zero see sourc file jk coyot handler jkcoyotehandl java inovk method public int invok msg msg msg context msgcontext ep throw except ioexcept ep is log time enabl islogtimeen ep set long setlong msg context msgcontext timer pre request system current time milli currenttimemilli request req ep get request getrequest respons re req get respons getrespons log is debug enabl isdebugen log debug invok req re req request requesturi to string tostr re set note setnot ep note epnot ep ep set statu setstatu msg context msgcontext jk statu head request info requestinfo rp req get request processor getrequestprocessor rp set stage setstag constant stage servic tri adapt servic req re catch except ex log info error servic request req ex ep get statu getstatu msg context msgcontext jk statu close re finish req recycl req updat counter updatecount see line re recycl ep recycl ep get statu getstatu msg context msgcontext jk statu error return error ep set statu setstatu msg context msgcontext jk statu new rp set stage setstag constant stage keepal return ok request object recycl byte read byteread properti must set zero next line begin updat counter updatecount may','2009-04-08 01:37:54',1239170000,'resolved fixed','a228c06',1239210000,'java/org/apache/jk/server/JkCoyoteHandler.java'),(852,46990,'Bug 46990  Synchronize target can be changed midway','','synchron target chang midway','synchron target chang midway','','2009-04-07 18:52:10',1239140000,'resolved fixed','f1fd999',1239210000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/core/StandardHost.java\njava/org/apache/catalina/tribes/membership/Membership.java\njava/org/apache/catalina/util/InstanceSupport.java\njava/org/apache/catalina/util/LifecycleSupport.java'),(853,46988,'Bug 46988  JMXAccessorTask String constants should be final','','accessor task jmxaccessortask string constant final','accessor task jmxaccessortask string constant final','','2009-04-07 17:18:48',1239140000,'resolved fixed','81ebe8f',1239200000,'java/org/apache/catalina/ant/jmx/JMXAccessorTask.java'),(854,46986,'Bug 46986  org.apache.jasper.Constants public arrays are mutable','There are various public String arrays in org.apache.jasper.Constants. Although the array variables are final, any code can change any of the array constants.','apach jasper constant public array mutabl variou public string array apach jasper constant although array variabl final code chang array constant','apach jasper constant public array mutabl','variou public string array apach jasper constant although array variabl final code chang array constant','2009-04-07 17:14:51',1239140000,'resolved fixed','f497f12',1239200000,'java/org/apache/jasper/Constants.java\njava/org/apache/jasper/compiler/PageInfo.java\njava/org/apache/jasper/xmlparser/ParserUtils.java'),(855,46967,'Bug 46967  ManagerBase.setRandomFile error handling fix','On some platforms (z/OS for sure), the device file /dev/urandom can pass the \"f.exists()\" test, but throws an IOException of some kind when trying to open it.  The current code in ManagerBase.setRandomFile() doesn\'t handle this, which results in EVERY call to getRandom() to try again and log the error  \"Failed to close randomIS\".\n\nThe following changes to the method will add proper error handling to correct this (my changes marked \"// kjw\")\n\n    public void setRandomFile( String s ) {\n        // as a hack, you can use a static file - and genarate the same\n        // session ids ( good for strange debugging )\n        if (Globals.IS_SECURITY_ENABLED){\n            randomIS = (DataInputStream)AccessController.doPrivileged(new PrivilegedSetRandomFile());          \n        } else {\n            try{\n                devRandomSource=s;\n                File f=new File( devRandomSource );\n                if( ! f.exists() ) return;\n                randomIS= new DataInputStream( new FileInputStream(f));\n                randomIS.readLong();\n                if( log.isDebugEnabled() )\n                    log.debug( \"Opening \" + devRandomSource );\n            } catch( IOException ex ) {\n            	log.debug(\"Error reading \" + devRandomSource, ex); //kjw\n            	if (randomIS != null) {  // kjw: if opened\n	                try {\n	                    randomIS.close();\n	                } catch (Exception e) {\n	                    log.warn(\"Failed to close randomIS.\");\n	                }\n            	}                       // kjw \n            	devRandomSource = null; // kjw: don\'t try again automatically\n                randomIS=null;\n            }\n        }\n    }','manag base managerbas set random file setrandomfil error handl fix platform sure devic file dev urandom pa exist throw except ioexcept kind tri open current code manag base managerbas set random file setrandomfil doesn handl result everi call get random getrandom tri log error fail close random randomi follow chang method add proper error handl correct chang mark kjw public void set random file setrandomfil string hack use static file genar session id good strang debug global secur enabl random randomi data input stream datainputstream access control accesscontrol do privileg doprivileg new privileg set random file privilegedsetrandomfil els tri dev random sourc devrandomsourc file new file dev random sourc devrandomsourc exist return random randomi new data input stream datainputstream new file input stream fileinputstream random randomi read long readlong log is debug enabl isdebugen log debug open dev random sourc devrandomsourc catch except ioexcept ex log debug error read dev random sourc devrandomsourc ex kjw random randomi null kjw open tri random randomi close catch except log warn fail close random randomi kjw dev random sourc devrandomsourc null kjw tri automat random randomi null','manag base managerbas set random file setrandomfil error handl fix','platform sure devic file dev urandom pa exist throw except ioexcept kind tri open current code manag base managerbas set random file setrandomfil doesn handl result everi call get random getrandom tri log error fail close random randomi follow chang method add proper error handl correct chang mark kjw public void set random file setrandomfil string hack use static file genar session id good strang debug global secur enabl random randomi data input stream datainputstream access control accesscontrol do privileg doprivileg new privileg set random file privilegedsetrandomfil els tri dev random sourc devrandomsourc file new file dev random sourc devrandomsourc exist return random randomi new data input stream datainputstream new file input stream fileinputstream random randomi read long readlong log is debug enabl isdebugen log debug open dev random sourc devrandomsourc catch except ioexcept ex log debug error read dev random sourc devrandomsourc ex kjw random randomi null kjw open tri random randomi close catch except log warn fail close random randomi kjw dev random sourc devrandomsourc null kjw tri automat random randomi null','2009-04-03 18:57:28',1238800000,'resolved fixed','243aa86',1239200000,'java/org/apache/catalina/session/ManagerBase.java'),(856,46958,'Bug 46958  manager XML interface hard-coded path in XSL transformation','','manag xml interfac hard code hardcod path xsl transform','manag xml interfac hard code hardcod path xsl transform','','2009-04-02 16:55:36',1238710000,'resolved fixed','a9a58fb',1239190000,'java/org/apache/catalina/manager/Constants.java'),(857,46933,'Bug 46933  Using Java 1.5 in StringManager','','use java string manag stringmanag','use java string manag stringmanag','','2009-03-27 15:34:14',1238180000,'resolved fixed','23c47da',1239190000,'java/org/apache/tomcat/util/res/StringManager.java\ntest/org/apache/tomcat/util/res/TestStringManager.java'),(858,46982,'Bug 46982  AccessLogValve reports correct time but incorrect offset following Spring DST transition.','This is a problem with AccessLogValve for tc5.5 as well as tc6.0 on all platforms.\n\nWith the system clock on my linux machine (Ubuntu in my case) to just before the US time change on March 8, I started Tomcat 5.5 and see the following messages in my Tomcat access log after accessing Tomcat JSP example pages at the time of DST transition:\n\n-: - [08/Mar/2009:01:56:20 -0700] GET /jsp-examples/jsp2/simpletag/book.jsp HTTP/1.1 200 1738 1 - {http-8080-Processor24}\n-: - [08/Mar/2009:03:01:22 -0700] GET /jsp-examples/jsp2/tagfiles/hello.jsp HTTP/1.1 200 2213 68 - {http-8080-Processor25}\n\nNote the offset of \"-0700\" both before and after DST transition.  Following a Tomcat restart the offset is correct:\n\n-: - [08/Mar/2009:03:19:42 -0600] GET /jsp-examples/jsp2/jspx/basic.jspx HTTP/1.1 200 1919 780 - {http-8080-Processor25}\n-: - [08/Mar/2009:03:19:59 -0600] GET /jsp-examples/jsp2/jspx/svgexample.html HTTP/1.1 200 2239 4 - {http-8080-Processor25}\n-: - [08/Mar/2009:03:19:59 -0600] GET /jsp-examples/jsp2/jspx/textRotate.jpg HTTP/1.1 200 26729 3 - {http-8080-Processor25}\n\n\nBTW, I ran the tzupdater before my tests:\n\nlinwin01-512> java -jar tzupdater.jar -V\ntzupdater version 1.3.12-b01\nJRE time zone data version: tzdata2009a\nEmbedded time zone data version: tzdata2009a\n\n\n\nThe problem is in the org.apache.catalina.valves.AccessLogValve which contains the following in its start method:\n\n\n// Initialize the timeZone, Date formatters, and currentDate\ntimezone = TimeZone.getDefault();\ntimeZoneNoDST = calculateTimeZoneOffset(timezone.getRawOffset());\nCalendar calendar = Calendar.getInstance(timezone);\nint offset = calendar.get(Calendar.DST_OFFSET);\ntimeZoneDST = calculateTimeZoneOffset(timezone.getRawOffset()+offset);\n\n\nBased on what Ive seen, int offset = calendar.get(Calendar.DST_OFFSET); returns 0 when the current time is not in Daylight savings time and (for my timezone) 3600000 (60 * 60 * 1000) when the current time is in Daylight Savings.  It looks like the code assumes this is always the offset for Daylight Savings for the current timezone.  I have no idea if there are some locations/timezones where Daylight Savings Time does not have a 1 hour offset.\n\nBecause of this, if in a non-DST time period, timeZoneDST and timeZoneNoDST are set to the same value.  If in a DST time period, I believe they are set correctly so that the transition in Autumn works correctly.  I think the only problem is when moving ahead in Springtime (unless the software has been running for 6 months or so which caused the offset to be set correctly).','access log valv accesslogvalv report correct time incorrect offset follow spring dst transit problem access log valv accesslogvalv tc5 well tc6 platform system clock linux machin ubuntu case u time chang march start tomcat see follow messag tomcat access log access tomcat jsp exampl page time dst transit mar get jsp exampl jspexampl jsp2 simpletag book jsp http http processor24 mar get jsp exampl jspexampl jsp2 tagfil hello jsp http http processor25 note offset dst transit follow tomcat restart offset correct mar get jsp exampl jspexampl jsp2 jspx basic jspx http http processor25 mar get jsp exampl jspexampl jsp2 jspx svgexampl html http http processor25 mar get jsp exampl jspexampl jsp2 jspx text rotat textrot jpg http http processor25 btw ran tzupdat test linwin01 java jar tzupdat jar tzupdat version 12 b01 12b01 jre time zone data version tzdata2009a embed time zone data version tzdata2009a problem apach catalina valv access log valv accesslogvalv contain follow start method initi time zone timezon date formatt current date currentd timezon time zone timezon get default getdefault time zone no timezonenodst calcul time zone offset calculatetimezoneoffset timezon get raw offset getrawoffset calendar calendar calendar get instanc getinst timezon int offset calendar get calendar dst offset time zone timezonedst calcul time zone offset calculatetimezoneoffset timezon get raw offset getrawoffset offset base ive seen int offset calendar get calendar dst offset return current time daylight save time timezon current time daylight save look like code assum alway offset daylight save current timezon idea locat timezon daylight save time hour offset dst time period time zone timezonedst time zone no timezonenodst set valu dst time period believ set correctli transit autumn work correctli think problem move ahead springtim unless softwar run month caus offset set correctli','access log valv accesslogvalv report correct time incorrect offset follow spring dst transit','problem access log valv accesslogvalv tc5 well tc6 platform system clock linux machin ubuntu case u time chang march start tomcat see follow messag tomcat access log access tomcat jsp exampl page time dst transit mar get jsp exampl jspexampl jsp2 simpletag book jsp http http processor24 mar get jsp exampl jspexampl jsp2 tagfil hello jsp http http processor25 note offset dst transit follow tomcat restart offset correct mar get jsp exampl jspexampl jsp2 jspx basic jspx http http processor25 mar get jsp exampl jspexampl jsp2 jspx svgexampl html http http processor25 mar get jsp exampl jspexampl jsp2 jspx text rotat textrot jpg http http processor25 btw ran tzupdat test linwin01 java jar tzupdat jar tzupdat version 12 b01 12b01 jre time zone data version tzdata2009a embed time zone data version tzdata2009a problem apach catalina valv access log valv accesslogvalv contain follow start method initi time zone timezon date formatt current date currentd timezon time zone timezon get default getdefault time zone no timezonenodst calcul time zone offset calculatetimezoneoffset timezon get raw offset getrawoffset calendar calendar calendar get instanc getinst timezon int offset calendar get calendar dst offset time zone timezonedst calcul time zone offset calculatetimezoneoffset timezon get raw offset getrawoffset offset base ive seen int offset calendar get calendar dst offset return current time daylight save time timezon current time daylight save look like code assum alway offset daylight save current timezon idea locat timezon daylight save time hour offset dst time period time zone timezonedst time zone no timezonenodst set valu dst time period believ set correctli transit autumn work correctli think problem move ahead springtim unless softwar run month caus offset set correctli','2009-04-07 07:32:55',1239100000,'resolved fixed','360f8eb',1239190000,'java/org/apache/catalina/valves/AccessLogValve.java'),(859,41606,'Bug 41606  The jspInit method is called twice.','The problem is:\nThe jspInit method is called twice.\n\nThe definition is:\n-The JSP background compilations are enable.\n (In default web.xml, define checkInterval and define development false.)\n-Define the JSP with <servlet> and <load-on-startup> tag in web.xml.\n\nThe proposing:\norg/apache/jasper/compiler/Compiler.java \n----\npublic void compile(boolean compileClass, boolean jspcMode)\n    throws FileNotFoundException, JasperException, Exception\n{\n....\n    if( compileClass ) {\n        File targetFile = new File(ctxt.getClassFileName());\n        if (targetFile.exists()) {\n            long targetLastModified = targetFile.lastModified();\n            if (jsw != null) {\n                jsw.setServletClassLastModifiedTime(targetLastModified);\n            }   \n        }\n    }\n}// last of the method.\n----\n\nRegards,\nYuichiro','jsp init jspinit method call twice problem jsp init jspinit method call twice definit jsp background compil enabl default web xml defin check interv checkinterv defin develop fals defin jsp servlet load on startup loadonstartup tag web xml propos apach jasper compil compil java public void compil boolean compil class compileclass boolean jspc mode jspcmode throw file not found except filenotfoundexcept jasper except jasperexcept except compil class compileclass file target file targetfil new file ctxt get class file name getclassfilenam target file targetfil exist long target last modifi targetlastmodifi target file targetfil last modifi lastmodifi jsw null jsw set servlet class last modifi time setservletclasslastmodifiedtim target last modifi targetlastmodifi last method regard yuichiro','jsp init jspinit method call twice','problem jsp init jspinit method call twice definit jsp background compil enabl default web xml defin check interv checkinterv defin develop fals defin jsp servlet load on startup loadonstartup tag web xml propos apach jasper compil compil java public void compil boolean compil class compileclass boolean jspc mode jspcmode throw file not found except filenotfoundexcept jasper except jasperexcept except compil class compileclass file target file targetfil new file ctxt get class file name getclassfilenam target file targetfil exist long target last modifi targetlastmodifi target file targetfil last modifi lastmodifi jsw null jsw set servlet class last modifi time setservletclasslastmodifiedtim target last modifi targetlastmodifi last method regard yuichiro','2007-02-13 20:46:54',1171420000,'resolved fixed','f36a2c4',1238150000,'java/org/apache/jasper/compiler/Compiler.java'),(860,46822,'Bug 46822  Avoid redundant instantiations in StandardContext','','avoid redund instanti standard context standardcontext','avoid redund instanti standard context standardcontext','','2009-03-08 22:56:01',1236570000,'resolved fixed','b10d9da',1238070000,'java/org/apache/catalina/core/StandardContext.java'),(861,46866,'Bug 46866  Seed from current time is useless','fgrep -r \'new Random(System.currentTimeMillis())\' .\n\nGives 7 places where Random initialized with seed = currentTimeMillis. This is unnecessary, because better seed initialization happens in the default Random constructor.','seed current time useless fgrep new random system current time milli currenttimemilli give place random initi seed current time milli currenttimemilli unnecessari better seed initi happen default random constructor','seed current time useless','fgrep new random system current time milli currenttimemilli give place random initi seed current time milli currenttimemilli unnecessari better seed initi happen default random constructor','2009-03-16 21:34:33',1237250000,'resolved fixed','fae26ce',1238070000,'java/org/apache/catalina/core/StandardServer.java\njava/org/apache/catalina/tribes/util/UUIDGenerator.java\ntest/org/apache/catalina/tribes/demos/LoadTest.java\ntest/org/apache/catalina/tribes/demos/MapDemo.java\ntest/org/apache/catalina/tribes/test/channel/TestDataIntegrity.java\ntest/org/apache/catalina/tribes/test/channel/TestMulticastPackages.java\ntest/org/apache/catalina/tribes/test/channel/TestRemoteProcessException.java\ntest/org/apache/catalina/tribes/test/channel/TestUdpPackages.java\ntest/org/apache/catalina/tribes/test/io/TestSenderConnections.java'),(862,46875,'Bug 46875  CometConnectionManagerValve: concurrent access on session object when calling HttpSession.invalidate()','When calling invalidate() on an valid HttpSession object CometConnectionManagerValve methods sessionDestroy(HttpSessionEvent se) and event(Request request, Response response, CometEvent event) are called concurrently.\n\nSo either a CometEvent with EventType.END and EventSubType.SESSION_END is never signaled via sessionDestroyed(...) or the HttpSession object has become invalid and the attribute holding comet requests can not be set or removed via event(...).\n\nI have configured CometConnectionManagerValve as a Valve element in context.xml and also as a Listener element in my applications web.xml.\n\n\n\nsee this stacktrace \'sessionDestroy() was a bit faster\':\n\nAn exception or error occurred in the container during the request processing\njava.lang.IllegalStateException: removeAttribute: Session already invalidated\n	at org.apache.catalina.session.StandardSession.removeAttribute(StandardSession.java:1206)\n	at org.apache.catalina.session.StandardSession.removeAttribute(StandardSession.java:1181)\n	at org.apache.catalina.session.StandardSessionFacade.removeAttribute(StandardSessionFacade.java:140)\n	at org.apache.catalina.valves.CometConnectionManagerValve.event(CometConnectionManagerValve.java:335)\n	at org.apache.catalina.core.StandardHostValve.event(StandardHostValve.java:179)\n	at org.apache.catalina.valves.ValveBase.event(ValveBase.java:200)\n	at org.apache.catalina.core.StandardEngineValve.event(StandardEngineValve.java:128)\n	at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:198)\n	at org.apache.coyote.http11.Http11NioProcessor.event(Http11NioProcessor.java:750)\n	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.event(Http11NioProtocol.java:653)\n	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2081)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n	at java.lang.Thread.run(Thread.java:637)','comet connect manag valv cometconnectionmanagervalv concurr access session object call http session httpsession invalid call invalid valid http session httpsession object comet connect manag valv cometconnectionmanagervalv method session destroy sessiondestroy http session event httpsessionev event request request respons respons comet event cometev event call concurr either comet event cometev event type eventtyp event sub type eventsubtyp session never signal via session destroy sessiondestroy http session httpsession object becom invalid attribut hold comet request set remov via event configur comet connect manag valv cometconnectionmanagervalv valv element context xml listen element applic web xml see stacktrac session destroy sessiondestroy bit faster except error occur contain request process java lang illeg state except illegalstateexcept remov attribut removeattribut session alreadi invalid apach catalina session standard session standardsess remov attribut removeattribut standard session standardsess java apach catalina session standard session standardsess remov attribut removeattribut standard session standardsess java apach catalina session standard session facad standardsessionfacad remov attribut removeattribut standard session facad standardsessionfacad java apach catalina valv comet connect manag valv cometconnectionmanagervalv event comet connect manag valv cometconnectionmanagervalv java apach catalina core standard host valv standardhostvalv event standard host valv standardhostvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard engin valv standardenginevalv event standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor event http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl event http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','comet connect manag valv cometconnectionmanagervalv concurr access session object call http session httpsession invalid','call invalid valid http session httpsession object comet connect manag valv cometconnectionmanagervalv method session destroy sessiondestroy http session event httpsessionev event request request respons respons comet event cometev event call concurr either comet event cometev event type eventtyp event sub type eventsubtyp session never signal via session destroy sessiondestroy http session httpsession object becom invalid attribut hold comet request set remov via event configur comet connect manag valv cometconnectionmanagervalv valv element context xml listen element applic web xml see stacktrac session destroy sessiondestroy bit faster except error occur contain request process java lang illeg state except illegalstateexcept remov attribut removeattribut session alreadi invalid apach catalina session standard session standardsess remov attribut removeattribut standard session standardsess java apach catalina session standard session standardsess remov attribut removeattribut standard session standardsess java apach catalina session standard session facad standardsessionfacad remov attribut removeattribut standard session facad standardsessionfacad java apach catalina valv comet connect manag valv cometconnectionmanagervalv event comet connect manag valv cometconnectionmanagervalv java apach catalina core standard host valv standardhostvalv event standard host valv standardhostvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard engin valv standardenginevalv event standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor event http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl event http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java','2009-03-19 02:15:04',1237440000,'resolved wontfix','08f7a5f',1238010000,'java/org/apache/catalina/valves/CometConnectionManagerValve.java'),(863,46666,'Bug 46666  Why is disableUploadTimeout and KeepAliveTimeout correlated in Http11 Connector?','In Http11Processor.java\n\n        while (started && !error && keepAlive) {\n\n            // Parsing the request header\n            try {\n                if (!disableUploadTimeout && keptAlive) {\n                    if (keepAliveTimeout > 0) {\n                        socket.setSoTimeout(keepAliveTimeout);\n                    }\n                    else if (soTimeout > 0) {\n                        socket.setSoTimeout(soTimeout);\n                    }\n                }\n                inputBuffer.parseRequestLine();\n                request.setStartTime(System.currentTimeMillis());\n                keptAlive = true;\n                if (!disableUploadTimeout) {\n                    socket.setSoTimeout(timeout);\n                }\n\ndisableUploadTimeout  - This flag allows the servlet container to use a different, longer connection timeout while a servlet is being executed, which in the end allows either the servlet a longer amount of time to complete its execution, or a longer timeout during data upload. If not specified, this attribute is set to \"true\".\n\nThe code above is waiting on a new Http Request and precedes the servlet processing logic.  It seems odd to me that I must set disableTimeout to false to get my keepAliveTimeout set.  \n\nTo set keepalivetimout, I must implicitely enable upload timeout whether I need it or not.  It seems to me that the disableTimeout is unneccessary in the following line\n\nif (!disableUploadTimeout && keptAlive) {\n\nDo you agree with this?\n\nThanks for the insight','disabl upload timeout disableuploadtimeout keep aliv timeout keepalivetimeout correl http11 connector http11 processor http11processor java start error keep aliv keepal pars request header tri disabl upload timeout disableuploadtimeout kept aliv keptal keep aliv timeout keepalivetimeout socket set so timeout setsotimeout keep aliv timeout keepalivetimeout els so timeout sotimeout socket set so timeout setsotimeout so timeout sotimeout input buffer inputbuff pars request line parserequestlin request set start time setstarttim system current time milli currenttimemilli kept aliv keptal true disabl upload timeout disableuploadtimeout socket set so timeout setsotimeout timeout disabl upload timeout disableuploadtimeout flag allow servlet contain use differ longer connect timeout servlet execut allow either servlet longer amount time complet execut longer timeout data upload specifi attribut set true code wait new http request preced servlet process logic seem odd must set disabl timeout disabletimeout fals get keep aliv timeout keepalivetimeout set set keepalivetimout must implicit enabl upload timeout whether need seem disabl timeout disabletimeout unneccessari follow line disabl upload timeout disableuploadtimeout kept aliv keptal agre thank insight','disabl upload timeout disableuploadtimeout keep aliv timeout keepalivetimeout correl http11 connector','http11 processor http11processor java start error keep aliv keepal pars request header tri disabl upload timeout disableuploadtimeout kept aliv keptal keep aliv timeout keepalivetimeout socket set so timeout setsotimeout keep aliv timeout keepalivetimeout els so timeout sotimeout socket set so timeout setsotimeout so timeout sotimeout input buffer inputbuff pars request line parserequestlin request set start time setstarttim system current time milli currenttimemilli kept aliv keptal true disabl upload timeout disableuploadtimeout socket set so timeout setsotimeout timeout disabl upload timeout disableuploadtimeout flag allow servlet contain use differ longer connect timeout servlet execut allow either servlet longer amount time complet execut longer timeout data upload specifi attribut set true code wait new http request preced servlet process logic seem odd must set disabl timeout disabletimeout fals get keep aliv timeout keepalivetimeout set set keepalivetimout must implicit enabl upload timeout whether need seem disabl timeout disabletimeout unneccessari follow line disabl upload timeout disableuploadtimeout kept aliv keptal agre thank insight','2009-02-04 08:28:34',1233750000,'resolved fixed','ac6369a',1234540000,'java/org/apache/coyote/http11/Http11Processor.java'),(864,46696,'Bug 46696  Missing AL headers','The following files in tomcat-trunk don\'t have AL headers; as far as I can tell, they should:\n\nmodules/jdbc-pool/sign.sh\nmodules/jdbc-pool/test/org/apache/tomcat/jdbc/test/StarvationTest.java','miss header follow file tomcat trunk tomcattrunk header far tell modul jdbc pool jdbcpool sign sh modul jdbc pool jdbcpool apach tomcat jdbc starvat test starvationtest java','miss header','follow file tomcat trunk tomcattrunk header far tell modul jdbc pool jdbcpool sign sh modul jdbc pool jdbcpool apach tomcat jdbc starvat test starvationtest java','2009-02-11 09:41:23',1234360000,'resolved fixed','3b1b7b3',1234450000,'modules/jdbc-pool/test/org/apache/tomcat/jdbc/test/StarvationTest.java'),(865,39396,'Bug 39396  OPTIONS request on directory with no default file reports an incorrect list of allowed HTTP verbs','When an \"options\" http request is made to Tomcat to a directory that has no \ndefault file (like index.jsp) in it, Tomcat reports a full list of allowed \nverbs, when in fact, most of them are NOT allowed.  For example, a request to \na generic img directory:\n\nOPTIONS /img/ HTTP/1.0\n	Cookie: JSESSIONID=C46C2E18BE95AD91828C9370CBDF0AF2\n	Content-Length: 0\n	Accept: */*\n	Accept-Language: en-us\n	Connection: Keep-Alive\n	User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; \nSV1; .NET CLR 1.1\n	4322; InfoPath.1)\n\nReturns:\n\nHTTP/1.1 200 OK\nServer: Apache-Coyote/1.1\nAllow: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS\nContent-Length: 0\nDate: Mon, 24 Apr 2006 15:11:16 GMT\nConnection: close\n\nWhich shows several destructive options available (PUT, DELETE).  But a \nrequest to DELETE or PUT (correctly) returns a 403 FORBIDDEN result:\n\nDELETE /img/ HTTP/1.0\n	Cookie: JSESSIONID=C46C2E18BE95AD91828C9370CBDF0AF2\n	Content-Length: 0\n	Accept: */*\n	Accept-Language: en-us\n	Connection: Keep-Alive\n	User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; \nSV1; .NET CLR 1.1\n	4322; InfoPath.1)\n\nReturns:\nHTTP/1.1 403 Forbidden\nServer: Apache-Coyote/1.1\nContent-Type: text/html;charset=utf-8\nContent-Length: 964\nDate: Mon, 24 Apr 2006 15:12:31 GMT\nConnection: close\n\nBecause the initial OPTIONS request returns a list containing dangerous verbs, \nthe directory will be flagged as a serious security vulnerability by most \nscanners (a false positive).\n\nThe issue DOES NOT occur when the directory HAS a default file in it:\nOPTIONS /user_management/ HTTP/1.0\n	Cookie: JSESSIONID=C46C2E18BE95AD91828C9370CBDF0AF2\n	Content-Length: 0\n	Accept: */*\n	Accept-Language: en-us\n	Connection: Keep-Alive\n	User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; \nSV1; .NET CLR 1.1\n	4322; InfoPath.1)\n\nReturns:\n\nHTTP/1.1 200 OK\nServer: Apache-Coyote/1.1\nSet-Cookie: JSESSIONID=BC992F0C86E2BCBD0A2E5F1B3A12C50C; Path=/\nContent-Type: text/html;charset=ISO-8859-1\nDate: Mon, 24 Apr 2006 15:14:27 GMT\nConnection: close','option request directori default file report incorrect list allow http verb option http request made tomcat directori default file like index jsp tomcat report full list allow verb fact allow exampl request gener img directori option img http cooki jsessionid c46 c2 e18 e95 d91828 c9370 f0 f2 c46c2e18be95ad91828c9370cbdf0af2 content length accept accept languag en enu connect keep aliv user agent mozilla compat msie window nt v1 sv1 net clr info path infopath return http ok server apach coyot allow get head post put delet trace option content length date apr gmt connect close show sever destruct option avail put delet request delet put correctli return forbidden result delet img http cooki jsessionid c46 c2 e18 e95 d91828 c9370 f0 f2 c46c2e18be95ad91828c9370cbdf0af2 content length accept accept languag en enu connect keep aliv user agent mozilla compat msie window nt v1 sv1 net clr info path infopath return http forbidden server apach coyot content type text html charset utf content length date apr gmt connect close initi option request return list contain danger verb directori flag seriou secur vulner scanner fals posit issu occur directori default file option user manag http cooki jsessionid c46 c2 e18 e95 d91828 c9370 f0 f2 c46c2e18be95ad91828c9370cbdf0af2 content length accept accept languag en enu connect keep aliv user agent mozilla compat msie window nt v1 sv1 net clr info path infopath return http ok server apach coyot set cooki jsessionid c992 f0 c86 e2 d0 a2 e5 f1 b3 a12 c50 bc992f0c86e2bcbd0a2e5f1b3a12c50c path content type text html charset iso date apr gmt connect close','option request directori default file report incorrect list allow http verb','option http request made tomcat directori default file like index jsp tomcat report full list allow verb fact allow exampl request gener img directori option img http cooki jsessionid c46 c2 e18 e95 d91828 c9370 f0 f2 c46c2e18be95ad91828c9370cbdf0af2 content length accept accept languag en enu connect keep aliv user agent mozilla compat msie window nt v1 sv1 net clr info path infopath return http ok server apach coyot allow get head post put delet trace option content length date apr gmt connect close show sever destruct option avail put delet request delet put correctli return forbidden result delet img http cooki jsessionid c46 c2 e18 e95 d91828 c9370 f0 f2 c46c2e18be95ad91828c9370cbdf0af2 content length accept accept languag en enu connect keep aliv user agent mozilla compat msie window nt v1 sv1 net clr info path infopath return http forbidden server apach coyot content type text html charset utf content length date apr gmt connect close initi option request return list contain danger verb directori flag seriou secur vulner scanner fals posit issu occur directori default file option user manag http cooki jsessionid c46 c2 e18 e95 d91828 c9370 f0 f2 c46c2e18be95ad91828c9370cbdf0af2 content length accept accept languag en enu connect keep aliv user agent mozilla compat msie window nt v1 sv1 net clr info path infopath return http ok server apach coyot set cooki jsessionid c992 f0 c86 e2 d0 a2 e5 f1 b3 a12 c50 bc992f0c86e2bcbd0a2e5f1b3a12c50c path content type text html charset iso date apr gmt connect close','2006-04-24 15:15:57',1145910000,'resolved fixed','9752018',1234210000,'java/org/apache/catalina/connector/RequestFacade.java\njava/org/apache/catalina/servlets/DefaultServlet.java'),(866,38570,'Bug 38570  if docBase path contains \"webapps\", a backslash is inserted','','doc base docbas path contain webapp backslash insert','doc base docbas path contain webapp backslash insert','','2006-02-08 15:46:45',1139430000,'resolved fixed','8d2b8ff',1234210000,'java/org/apache/catalina/startup/ContextConfig.java'),(867,38553,'Bug 38553  Wrong HTTP code for failed CLIENT-CERT authentication','server.xml:\n===========\nI set clientAuth to \"want\"\n\ntomcat-user.xml:\n================\nI create a role and an user with the ssl certificate metadata\n\nweb.xml:\n========\nFor a private URL on my webseite, I create a security constraint like this one:\n\n <security-constraint>\n	<web-resource-collection>\n	<web-resource-name>App</web-resource-name>\n	    <url-pattern>/protected.jsp</url-pattern>\n	</web-resource-collection>\n	<auth-constraint>\n	    <role-name>tomcat</role-name>\n	</auth-constraint>\n	<user-data-constraint>\n	    <transport-guarantee>CONFIDENTIAL</transport-guarantee>\n	</user-data-constraint>\n    </security-constraint>\n\n    <login-config>\n      <auth-method>CLIENT-CERT</auth-method> \n    </login-config>\n\n    <security-role>\n      <role-name>tomcat</role-name>\n    </security-role>\n\nMy results: (I try to access the restricted JSP-Page)\n===========\n1) When there is the RIGHT client certificate in the browser keystore:\nit works :-)\n\n2) When there is the WRONG client certificate I get:\n\n  HTTP Status 401 - Cannot authenticate with the provided credentials\n  (this is ok, too)\n\n3) When there is NO client certificate I get:\n\n  HTTP Status 400 - No client certificate chain in this request\n\n400 usually stands for a bad request or bad syntax. \n\nThe Bug:\n========\nIn case 3 I expect to get HTTP Status 401.','wrong http code fail client cert authent server xml set client auth clientauth tomcat user tomcatus xml creat role user ssl certif metadata web xml privat url webseit creat secur constraint like one secur constraint securityconstraint web resourc collect webresourcecollect web resourc name webresourcenam app web resourc name webresourcenam url pattern urlpattern protect jsp url pattern urlpattern web resourc collect webresourcecollect auth constraint authconstraint role name rolenam tomcat role name rolenam auth constraint authconstraint user data constraint userdataconstraint transport guarante transportguarante confidenti transport guarante transportguarante user data constraint userdataconstraint secur constraint securityconstraint login config loginconfig auth method authmethod client cert auth method authmethod login config loginconfig secur role securityrol role name rolenam tomcat role name rolenam secur role securityrol result tri access restrict jsp page right client certif browser keystor work wrong client certif get http statu cannot authent provid credenti ok client certif get http statu client certif chain request usual stand bad request bad syntax case expect get http statu','wrong http code fail client cert authent','server xml set client auth clientauth tomcat user tomcatus xml creat role user ssl certif metadata web xml privat url webseit creat secur constraint like one secur constraint securityconstraint web resourc collect webresourcecollect web resourc name webresourcenam app web resourc name webresourcenam url pattern urlpattern protect jsp url pattern urlpattern web resourc collect webresourcecollect auth constraint authconstraint role name rolenam tomcat role name rolenam auth constraint authconstraint user data constraint userdataconstraint transport guarante transportguarante confidenti transport guarante transportguarante user data constraint userdataconstraint secur constraint securityconstraint login config loginconfig auth method authmethod client cert auth method authmethod login config loginconfig secur role securityrol role name rolenam tomcat role name rolenam secur role securityrol result tri access restrict jsp page right client certif browser keystor work wrong client certif get http statu cannot authent provid credenti ok client certif get http statu client certif chain request usual stand bad request bad syntax case expect get http statu','2006-02-07 16:54:17',1139350000,'resolved fixed','156f1ca',1233740000,'java/org/apache/catalina/authenticator/SSLAuthenticator.java'),(868,38197,'Bug 38197  taglib pool bug when tag is used with jsp:attribute','','taglib pool tag use jsp attribut','taglib pool tag use jsp attribut','','2006-01-09 15:53:09',1136840000,'resolved fixed','2824a70',1233740000,'java/org/apache/jasper/compiler/Generator.java'),(869,46606,'Bug 46606  WebdavServlet','','webdav servlet webdavservlet','webdav servlet webdavservlet','','2009-01-26 07:18:21',1232970000,'resolved fixed','f0bd732',1233730000,'java/org/apache/catalina/servlets/WebdavServlet.java'),(870,46564,'Bug 46564  .tagx files don\'t compile if the document and page encoding casing differs','','tagx file compil document page encod case differ','tagx file compil document page encod case differ','','2009-01-20 00:34:11',1232430000,'resolved fixed','7d7f757',1233290000,'java/org/apache/jasper/compiler/Validator.java'),(871,46471,'Bug 46471  Compiled tag files from different tag libraries share the same package','','compil tag file differ tag librari share packag','compil tag file differ tag librari share packag','','2009-01-04 16:12:40',1231100000,'resolved fixed','3aaac85',1231180000,'java/org/apache/jasper/compiler/ImplicitTagLibraryInfo.java\njava/org/apache/jasper/compiler/JspUtil.java\njava/org/apache/jasper/compiler/ParserController.java\njava/org/apache/jasper/compiler/TagFileProcessor.java\njava/org/apache/jasper/compiler/TagLibraryInfoImpl.java'),(872,46462,'Bug 46462  JSPWiki JSP compilation prevented by org.apache.jasper.Constants.JSP_PACKAGE_NAME','','wiki jspwiki jsp compil prevent apach jasper constant jsp packag name','wiki jspwiki jsp compil prevent apach jasper constant jsp packag name','','2009-01-01 20:29:15',1230860000,'resolved fixed','1ca03ff',1230890000,'java/org/apache/jasper/servlet/JasperLoader.java'),(873,46298,'Bug 46298  JDBCRealm.open() throws NullPointerException if the specified driver doesn\'t handle the specified JDBC URL','','realm jdbcrealm open throw null pointer except nullpointerexcept specifi driver doesn handl specifi jdbc url','realm jdbcrealm open throw null pointer except nullpointerexcept specifi driver doesn handl specifi jdbc url','','2008-11-25 23:25:56',1227670000,'resolved fixed','e31998a',1230510000,'java/org/apache/catalina/realm/JDBCRealm.java'),(874,46261,'Bug 46261  Context with %2F in name causes tomcat crash on shutdown','Context with %2F in name causes tomcat crash on shutdown\n\nSeveral years ago I worked on integrating tomcat 5.5 into our web application management infrastructure.  During the process I fixed several tomcat 5.5 bugs, but apparently never sent the fixes upstream.  Oops.\n\nOur application needs to be deployed to create a URL that looks like this:\n\n/product/customername/servlet\n\nI worked with several people on IRC to get tomcat5.5 to do this.  We had previously been using the path= parameter in the context xml file element with tomcat 4.1.  Unfortunately, it appears this feature was removed from tomcat5.5, and tomcat5.5 does not recurse into subdirectories when reading .xml context files.  The recommendation on IRC (after several suggestions which would not work for our environment) was to put %2F in the context xml file\'s name.  Such as this\n\nproduct%2Fcustomername.xml\n\nThis does work, however when you try to shutdown tomcat 6.0.18, you will get this crash:\n\nNov 9, 2008 10:56:17 PM org.apache.coyote.http11.Http11Protocol pause\nINFO: Pausing Coyote HTTP/1.1 on http-8180\nNov 9, 2008 10:56:18 PM org.apache.catalina.core.StandardService stop\nINFO: Stopping service Catalina\nNov 9, 2008 10:56:18 PM org.apache.catalina.startup.HostConfig undeployApps\nWARNING: Error while removing context [/product%2Fcustomername]\njava.lang.NullPointerException\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:915)\n        at org.apache.catalina.startup.HostConfig.undeployApps(HostConfig.java:1191)\n        at org.apache.catalina.startup.HostConfig.stop(HostConfig.java:1162)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n        at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1086)\n        at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1098)\n        at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:448)\n        at org.apache.catalina.core.StandardService.stop(StandardService.java:584)\n        at org.apache.catalina.core.StandardServer.stop(StandardServer.java:744)\n        at org.apache.catalina.startup.Catalina.stop(Catalina.java:628)\n        at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:671)\nNov 9, 2008 10:56:18 PM org.apache.coyote.http11.Http11Protocol destroy\nINFO: Stopping Coyote HTTP/1.1 on http-8180','context 2f name caus tomcat crash shutdown context 2f name caus tomcat crash shutdown sever year ago work integr tomcat web applic manag infrastructur process fix sever tomcat bug appar never sent fix upstream oop applic need deploy creat url look like product customernam servlet work sever peopl irc get tomcat5 previous use path paramet context xml file element tomcat unfortun appear featur remov tomcat5 tomcat5 recurs subdirectori read xml context file recommend irc sever suggest would work environ put 2f context xml file name product fcustomernam 2fcustomernam xml work howev tri shutdown tomcat get crash nov pm apach coyot http11 http11 protocol http11protocol paus info paus coyot http http nov pm apach catalina core standard servic standardservic stop info stop servic catalina nov pm apach catalina startup host config hostconfig undeploy app undeployapp warn error remov context product fcustomernam 2fcustomernam java lang null pointer except nullpointerexcept apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina startup host config hostconfig undeploy app undeployapp host config hostconfig java apach catalina startup host config hostconfig stop host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core standard engin standardengin stop standard engin standardengin java apach catalina core standard servic standardservic stop standard servic standardservic java apach catalina core standard server standardserv stop standard server standardserv java apach catalina startup catalina stop catalina java apach catalina startup catalina catalina shutdown hook catalinashutdownhook run catalina java nov pm apach coyot http11 http11 protocol http11protocol destroy info stop coyot http http','context 2f name caus tomcat crash shutdown','context 2f name caus tomcat crash shutdown sever year ago work integr tomcat web applic manag infrastructur process fix sever tomcat bug appar never sent fix upstream oop applic need deploy creat url look like product customernam servlet work sever peopl irc get tomcat5 previous use path paramet context xml file element tomcat unfortun appear featur remov tomcat5 tomcat5 recurs subdirectori read xml context file recommend irc sever suggest would work environ put 2f context xml file name product fcustomernam 2fcustomernam xml work howev tri shutdown tomcat get crash nov pm apach coyot http11 http11 protocol http11protocol paus info paus coyot http http nov pm apach catalina core standard servic standardservic stop info stop servic catalina nov pm apach catalina startup host config hostconfig undeploy app undeployapp warn error remov context product fcustomernam 2fcustomernam java lang null pointer except nullpointerexcept apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina startup host config hostconfig undeploy app undeployapp host config hostconfig java apach catalina startup host config hostconfig stop host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core standard engin standardengin stop standard engin standardengin java apach catalina core standard servic standardservic stop standard servic standardservic java apach catalina core standard server standardserv stop standard server standardserv java apach catalina startup catalina stop catalina java apach catalina startup catalina catalina shutdown hook catalinashutdownhook run catalina java nov pm apach coyot http11 http11 protocol http11protocol destroy info stop coyot http http','2008-11-21 08:34:21',1227270000,'resolved fixed','85fc30c',1230340000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/manager/HTMLManagerServlet.java'),(875,46381,'Bug 46381  Coerce EL expression to java.lang.Object breaks expression concatenation','','coerc express java lang object break express concaten','coerc express java lang object break express concaten','','2008-12-11 07:13:00',1229000000,'resolved fixed','24bcb47',1230330000,'java/org/apache/jasper/compiler/Generator.java'),(876,46357,'Bug 46357  FarmWarDeployer has nonsense condition','FarmWarDeployer has the following code at line 152:\n\n        if(econtainer == null && econtainer instanceof Engine) {\n\nThere\'s clearly something wrong with that condition.','farm war deploy farmwardeploy nonsens condit farm war deploy farmwardeploy follow code line econtain null econtain instanceof engin clearli someth wrong condit','farm war deploy farmwardeploy nonsens condit','farm war deploy farmwardeploy follow code line econtain null econtain instanceof engin clearli someth wrong condit','2008-12-06 05:48:33',1228560000,'resolved fixed','7e6a2ec',1230330000,'java/org/apache/catalina/ha/deploy/FarmWarDeployer.java'),(877,46397,'Bug 46397  Potential memory leak with TagHandlers and JspIdConsumer','','potenti memori leak tag handler taghandl jsp id consum jspidconsum','potenti memori leak tag handler taghandl jsp id consum jspidconsum','','2008-12-15 00:43:53',1229320000,'resolved fixed','5277185',1230060000,'java/org/apache/jasper/compiler/Generator.java'),(878,46403,'Bug 46403  Persistent cookies written by 6.0.18 do not work in Internet Explorer or Safari','','persist cooki written work internet explor safari','persist cooki written work internet explor safari','','2008-12-15 13:46:47',1229370000,'resolved fixed','99c5ca6',1230040000,'java/org/apache/tomcat/util/http/ServerCookie.java'),(879,46408,'Bug 46408  Invalid cast in SecurityUtil','In case of PrivilegedActionException thrown in:\n\n    private static void execute(final Method method,\n                                final Object targetObject, \n                                final Object[] targetArguments,\n                                Principal principal)\n\nmethod, there is a false assumption in catch block, that PrivilegedActionException.getException() will return InvocationTargetException. It could be also IllegalAccessException and possibly other types of exceptions as well.\n\nHere is the stack trace provoked on catalina shutdown when enabled security manager:\njava.lang.ClassCastException: java.lang.IllegalAccessException cannot be cast to java.lang.reflect.InvocationTargetException\n        at org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:278)\n        at org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)\n        at org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:178)\n        at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:326)\n        at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:3744)\n        at org.apache.catalina.core.StandardContext.stop(StandardContext.java:4513)\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:924)\n        at org.apache.catalina.startup.HostConfig.undeployApps(HostConfig.java:1191)\n        at org.apache.catalina.startup.HostConfig.stop(HostConfig.java:1162)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n        at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1086)\n        at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1098)\n        at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:448)\n        at org.apache.catalina.core.StandardService.stop(StandardService.java:584)\n        at org.apache.catalina.core.StandardServer.stop(StandardServer.java:744)\n        at org.apache.catalina.startup.Catalina.stop(Catalina.java:628)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.stop(Bootstrap.java:300)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.commons.daemon.support.DaemonLoader.stop(DaemonLoader.java:200)','invalid cast secur util securityutil case privileg action except privilegedactionexcept thrown privat static void execut final method method final object target object targetobject final object target argument targetargu princip princip method fals assumpt catch block privileg action except privilegedactionexcept get except getexcept return invoc target except invocationtargetexcept could illeg access except illegalaccessexcept possibl type except well stack trace provok catalina shutdown enabl secur manag java lang class cast except classcastexcept java lang illeg access except illegalaccessexcept cannot cast java lang reflect invoc target except invocationtargetexcept apach catalina secur secur util securityutil execut secur util securityutil java apach catalina secur secur util securityutil do privileg doasprivileg secur util securityutil java apach catalina secur secur util securityutil do privileg doasprivileg secur util securityutil java apach catalina core applic filter config applicationfilterconfig releas applic filter config applicationfilterconfig java apach catalina core standard context standardcontext filter stop filterstop standard context standardcontext java apach catalina core standard context standardcontext stop standard context standardcontext java apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina startup host config hostconfig undeploy app undeployapp host config hostconfig java apach catalina startup host config hostconfig stop host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core standard engin standardengin stop standard engin standardengin java apach catalina core standard servic standardservic stop standard servic standardservic java apach catalina core standard server standardserv stop standard server standardserv java apach catalina startup catalina stop catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap stop bootstrap java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach common daemon support daemon loader daemonload stop daemon loader daemonload java','invalid cast secur util securityutil','case privileg action except privilegedactionexcept thrown privat static void execut final method method final object target object targetobject final object target argument targetargu princip princip method fals assumpt catch block privileg action except privilegedactionexcept get except getexcept return invoc target except invocationtargetexcept could illeg access except illegalaccessexcept possibl type except well stack trace provok catalina shutdown enabl secur manag java lang class cast except classcastexcept java lang illeg access except illegalaccessexcept cannot cast java lang reflect invoc target except invocationtargetexcept apach catalina secur secur util securityutil execut secur util securityutil java apach catalina secur secur util securityutil do privileg doasprivileg secur util securityutil java apach catalina secur secur util securityutil do privileg doasprivileg secur util securityutil java apach catalina core applic filter config applicationfilterconfig releas applic filter config applicationfilterconfig java apach catalina core standard context standardcontext filter stop filterstop standard context standardcontext java apach catalina core standard context standardcontext stop standard context standardcontext java apach catalina core contain base containerbas remov child removechild contain base containerbas java apach catalina startup host config hostconfig undeploy app undeployapp host config hostconfig java apach catalina startup host config hostconfig stop host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core contain base containerbas stop contain base containerbas java apach catalina core standard engin standardengin stop standard engin standardengin java apach catalina core standard servic standardservic stop standard servic standardservic java apach catalina core standard server standardserv stop standard server standardserv java apach catalina startup catalina stop catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap stop bootstrap java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach common daemon support daemon loader daemonload stop daemon loader daemonload java','2008-12-16 15:22:51',1229460000,'resolved fixed','a1e4c86',1229700000,'java/org/apache/catalina/security/SecurityUtil.java'),(880,46247,'Bug 46247  SVN property patches','','svn properti patch','svn properti patch','','2008-11-19 18:16:54',1227140000,'resolved fixed','408175f',1228490000,'modules/bayeux/java/org/apache/cometd/bayeux/Bayeux.java\nmodules/bayeux/java/org/apache/cometd/bayeux/Channel.java\nmodules/bayeux/java/org/apache/cometd/bayeux/Client.java\nmodules/bayeux/java/org/apache/cometd/bayeux/DataFilter.java\nmodules/bayeux/java/org/apache/cometd/bayeux/Listener.java\nmodules/bayeux/java/org/apache/cometd/bayeux/Message.java\nmodules/bayeux/java/org/apache/cometd/bayeux/SecurityPolicy.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/BayeuxException.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/BayeuxRequest.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/BayeuxServlet.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/ChannelImpl.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/ClientImpl.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/HttpError.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/MessageImpl.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/RequestBase.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/RequestFactory.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/TomcatBayeux.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/request/MetaConnectRequest.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/request/MetaDisconnectRequest.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/request/MetaHandshakeRequest.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/request/MetaSubscribeRequest.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/request/MetaUnsubscribeRequest.java\nmodules/bayeux/java/org/apache/tomcat/bayeux/request/PublishRequest.java\nmodules/bayeux/test/org/apache/cometd/bayeux/samples/BayeuxStockTicker.java\nmodules/bayeux/test/org/apache/cometd/bayeux/samples/EchoChatClient.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/interceptor/ConnectionState.java\nmodules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/interceptor/SlowQueryReport.java'),(881,42077,'Bug 42077  the iterator from javax.el.CompositeELResolver#getFeatureDescriptor() must not return null values','','iter javax composit resolv compositeelresolv get featur descriptor getfeaturedescriptor must return null valu','iter javax composit resolv compositeelresolv get featur descriptor getfeaturedescriptor must return null valu','','2007-04-10 03:03:51',1176190000,'resolved fixed','8d5db6f',1227480000,'java/javax/el/CompositeELResolver.java'),(882,42693,'Bug 42693  JSP-Generation error with recursive tagfile structure','addendum: it\'s Version 6.13 (not available in combobox above)\n\nscenario:\n=========\na menu is decribed by a tree structure;\nrendering the menu is done by a tagfile \'render_menuitem\', which renders the\ncurrent item either as a leaf item (clicking on it causes an action) or as a\nnode item (clicking on it opens another next-level submenu);\nrendering the submenu is done by calling the tagfile again from within its body;\nthis worked fine with tomcat 5.0.x and 5.5.x\n\nto make it clear see the following pseudo code (the original code is to\nvoluminous): \ntagfile \'render_menuitem.tagx\':\n<jsp:root ...>\n   <jsp:directive.attribute name=\"menu_item\"/>\n   <c:choose>\n      <c:when test=\"${menu_item.isNode}\n         <div>node: ${menu_item.label}</div>\n         <c:forEach var=\"sub_item\" items=\"menu_item.children\">\n            <!-- THIS IS GOING TO CAUSE THE PROBLEM WITH TOMCAT6: -->\n            <tags:render_menuitem menu_item=\"${sub_item}\"/>\n         </c:forEach>\n      <c:when>\n      <c:otherwise>\n         <div>leaf: ${menu_item.label}</div>\n      </c:otherwise>\n   </c:choose>\n</jsp:root>\n\nfaulty behaviour:\n================\nwith tomcat 6.0.13, the generated Java-Source for the tagfile reveals, that the\nbody of the doTag() method is empty and therefore emits no html; the compilation\nitself was silently done, no error or warning was shown in the logfiles.','jsp gener error recurs tagfil structur addendum version avail combobox scenario menu decrib tree structur render menu done tagfil render menuitem render current item either leaf item click caus action node item click open anoth next level nextlevel submenu render submenu done call tagfil within bodi work fine tomcat make clear see follow pseudo code origin code volumin tagfil render menuitem tagx jsp root jsp direct attribut name menu item choos menu item is node isnod div node menu item label div for each foreach sub item item menu item child go caus problem t6 tomcat6 tag render menuitem menu item sub item for each foreach otherwis div leaf menu item label div otherwis choos jsp root faulti behaviour tomcat gener java sourc tagfil reveal bodi do tag dotag method empti therefor emit html compil silent done error warn shown logfil','jsp gener error recurs tagfil structur','addendum version avail combobox scenario menu decrib tree structur render menu done tagfil render menuitem render current item either leaf item click caus action node item click open anoth next level nextlevel submenu render submenu done call tagfil within bodi work fine tomcat make clear see follow pseudo code origin code volumin tagfil render menuitem tagx jsp root jsp direct attribut name menu item choos menu item is node isnod div node menu item label div for each foreach sub item item menu item child go caus problem t6 tomcat6 tag render menuitem menu item sub item for each foreach otherwis div leaf menu item label div otherwis choos jsp root faulti behaviour tomcat gener java sourc tagfil reveal bodi do tag dotag method empti therefor emit html compil silent done error warn shown logfil','2007-06-18 10:10:02',1182180000,'resolved fixed','b5a5094',1227480000,'java/org/apache/jasper/compiler/Compiler.java'),(883,42707,'Bug 42707  add host alias using jmx doesn\'t take affect until restart','','add host alia use jmx doesn take affect restart','add host alia use jmx doesn take affect restart','','2007-06-20 14:46:49',1182370000,'resolved fixed','23a8ba0',1226200000,'java/org/apache/catalina/connector/MapperListener.java\njava/org/apache/tomcat/util/http/mapper/Mapper.java'),(884,42673,'Bug 42673  SSI virtual include broken for context path with slashes','If the context path of an application contains slashes (e.g. \"a/b\") the method\ngetPathWithoutContext of class\norg.apache.catalina.ssi.SSIServletExternalResolver simply cuts from the second\nslash, so for url \"/a/b/do?..\" it tries to include \"b/do?..\" instead of \"do?..\".\n\nThe patch is to include the context path and strip the path off:\n\nLine 419\nString noContext = getPathWithoutContext(normContext.getContextPath(), normalized);\n\nLine 356ff\nprotected String getPathWithoutContext(final String contextPath, final String\nservletPath) {\n   if (servletPath.startsWith(contextPath)) {\n      return servletPath.substring(contextPath.length());\n    }\n    return servletPath;\n}','ssi virtual includ broken context path slash context path applic contain slash method get path without context getpathwithoutcontext class apach catalina ssi servlet extern resolv ssiservletexternalresolv simpli cut second slash url tri includ instead patch includ context path strip path line string no context nocontext get path without context getpathwithoutcontext norm context normcontext get context path getcontextpath normal line 356ff protect string get path without context getpathwithoutcontext final string context path contextpath final string servlet path servletpath servlet path servletpath start with startswith context path contextpath return servlet path servletpath substr context path contextpath length return servlet path servletpath','ssi virtual includ broken context path slash','context path applic contain slash method get path without context getpathwithoutcontext class apach catalina ssi servlet extern resolv ssiservletexternalresolv simpli cut second slash url tri includ instead patch includ context path strip path line string no context nocontext get path without context getpathwithoutcontext norm context normcontext get context path getcontextpath normal line 356ff protect string get path without context getpathwithoutcontext final string context path contextpath final string servlet path servletpath servlet path servletpath start with startswith context path contextpath return servlet path servletpath substr context path contextpath length return servlet path servletpath','2007-06-15 05:08:34',1181900000,'resolved fixed','4d5cca1',1226190000,'java/org/apache/catalina/ssi/SSIServletExternalResolver.java'),(885,46011,'Bug 46011  Cannot access to Principal via Subject.getSubject(AccessController.getContext())','Cannot access to Principal via Subject.getSubject(AccessController.getContext()).\n\nProblem is that in method internalDoFilter of ApplicationFilterChain in call of filter chain the code determinate the Principal but don\'t use it:\n\n                if( Globals.IS_SECURITY_ENABLED ) {\n                    final ServletRequest req = request;\n                    final ServletResponse res = response;\n                    Principal principal = \n                        ((HttpServletRequest) req).getUserPrincipal();\n\n                    Object[] args = new Object[]{req, res, this};\n                    SecurityUtil.doAsPrivilege\n                        (\"doFilter\", filter, classType, args);\n                    \n                    args = null;\n                } else {  \n\nIn this manner a SecurityUtil.doAsPrivilege will be called with Principal == null\nand method execute create a Subject with no Principals.\nThen call a Subject.doAsPrivileged(subject, pea, null);  and this do not propagate Principals. I obtain a Subject without Principals calling Subject.getSubject(AccessController.getContext()).\n\nIn attachment we send our solution','cannot access princip via subject get subject getsubject access control accesscontrol get context getcontext cannot access princip via subject get subject getsubject access control accesscontrol get context getcontext problem method intern do filter internaldofilt applic filter chain applicationfilterchain call filter chain code determin princip use global secur enabl final servlet request servletrequest req request final servlet respons servletrespons re respons princip princip http servlet request httpservletrequest req get user princip getuserprincip object arg new object req re secur util securityutil do privileg doasprivileg do filter dofilt filter class type classtyp arg arg null els manner secur util securityutil do privileg doasprivileg call princip null method execut creat subject princip call subject do privileg doasprivileg subject pea null propag princip obtain subject without princip call subject get subject getsubject access control accesscontrol get context getcontext attach send solut','cannot access princip via subject get subject getsubject access control accesscontrol get context getcontext','cannot access princip via subject get subject getsubject access control accesscontrol get context getcontext problem method intern do filter internaldofilt applic filter chain applicationfilterchain call filter chain code determin princip use global secur enabl final servlet request servletrequest req request final servlet respons servletrespons re respons princip princip http servlet request httpservletrequest req get user princip getuserprincip object arg new object req re secur util securityutil do privileg doasprivileg do filter dofilt filter class type classtyp arg arg null els manner secur util securityutil do privileg doasprivileg call princip null method execut creat subject princip call subject do privileg doasprivileg subject pea null propag princip obtain subject without princip call subject get subject getsubject access control accesscontrol get context getcontext attach send solut','2008-10-15 02:56:56',1224050000,'resolved fixed','e148369',1225900000,'java/org/apache/catalina/core/ApplicationFilterChain.java\njava/org/apache/catalina/security/SecurityUtil.java'),(886,46047,'Bug 46047  Issue when using include directive inside tag files that are inside jar files','','issu use includ direct insid tag file insid jar file','issu use includ direct insid tag file insid jar file','','2008-10-21 02:20:44',1224570000,'resolved fixed','38ef38d',1225750000,'java/org/apache/jasper/compiler/ParserController.java'),(887,42409,'Bug 42409  Extra response headers not sent when using custom error page','If I create a servlet that does the following:\n\nresponse.setHeader(\"X-BUG\", \"Value\");\nresponse.sendError(HttpServletResponse.SC_BAD_REQUEST);\n\nIf I use the tomcat default error page for 400 responses, the response will\ncontain the header \"X-BUG\" with value \"Value\".\n\nHowever, if I create a custom error page, the response headers do NOT contain\nthe \"X-BUG\" header in the response. \n\nHere is my web.xml, for example:\n\n<error-page>\n    <error-code>400</error-code>\n    <location>/400.jsp</location>\n</error-page>\n\n400.jsp contains plain html:\n\n<html>\n<body>\n<h3>Custom 400 error page</h3>\n</body>\n</html>','extra respons header sent use custom error page creat servlet follow respons set header sethead valu respons send error senderror http servlet respons httpservletrespons sc bad request use tomcat default error page respons respons contain header valu valu howev creat custom error page respons header contain header respons web xml exampl error page errorpag error code errorcod error code errorcod locat jsp locat error page errorpag jsp contain plain html html bodi h3 custom error page h3 bodi html','extra respons header sent use custom error page','creat servlet follow respons set header sethead valu respons send error senderror http servlet respons httpservletrespons sc bad request use tomcat default error page respons respons contain header valu valu howev creat custom error page respons header contain header respons web xml exampl error page errorpag error code errorcod error code errorcod locat jsp locat error page errorpag jsp contain plain html html bodi h3 custom error page h3 bodi html','2007-05-14 09:03:17',1179150000,'resolved fixed','e0489c8',1225720000,'java/org/apache/catalina/core/StandardHostValve.java'),(888,46051,'Bug 46051  Servlet response writer does not respect line.separator system property','','servlet respons writer respect line separ system properti','servlet respons writer respect line separ system properti','','2008-10-21 10:54:42',1224600000,'resolved fixed','f4bef20',1225590000,'java/org/apache/catalina/connector/CoyoteWriter.java'),(889,46105,'Bug 46105  URIEncoding doesn\'t affect after form-authentication redirect','How to reproduce bug.\n\nConfigure tomcat connector with URIEncoding=UTF-8 attribute.\nMake a simple page that write out any request parameter. Configure this page as protected with form-based authentication.\nTry to access page, e.g.\n\n/site/page.jsp?q=%xx%yy%zz%tt\n\nwhere q=%xx%yy%zz is value in UTF-8 charset.\n\nWhen page is being accessed for the first time, then after authentication, parameter \"q\" is incorrectly interpreted (it seems as it was in ISO8859-1 or anything else, but not UTF-8).\n\nBut subsequent access to the _same_ URI, i.e.\n/site/page.jsp?q=%xx%yy%zz%tt\n\ngives perfect result.\n\nI also tried useBobyEncodingForURI=true and request.setCharacterEncoding(\"UTF-8\") - nothing is changed.','encod uriencod doesn affect form authent formauthent redirect reproduc configur tomcat connector encod uriencod utf attribut make simpl page write request paramet configur page protect form base formbas authent tri access page site page jsp xx yy zz tt xx yy zz valu utf charset page access first time authent paramet incorrectli interpret seem o8859 iso8859 anyth els utf subsequ access uri site page jsp xx yy zz tt give perfect result tri use bobi encod for usebobyencodingforuri true request set charact encod setcharacterencod utf noth chang','encod uriencod doesn affect form authent formauthent redirect','reproduc configur tomcat connector encod uriencod utf attribut make simpl page write request paramet configur page protect form base formbas authent tri access page site page jsp xx yy zz tt xx yy zz valu utf charset page access first time authent paramet incorrectli interpret seem o8859 iso8859 anyth els utf subsequ access uri site page jsp xx yy zz tt give perfect result tri use bobi encod for usebobyencodingforuri true request set charact encod setcharacterencod utf noth chang','2008-10-27 23:37:52',1225170000,'resolved fixed','d9def07',1225410000,'java/org/apache/catalina/authenticator/FormAuthenticator.java'),(890,46075,'Bug 46075  FileUpload memory usage','The DefaultFileItem class in pacakge org.apache.tomcat.util.http.fileupload creates a ByteArrayOutputStream of the full threshold size for every control on the submitted form. I have a form with 63 controls (checkboxes, text boxes and one File input), and I set the threshold to 20 Meg to allow upload of large image files into memory. I get an OutOfMemory exception since it tries to allocate 63 lots of 20M, although only 1 control requires the requested size.\n\nI think it would be much more sensible to create the ByteArrayOutputStream with an initial size of only a few kilobytes size it automatically increases its size as data is written to it.','file upload fileupload memori usag default file item defaultfileitem class pacakg apach tomcat util http fileupload creat byte array output stream bytearrayoutputstream full threshold size everi control submit form form control checkbox text box one file input set threshold allow upload larg imag file memori get out of memori outofmemori except sinc tri alloc lot 20 20m although control requir request size think would much sensibl creat byte array output stream bytearrayoutputstream initi size kilobyt size automat increas size data written','file upload fileupload memori usag','default file item defaultfileitem class pacakg apach tomcat util http fileupload creat byte array output stream bytearrayoutputstream full threshold size everi control submit form form control checkbox text box one file input set threshold allow upload larg imag file memori get out of memori outofmemori except sinc tri alloc lot 20 20m although control requir request size think would much sensibl creat byte array output stream bytearrayoutputstream initi size kilobyt size automat increas size data written','2008-10-23 03:35:53',1224750000,'resolved fixed','85e71cf',1225150000,'java/org/apache/tomcat/util/http/fileupload/DeferredFileOutputStream.java'),(891,46085,'Bug 46085  Session are incorrectly expired due to thread unsafe code','','session incorrectli expir due thread unsaf code','session incorrectli expir due thread unsaf code','','2008-10-24 12:53:09',1224870000,'resolved fixed','6344b96',1225130000,'java/org/apache/catalina/session/StandardSession.java'),(892,46096,'Bug 46096  DefaultAnnotationProcessor.processAnnotations should use doPrivileged to call getDeclaredFields','If tomcat is running with a SecurityManager, and a JSP uses PageContext.forward, DefaultAnnotationProcessor code can be called with untristed code on the call stack.\n\nThe processAnnotations method contains the line:\n\n   Field[] fields = instance.getClass().getDeclaredFields();\n\ngetDeclaredFields() is subject to security checks so this throws a java.security.AccessControlException.\n\nDefaultAnnotationProcessor is part of the code in the catlina lib directory, which is granted AllPermissions in the standard policy file.  However, because there is untrusted JSP code on the stack, these permissions are not used.\n\nThe call to getDeclaredFields() should be wrapped in an AccessController.doPrivileged call to avoid the exception.','default annot processor defaultannotationprocessor process annot processannot use do privileg doprivileg call get declar field getdeclaredfield tomcat run secur manag securitymanag jsp us page context pagecontext forward default annot processor defaultannotationprocessor code call untrist code call stack process annot processannot method contain line field field instanc get class getclass get declar field getdeclaredfield get declar field getdeclaredfield subject secur check throw java secur access control except accesscontrolexcept default annot processor defaultannotationprocessor part code catlina lib directori grant all permiss allpermiss standard polici file howev untrust jsp code stack permiss use call get declar field getdeclaredfield wrap access control accesscontrol do privileg doprivileg call avoid except','default annot processor defaultannotationprocessor process annot processannot use do privileg doprivileg call get declar field getdeclaredfield','tomcat run secur manag securitymanag jsp us page context pagecontext forward default annot processor defaultannotationprocessor code call untrist code call stack process annot processannot method contain line field field instanc get class getclass get declar field getdeclaredfield get declar field getdeclaredfield subject secur check throw java secur access control except accesscontrolexcept default annot processor defaultannotationprocessor part code catlina lib directori grant all permiss allpermiss standard polici file howev untrust jsp code stack permiss use call get declar field getdeclaredfield wrap access control accesscontrol do privileg doprivileg call avoid except','2008-10-27 05:44:55',1225100000,'resolved fixed','428c03b',1225130000,'java/org/apache/catalina/core/DefaultInstanceManager.java'),(893,45735,'Bug 45735  Updated ResourceAttributes.getETag','After looking at a user\'s list post, I noticed the implementation was not consistent with the other getters (like getName).\n\nI propose changing it to:\n    public String getETag(boolean strong) {\n        if (strong) {\n            // The strong ETag must always be calculated by the resources\n            if (strongETag != null)\n                return strongETag;\n            if (attributes != null) {\n                Attribute attribute = attributes.get(ETAG);\n                if (attribute != null) {\n                    try {\n                        strongETag = attribute.get().toString();\n                    } catch (NamingException e) {\n                        ; // No value for the attribute\n                    }\n                }\n            }\n            return strongETag;\n        } else {\n            // The weakETag is contentLenght + lastModified\n            if (weakETag == null) {\n                weakETag = \"W/\\\"\" + getContentLength() + \"-\" \n                    + getLastModified() + \"\\\"\";\n            }\n            return weakETag;\n        }\n    }','updat resourc attribut resourceattribut get tag getetag look user list post notic implement consist getter like get name getnam propos chang public string get tag getetag boolean strong strong strong tag etag must alway calcul resourc strong tag strongetag null return strong tag strongetag attribut null attribut attribut attribut get etag attribut null tri strong tag strongetag attribut get to string tostr catch name except namingexcept valu attribut return strong tag strongetag els weak tag weaketag content lenght contentlenght last modifi lastmodifi weak tag weaketag null weak tag weaketag get content length getcontentlength get last modifi getlastmodifi return weak tag weaketag','updat resourc attribut resourceattribut get tag getetag','look user list post notic implement consist getter like get name getnam propos chang public string get tag getetag boolean strong strong strong tag etag must alway calcul resourc strong tag strongetag null return strong tag strongetag attribut null attribut attribut attribut get etag attribut null tri strong tag strongetag attribut get to string tostr catch name except namingexcept valu attribut return strong tag strongetag els weak tag weaketag content lenght contentlenght last modifi lastmodifi weak tag weaketag null weak tag weaketag get content length getcontentlength get last modifi getlastmodifi return weak tag weaketag','2008-09-03 10:48:23',1220450000,'resolved fixed','e40c910',1224880000,'java/org/apache/naming/resources/ResourceAttributes.java'),(894,45977,'Bug 45977  Duplicate comment in code - CoyoteAdapter.java','The XXX comments below seem to say the same thing.  Not sure what the XXX represents.\n\n\n    /**\n     * Parse additional request parameters.\n     */\n    protected boolean postParseRequest(org.apache.coyote.Request req, \n                                       Request request,\n    		                       org.apache.coyote.Response res, \n                                       Response response)\n            throws Exception {\n\n        // XXX the processor needs to set a correct scheme and port prior to this point, \n        // in ajp13 protocols dont make sense to get the port from the connector..\n        // XXX the processor may have set a correct scheme and port prior to this point, \n        // in ajp13 protocols dont make sense to get the port from the connector...\n        // otherwise, use connector configuration\n        if (! req.scheme().isNull()) {\n            // use processor specified scheme to determine secure state\n            request.setSecure(req.scheme().equals(\"https\"));','duplic comment code coyot adapt coyoteadapt java xxx comment seem say thing sure xxx repres pars addit request paramet protect boolean post pars request postparserequest apach coyot request req request request apach coyot respons re respons respons throw except xxx processor need set correct scheme port prior point ajp13 protocol dont make sens get port connector xxx processor may set correct scheme port prior point ajp13 protocol dont make sens get port connector otherwis use connector configur req scheme is null isnul use processor specifi scheme determin secur state request set secur setsecur req scheme equal http','duplic comment code coyot adapt coyoteadapt java','xxx comment seem say thing sure xxx repres pars addit request paramet protect boolean post pars request postparserequest apach coyot request req request request apach coyot respons re respons respons throw except xxx processor need set correct scheme port prior point ajp13 protocol dont make sens get port connector xxx processor may set correct scheme port prior point ajp13 protocol dont make sens get port connector otherwis use connector configur req scheme is null isnul use processor specifi scheme determin secur state request set secur setsecur req scheme equal http','2008-10-09 08:28:02',1223560000,'resolved fixed','e277f6c',1223590000,'java/org/apache/catalina/connector/CoyoteAdapter.java'),(895,45951,'Bug 45951  Provide support for renaming  JSESSIONID','','provid support renam jsessionid','provid support renam jsessionid','','2008-10-05 15:15:52',1223230000,'resolved fixed','e85ed8c',1223320000,'java/org/apache/catalina/Globals.java\njava/org/apache/catalina/authenticator/Constants.java\njava/org/apache/jasper/Constants.java'),(896,45933,'Bug 45933  Error processing TLD file in webapp with XML parser','','error process tld file webapp xml parser','error process tld file webapp xml parser','','2008-10-01 23:51:18',1222920000,'resolved fixed','f69637f',1223030000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/startup/TldConfig.java'),(897,45851,'Bug 45851  FarmWarDeployer fails to properly unpack copied war on target node','','farm war deploy farmwardeploy fail properli unpack copi target node','farm war deploy farmwardeploy fail properli unpack copi target node','','2008-09-19 22:17:57',1221880000,'resolved fixed','c340c69',1222450000,'java/org/apache/catalina/ha/deploy/FarmWarDeployer.java\njava/org/apache/catalina/ha/deploy/FileMessageFactory.java'),(898,45026,'Bug 45026  Custom HTTP-Error codes get remapped to 500er codes','We use Apache 2.2.8 with mod_JK 1.2.26 as a load-balancer for a Tomcat 5.5 cluster.\nWe use Custom HTTP-Error codes like 450 for authentication-purposes. Those\ncodes get remapped to 500.\nThe Error-Code 450 is in the RFC2616 described as valid return code so this is\na bug.\n\nThe custom error-codes worked fine in Apache 1.3.41 with MOD_JK/1.2.25.\n\nYou can easily reproduce this bug by writing a simple jsp-page with the following\nline:\n<%response.setStatus(450);%>','custom http error code get remap 500er code use apach jk load balanc loadbalanc tomcat cluster use custom http error code like authent purpos authenticationpurpos code get remap error code c2616 rfc2616 describ valid return code custom error code errorcod work fine apach jk easili reproduc write simpl jsp page jsppage follow line respons set statu setstatu','custom http error code get remap 500er code','use apach jk load balanc loadbalanc tomcat cluster use custom http error code like authent purpos authenticationpurpos code get remap error code c2616 rfc2616 describ valid return code custom error code errorcod work fine apach jk easili reproduc write simpl jsp page jsppage follow line respons set statu setstatu','2008-05-18 04:16:12',1211100000,'resolved fixed','03097fa',1221850000,'java/org/apache/jk/common/JkInputStream.java'),(899,45419,'Bug 45419  Return Accept-Ranges from DefaultServlet','Currently the DefaultServlet accepts the \"Ranges\" request header, but doesn\'t indicate this in its response by returning \"Accept-Ranges: bytes\". Although this is not required in HTTP/1.1, setting the header is required in order for the Adobe Acrobat plugin to correctly handle Linearized PDF\'s (which can speed download by allowing random access to a PDF file).\n\nAlthough it\'s not strictly necessary according to the specification I can\'t think of any reason why this header is not safe to set in a response from DefaultServlet, which is always dealing with static files, and not doing so has a negative impact on serving large PDF files - so I\'m filing it as a bug rather than an RFE.','return accept rang default servlet defaultservlet current default servlet defaultservlet accept rang request header doesn indic respons return accept rang byte although requir http set header requir order adob acrobat plugin correctli handl linear pdf speed download allow random access pdf file although strictli necessari accord specif think reason header safe set respons default servlet defaultservlet alway deal static file neg impact serv larg pdf file file rather rfe','return accept rang default servlet defaultservlet','current default servlet defaultservlet accept rang request header doesn indic respons return accept rang byte although requir http set header requir order adob acrobat plugin correctli handl linear pdf speed download allow random access pdf file although strictli necessari accord specif think reason header safe set respons default servlet defaultservlet alway deal static file neg impact serv larg pdf file file rather rfe','2008-07-17 07:38:07',1216290000,'resolved fixed','633545f',1221680000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(900,45441,'Bug 45441  Matching of relevant servlet filters fails when request is forwarded...','I ran into a situation where Tomcat will not execute appropriate filters on a request that has been forwarded.\n\nI\'m using the handy URLRewriteFilter implementation (from tuckey.org).  When I forwarded a request internally, filters that had a matching url-pattern (in the web.xml file) and with a dispatcher setting of both REQUEST and FORWARD were not invoked.\n\nOn tracing the code (hours later), I found that the problem lies inside the ApplicationDispatcher code.  It set the DISPATCHER_REQUEST_PATH_ATTR state attribue to be the servletPath.  That meant that only matches using the servlet path would match, but longer (more exact) urls would fail to match.\n\nFor example, using the following filter mapping:\n\n<filter-mapping>\n   <filter-name>my-filter</filter-name>		   \n   <url-pattern>/app/level/mycode.do</url-pattern>\n   <dispatcher>REQUEST</dispatcher> \n   <dispatcher>FORWARD</dispatcher>\n</filter-mapping>\n\nwould not match a request that was forwarded to /app/level/mycode.do, which it should! \n\nChanging the url pattern to be \"/app/*\" would match, but \"/app/level/*\" would not, since the servletPath was /app in this example.\n\nThe fix for this is quite simple.  In the ApplicationDispatcher.java code, in the method processRequest() (which is only called for forwards), change the following statement:\n\nstate.outerRequest.setAttribute\n   (ApplicationFilterFactory.DISPATCHER_REQUEST_PATH_ATTR,\n   servletPath);\n\nto use requestURI instead as follows:\n\nstate.outerRequest.setAttribute\n   (ApplicationFilterFactory.DISPATCHER_REQUEST_PATH_ATTR,\n   requestURI );\n\nThis resolves the problem and let all the examples above correctly match and run the filter on a forward.\n\nI believe includes will also be broken in the same manner. Similar changes to the doInclude() method in ApplicationDispatcher.java will likely resolve that issue as well, though I have not tested this personally.\n\nBe nice to see this resolved in 6.0.17+.\n\nThanks!\n\n....Andrzej','match relev servlet filter fail request forward ran situat tomcat execut appropri filter request forward use handi rewrit filter urlrewritefilt implement tuckey forward request intern filter match url pattern urlpattern web xml file dispatch set request forward invok trace code hour later found problem lie insid applic dispatch applicationdispatch code set dispatch request path attr state attribu servlet path servletpath meant match use servlet path would match longer exact url would fail match exampl use follow filter map filter map filtermap filter name filternam my filter myfilt filter name filternam url pattern urlpattern app level mycod url pattern urlpattern dispatch request dispatch dispatch forward dispatch filter map filtermap would match request forward app level mycod chang url pattern app would match app level would sinc servlet path servletpath app exampl fix quit simpl applic dispatch applicationdispatch java code method process request processrequest call forward chang follow statement state outer request outerrequest set attribut setattribut applic filter factori applicationfilterfactori dispatch request path attr servlet path servletpath use request requesturi instead follow state outer request outerrequest set attribut setattribut applic filter factori applicationfilterfactori dispatch request path attr request requesturi resolv problem let exampl correctli match run filter forward believ includ broken manner similar chang do includ doinclud method applic dispatch applicationdispatch java like resolv issu well though test person nice see resolv thank andrzej','match relev servlet filter fail request forward','ran situat tomcat execut appropri filter request forward use handi rewrit filter urlrewritefilt implement tuckey forward request intern filter match url pattern urlpattern web xml file dispatch set request forward invok trace code hour later found problem lie insid applic dispatch applicationdispatch code set dispatch request path attr state attribu servlet path servletpath meant match use servlet path would match longer exact url would fail match exampl use follow filter map filter map filtermap filter name filternam my filter myfilt filter name filternam url pattern urlpattern app level mycod url pattern urlpattern dispatch request dispatch dispatch forward dispatch filter map filtermap would match request forward app level mycod chang url pattern app would match app level would sinc servlet path servletpath app exampl fix quit simpl applic dispatch applicationdispatch java code method process request processrequest call forward chang follow statement state outer request outerrequest set attribut setattribut applic filter factori applicationfilterfactori dispatch request path attr servlet path servletpath use request requesturi instead follow state outer request outerrequest set attribut setattribut applic filter factori applicationfilterfactori dispatch request path attr request requesturi resolv problem let exampl correctli match run filter forward believ includ broken manner similar chang do includ doinclud method applic dispatch applicationdispatch java like resolv issu well though test person nice see resolv thank andrzej','2008-07-20 10:54:40',1216570000,'resolved fixed','2c0fffe',1221650000,'java/org/apache/catalina/core/ApplicationDispatcher.java'),(901,45823,'Bug 45823  AccessLogValve doesn\'t correctly handles combined log format (with patch)','','access log valv accesslogvalv doesn correctli handl combin log format patch','access log valv accesslogvalv doesn correctli handl combin log format patch','','2008-09-17 02:20:05',1221630000,'resolved fixed','678b516',1221650000,'java/org/apache/catalina/valves/AccessLogValve.java'),(902,45618,'Bug 45618  Selector is not closed.','','selector close','selector close','','2008-08-11 22:45:15',1218510000,'resolved fixed','d69b378',1220390000,'java/org/apache/catalina/tribes/transport/nio/ParallelNioSender.java'),(903,45413,'Bug 45413  Contribution of Bayeux implementation for Tomcat','','contribut bayeux implement tomcat','contribut bayeux implement tomcat','','2008-07-16 17:49:44',1216240000,'resolved fixed','83fe69a',1220390000,'java/org/apache/cometd/bayeux/Bayeux.java\njava/org/apache/cometd/bayeux/Channel.java\njava/org/apache/cometd/bayeux/Client.java\njava/org/apache/cometd/bayeux/DataFilter.java\njava/org/apache/cometd/bayeux/Listener.java\njava/org/apache/cometd/bayeux/Message.java\njava/org/apache/cometd/bayeux/SecurityPolicy.java\njava/org/apache/tomcat/bayeux/BayeuxException.java\njava/org/apache/tomcat/bayeux/BayeuxRequest.java\njava/org/apache/tomcat/bayeux/BayeuxServlet.java\njava/org/apache/tomcat/bayeux/ChannelImpl.java\njava/org/apache/tomcat/bayeux/ClientImpl.java\njava/org/apache/tomcat/bayeux/HttpError.java\njava/org/apache/tomcat/bayeux/MessageImpl.java\njava/org/apache/tomcat/bayeux/RequestBase.java\njava/org/apache/tomcat/bayeux/RequestFactory.java\njava/org/apache/tomcat/bayeux/TomcatBayeux.java\njava/org/apache/tomcat/bayeux/request/MetaConnectRequest.java\njava/org/apache/tomcat/bayeux/request/MetaDisconnectRequest.java\njava/org/apache/tomcat/bayeux/request/MetaHandshakeRequest.java\njava/org/apache/tomcat/bayeux/request/MetaSubscribeRequest.java\njava/org/apache/tomcat/bayeux/request/MetaUnsubscribeRequest.java\njava/org/apache/tomcat/bayeux/request/PublishRequest.java\ntest/org/apache/cometd/bayeux/samples/EchoChatClient.java'),(904,45628,'Bug 45628  ExtensionValidator doesn\'t handle wrapped lines in MANIFEST.MF','','extens valid extensionvalid doesn handl wrap line manifest mf','extens valid extensionvalid doesn handl wrap line manifest mf','','2008-08-13 12:47:56',1218650000,'resolved fixed','3773ec4',1220370000,'java/org/apache/catalina/util/ManifestResource.java'),(905,45666,'Bug 45666  JspContextWrapper contains infinite loop in include(String relativeUrlPath, boolean flush)','public void include(String relativeUrlPath, boolean flush)\n			throws ServletException, IOException {\n		include(relativeUrlPath, false); // XXX\n	}\n\njust calls itself it seems. Perhaps this should be (just a guess):\n\npublic void include(String relativeUrlPath, boolean flush)\n			throws ServletException, IOException {\n		invokingJspCtxt.include(relativeUrlPath, false); // XXX\n	}\n\nThis came up for me when I had a .tag file that had an include in it. \n\nI was using Tomcat 5.5 but looking at the source of JspContextWrapper.java it looks like this issue is in 5.5 as well as 6 (and the svn trunk).','jsp context wrapper jspcontextwrapp contain infinit loop includ string rel url path relativeurlpath boolean flush public void includ string rel url path relativeurlpath boolean flush throw servlet except servletexcept except ioexcept includ rel url path relativeurlpath fals xxx call seem perhap guess public void includ string rel url path relativeurlpath boolean flush throw servlet except servletexcept except ioexcept invok jsp ctxt invokingjspctxt includ rel url path relativeurlpath fals xxx came tag file includ use tomcat look sourc jsp context wrapper jspcontextwrapp java look like issu well svn trunk','jsp context wrapper jspcontextwrapp contain infinit loop includ string rel url path relativeurlpath boolean flush','public void includ string rel url path relativeurlpath boolean flush throw servlet except servletexcept except ioexcept includ rel url path relativeurlpath fals xxx call seem perhap guess public void includ string rel url path relativeurlpath boolean flush throw servlet except servletexcept except ioexcept invok jsp ctxt invokingjspctxt includ rel url path relativeurlpath fals xxx came tag file includ use tomcat look sourc jsp context wrapper jspcontextwrapp java look like issu well svn trunk','2008-08-21 06:47:17',1219320000,'resolved fixed','ccc1014',1220220000,'java/org/apache/jasper/runtime/JspContextWrapper.java'),(906,45648,'Bug 45648  Function \'f:length\' not found','','function length found','function length found','','2008-08-18 19:54:44',1219100000,'resolved fixed','6d40691',1220210000,'java/org/apache/el/parser/ELParser.java'),(907,45691,'Bug 45691  Jasper creates duplicate variable names','Sometimes a JSP\'s Java code, which have been generated by Jasper, has duplicate variable names. Therefore the JSP cannot be compiled and tomcat delivers an HTTP status code 500. You get an error message like this\n\norg.apache.jasper.JasperException: Unable to compile class for JSP: \nAn error occurred at line: 10 in the jsp file: /test1.jsp\nDuplicate local variable _jspx_temp0\n7: 		<c:set var=\"a\">\n8: 			<jsp:attribute name=\"value\"><%= new java.util.Date().toString() %></jsp:attribute>\n9: 		</c:set>\n10: 		<c:set var=\"b\">\n11: 			<jsp:attribute name=\"value\"><%= new java.util.Date().toString() %></jsp:attribute>\n12: 		</c:set>\n13: 		<h1>Test 1</h1>\n\nThe reason of this error is the generation of variable names like _jspx_temp0, which are created for <jsp:attribute> tags. At the beginning of parsing a JSP file a counter is reset to 0. Every time an <jsp:attribute> tag occurs, the counter is used to build a variable name _jspx_temp<counter>. Thereafter the counter will be incremented. Unfortunately the counter is a static member of the JspUtil class. Suppose there\'s a thread 1, which created _jspx_temp4. The counter is 5. Now a second thread (thread 2) starts and resets the counter. Afterwards thread 2 creates _jspx_temp0 to _jspx_temp3. The counter is 4 by now. Then thread 2 stops and thread 1 continues. The next variable\'s name in thread 1 will be _jspx_temp4, which already exists. Therefore the generated java class cannot be compiled.','jasper creat duplic variabl name sometim jsp java code gener jasper duplic variabl name therefor jsp cannot compil tomcat deliv http statu code get error messag like apach jasper jasper except jasperexcept unabl compil class jsp error occur line jsp file test1 jsp duplic local variabl jspx temp0 set jsp attribut name valu new java util date to string tostr jsp attribut set set jsp attribut name valu new java util date to string tostr jsp attribut set h1 h1 reason error gener variabl name like jspx temp0 creat jsp attribut tag begin pars jsp file counter reset everi time jsp attribut tag occur counter use build variabl name jspx temp counter thereaft counter increment unfortun counter static member jsp util jsputil class suppos thread creat jspx temp4 counter second thread thread start reset counter afterward thread creat jspx temp0 jspx temp3 counter thread stop thread continu next variabl name thread jspx temp4 alreadi exist therefor gener java class cannot compil','jasper creat duplic variabl name','sometim jsp java code gener jasper duplic variabl name therefor jsp cannot compil tomcat deliv http statu code get error messag like apach jasper jasper except jasperexcept unabl compil class jsp error occur line jsp file test1 jsp duplic local variabl jspx temp0 set jsp attribut name valu new java util date to string tostr jsp attribut set set jsp attribut name valu new java util date to string tostr jsp attribut set h1 h1 reason error gener variabl name like jspx temp0 creat jsp attribut tag begin pars jsp file counter reset everi time jsp attribut tag occur counter use build variabl name jspx temp counter thereaft counter increment unfortun counter static member jsp util jsputil class suppos thread creat jspx temp4 counter second thread thread start reset counter afterward thread creat jspx temp0 jspx temp3 counter thread stop thread continu next variabl name thread jspx temp4 alreadi exist therefor gener java class cannot compil','2008-08-26 07:23:33',1219750000,'resolved fixed','337d6a6',1220190000,'java/org/apache/jasper/compiler/Compiler.java\njava/org/apache/jasper/compiler/JspUtil.java\njava/org/apache/jasper/compiler/Node.java\njava/org/apache/jasper/compiler/TagPluginManager.java'),(908,45074,'Bug 45074  Add configuration parameters for finer tuning of Http11AprProtocol thread usage','','add configur paramet finer tune http11 apr protocol http11aprprotocol thread usag','add configur paramet finer tune http11 apr protocol http11aprprotocol thread usag','','2008-05-23 15:44:19',1211570000,'resolved fixed','6a1f316',1219820000,'java/org/apache/coyote/http11/Http11AprProtocol.java'),(909,44809,'Bug 44809  Improve AprLifecycleListener Error Messages','','improv apr lifecycl listen aprlifecyclelisten error messag','improv apr lifecycl listen aprlifecyclelisten error messag','','2008-04-11 10:18:59',1207920000,'resolved fixed','46055c5',1219820000,'java/org/apache/catalina/core/AprLifecycleListener.java'),(910,43327,'Bug 43327  Socket bind fails on tomcat startup when using apr','I\'m running debian sid, kernel 2.6.22 and use tomcat 6.0.14 together with apr\n1.2.11. no special tomcat configuration (out of the box).\nOn start up of tomcat I get the following error log:\n\nDebugging apr revealed a problem with IPV6:\napr_socket_create() assigns a AF_INET6 socket,\napr_socket_bind tries to bind a AF_INET address which fails.\n\nINFO: Loaded Apache Tomcat Native library 1.1.10.\nSep 7, 2007 6:05:16 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false],\nrandom [true].\nSep 7, 2007 6:05:16 PM org.apache.coyote.http11.Http11AprProtocol init\nSEVERE: Error initializing endpoint\njava.lang.Exception: Socket bind failed: [22] Invalid argument\n    at org.apache.tomcat.util.net.AprEndpoint.init(AprEndpoint.java:612)\n    at org.apache.coyote.http11.Http11AprProtocol.init(Http11AprProtocol.java:121)\n    at org.apache.catalina.connector.Connector.initialize(Connector.java:1059)\n  \nregards\nerik','socket bind fail tomcat startup use apr run debian sid kernel use tomcat togeth apr special tomcat configur box start tomcat get follow error log debug apr reveal problem v6 ipv6 apr socket creat assign t6 inet6 socket apr socket bind tri bind inet address fail info load apach tomcat nativ librari sep pm apach catalina core apr lifecycl listen aprlifecyclelisten init info apr capabl pv6 ipv6 true sendfil true accept filter fals random true sep pm apach coyot http11 http11 apr protocol http11aprprotocol init sever error initi endpoint java lang except socket bind fail invalid argument apach tomcat util net apr endpoint aprendpoint init apr endpoint aprendpoint java apach coyot http11 http11 apr protocol http11aprprotocol init http11 apr protocol http11aprprotocol java apach catalina connector connector initi connector java regard erik','socket bind fail tomcat startup use apr','run debian sid kernel use tomcat togeth apr special tomcat configur box start tomcat get follow error log debug apr reveal problem v6 ipv6 apr socket creat assign t6 inet6 socket apr socket bind tri bind inet address fail info load apach tomcat nativ librari sep pm apach catalina core apr lifecycl listen aprlifecyclelisten init info apr capabl pv6 ipv6 true sendfil true accept filter fals random true sep pm apach coyot http11 http11 apr protocol http11aprprotocol init sever error initi endpoint java lang except socket bind fail invalid argument apach tomcat util net apr endpoint aprendpoint init apr endpoint aprendpoint java apach coyot http11 http11 apr protocol http11aprprotocol init http11 apr protocol http11aprprotocol java apach catalina connector connector initi connector java regard erik','2007-09-07 07:22:31',1189160000,'resolved fixed','fea7658',1219330000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(911,45655,'Bug 45655  check permisson','','check permisson','check permisson','','2008-08-19 14:13:35',1219170000,'resolved fixed','b266836',1219280000,'java/org/apache/juli/ClassLoaderLogManager.java'),(912,45608,'Bug 45608  Race conditions on field countAllocated of class org.apache.catalina.core.StandardWrapper','We found field countAllocated are accessed by allocate() and deallocate() without any protections by locks.\n\nHere is a trace log,\n\n  Thread http-8081-1 id: 23 : READ\n      [org.apache.catalina.core.StandardWrapper : allocate : 820]\n      [org.apache.catalina.core.StandardWrapperValve : invoke : 129]\n      [org.apache.catalina.core.StandardContextValve : invoke : 175]\n      [org.apache.catalina.core.StandardHostValve : invoke : 128]\n      [org.apache.catalina.valves.ErrorReportValve : invoke : 104]\n      [org.apache.catalina.core.StandardEngineValve : invoke : 109]\n      [org.apache.catalina.connector.CoyoteAdapter : service : 261]\n      [org.apache.coyote.http11.Http11Processor : process : 844]\n      [org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler : process : 581]\n      [org.apache.tomcat.util.net.JIoEndpoint$Worker : run : 447]\n      [java.lang.Thread : run : 735]\n\n  Thread http-8081-4 id: 26 : WRITE\n\n      [org.apache.catalina.core.StandardWrapper : deallocate : 871]\n      [org.apache.catalina.core.StandardWrapperValve : invoke : 298]\n      [org.apache.catalina.core.StandardContextValve : invoke : 175]\n      [org.apache.catalina.core.StandardHostValve : invoke : 128] \n      [org.apache.catalina.valves.ErrorReportValve : invoke : 104] \n      [org.apache.catalina.core.StandardEngineValve : invoke : 109]\n      [org.apache.catalina.connector.CoyoteAdapter : service : 261]\n      [org.apache.coyote.http11.Http11Processor : process : 844]\n      [org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler : process : 581]\n      [org.apache.tomcat.util.net.JIoEndpoint$Worker : run : 447]\n      [java.lang.Thread : run : 735]\n\nThread http-8081-4 and http-8081-1 will access countAllocated in parallel.  Since increment and decrement is *NOT* atomic, we think it is a potential race condition.','race condit field count alloc countalloc class apach catalina core standard wrapper standardwrapp found field count alloc countalloc access alloc dealloc without protect lock trace log thread http id read apach catalina core standard wrapper standardwrapp alloc apach catalina core standard wrapper valv standardwrappervalv invok apach catalina core standard context valv standardcontextvalv invok apach catalina core standard host valv standardhostvalv invok apach catalina valv error report valv errorreportvalv invok apach catalina core standard engin valv standardenginevalv invok apach catalina connector coyot adapt coyoteadapt servic apach coyot http11 http11 processor http11processor process apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process apach tomcat util net io endpoint jioendpoint worker run java lang thread run thread http id write apach catalina core standard wrapper standardwrapp dealloc apach catalina core standard wrapper valv standardwrappervalv invok apach catalina core standard context valv standardcontextvalv invok apach catalina core standard host valv standardhostvalv invok apach catalina valv error report valv errorreportvalv invok apach catalina core standard engin valv standardenginevalv invok apach catalina connector coyot adapt coyoteadapt servic apach coyot http11 http11 processor http11processor process apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process apach tomcat util net io endpoint jioendpoint worker run java lang thread run thread http http access count alloc countalloc parallel sinc increment decrement atom think potenti race condit','race condit field count alloc countalloc class apach catalina core standard wrapper standardwrapp','found field count alloc countalloc access alloc dealloc without protect lock trace log thread http id read apach catalina core standard wrapper standardwrapp alloc apach catalina core standard wrapper valv standardwrappervalv invok apach catalina core standard context valv standardcontextvalv invok apach catalina core standard host valv standardhostvalv invok apach catalina valv error report valv errorreportvalv invok apach catalina core standard engin valv standardenginevalv invok apach catalina connector coyot adapt coyoteadapt servic apach coyot http11 http11 processor http11processor process apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process apach tomcat util net io endpoint jioendpoint worker run java lang thread run thread http id write apach catalina core standard wrapper standardwrapp dealloc apach catalina core standard wrapper valv standardwrappervalv invok apach catalina core standard context valv standardcontextvalv invok apach catalina core standard host valv standardhostvalv invok apach catalina valv error report valv errorreportvalv invok apach catalina core standard engin valv standardenginevalv invok apach catalina connector coyot adapt coyoteadapt servic apach coyot http11 http11 processor http11processor process apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process apach tomcat util net io endpoint jioendpoint worker run java lang thread run thread http http access count alloc countalloc parallel sinc increment decrement atom think potenti race condit','2008-08-10 21:27:37',1218420000,'resolved fixed','816ecb8',1218550000,'java/org/apache/catalina/core/StandardWrapper.java'),(913,41407,'Bug 41407  CLIENT-CERT Authentication with JAASRealm not working','I tried to config my webapp to authenticate user by CLIENT-CERT auth method.\n\nI verified my JAAS LoginModule by using \"BASIC\" to auth method and successfully \nauthenticated user login.\n\nAfter studying Tomcat 5.5.20 source, I found that the problem is caused by the \nRealmBase.java and JAASRealm.java.\n\nif CLIENT-CERT auth method is used, SSLAuthenticator will call the :\n\n  JAASRealm.authenticate(X509Certificate certs[])\n\nAs JAASRealm didn\'t override authenticate(X509Certificate certs[]), RealmBase\'s \nauthenticate will be used and it will only validate the certs and then call\ngetPrincipal(X509Certificate) and then getPrincipal(String) is being called to \nget the Principal. However, in JAASRealm, this function always return null.\n\nThat means Tomcat can\'t use JAASRealm with CLIENT-CERT auth method.\n\nThanks\nButler','client cert authent realm jaasrealm work tri config webapp authent user client cert auth method verifi jaa login modul loginmodul use basic auth method success authent user login studi tomcat sourc found problem caus realm base realmbas java realm jaasrealm java client cert auth method use authent sslauthent call realm jaasrealm authent x509 certif x509certif cert realm jaasrealm didn overrid authent x509 certif x509certif cert realm base realmbas authent use valid cert call get princip getprincip x509 certif x509certif get princip getprincip string call get princip howev realm jaasrealm function alway return null mean tomcat use realm jaasrealm client cert auth method thank butler','client cert authent realm jaasrealm work','tri config webapp authent user client cert auth method verifi jaa login modul loginmodul use basic auth method success authent user login studi tomcat sourc found problem caus realm base realmbas java realm jaasrealm java client cert auth method use authent sslauthent call realm jaasrealm authent x509 certif x509certif cert realm jaasrealm didn overrid authent x509 certif x509certif cert realm base realmbas authent use valid cert call get princip getprincip x509 certif x509certif get princip getprincip string call get princip howev realm jaasrealm function alway return null mean tomcat use realm jaasrealm client cert auth method thank butler','2007-01-18 18:33:49',1169160000,'resolved fixed','6d78232',1218290000,'java/org/apache/catalina/realm/JAASCallbackHandler.java\njava/org/apache/catalina/realm/JAASMemoryLoginModule.java\njava/org/apache/catalina/realm/JAASRealm.java'),(914,45576,'Bug 45576  JAASRealm not working with DigestAuthenticator','','realm jaasrealm work digest authent digestauthent','realm jaasrealm work digest authent digestauthent','','2008-08-06 02:12:34',1218000000,'resolved fixed','c984c6a',1218280000,'java/org/apache/catalina/realm/JAASCallbackHandler.java\njava/org/apache/catalina/realm/JAASMemoryLoginModule.java\njava/org/apache/catalina/realm/JAASRealm.java'),(915,45591,'Bug 45591  NullPointerException during shutdown in JKMain.pause()','On startup, if Tomcat discovers that the main port is already bound to another process, it fails and tries to execute the shutdown code.  In some situations (I\'m not sure which), the org.apache.jk.server.JKMain instance variable wEnv is null at this point, which causes a NullPointerException when JKMain.pause() is called (see stacktrace below).  Since this is occurring within a shutdown hook thread, it can result in a dirty shutdown of the JVM.  I\'ve observed this with Tomcat 5.5.20, but I looked over the code in 5.5.26 and it looks like the same problem is still present.\n\nFortunately, the solution is very simple.  Just add the following if test at the beginning of JKMain.pause():\n\n        if (wEnv == null) {\n          return;\n        }\n\n\nStacktrace:\nSEVERE: StandardServer.await: create[8006]: \njava.net.BindException: Address already in use: JVM_Bind\n	at java.net.PlainSocketImpl.socketBind(Native Method)\n	at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:359)\n	at java.net.ServerSocket.bind(ServerSocket.java:319)\n	at java.net.ServerSocket.<init>(ServerSocket.java:185)\n	at org.apache.catalina.core.StandardServer.await(StandardServer.java:372)\n	at org.apache.catalina.startup.Catalina.await(Catalina.java:615)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:575)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:585)\n	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:294)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432)\nAug 7, 2008 3:25:34 PM org.apache.coyote.http11.Http11BaseProtocol pause\nINFO: Pausing Coyote HTTP/1.1 on http-8000\nAug 7, 2008 3:25:34 PM org.apache.catalina.connector.Connector pause\nSEVERE: Protocol handler pause failed\njava.lang.NullPointerException\n	at org.apache.jk.server.JkMain.pause(JkMain.java:678)\n	at org.apache.jk.server.JkCoyoteHandler.pause(JkCoyoteHandler.java:162)\n	at org.apache.catalina.connector.Connector.pause(Connector.java:1031)\n	at org.apache.catalina.core.StandardService.stop(StandardService.java:491)\n	at org.apache.catalina.core.StandardServer.stop(StandardServer.java:743)\n	at org.apache.catalina.startup.Catalina.stop(Catalina.java:601)\n	at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:644)','null pointer except nullpointerexcept shutdown main jkmain paus startup tomcat discov main port alreadi bound anoth process fail tri execut shutdown code situat sure apach jk server main jkmain instanc variabl env wenv null point caus null pointer except nullpointerexcept main jkmain paus call see stacktrac sinc occur within shutdown hook thread result dirti shutdown jvm observ tomcat look code look like problem still present fortun solut simpl add follow begin main jkmain paus env wenv null return stacktrac sever standard server standardserv await creat java net bind except bindexcept address alreadi use jvm bind java net plain socket impl plainsocketimpl socket bind socketbind nativ method java net plain socket impl plainsocketimpl bind plain socket impl plainsocketimpl java java net server socket serversocket bind server socket serversocket java java net server socket serversocket init server socket serversocket java apach catalina core standard server standardserv await standard server standardserv java apach catalina startup catalina await catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java aug pm apach coyot http11 http11 base protocol http11baseprotocol paus info paus coyot http http aug pm apach catalina connector connector paus sever protocol handler paus fail java lang null pointer except nullpointerexcept apach jk server jk main jkmain paus jk main jkmain java apach jk server jk coyot handler jkcoyotehandl paus jk coyot handler jkcoyotehandl java apach catalina connector connector paus connector java apach catalina core standard servic standardservic stop standard servic standardservic java apach catalina core standard server standardserv stop standard server standardserv java apach catalina startup catalina stop catalina java apach catalina startup catalina catalina shutdown hook catalinashutdownhook run catalina java','null pointer except nullpointerexcept shutdown main jkmain paus','startup tomcat discov main port alreadi bound anoth process fail tri execut shutdown code situat sure apach jk server main jkmain instanc variabl env wenv null point caus null pointer except nullpointerexcept main jkmain paus call see stacktrac sinc occur within shutdown hook thread result dirti shutdown jvm observ tomcat look code look like problem still present fortun solut simpl add follow begin main jkmain paus env wenv null return stacktrac sever standard server standardserv await creat java net bind except bindexcept address alreadi use jvm bind java net plain socket impl plainsocketimpl socket bind socketbind nativ method java net plain socket impl plainsocketimpl bind plain socket impl plainsocketimpl java java net server socket serversocket bind server socket serversocket java java net server socket serversocket init server socket serversocket java apach catalina core standard server standardserv await standard server standardserv java apach catalina startup catalina await catalina java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java aug pm apach coyot http11 http11 base protocol http11baseprotocol paus info paus coyot http http aug pm apach catalina connector connector paus sever protocol handler paus fail java lang null pointer except nullpointerexcept apach jk server jk main jkmain paus jk main jkmain java apach jk server jk coyot handler jkcoyotehandl paus jk coyot handler jkcoyotehandl java apach catalina connector connector paus connector java apach catalina core standard servic standardservic stop standard servic standardservic java apach catalina core standard server standardserv stop standard server standardserv java apach catalina startup catalina stop catalina java apach catalina startup catalina catalina shutdown hook catalinashutdownhook run catalina java','2008-08-07 12:35:38',1218130000,'resolved fixed','38a62a6',1218210000,'java/org/apache/jk/server/JkMain.java'),(916,45453,'Bug 45453  JDBCRealm.getRoles bad synchronization causes hangs w/ DIGEST authentication','JDBCRealm.getRoles bad synchronization causes hangs w/ DIGEST authentication\n\nJDBCRealm caches PreparedStatement preparedRoles. That, and missing synchronization in JDBCRealm and/or DigestAuthenticator allow two threads to call getRoles simultaneously so that T1 will do stmt.executeQuery() while T2 does stmt.setString(1, userName) plus another .executeQuery() on the same PreparedStatement object.\n\nIn the worst case, the JDBC driver gets confused by this, and blocks forever waiting for server response, causing all other threads that try to access DB hang. (This was observed with PostgreSQL 8.3-603-jdbc4 JDBC driver)\n\norg.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:451)\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:350)\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254)\norg.apache.catalina.realm.JDBCRealm.getRoles(JDBCRealm.java:631)\norg.apache.catalina.realm.JDBCRealm.getPrincipal(JDBCRealm.java:596)\norg.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:399)\norg.apache.catalina.authenticator.DigestAuthenticator.findPrincipal(DigestAuthenticator.java:283)\norg.apache.catalina.authenticator.DigestAuthenticator.authenticate(DigestAuthenticator.java:176)','realm jdbcrealm get role getrol bad synchron caus hang digest authent realm jdbcrealm get role getrol bad synchron caus hang digest authent realm jdbcrealm cach prepar statement preparedstat prepar role preparedrol miss synchron realm jdbcrealm digest authent digestauthent allow two thread call get role getrol simultan t1 stmt execut queri executequeri t2 stmt set string setstr user name usernam plu anoth execut queri executequeri prepar statement preparedstat object worst case jdbc driver get confus block forev wait server respons caus thread tri access db hang observ postgr postgresql 603 jdbc4 603jdbc4 jdbc driver postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut with flag executewithflag abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut queri executequeri abstract jdbc2 statement abstractjdbc2stat java apach catalina realm realm jdbcrealm get role getrol realm jdbcrealm java apach catalina realm realm jdbcrealm get princip getprincip realm jdbcrealm java apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent digest authent digestauthent find princip findprincip digest authent digestauthent java apach catalina authent digest authent digestauthent authent digest authent digestauthent java','realm jdbcrealm get role getrol bad synchron caus hang digest authent','realm jdbcrealm get role getrol bad synchron caus hang digest authent realm jdbcrealm cach prepar statement preparedstat prepar role preparedrol miss synchron realm jdbcrealm digest authent digestauthent allow two thread call get role getrol simultan t1 stmt execut queri executequeri t2 stmt set string setstr user name usernam plu anoth execut queri executequeri prepar statement preparedstat object worst case jdbc driver get confus block forev wait server respons caus thread tri access db hang observ postgr postgresql 603 jdbc4 603jdbc4 jdbc driver postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut with flag executewithflag abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut queri executequeri abstract jdbc2 statement abstractjdbc2stat java apach catalina realm realm jdbcrealm get role getrol realm jdbcrealm java apach catalina realm realm jdbcrealm get princip getprincip realm jdbcrealm java apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent digest authent digestauthent find princip findprincip digest authent digestauthent java apach catalina authent digest authent digestauthent authent digest authent digestauthent java','2008-07-22 02:25:02',1216710000,'resolved fixed','9d3cad7',1217340000,'java/org/apache/catalina/realm/JDBCRealm.java'),(917,45459,'Bug 45459  Startup Listener error message unhelpful','','startup listen error messag unhelp','startup listen error messag unhelp','','2008-07-22 08:44:55',1216730000,'resolved wontfix','4cab5f3',1217340000,'java/org/apache/catalina/core/StandardContext.java'),(918,42727,'Bug 42727  CoyoteReader readLine returns null for some post request bodies that are a multiple of MAX_LINE_LENGTH in size','','coyot reader coyoteread read line readlin return null post request bodi multipl max line length size','coyot reader coyoteread read line readlin return null post request bodi multipl max line length size','','2007-06-23 06:29:58',1182590000,'resolved fixed','92f847d',1216330000,'java/org/apache/catalina/connector/CoyoteReader.java'),(919,42722,'Bug 42722  Potential NullPointerException in org.apache.catalina.servlets.CGIServlet','','potenti null pointer except nullpointerexcept apach catalina servlet servlet cgiservlet','potenti null pointer except nullpointerexcept apach catalina servlet servlet cgiservlet','','2007-06-22 05:21:27',1182500000,'resolved fixed','d41f610',1215720000,'java/org/apache/catalina/servlets/CGIServlet.java'),(920,42678,'Bug 42678  docBase ignored even if its not a subdir of appBase','I use latest 6.0 SVN snapshot. I store deployable WARs in \"webapps-dist\" (aside\n\"webapps\"). This is my setup:\n\nbash-3.2$ ls $CATALINA_BASE \nconf  logs  temp  tomcat-dist  webapps  webapps-dist  work\nbash-3.2$ ls  webapps-dist\nsample.war\nbash-3.2$ cat conf/Catalina/localhost/sample.xml\n<Context docBase=\"${catalina.base}/webapps-dist/sample.war\"/>\n\nthis ends up in: \n\nWARNUNG: A docBase /home/juergen/java/tomcat/webapps-dist/sample.war inside the\nhost appBase has been specified, and will be ignored','doc base docbas ignor even subdir app base appbas use latest svn snapshot store deploy war webapp dist webappsdist asid webapp setup bash l catalina base conf log temp tomcat dist tomcatdist webapp webapp dist webappsdist work bash l webapp dist webappsdist sampl bash cat conf catalina localhost sampl xml context doc base docbas catalina base webapp dist webappsdist sampl end warnung doc base docbas home juergen java tomcat webapp dist webappsdist sampl insid host app base appbas specifi ignor','doc base docbas ignor even subdir app base appbas','use latest svn snapshot store deploy war webapp dist webappsdist asid webapp setup bash l catalina base conf log temp tomcat dist tomcatdist webapp webapp dist webappsdist work bash l webapp dist webappsdist sampl bash cat conf catalina localhost sampl xml context doc base docbas catalina base webapp dist webappsdist sampl end warnung doc base docbas home juergen java tomcat webapp dist webappsdist sampl insid host app base appbas specifi ignor','2007-06-15 15:07:50',1181930000,'resolved fixed','252fca1',1215710000,'java/org/apache/catalina/startup/HostConfig.java'),(921,45317,'Bug 45317  DeltaManager always reports default timeout value for receiving session state on startup','Hi there,\n\nIf I override the state transfer timeout:\n          <Manager className=\"org.apache.catalina.ha.session.DeltaManager\"\n                   stateTransferTimeout=\"10\"\n                   expireSessionsOnShutdown=\"false\"\n                   notifyListenersOnReplication=\"true\"/>\n\nDeltaManager continues to log the default timeout value (ie: \"This operation will timeout if no session state has been received within 60 seconds.\"):\n\n2008-07-01 14:31:30,419 WARN [org.apache.catalina.ha.session.DeltaManager] - Manager [localhost#/manager], requesting session state from org.apache.catalina.tribes.membership.MemberImpl[tcp://{10, -64, 104, -55}:15000,{10, -64, 104, -55},15000, alive=18586,id={-62 91 -70 -63 -111 50 70 -33 -104 41 -48 -32 91 34 -83 -55 }, payload={}, command={}, domain={}, ]. This operation will timeout if no session state has been received within 60 seconds. \n2008-07-01 14:31:35,310 WARN [org.apache.catalina.ha.ClusterListener] - Context manager doesn\'t exist:localhost#/host-manager \n\nBut it actually uses the correct timeout value (ie: \"timing out after 10,100 ms\"):\n\n2008-07-01 14:31:40,518 ERROR [org.apache.catalina.ha.session.DeltaManager] - Manager [localhost#/manager]: No session state send at 01/07/08 14:31 received, timing out after 10,100 ms. \n\nThis is only an incorrect message, but it is quite annoying especially coupled with the fact that the above configuration is only documented for tomcat 5 (where syntax is subtly different).','delta manag deltamanag alway report default timeout valu receiv session state startup hi overrid state transfer timeout manag class name classnam apach catalina session delta manag deltamanag state transfer timeout statetransfertimeout expir session on shutdown expiresessionsonshutdown fals notifi listen on replic notifylistenersonrepl true delta manag deltamanag continu log default timeout valu ie oper timeout session state receiv within second warn apach catalina session delta manag deltamanag manag localhost manag request session state apach catalina tribe membership member impl memberimpl tcp aliv id payload command domain oper timeout session state receiv within second warn apach catalina cluster listen clusterlisten context manag doesn exist localhost host manag hostmanag actual us correct timeout valu ie time m error apach catalina session delta manag deltamanag manag localhost manag session state send receiv time m incorrect messag quit annoy especi coupl fact configur document tomcat syntax subtli differ','delta manag deltamanag alway report default timeout valu receiv session state startup','hi overrid state transfer timeout manag class name classnam apach catalina session delta manag deltamanag state transfer timeout statetransfertimeout expir session on shutdown expiresessionsonshutdown fals notifi listen on replic notifylistenersonrepl true delta manag deltamanag continu log default timeout valu ie oper timeout session state receiv within second warn apach catalina session delta manag deltamanag manag localhost manag request session state apach catalina tribe membership member impl memberimpl tcp aliv id payload command domain oper timeout session state receiv within second warn apach catalina cluster listen clusterlisten context manag doesn exist localhost host manag hostmanag actual us correct timeout valu ie time m error apach catalina session delta manag deltamanag manag localhost manag session state send receiv time m incorrect messag quit annoy especi coupl fact configur document tomcat syntax subtli differ','2008-07-01 07:50:35',1214910000,'resolved fixed','36bb5d9',1215030000,'java/org/apache/catalina/ha/session/DeltaManager.java'),(922,36155,'Bug 36155  tomcat chooses wrong host if using mod_jk','','tomcat choos wrong host use jk','tomcat choos wrong host use jk','','2005-08-12 05:08:52',1123840000,'resolved fixed','f23907d',1214620000,'java/org/apache/coyote/ajp/AjpMessage.java'),(923,45279,'Bug 45279  McastServiceImpl leaks sockets.','McastServiceImpl does not close its socket in stop() as it claims. It merely calls leaveGroup(), which is sufficient to stop receiving messages, but does not close the socket. \n\nThis causes a file descriptor leak each time the service is stopped.\n\nadd;\n\nsocket.close();\n\nafter leaveGroup();','mcast servic impl mcastserviceimpl leak socket mcast servic impl mcastserviceimpl close socket stop claim mere call leav group leavegroup suffici stop receiv messag close socket caus file descriptor leak time servic stop add socket close leav group leavegroup','mcast servic impl mcastserviceimpl leak socket','mcast servic impl mcastserviceimpl close socket stop claim mere call leav group leavegroup suffici stop receiv messag close socket caus file descriptor leak time servic stop add socket close leav group leavegroup','2008-06-25 12:21:15',1214410000,'resolved fixed','a2a7714',1214430000,'java/org/apache/catalina/tribes/membership/McastServiceImpl.java'),(924,45101,'Bug 45101  DirContextURLConnection - Format Date Header Values per HTTP spec','','dir context connect dircontexturlconnect format date header valu http spec','dir context connect dircontexturlconnect format date header valu http spec','','2008-05-29 13:42:51',1212080000,'resolved fixed','e0200b0',1212100000,'java/org/apache/naming/resources/DirContextURLConnection.java'),(925,42750,'Bug 42750  Http Post requests not handled correctly if there is more than one space between the \"POST\" and the URL','','http post request handl correctli one space post url','http post request handl correctli one space post url','','2007-06-26 16:57:13',1182890000,'resolved fixed','f93376d',1211230000,'java/org/apache/coyote/http11/InternalAprInputBuffer.java\njava/org/apache/coyote/http11/InternalInputBuffer.java\njava/org/apache/coyote/http11/InternalNioInputBuffer.java'),(926,44986,'Bug 44986  JSP compilation exception with pageEncoding=\"utf-8\"  and file with byte order marks','JSP-File has byte order marks. If the attribute is set to \"UTF-8\" (upper case) or the file has no byte order marks, the compilation workes fine. \n\n{code} \n12:32:16,946 ERROR [[jsp]] Servlet.service() for servlet jsp threw exception \norg.apache.jasper.JasperException: /dialog.jsp(2,0) Page-encoding specified in XML prolog (UTF-8) is different from that specified in page directive (utf-8) \nat org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:40) \nat org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:407) \nat org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:236) \nat org.apache.jasper.compiler.Validator$DirectiveVisitor.comparePageEncodings(Validator.java:362) \nat org.apache.jasper.compiler.Validator$DirectiveVisitor.visit(Validator.java:197) \nat org.apache.jasper.compiler.Node$PageDirective.accept(Node.java:590) \nat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2338) \nat org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2388) \nat org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2394) \nat org.apache.jasper.compiler.Node$Root.accept(Node.java:489) \nat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2338) \nat org.apache.jasper.compiler.Validator.validate(Validator.java:1700) \nat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:178) \nat org.apache.jasper.compiler.Compiler.compile(Compiler.java:306) \nat org.apache.jasper.compiler.Compiler.compile(Compiler.java:286) \nat org.apache.jasper.compiler.Compiler.compile(Compiler.java:273) \nat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:566) \nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:316) \nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:336) \nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265) \nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803) \nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) \nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) \nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:654) \nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:445) \nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379) \nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:292) \nat de.cit.jsp.control.DispatchServlet.forward(DispatchServlet.java:286) \nat de.cit.jsp.control.DispatchServlet.doGet(DispatchServlet.java:272) \nat javax.servlet.http.HttpServlet.service(HttpServlet.java:690) \nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803) \nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) \nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) \nat de.cit.util.javax.servlet.ValidationFilter.doFilter(ValidationFilter.java:108) \nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) \nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) \nat de.cit.util.javax.servlet.jsp.XHtmlContentTypeFilter.doFilter(XHtmlContentTypeFilter.java:36) \nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) \nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) \nat org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96) \nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) \nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) \nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230) \nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175) \nat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:179) \nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:432) \nat org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84) \nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) \nat org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157) \nat org.apache.catalina.authenticator.SingleSignOn.invoke(SingleSignOn.java:420) \nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) \nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262) \nat org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:437) \nat org.apache.coyote.ajp.AjpProtocol$AjpConnectionHandler.process(AjpProtocol.java:366) \nat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446) \nat java.lang.Thread.run(Thread.java:619) \n{code} \n\nCase insensitive camparison in org.apache.jasper.compiler.Validator.comparePageEncodings(...) seems to fix the problem: \n{code} \n        /* \n         * Compares page encodings specified in various places, and throws \n         * exception in case of page encoding mismatch. \n         * \n         * @param pageDirEnc The value of the pageEncoding attribute of the page \n         * directive @param pageDir The page directive node \n         * \n         * @throws JasperException in case of page encoding mismatch \n         */ \n        private String comparePageEncodings(String pageDirEnc, \n                Node.PageDirective pageDir) throws JasperException { \n\n            Node.Root root = pageDir.getRoot(); \n            String configEnc = root.getJspConfigPageEncoding(); \n\n            /* \n             * Compare the \'pageEncoding\' attribute of the page directive with \n             * the encoding specified in the JSP config element whose URL \n             * pattern matches this page. Treat \"UTF-16\", \"UTF-16BE\", and \n             * \"UTF-16LE\" as identical. \n             */ \n            if (configEnc != null) { \n                if (!pageDirEnc.equalsIgnoreCase(configEnc) \n                        && (!pageDirEnc.toUpperCase().startsWith(\"UTF-16\") || !configEnc \n                                .toUpperCase().startsWith(\"UTF-16\"))) { \n                    err.jspError(pageDir, \n                            \"jsp.error.config_pagedir_encoding_mismatch\", \n                            configEnc, pageDirEnc); \n                } else { \n                    return configEnc; \n                } \n            } \n\n            /* \n             * Compare the \'pageEncoding\' attribute of the page directive with \n             * the encoding specified in the XML prolog (only for XML syntax, \n             * and only if JSP document contains XML prolog with encoding \n             * declaration). Treat \"UTF-16\", \"UTF-16BE\", and \"UTF-16LE\" as \n             * identical. \n             */ \n            if ((root.isXmlSyntax() && root.isEncodingSpecifiedInProlog()) || root.isBomPresent()) { \n                String pageEnc = root.getPageEncoding(); \n                if (!pageDirEnc.equalsIgnoreCase(pageEnc) \n                        && (!pageDirEnc.toUpperCase().startsWith(\"UTF-16\") || !pageEnc \n                                .toUpperCase().startsWith(\"UTF-16\"))) { \n                    err.jspError(pageDir, \n                            \"jsp.error.prolog_pagedir_encoding_mismatch\", \n                            pageEnc, pageDirEnc); \n                } else { \n                    return pageEnc; \n                } \n            } \n             \n            return pageDirEnc; \n        } \n{code}','jsp compil except page encod pageencod utf file byte order mark jsp file byte order mark attribut set utf upper case file byte order mark compil work fine code error jsp servlet servic servlet jsp threw except apach jasper jasper except jasperexcept dialog jsp page encod pageencod specifi xml prolog utf differ specifi page direct utf apach jasper compil default error handler defaulterrorhandl jsp error jsperror default error handler defaulterrorhandl java apach jasper compil error dispatch errordispatch dispatch error dispatch errordispatch java apach jasper compil error dispatch errordispatch jsp error jsperror error dispatch errordispatch java apach jasper compil valid direct visitor directivevisitor compar page encod comparepageencod valid java apach jasper compil valid direct visitor directivevisitor visit valid java apach jasper compil node page direct pagedirect accept node java apach jasper compil node node visit node java apach jasper compil node visitor visit bodi visitbodi node java apach jasper compil node visitor visit node java apach jasper compil node root accept node java apach jasper compil node node visit node java apach jasper compil valid valid valid java apach jasper compil compil gener java generatejava compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch process request processrequest applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do forward doforward applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch forward applic dispatch applicationdispatch java cit jsp control dispatch servlet dispatchservlet forward dispatch servlet dispatchservlet java cit jsp control dispatch servlet dispatchservlet do get doget dispatch servlet dispatchservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java cit util javax servlet valid filter validationfilt do filter dofilt valid filter validationfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java cit util javax servlet jsp html content type filter xhtmlcontenttypefilt do filter dofilt html content type filter xhtmlcontenttypefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java jboss web tomcat filter repli header filter replyheaderfilt do filter dofilt repli header filter replyheaderfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java jboss web tomcat secur secur associ valv securityassociationvalv invok secur associ valv securityassociationvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java jboss web tomcat secur jacc context valv jacccontextvalv invok jacc context valv jacccontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java jboss web tomcat servic jca cach connect valv cachedconnectionvalv invok cach connect valv cachedconnectionvalv java apach catalina authent singl sign on singlesignon invok singl sign on singlesignon java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot ajp ajp processor ajpprocessor process ajp processor ajpprocessor java apach coyot ajp ajp protocol ajpprotocol ajp connect handler ajpconnectionhandl process ajp protocol ajpprotocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java code case insensit camparison apach jasper compil valid compar page encod comparepageencod seem fix problem code compar page encod specifi variou place throw except case page encod mismatch param page dir enc pagedirenc valu page encod pageencod attribut page direct param page dir pagedir page direct node throw jasper except jasperexcept case page encod mismatch privat string compar page encod comparepageencod string page dir enc pagedirenc node page direct pagedirect page dir pagedir throw jasper except jasperexcept node root root page dir pagedir get root getroot string config enc configenc root get jsp config page encod getjspconfigpageencod compar page encod pageencod attribut page direct encod specifi jsp config element whose url pattern match page treat utf utf 16 16be utf 16 16le ident config enc configenc null page dir enc pagedirenc equal ignor case equalsignorecas config enc configenc page dir enc pagedirenc to upper case touppercas start with startswith utf config enc configenc to upper case touppercas start with startswith utf err jsp error jsperror page dir pagedir jsp error config pagedir encod mismatch config enc configenc page dir enc pagedirenc els return config enc configenc compar page encod pageencod attribut page direct encod specifi xml prolog xml syntax jsp document contain xml prolog encod declar treat utf utf 16 16be utf 16 16le ident root is xml syntax isxmlsyntax root is encod specifi in prolog isencodingspecifiedinprolog root is bom present isbompres string page enc pageenc root get page encod getpageencod page dir enc pagedirenc equal ignor case equalsignorecas page enc pageenc page dir enc pagedirenc to upper case touppercas start with startswith utf page enc pageenc to upper case touppercas start with startswith utf err jsp error jsperror page dir pagedir jsp error prolog pagedir encod mismatch page enc pageenc page dir enc pagedirenc els return page enc pageenc return page dir enc pagedirenc code','jsp compil except page encod pageencod utf file byte order mark','jsp file byte order mark attribut set utf upper case file byte order mark compil work fine code error jsp servlet servic servlet jsp threw except apach jasper jasper except jasperexcept dialog jsp page encod pageencod specifi xml prolog utf differ specifi page direct utf apach jasper compil default error handler defaulterrorhandl jsp error jsperror default error handler defaulterrorhandl java apach jasper compil error dispatch errordispatch dispatch error dispatch errordispatch java apach jasper compil error dispatch errordispatch jsp error jsperror error dispatch errordispatch java apach jasper compil valid direct visitor directivevisitor compar page encod comparepageencod valid java apach jasper compil valid direct visitor directivevisitor visit valid java apach jasper compil node page direct pagedirect accept node java apach jasper compil node node visit node java apach jasper compil node visitor visit bodi visitbodi node java apach jasper compil node visitor visit node java apach jasper compil node root accept node java apach jasper compil node node visit node java apach jasper compil valid valid valid java apach jasper compil compil gener java generatejava compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch process request processrequest applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do forward doforward applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch forward applic dispatch applicationdispatch java cit jsp control dispatch servlet dispatchservlet forward dispatch servlet dispatchservlet java cit jsp control dispatch servlet dispatchservlet do get doget dispatch servlet dispatchservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java cit util javax servlet valid filter validationfilt do filter dofilt valid filter validationfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java cit util javax servlet jsp html content type filter xhtmlcontenttypefilt do filter dofilt html content type filter xhtmlcontenttypefilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java jboss web tomcat filter repli header filter replyheaderfilt do filter dofilt repli header filter replyheaderfilt java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java jboss web tomcat secur secur associ valv securityassociationvalv invok secur associ valv securityassociationvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java jboss web tomcat secur jacc context valv jacccontextvalv invok jacc context valv jacccontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java jboss web tomcat servic jca cach connect valv cachedconnectionvalv invok cach connect valv cachedconnectionvalv java apach catalina authent singl sign on singlesignon invok singl sign on singlesignon java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot ajp ajp processor ajpprocessor process ajp processor ajpprocessor java apach coyot ajp ajp protocol ajpprotocol ajp connect handler ajpconnectionhandl process ajp protocol ajpprotocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java code case insensit camparison apach jasper compil valid compar page encod comparepageencod seem fix problem code compar page encod specifi variou place throw except case page encod mismatch param page dir enc pagedirenc valu page encod pageencod attribut page direct param page dir pagedir page direct node throw jasper except jasperexcept case page encod mismatch privat string compar page encod comparepageencod string page dir enc pagedirenc node page direct pagedirect page dir pagedir throw jasper except jasperexcept node root root page dir pagedir get root getroot string config enc configenc root get jsp config page encod getjspconfigpageencod compar page encod pageencod attribut page direct encod specifi jsp config element whose url pattern match page treat utf utf 16 16be utf 16 16le ident config enc configenc null page dir enc pagedirenc equal ignor case equalsignorecas config enc configenc page dir enc pagedirenc to upper case touppercas start with startswith utf config enc configenc to upper case touppercas start with startswith utf err jsp error jsperror page dir pagedir jsp error config pagedir encod mismatch config enc configenc page dir enc pagedirenc els return config enc configenc compar page encod pageencod attribut page direct encod specifi xml prolog xml syntax jsp document contain xml prolog encod declar treat utf utf 16 16be utf 16 16le ident root is xml syntax isxmlsyntax root is encod specifi in prolog isencodingspecifiedinprolog root is bom present isbompres string page enc pageenc root get page encod getpageencod page dir enc pagedirenc equal ignor case equalsignorecas page enc pageenc page dir enc pagedirenc to upper case touppercas start with startswith utf page enc pageenc to upper case touppercas start with startswith utf err jsp error jsperror page dir pagedir jsp error prolog pagedir encod mismatch page enc pageenc page dir enc pagedirenc els return page enc pageenc return page dir enc pagedirenc code','2008-05-13 04:42:11',1210670000,'resolved fixed','3c84dcf',1210710000,'java/org/apache/jasper/compiler/Validator.java'),(927,42934,'Bug 42934  sessionDidActivate() called before contextInitialized()','I\'m using Seam and a Seam app depends upon the Seam application being\ninitialized before you can do much of anything in Seam.\n\nThat said Seam puts some hooks into the sessionDidActivate() and\nsessionDidPassivate() events.  Because of that when I start up my app\nI\'m getting a Seam IllegalStateException because the\ncontextInitialized() event is fired after sessionDidActivate() so Seam\nis not yet initialized it\'s Session hooks are being fired.\n\nWhat makes me think this is a bug is that sessionWillPassivate() is being\ncorrectly called before contextDestroyed() so it would seem that\nsessionDidActivate() being called before contextInitialized() would be\ninconsistent behavior.\n\nSo to sum up I think tomcat should fire context and session events in the\nfollowing order:\n\ncontextInitialized\nsessionDidActivate\nsessionWillPassivate\ncontextDestroyed\n\n\nAs a side note Tomcat 5 follows what I think is the completely wrong but\nconsistent order by firing events in this order:\n\nsessionDidActivate\ncontextInitialized\ncontextDestroyed\nsessionWillPassivate','session did activ sessiondidactiv call context initi contextiniti use seam seam app depend upon seam applic initi much anyth seam said seam put hook session did activ sessiondidactiv session did passiv sessiondidpassiv event start app get seam illeg state except illegalstateexcept context initi contextiniti event fire session did activ sessiondidactiv seam yet initi session hook fire make think session will passiv sessionwillpassiv correctli call context destroy contextdestroy would seem session did activ sessiondidactiv call context initi contextiniti would inconsist behavior sum think tomcat fire context session event follow order context initi contextiniti session did activ sessiondidactiv session will passiv sessionwillpassiv context destroy contextdestroy side note tomcat follow think complet wrong consist order fire event order session did activ sessiondidactiv context initi contextiniti context destroy contextdestroy session will passiv sessionwillpassiv','session did activ sessiondidactiv call context initi contextiniti','use seam seam app depend upon seam applic initi much anyth seam said seam put hook session did activ sessiondidactiv session did passiv sessiondidpassiv event start app get seam illeg state except illegalstateexcept context initi contextiniti event fire session did activ sessiondidactiv seam yet initi session hook fire make think session will passiv sessionwillpassiv correctli call context destroy contextdestroy would seem session did activ sessiondidactiv call context initi contextiniti would inconsist behavior sum think tomcat fire context session event follow order context initi contextiniti session did activ sessiondidactiv session will passiv sessionwillpassiv context destroy contextdestroy side note tomcat follow think complet wrong consist order fire event order session did activ sessiondidactiv context initi contextiniti context destroy contextdestroy session will passiv sessionwillpassiv','2007-07-18 14:40:10',1184780000,'resolved fixed','a9cb6a6',1210360000,'java/org/apache/catalina/core/StandardContext.java'),(928,42943,'Bug 42943  jsp:text gets confused with other *:text elements in a JSP tag file','','jsp text get confus text element jsp tag file','jsp text get confus text element jsp tag file','','2007-07-20 03:46:22',1184920000,'resolved fixed','17b4436',1210280000,'java/org/apache/jasper/compiler/JspDocumentParser.java'),(929,43080,'Bug 43080  Suspicious url pattern warning logged to wrong webapp','\"Suspicious url pattern\" warnings are logged to the wrong webapp, not the one\nactually using them.\n\nThese log events are coming from SecurityCollection.java.','suspici url pattern warn log wrong webapp suspici url pattern warn log wrong webapp one actual use log event come secur collect securitycollect java','suspici url pattern warn log wrong webapp','suspici url pattern warn log wrong webapp one actual use log event come secur collect securitycollect java','2007-08-09 15:18:42',1186690000,'resolved fixed','332d0f0',1209900000,'java/org/apache/catalina/core/StandardContext.java\njava/org/apache/catalina/deploy/SecurityCollection.java'),(930,43191,'Bug 43191  compressableMimeType attribute ignored','I have set compression=\"on\" and compressableMimeType=\"text/html\" in server.xml.\nIt appears that the value of compressableMimeType is being ignored. My XML\nresponses are all coming back gzipped. If I switch to compression=\"off\" the\nresponses are not gzipped, but as soon as I turn it on, regardless of the value\nof compressableMimeType, the XML responses are coming back gzipped.\n\nA full Connector tag follows. Note that this is just an example -- I have tried\nmany values for compressableMimeType (that do NOT include text/xml) and the\nresponses are still compressed.\n\n      <Connector port=\"7630\" address=\"${jboss.bind.address}\"\n         maxThreads=\"20\" minSpareThreads=\"4\" maxSpareThreads=\"10\" strategy=\"ms\"\nmaxHttpHeaderSize=\"8192\"\n         emptySessionPath=\"true\" enableLookups=\"false\" redirectPort=\"7643\"\nacceptCount=\"16\"\n         connectionTimeout=\"20000\" disableUploadTimeout=\"true\"\n         compression=\"off\"\n        \ncompressableMimeType=\"text/html,text/javascript,application/x-javascript,application/javascript\"\n/>','compress mime type compressablemimetyp attribut ignor set compress compress mime type compressablemimetyp text html server xml appear valu compress mime type compressablemimetyp ignor xml respons come back gzip switch compress respons gzip soon turn regardless valu compress mime type compressablemimetyp xml respons come back gzip full connector tag follow note exampl tri mani valu compress mime type compressablemimetyp includ text xml respons still compress connector port address jboss bind address max thread maxthread min spare thread minsparethread max spare thread maxsparethread strategi m max http header size maxhttpheaders empti session path emptysessionpath true enabl lookup enablelookup fals redirect port redirectport accept count acceptcount connect timeout connectiontimeout disabl upload timeout disableuploadtimeout true compress compress mime type compressablemimetyp text html text javascript applic javascript xjavascript applic javascript','compress mime type compressablemimetyp attribut ignor','set compress compress mime type compressablemimetyp text html server xml appear valu compress mime type compressablemimetyp ignor xml respons come back gzip switch compress respons gzip soon turn regardless valu compress mime type compressablemimetyp xml respons come back gzip full connector tag follow note exampl tri mani valu compress mime type compressablemimetyp includ text xml respons still compress connector port address jboss bind address max thread maxthread min spare thread minsparethread max spare thread maxsparethread strategi m max http header size maxhttpheaders empti session path emptysessionpath true enabl lookup enablelookup fals redirect port redirectport accept count acceptcount connect timeout connectiontimeout disabl upload timeout disableuploadtimeout true compress compress mime type compressablemimetyp text html text javascript applic javascript xjavascript applic javascript','2007-08-22 15:02:44',1187810000,'resolved fixed','e2524a8',1209810000,'java/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/Http11Processor.java'),(931,43150,'Bug 43150  Tomcat and path with pound sign (#) -> ClassNotFoundException','Tomcat will not start if it\'s located and launched from a path with a # (pound)\ncharacter somewhere. You\'ll find all informations in the given mail-thread on\ntomcat-user, including some developer specific informations.\n\nOne part of the problem is the usage of File.toURL in URLClassloader...\n\nI\'d really appreciate it if this problem could be fixed/worked around (see\nmail-thread for hints).\n\nbtw. the same applies to version 5.5 and probably earlier versions too.\n\nthanks!','tomcat path pound sign class not found except classnotfoundexcept tomcat start locat launch path pound charact somewher ll find inform given mail thread mailthread tomcat user tomcatus includ develop specif inform one part problem usag file to tourl classload urlclassload realli appreci problem could fix work around see mail thread mailthread hint btw appli version probabl earlier version thank','tomcat path pound sign class not found except classnotfoundexcept','tomcat start locat launch path pound charact somewher ll find inform given mail thread mailthread tomcat user tomcatus includ develop specif inform one part problem usag file to tourl classload urlclassload realli appreci problem could fix work around see mail thread mailthread hint btw appli version probabl earlier version thank','2007-08-16 14:35:07',1187290000,'resolved fixed','fa91954',1209680000,'java/org/apache/catalina/startup/ClassLoaderFactory.java\njava/org/apache/jasper/JspCompilationContext.java'),(932,43142,'Bug 43142  webapp expanded in a FOLDER named webapps/xxx.war is loaded TWICE','reproduce: copy the expanded of file xxx.war file in a FOLDER \ntomcat/webapps/xxx.war\n\nbug: tomcat will load the app TWICE','webapp expand folder name webapp xxx load twice reproduc copi expand file xxx file folder tomcat webapp xxx tomcat load app twice','webapp expand folder name webapp xxx load twice','reproduc copi expand file xxx file folder tomcat webapp xxx tomcat load app twice','2007-08-16 06:24:52',1187260000,'resolved fixed','6a8b1bb',1209630000,'java/org/apache/catalina/startup/HostConfig.java'),(933,43366,'Bug 43366  Session Statistics command in manager fails with \"Unknown command /sessions\"','','session statist command manag fail unknown command session','session statist command manag fail unknown command session','','2007-09-12 08:15:55',1189600000,'resolved fixed','f4a7632',1209320000,'java/org/apache/catalina/manager/ManagerServlet.java'),(934,44877,'Bug 44877  ClassCastException due to bad TagHandlerPool name generation of two different tags','','class cast except classcastexcept due bad tag handler pool taghandlerpool name gener two differ tag','class cast except classcastexcept due bad tag handler pool taghandlerpool name gener two differ tag','','2008-04-25 13:43:26',1209150000,'resolved fixed','dfa25f4',1209320000,'java/org/apache/jasper/compiler/Generator.java'),(935,43425,'Bug 43425  Non-compliant annotations','','non compliant noncompli annot','non compliant noncompli annot','','2007-09-18 21:33:56',1190170000,'resolved fixed','48131cd',1209160000,'java/javax/annotation/security/DenyAll.java\njava/javax/ejb/EJB.java\njava/javax/persistence/PersistenceContext.java\njava/javax/persistence/PersistenceProperty.java'),(936,31257,'Bug 31257  java.endorsed.dirs is not used when JSP compilation is forked','When the JSP compiler forks a javac process, it should check to see what the \ncurrently endorsed directories are (check the system \nproperty \"java.endorsed.dirs\" - otherwise, classes end up missing and JSP \npages do not properly compile.  We experienced a problem when we explicitly \nset the java.endorsed.dirs property on the command line, and the JSP compiler \ndid not use it when javac was forked.\n\nI have patched org.apache.jasper.compiler.Compiler to support this:\n*** src.original\\jakarta-tomcat-jasper\\jasper2\n\\src\\share\\org\\apache\\jasper\\compiler\\Compiler.java       Tue Jun 15 17:30:35 \n2004\n--- src\\org\\apache\\jasper\\compiler\\Compiler.java        Thu Sep 16 00:05:14 \n2004\n\n***************\n*** 349,358 ****\n--- 349,369 ----\n              extdirs.setPath(exts);\n              javac.setExtdirs(extdirs);\n              info.append(\"    extension dir=\" + exts + \"\\n\");\n          }\n\n+         // Add endorsed directories\n+         String endorsed = System.getProperty(\"java.endorsed.dirs\");\n+         if(endorsed != null) {\n+             Javac.ImplementationSpecificArgument endorsedArg = \njavac.createCompilerArg();\n+             endorsedArg.setLine(\"-J-Djava.endorsed.dirs=\"+endorsed);\n+             info.append(\"    endorsed dir=\" + endorsed + \"\\n\");\n+         }\n+         else {\n+             info.append(\"    no endorsed dirs specified\\n\");\n+         }\n+\n          // Configure the compiler object\n          javac.setEncoding(javaEncoding);\n          javac.setClasspath(path);\n          javac.setDebug(ctxt.getOptions().getClassDebugInfo());\n\ntrue, i should probably check ctxt.getOptions().getFork() in the if() as well, \nbut since i always fork it doesn\'t matter to me.','java endors dir use jsp compil fork jsp compil fork javac process check see current endors directori check system properti java endors dir otherwis class miss jsp page properli compil experienc problem explicitli set java endors dir properti command line jsp compil use javac fork patch apach jasper compil compil support src origin jakarta tomcat jasper jakartatomcatjasp jasper2 src share apach jasper compil compil java jun src apach jasper compil compil java thu sep extdir set path setpath ext javac set extdir setextdir extdir info append extens ext add endors directori string endors system get properti getproperti java endors dir endors null javac implement specif argument implementationspecificargu endors arg endorsedarg javac creat compil arg createcompilerarg endors arg endorsedarg set line setlin djava endors dir endors info append endors endors els info append endors dir specifi configur compil object javac set encod setencod java encod javaencod javac set classpath setclasspath path javac set debug setdebug ctxt get option getopt get class debug info getclassdebuginfo true probabl check ctxt get option getopt get fork getfork well sinc alway fork doesn matter','java endors dir use jsp compil fork','jsp compil fork javac process check see current endors directori check system properti java endors dir otherwis class miss jsp page properli compil experienc problem explicitli set java endors dir properti command line jsp compil use javac fork patch apach jasper compil compil support src origin jakarta tomcat jasper jakartatomcatjasp jasper2 src share apach jasper compil compil java jun src apach jasper compil compil java thu sep extdir set path setpath ext javac set extdir setextdir extdir info append extens ext add endors directori string endors system get properti getproperti java endors dir endors null javac implement specif argument implementationspecificargu endors arg endorsedarg javac creat compil arg createcompilerarg endors arg endorsedarg set line setlin djava endors dir endors info append endors endors els info append endors dir specifi configur compil object javac set encod setencod java encod javaencod javac set classpath setclasspath path javac set debug setdebug ctxt get option getopt get class debug info getclassdebuginfo true probabl check ctxt get option getopt get fork getfork well sinc alway fork doesn matter','2004-09-16 05:10:06',1095330000,'resolved fixed','0ea3e15',1208730000,'java/org/apache/jasper/compiler/AntCompiler.java'),(937,29936,'Bug 29936  XML parser loading problems by container','I\'m trying to use JSTL 1.1 with this version of tomcat and have both saxon and \ncrimson in my web-app.\n\nIf we have crimson and saxon in our webapp lib then tomcat tries to use crimson \nas the xml parser when reading the web.xml and compiling the jsp and we get the \nprefix error:\n\norg.apache.jasper.JasperException: <h3>Validation error messages from \nTagLibraryValidator for c</h3><p>null: java.lang.IllegalStateException: can\'t \ndeclare any more prefixes in this context</p><h3>Validation error messages from \nTagLibraryValidator for fmt</h3><p>null: java.lang.IllegalStateException: can\'t \ndeclare any more prefixes in this context</p>\n\nIf we remove crimson, tomcat uses saxon (aelfred parser) and this fails on \nreading the web.xml (javax.xml.parsers.ParserConfigurationException: AElfred \nparser is namespace-aware)\n\nIf we remove saxon and crimson then we are okay (defaults to xerces in the \ntomcat endorsed directory?)\n\nIt seems to me that tomcat is using the parser in my web-app to read the \nweb.xml rather than using xerces from the endorsed directory.  \n\nThe same web-app runs without problems in version 5.0.16.  \n\nTomcat seems to be using the service provider mechanism in 5.0.25 as I have \nproperty files in C:\\Java\\jakarta-tomcat-5.0.25\n\\work\\Catalina\\localhost\\diabetes\\loader\\META-INF\\services (can\'t find any \ndocuments on this).\n\nIf I\'m using more than one parser won\'t this cause problems as tomcat is \nsetting only one parser and xslt processor here?\n\nAny comments are gratefully received.\n\nThanks,\nPeter Neville','xml parser load problem contain tri use jstl version tomcat saxon crimson web app webapp crimson saxon webapp lib tomcat tri use crimson xml parser read web xml compil jsp get prefix error apach jasper jasper except jasperexcept h3 valid error messag tag librari valid taglibraryvalid h3 null java lang illeg state except illegalstateexcept declar prefix context h3 valid error messag tag librari valid taglibraryvalid fmt h3 null java lang illeg state except illegalstateexcept declar prefix context remov crimson tomcat us saxon aelfr parser fail read web xml javax xml parser parser configur except parserconfigurationexcept elfr aelfr parser namespac awar namespaceawar remov saxon crimson okay default xerc tomcat endors directori seem tomcat use parser web app webapp read web xml rather use xerc endors directori web app webapp run without problem version tomcat seem use servic provid mechan properti file java jakarta tomcat jakartatomcat work catalina localhost diabet loader meta inf servic find document use one parser won caus problem tomcat set one parser xslt processor comment grate receiv thank peter nevil','xml parser load problem contain','tri use jstl version tomcat saxon crimson web app webapp crimson saxon webapp lib tomcat tri use crimson xml parser read web xml compil jsp get prefix error apach jasper jasper except jasperexcept h3 valid error messag tag librari valid taglibraryvalid h3 null java lang illeg state except illegalstateexcept declar prefix context h3 valid error messag tag librari valid taglibraryvalid fmt h3 null java lang illeg state except illegalstateexcept declar prefix context remov crimson tomcat us saxon aelfr parser fail read web xml javax xml parser parser configur except parserconfigurationexcept elfr aelfr parser namespac awar namespaceawar remov saxon crimson okay default xerc tomcat endors directori seem tomcat use parser web app webapp read web xml rather use xerc endors directori web app webapp run without problem version tomcat seem use servic provid mechan properti file java jakarta tomcat jakartatomcat work catalina localhost diabet loader meta inf servic find document use one parser won caus problem tomcat set one parser xslt processor comment grate receiv thank peter nevil','2004-07-06 15:18:51',1089140000,'resolved fixed','06c23d8',1208720000,'java/org/apache/catalina/startup/ContextConfig.java'),(938,44380,'Bug 44380  TldConfig / Scan of URL that are not files','The TldConfig class (org.apache.catalina.startup) is asking ClassLoader and all\nparent ClassLoader in order to get the URLs and then assume that the URLs are\nusing \"file\" protocol.\n\nBut when Tomcat is embedded, sometimes the URL are not always using \"file\"\nprotocol and then new File() will fail.\n\nThe given patch is to skip the URLs that are not using file protocol (that\navoids ugly NPE in the \"new File(urls[i].toURI());\" call','tld config tldconfig scan url file tld config tldconfig class apach catalina startup ask class loader classload parent class loader classload order get url assum url use file protocol tomcat embed sometim url alway use file protocol new file fail given patch skip url use file protocol avoid ugli npe new file url to touri call','tld config tldconfig scan url file','tld config tldconfig class apach catalina startup ask class loader classload parent class loader classload order get url assum url use file protocol tomcat embed sometim url alway use file protocol new file fail given patch skip url use file protocol avoid ugli npe new file url to touri call','2008-02-08 05:29:21',1202470000,'resolved fixed','2edf51e',1207960000,'java/org/apache/catalina/startup/TldConfig.java'),(939,44389,'Bug 44389  Cleanup of org.apache.naming.resources.CacheEntry resources (memory leak)','Hi,\n\n   I am memory profiling a webapp for my company because we suspect it has\nmemory leaks when redeploying. This webapp has to be redeployed several times a\nweek for security reasons (most of the time it is undeployed) and the memory\nleaks forced us to shutdown tomcat once a week to avoid OOM exception.\n\n   I\'m using jvm1.5 and tomcat 6.0.13 (also tried with 6.0.14 and today with\n6.0.16), and Yourkit as the profiling tool. I have made the test in both linux\nand windows.\n\n   I have created a JMeter test to deploy the app using the manager, make some\nrequest to the app and then undeploy it using again the manager app in a loop.\nAfter some redeployments, I got my OutOfMemoryException. Then I checked with my\nprofiling tool and found that my own classes were correctly destroyed, and the\nclasses retaining more memory were these ones (listed as a heirarchy):\n\n   org.apache.catalina.core.ApplicationContext$DispatchData\n   org.apache.catalina.core.ApplicationContext\nmapper of  org.apache.catalina.core.StandardContext\ncontext of  org.apache.tomcat.util.http.mapper.Mapper\nresources of  org.apache.tomcat.util.http.mapper.Mapper$Context  cache of \norg.apache.naming.resources.ProxyDirContext  cache of \norg.apache.naming.resources.ResourceCache\norg.apache.naming.resources.CacheEntry[]\n\n   The number of objects of each class were exactly the number of times I had\nredeployed the webapp. I have checked the contents of CacheEntry inside\nCacheEntry[] and it has an attribute \"name\" and the contents are the jsps and\ntld files of my app. There are as many CacheEntry with the same jsp attribute as\ntimes the webapp has been reloaded, so I guess there is no cleaning of\nCacheEntry resources at context shutdown.\n\n   To reproduce this, a simple webapp with 2 jsp and a taglibrary can be used.\nDeploy and undeploy it many times so you can see how the count of these objects\ngrows in memory.','cleanup apach name resourc cach entri cacheentri resourc memori leak hi memori profil webapp compani suspect memori leak redeploy webapp redeploy sever time week secur reason time undeploy memori leak forc u shutdown tomcat week avoid oom except use jvm1 tomcat tri today yourkit profil tool made linux window creat meter jmeter deploy app use manag make request app undeploy use manag app loop redeploy got out of memori except outofmemoryexcept check profil tool found class correctli destroy class retain memori one list heirarchi apach catalina core applic context applicationcontext dispatch data dispatchdata apach catalina core applic context applicationcontext mapper apach catalina core standard context standardcontext context apach tomcat util http mapper mapper resourc apach tomcat util http mapper mapper context cach apach name resourc proxi dir context proxydircontext cach apach name resourc resourc cach resourcecach apach name resourc cach entri cacheentri number object class exactli number time redeploy webapp check content cach entri cacheentri insid cach entri cacheentri attribut name content jsp tld file app mani cach entri cacheentri jsp attribut time webapp reload guess clean cach entri cacheentri resourc context shutdown reproduc simpl webapp jsp taglibrari use deploy undeploy mani time see count object grow memori','cleanup apach name resourc cach entri cacheentri resourc memori leak','hi memori profil webapp compani suspect memori leak redeploy webapp redeploy sever time week secur reason time undeploy memori leak forc u shutdown tomcat week avoid oom except use jvm1 tomcat tri today yourkit profil tool made linux window creat meter jmeter deploy app use manag make request app undeploy use manag app loop redeploy got out of memori except outofmemoryexcept check profil tool found class correctli destroy class retain memori one list heirarchi apach catalina core applic context applicationcontext dispatch data dispatchdata apach catalina core applic context applicationcontext mapper apach catalina core standard context standardcontext context apach tomcat util http mapper mapper resourc apach tomcat util http mapper mapper context cach apach name resourc proxi dir context proxydircontext cach apach name resourc resourc cach resourcecach apach name resourc cach entri cacheentri number object class exactli number time redeploy webapp check content cach entri cacheentri insid cach entri cacheentri attribut name content jsp tld file app mani cach entri cacheentri jsp attribut time webapp reload guess clean cach entri cacheentri resourc context shutdown reproduc simpl webapp jsp taglibrari use deploy undeploy mani time see count object grow memori','2008-02-11 02:03:09',1202710000,'resolved fixed','6723b35',1207950000,'java/org/apache/catalina/core/ApplicationContext.java'),(940,44391,'Bug 44391  SSI handling of escaped characters broken','In org.apache.catalina.ssi.SSIProcessor the method parseParamNames is broken. If\nI have a SSI directive like <!--#set var=\"test\" value=\"blubb\\\"\\\"\" --> the method\ndetects three parameters instead of two. This is because there are two\nconsecutive escaped characters. Although the first one \\\" is detected correctly\nthe next one isn\'t because the flag escaped is still set to true, although this\ncharacter isn\'t escaped anymore.\n\nYou have to replace\n\nboolean escaped = false;\nfor (; bIdx < cmd.length() && quotes != 2; bIdx++) {\n  char c = cmd.charAt(bIdx);\n  // Need to skip escaped characters\n  if (c == \'\\\\\' && !escaped) {\n    escaped = true;\n    bIdx++;\n    continue;\n  }\n  escaped = false;\n  if (c == \'\"\') quotes++;\n}\n\nby \n\nfor (; bIdx < cmd.length() && quotes != 2; bIdx++) {\n  char c = cmd.charAt(bIdx);\n  // Need to skip escaped characters\n  if (c == \'\\\\\') {\n    bIdx++;\n    continue;\n  }\n  if (c == \'\"\') quotes++;\n}\n\nJust removing the flag escaped is sufficient, because you don\'t have to remember\nwhether the last character was escaped and that should have no influence to\nconsecutive characters.\n\nThe bug still exists in the HEAD revision of the repository.','ssi handl escap charact broken apach catalina ssi processor ssiprocessor method pars param name parseparamnam broken ssi direct like set valu blubb method detect three paramet instead two two consecut escap charact although first one detect correctli next one isn flag escap still set true although charact isn escap anymor replac boolean escap fals idx bidx cmd length quot idx bidx char cmd char at charat idx bidx need skip escap charact escap escap true idx bidx continu escap fals quot idx bidx cmd length quot idx bidx char cmd char at charat idx bidx need skip escap charact idx bidx continu quot remov flag escap suffici rememb whether last charact escap influenc consecut charact still exist head revis repositori','ssi handl escap charact broken','apach catalina ssi processor ssiprocessor method pars param name parseparamnam broken ssi direct like set valu blubb method detect three paramet instead two two consecut escap charact although first one detect correctli next one isn flag escap still set true although charact isn escap anymor replac boolean escap fals idx bidx cmd length quot idx bidx char cmd char at charat idx bidx need skip escap charact escap escap true idx bidx continu escap fals quot idx bidx cmd length quot idx bidx char cmd char at charat idx bidx need skip escap charact idx bidx continu quot remov flag escap suffici rememb whether last charact escap influenc consecut charact still exist head revis repositori','2008-02-11 04:37:40',1202720000,'resolved fixed','df75937',1207950000,'java/org/apache/catalina/ssi/SSIProcessor.java'),(941,44392,'Bug 44392  HTML entities not resolved in SSI filter','HTML entities which are contained in an SSI set directive aren\'t resolved by the\nSSI filter (in contrary to what is done by mod_include of Apaches HTTP).\n\nmod_include resolves all HTML entities in most of the attribute values of ssi\ndirectives. It also resolves \\\" to \" and \\$ to $.\n\nThe ssi filter of tomcat resolves all escaped character which are escaped with a\nbackslash, but no HTML entities at all.\n\nApart from that, giving encoding \"entity\" should be different from giving\nencoding=\"none\" to the SSI echo directive. One should replace all invalid HTML\ncharacters by valid HTML entities and the other one should do nothing.\n\nThe encoding is especially important if you wan\'t to store a HTML-Comment within\na SSI variable.\n\nIf I want to store a variable test with the value \"<!-- testvalue \"x\" -->\"\n\n\n<!--#set var=\"test\" value=\"<!-- testvalue \"x\" -->\"-->\n\nfor mod_include you must write:\n\n<!--#set var=\"test\" value=\"<!&#45;&#45; testvalue \\\"x\\\" &#45;&#45;>\" -->\n\nfor Tomcats SSI you must write:\n\n<!--#set var=\"test\" value=\"<!\\-\\- testvalue \\\"x\\\" \\-\\->\" -->\n\nAnd there should be a difference whether I output this variable with\n<!--#echo var=\"test\" encoding=\"none\" -->  \nwhich should lead to <!-- testvalue \"x\" -->, or\n<!--#echo var=\"test\" encoding=\"entity\" -->\nwhich should lead to &lt;!-- testvalue &quot;x&quot; --&gt;','html entiti resolv ssi filter html entiti contain ssi set direct aren resolv ssi filter contrari done includ apach http includ resolv html entiti attribut valu ssi direct resolv ssi filter tomcat resolv escap charact escap backslash html entiti apart give encod entiti differ give encod none ssi echo direct one replac invalid html charact valid html entiti one noth encod especi import wan store html comment within ssi variabl store variabl valu testvalu set valu testvalu includ must write set valu testvalu tomcat ssi must write set valu testvalu differ whether output variabl echo encod none lead testvalu echo encod entiti lead lt testvalu quot quot gt','html entiti resolv ssi filter','html entiti contain ssi set direct aren resolv ssi filter contrari done includ apach http includ resolv html entiti attribut valu ssi direct resolv ssi filter tomcat resolv escap charact escap backslash html entiti apart give encod entiti differ give encod none ssi echo direct one replac invalid html charact valid html entiti one noth encod especi import wan store html comment within ssi variabl store variabl valu testvalu set valu testvalu includ must write set valu testvalu tomcat ssi must write set valu testvalu differ whether output variabl echo encod none lead testvalu echo encod entiti lead lt testvalu quot quot gt','2008-02-11 05:37:37',1202730000,'resolved fixed','75fbd91',1207940000,'java/org/apache/catalina/ssi/SSIEcho.java\njava/org/apache/catalina/ssi/SSIMediator.java'),(942,44408,'Bug 44408  EL-expression evaluation slow due to synchronization caused by JspFactory.getDefaultFactory','','express elexpress evalu slow due synchron caus jsp factori jspfactori get default factori getdefaultfactori','express elexpress evalu slow due synchron caus jsp factori jspfactori get default factori getdefaultfactori','','2008-02-13 03:36:02',1202890000,'resolved fixed','1f41c3d',1207850000,'java/org/apache/jasper/runtime/PageContextImpl.java'),(943,44428,'Bug 44428  FunctionMapperImpl.Function throws a NPE in certain circumstances','In FunctionMapperImpl.Function it is possible for writeExternal to fail if the\nclass has just been de-serialised and is then serialised again.\n\nIf you look at writeExternal:\n\n   public void writeExternal(ObjectOutput out) throws IOException {\n      out.writeUTF((this.prefix != null) ? this.prefix : \"\");\n      out.writeUTF(this.localName);\n      out.writeUTF(this.m.getDeclaringClass().getName());\n      out.writeUTF(this.m.getName());\n      out.writeObject(ReflectionUtil.toTypeNameArray(\n         this.m.getParameterTypes()));\n   }\n\nyou can see that it externalises the function to be invoked by using the\nreference to the Method itself.\n\nIf you look at readExternal however:\n\n   public void readExternal(ObjectInput in) throws IOException,\n         ClassNotFoundException {\n            \n      this.prefix = in.readUTF();\n      if (\"\".equals(this.prefix)) this.prefix = null;\n      this.localName = in.readUTF();\n      this.owner = in.readUTF();\n      this.name = in.readUTF();\n      this.types = (String[]) in.readObject();\n   }\n\nYou can see that it doesn\'t restore the Method after deserialisation. The method\nis restored if it is accessed, however if it\'s not and then serialisation is\nperformed writeExternal will throw a NPE (as m is still null).\n\nThe fix is to either get the method to be reconstructed as soon as\ndeserialisation completes - or perhaps to be a bit more efficient, in\nwriteExternal change it such that if m is null it externalises using the\ncomponents of the method:\n\n   public void writeExternal(ObjectOutput out) throws IOException {\n      out.writeUTF((this.prefix != null) ? this.prefix : \"\");\n      out.writeUTF(this.localName);\n      if (m == null) {\n         out.writeUTF(this.owner);\n         out.writeUTF(this.name);\n         out.writeObject(this.types);\n      } else if (this.m != null) {\n         out.writeUTF(this.m.getDeclaringClass().getName());\n         out.writeUTF(this.m.getName());\n         out.writeObject(ReflectionUtil.toTypeNameArray(\n            this.m.getParameterTypes()));\n      }\n   }','function mapper impl functionmapperimpl function throw npe certain circumst function mapper impl functionmapperimpl function possibl write extern writeextern fail class de serialis deserialis serialis look write extern writeextern public void write extern writeextern object output objectoutput throw except ioexcept write writeutf prefix null prefix write writeutf local name localnam write writeutf get declar class getdeclaringclass get name getnam write writeutf get name getnam write object writeobject reflect util reflectionutil to type name array totypenamearray get paramet type getparametertyp see externalis function invok use refer method look read extern readextern howev public void read extern readextern object input objectinput throw except ioexcept class not found except classnotfoundexcept prefix read readutf equal prefix prefix null local name localnam read readutf owner read readutf name read readutf type string read object readobject see doesn restor method deserialis method restor access howev serialis perform write extern writeextern throw npe still null fix either get method reconstruct soon deserialis complet perhap bit effici write extern writeextern chang null externalis use compon method public void write extern writeextern object output objectoutput throw except ioexcept write writeutf prefix null prefix write writeutf local name localnam null write writeutf owner write writeutf name write object writeobject type els null write writeutf get declar class getdeclaringclass get name getnam write writeutf get name getnam write object writeobject reflect util reflectionutil to type name array totypenamearray get paramet type getparametertyp','function mapper impl functionmapperimpl function throw npe certain circumst','function mapper impl functionmapperimpl function possibl write extern writeextern fail class de serialis deserialis serialis look write extern writeextern public void write extern writeextern object output objectoutput throw except ioexcept write writeutf prefix null prefix write writeutf local name localnam write writeutf get declar class getdeclaringclass get name getnam write writeutf get name getnam write object writeobject reflect util reflectionutil to type name array totypenamearray get paramet type getparametertyp see externalis function invok use refer method look read extern readextern howev public void read extern readextern object input objectinput throw except ioexcept class not found except classnotfoundexcept prefix read readutf equal prefix prefix null local name localnam read readutf owner read readutf name read readutf type string read object readobject see doesn restor method deserialis method restor access howev serialis perform write extern writeextern throw npe still null fix either get method reconstruct soon deserialis complet perhap bit effici write extern writeextern chang null externalis use compon method public void write extern writeextern object output objectoutput throw except ioexcept write writeutf prefix null prefix write writeutf local name localnam null write writeutf owner write writeutf name write object writeobject type els null write writeutf get declar class getdeclaringclass get name getnam write writeutf get name getnam write object writeobject reflect util reflectionutil to type name array totypenamearray get paramet type getparametertyp','2008-02-15 02:36:16',1203060000,'resolved fixed','0035fd4',1207780000,'java/org/apache/el/lang/FunctionMapperImpl.java'),(944,44595,'Bug 44595  Add possibility to request the QueueSize of an executor via JMX','','add possibl request queue size queuesiz executor via jmx','add possibl request queue size queuesiz executor via jmx','','2008-03-13 01:34:50',1205390000,'resolved fixed','c3c525b',1207560000,'java/org/apache/catalina/core/StandardThreadExecutor.java'),(945,44529,'Bug 44529  RealmBase authorization via hasResourcePermission not fully servlet spec compliant','The authorization implementation in RealmBase, in the hasResourcePermission method is not fully servlet specification compliant. The spec (both 2.4 and 2.5) states:\n\n\"...\nA security constraint that does not contain an authorization constraint shall combine with authorization constraints that name or imply roles to allow unauthenticated access. \nThe special case of an authorization constraint that names no roles shall combine with any other constraints to override their affects and cause access to be precluded.\n...\"\n\nIn Tomcat this works fine as long as there aren\'t weird (but legal!) combinations or security-constraints on the same URLs.\n\nExample:\n\n  <security-constraint>\n    <web-resource-collection>\n      <url-pattern>/someUrl/*</url-pattern>\n      <http-method>POST</http-method>\n    </web-resource-collection>\n    <!-- no auth-constraint, to allow everyone -->\n  </security-constraint>\n\n  <security-constraint>\n    <web-resource-collection>\n      <url-pattern>/someUrl/*</url-pattern>\n      <http-method>POST</http-method>\n    </web-resource-collection>\n    <!-- no roles, to allow noone -->\n    <auth-constraint />\n  </security-constraint>\n\n(if we ignore that this kind of configuration is pretty pointless,)\nthe spec dictates that a POST to /someUrl/index.html should be denied access.\nTomcat grants it. (both 5.5.23 and 6.0.14 do)\n\n\nExample 2:\n\n  <security-constraint>\n    <web-resource-collection>\n      <url-pattern>/someUrl/*</url-pattern>\n      <http-method>POST</http-method>\n    </web-resource-collection>\n    <!-- no roles, to allow noone -->\n    <auth-constraint />\n  </security-constraint>\n\n  <security-constraint>\n    <web-resource-collection>\n      <url-pattern>/someUrl/*</url-pattern>\n      <http-method>POST</http-method>\n    </web-resource-collection>\n    <auth-constraint>\n      <role-name>*</role-name>\n    </auth-constraint>\n  </security-constraint>\n\nNow it gets interesting. In \"strict\" mode, access to /someUrl/index.html is denied (regardless of the web.xml-configured security roles and the roles the user has).\nIn \"auth-only\" mode, access is always granted, and in \"strict auth-only\" mode access is granted if there are no web.xml-configured security roles.\nNow these modes are a Tomcat addition to the spec, but I feel access should have been denied in all modes, both to stay in line with the spec and to keep the behaviour predictable.','realm base realmbas author via ha resourc permiss hasresourcepermiss fulli servlet spec compliant author implement realm base realmbas ha resourc permiss hasresourcepermiss method fulli servlet specif compliant spec state secur constraint contain author constraint shall combin author constraint name impli role allow unauthent access special case author constraint name role shall combin constraint overrid affect caus access preclud tomcat work fine long aren weird legal combin secur constraint securityconstraint url exampl secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect auth constraint authconstraint allow everyon secur constraint securityconstraint secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect role allow noon auth constraint authconstraint secur constraint securityconstraint ignor kind configur pretti pointless spec dictat post some url someurl index html deni access tomcat grant exampl secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect role allow noon auth constraint authconstraint secur constraint securityconstraint secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect auth constraint authconstraint role name rolenam role name rolenam auth constraint authconstraint secur constraint securityconstraint get interest strict mode access some url someurl index html deni regardless web xml configur xmlconfigur secur role role user auth onli authonli mode access alway grant strict auth onli authonli mode access grant web xml configur xmlconfigur secur role mode tomcat addit spec feel access deni mode stay line spec keep behaviour predict','realm base realmbas author via ha resourc permiss hasresourcepermiss fulli servlet spec compliant','author implement realm base realmbas ha resourc permiss hasresourcepermiss method fulli servlet specif compliant spec state secur constraint contain author constraint shall combin author constraint name impli role allow unauthent access special case author constraint name role shall combin constraint overrid affect caus access preclud tomcat work fine long aren weird legal combin secur constraint securityconstraint url exampl secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect auth constraint authconstraint allow everyon secur constraint securityconstraint secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect role allow noon auth constraint authconstraint secur constraint securityconstraint ignor kind configur pretti pointless spec dictat post some url someurl index html deni access tomcat grant exampl secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect role allow noon auth constraint authconstraint secur constraint securityconstraint secur constraint securityconstraint web resourc collect webresourcecollect url pattern urlpattern some url someurl url pattern urlpattern http method httpmethod post http method httpmethod web resourc collect webresourcecollect auth constraint authconstraint role name rolenam role name rolenam auth constraint authconstraint secur constraint securityconstraint get interest strict mode access some url someurl index html deni regardless web xml configur xmlconfigur secur role role user auth onli authonli mode access alway grant strict auth onli authonli mode access grant web xml configur xmlconfigur secur role mode tomcat addit spec feel access deni mode stay line spec keep behaviour predict','2008-03-04 08:04:54',1204640000,'resolved fixed','7be2374',1206800000,'java/org/apache/catalina/realm/RealmBase.java'),(946,44673,'Bug 44673  ServletInputStream still readable even when closed','','servlet input stream servletinputstream still readabl even close','servlet input stream servletinputstream still readabl even close','','2008-03-25 15:32:18',1206470000,'resolved fixed','ca41a27',1206490000,'java/org/apache/catalina/connector/InputBuffer.java'),(947,44646,'Bug 44646  IllegalStateException when using CometConnectionManagerValve','We\'re writing an application that processes requests using both a normal servlet and a CometProcessor. The normal servlet handles user authentication and logout (among other things). Once the user has been authenticated, the client makes a Comet request, which is open until the server has something to push to the client. When the user decides to log out, we need to stop processing Comet events for that client. I enabled the CometConnectionManagerValve in context.xml, hoping I would get an END event when the session goes away. Instead, I get an IllegalStateException:\nMar 10, 2008 2:05:41 PM org.apache.catalina.connector.CoyoteAdapter event\nSEVERE: An exception or error occurred in the container during the request processing\njava.lang.IllegalStateException: Cannot create a session after the response has been committed\n   at org.apache.catalina.connector.Request.doGetSession(Request.java:2301)\n   at org.apache.catalina.connector.Request.getSession(Request.java:2075)\n   at org.apache.catalina.valves.CometConnectionManagerValve.event(CometConnectionManagerValve.java:311)\n   at org.apache.catalina.core.StandardHostValve.event(StandardHostValve.java:179)\n   at org.apache.catalina.valves.ValveBase.event(ValveBase.java:200)\n   at org.apache.catalina.core.StandardEngineValve.event(StandardEngineValve.java:128)\n   at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:198)\n   at org.apache.coyote.http11.Http11NioProcessor.event(Http11NioProcessor.java:749)\n   at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.event(Http11NioProtocol.java:653)\n   at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2080)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n   at java.lang.Thread.run(Thread.java:619)\n\nPresumably my servlet handles the \"logout\" request, and after sending a response to the client, calls invalidate() on the HttpSession. Subsequently, CometConnectionManagerValue.event() calls request.getSession(true), resulting in the IllegalStateException.','illeg state except illegalstateexcept use comet connect manag valv cometconnectionmanagervalv re write applic process request use normal servlet comet processor cometprocessor normal servlet handl user authent logout among thing user authent client make comet request open server someth push client user decid log need stop process comet event client enabl comet connect manag valv cometconnectionmanagervalv context xml hope would get event session go away instead get illeg state except illegalstateexcept mar pm apach catalina connector coyot adapt coyoteadapt event sever except error occur contain request process java lang illeg state except illegalstateexcept cannot creat session respons commit apach catalina connector request do get session dogetsess request java apach catalina connector request get session getsess request java apach catalina valv comet connect manag valv cometconnectionmanagervalv event comet connect manag valv cometconnectionmanagervalv java apach catalina core standard host valv standardhostvalv event standard host valv standardhostvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard engin valv standardenginevalv event standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor event http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl event http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java presum servlet handl logout request send respons client call invalid http session httpsession subsequ comet connect manag valu cometconnectionmanagervalu event call request get session getsess true result illeg state except illegalstateexcept','illeg state except illegalstateexcept use comet connect manag valv cometconnectionmanagervalv','re write applic process request use normal servlet comet processor cometprocessor normal servlet handl user authent logout among thing user authent client make comet request open server someth push client user decid log need stop process comet event client enabl comet connect manag valv cometconnectionmanagervalv context xml hope would get event session go away instead get illeg state except illegalstateexcept mar pm apach catalina connector coyot adapt coyoteadapt event sever except error occur contain request process java lang illeg state except illegalstateexcept cannot creat session respons commit apach catalina connector request do get session dogetsess request java apach catalina connector request get session getsess request java apach catalina valv comet connect manag valv cometconnectionmanagervalv event comet connect manag valv cometconnectionmanagervalv java apach catalina core standard host valv standardhostvalv event standard host valv standardhostvalv java apach catalina valv valv base valvebas event valv base valvebas java apach catalina core standard engin valv standardenginevalv event standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt event coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor event http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl event http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint socket processor socketprocessor run nio endpoint nioendpoint java java util concurr thread pool executor threadpoolexecutor worker run task runtask thread pool executor threadpoolexecutor java java util concurr thread pool executor threadpoolexecutor worker run thread pool executor threadpoolexecutor java java lang thread run thread java presum servlet handl logout request send respons client call invalid http session httpsession subsequ comet connect manag valu cometconnectionmanagervalu event call request get session getsess true result illeg state except illegalstateexcept','2008-03-20 09:33:14',1206020000,'resolved fixed','fdac1d6',1206310000,'java/org/apache/catalina/valves/CometConnectionManagerValve.java'),(948,44558,'Bug 44558  cite attempted address when throwing \"Cannot assign requested address\"','SEVERE: Error starting endpoint\njava.net.BindException: Cannot assign requested address:2217\n        at org.apache.tomcat.util.net.JIoEndpoint.init(JIoEndpoint.java:501)\n        at org.apache.tomcat.util.net.JIoEndpoint.start(JIoEndpoint.java:515)\n        at org.apache.coyote.http11.Http11Protocol.start(Http11Protocol.java:203)\n        at org.apache.catalina.connector.Connector.start(Connector.java:1131)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:531)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:578)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\nsaying which address a bind was attempted for would accelerate the error resolution quite a bit!','cite attempt address throw cannot assign request address sever error start endpoint java net bind except bindexcept cannot assign request address apach tomcat util net io endpoint jioendpoint init io endpoint jioendpoint java apach tomcat util net io endpoint jioendpoint start io endpoint jioendpoint java apach coyot http11 http11 protocol http11protocol start http11 protocol http11protocol java apach catalina connector connector start connector java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java say address bind attempt would acceler error resolut quit bit','cite attempt address throw cannot assign request address','sever error start endpoint java net bind except bindexcept cannot assign request address apach tomcat util net io endpoint jioendpoint init io endpoint jioendpoint java apach tomcat util net io endpoint jioendpoint start io endpoint jioendpoint java apach coyot http11 http11 protocol http11protocol start http11 protocol http11protocol java apach catalina connector connector start connector java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java say address bind attempt would acceler error resolut quit bit','2008-03-07 07:41:10',1204890000,'resolved fixed','7bd915c',1205080000,'java/org/apache/tomcat/util/net/JIoEndpoint.java'),(949,44562,'Bug 44562  HEAD requests cannot go through request dispatch include.','','head request cannot go request dispatch includ','head request cannot go request dispatch includ','','2008-03-07 13:19:40',1204910000,'resolved fixed','288b2ae',1205080000,'java/javax/servlet/http/HttpServlet.java'),(950,44337,'Bug 44337  Dir listing crashes if no readme-file present','DefaultServlet docu 6.0  says about attibute readmeFile:\nIf a directory listing is presented, a readme file\n *may* \nalso be presented with the listing. This file is inserted\n.....\n\nThis was true for 5.5.x.\n\n6.0.14 crashes if the file is absent in the listed directory.\njavax.servlet.ServletException: \nError opening readme resource at\norg.apache.catalina.servlets.DefaultServlet.getReadme(DefaultServlet.java:1418)\n\nThis new behaviour blocks the listing of big directory trees managed by others,\nwhere the work-around is nor feasible.\n\nWork around 1: readme file in *every* subdir, empty (length=0) if none wanted \n     (and subsequent changes in the used XSL-Transformers)\nWork around 2: Change \"may\" to  \"must\" in docu.\n\nRepair: fix DefaultServlet\n\nFrom web.xml:\n\n    <servlet>\n        <servlet-name>default</servlet-name>\n        <servlet-class>org.apache.catalina.servlets.DefaultServlet</servlet-class>\n        <init-param>\n            <param-name>listings</param-name>\n            <param-value>true</param-value>\n        </init-param>\n        <init-param>\n            <param-name>globalXsltFile</param-name>\n            <param-value>D:\\www\\serv-intra\\meva-dir-li.xsl</param-value>\n        </init-param>\n        <init-param>\n            <param-name>readmeFile</param-name>\n            <param-value>readme.htm</param-value>\n        </init-param>\n        <load-on-startup>1</load-on-startup>\n    </servlet>','list crash readm file readmefil present default servlet defaultservlet docu say attibut readm file readmefil directori list present readm file may present list file insert true crash file absent list directori javax servlet servlet except servletexcept error open readm resourc apach catalina servlet default servlet defaultservlet get readm getreadm default servlet defaultservlet java new behaviour block list big directori tree manag other work around workaround feasibl work around readm file everi subdir empti length none want subsequ chang use xsl transform work around chang may must docu repair fix default servlet defaultservlet web xml servlet servlet name servletnam default servlet name servletnam servlet class servletclass apach catalina servlet default servlet defaultservlet servlet class servletclass init param initparam param name paramnam list param name paramnam param valu paramvalu true param valu paramvalu init param initparam init param initparam param name paramnam global xslt file globalxsltfil param name paramnam param valu paramvalu www serv intra servintra meva dir li mevadirli xsl param valu paramvalu init param initparam init param initparam param name paramnam readm file readmefil param name paramnam param valu paramvalu readm htm param valu paramvalu init param initparam load on startup loadonstartup load on startup loadonstartup servlet','list crash readm file readmefil present','default servlet defaultservlet docu say attibut readm file readmefil directori list present readm file may present list file insert true crash file absent list directori javax servlet servlet except servletexcept error open readm resourc apach catalina servlet default servlet defaultservlet get readm getreadm default servlet defaultservlet java new behaviour block list big directori tree manag other work around workaround feasibl work around readm file everi subdir empti length none want subsequ chang use xsl transform work around chang may must docu repair fix default servlet defaultservlet web xml servlet servlet name servletnam default servlet name servletnam servlet class servletclass apach catalina servlet default servlet defaultservlet servlet class servletclass init param initparam param name paramnam list param name paramnam param valu paramvalu true param valu paramvalu init param initparam init param initparam param name paramnam global xslt file globalxsltfil param name paramnam param valu paramvalu www serv intra servintra meva dir li mevadirli xsl param valu paramvalu init param initparam init param initparam param name paramnam readm file readmefil param name paramnam param valu paramvalu readm htm param valu paramvalu init param initparam load on startup loadonstartup load on startup loadonstartup servlet','2008-02-01 01:54:32',1201850000,'resolved fixed','8a3b14b',1202090000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(951,43701,'Bug 43701  Error while starting tomcat','this is my NIO Connector configuration in server.xml \n<Connector acceptCount=\"100\" enableLookups=\"false\" port=\"80\"\nprotocol=\"org.apache.coyote.http11.Http11NioProtocol\" \n      acceptorThreadCount=\"2\" socket.bufferPool=\"-1\" connectionTimeout=\"60000\"\nmaxKeepAliveRequests=\"-1\" maxThreads=\"200\"\n      minSpareThreads=\"25\" redirectPort=\"8443\" />\n\nwhen I am starting my tomcat it is giving following error in the console several\ntime \nSEVERE: \njava.lang.NullPointerException\n	at org.apache.tomcat.util.net.NioEndpoint.setSocketOptions(NioEndpoint.java:985)\n	at org.apache.tomcat.util.net.NioEndpoint$Acceptor.run(NioEndpoint.java:1169)\n	at java.lang.Thread.run(Thread.java:595)','error start tomcat nio connector configur server xml connector accept count acceptcount enabl lookup enablelookup fals port protocol apach coyot http11 http11 nio protocol http11nioprotocol acceptor thread count acceptorthreadcount socket buffer pool bufferpool connect timeout connectiontimeout max keep aliv request maxkeepaliverequest max thread maxthread min spare thread minsparethread redirect port redirectport start tomcat give follow error consol sever time sever java lang null pointer except nullpointerexcept apach tomcat util net nio endpoint nioendpoint set socket option setsocketopt nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint acceptor run nio endpoint nioendpoint java java lang thread run thread java','error start tomcat','nio connector configur server xml connector accept count acceptcount enabl lookup enablelookup fals port protocol apach coyot http11 http11 nio protocol http11nioprotocol acceptor thread count acceptorthreadcount socket buffer pool bufferpool connect timeout connectiontimeout max keep aliv request maxkeepaliverequest max thread maxthread min spare thread minsparethread redirect port redirectport start tomcat give follow error consol sever time sever java lang null pointer except nullpointerexcept apach tomcat util net nio endpoint nioendpoint set socket option setsocketopt nio endpoint nioendpoint java apach tomcat util net nio endpoint nioendpoint acceptor run nio endpoint nioendpoint java java lang thread run thread java','2007-10-26 03:01:21',1193380000,'resolved fixed','bf6ce6f',1202070000,'java/org/apache/tomcat/util/net/NioEndpoint.java'),(952,44282,'Bug 44282  WebappClassLoader.findClass calls getClassLoader without privileges','When logging is in TRACE mode or lower,\norg.apache.catalina.loader.WebappClassLoader.findClass(String) calls\ngetClassLoader() without a privileged block.  With security enabled, this will\ncause a SecurityException if the RuntimePermission to getClassLoader is not granted.','webapp class loader webappclassload find class findclass call get class loader getclassload without privileg log trace mode lower apach catalina loader webapp class loader webappclassload find class findclass string call get class loader getclassload without privileg block secur enabl caus secur except securityexcept runtim permiss runtimepermiss get class loader getclassload grant','webapp class loader webappclassload find class findclass call get class loader getclassload without privileg','log trace mode lower apach catalina loader webapp class loader webappclassload find class findclass string call get class loader getclassload without privileg block secur enabl caus secur except securityexcept runtim permiss runtimepermiss get class loader getclassload grant','2008-01-22 23:50:47',1201060000,'resolved fixed','948598d',1201740000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(953,44268,'Bug 44268  Multiple registrations of same ServletContextListener class not possible','When I register the same class implementing ServletContextListener twice or more\nits\' contextInitialized methods only gets called once.\n\nThe servlet specifications (2.4 and 2.5) say the conforming container has to \ncall the listeners in the same order they are registered in the deployment\ndescriptor.\nThe case that one listener class is registered twice is not mentioned\nexplicitly in the specification, though.\n\nExample:\n<listener>\n  <listener-class>test.ServletContextListener1</listener-class>\n</listener>\n<listener>\n  <listener-class>test.ServletContextListener2</listener-class>\n</listener>\n<listener>\n  <listener-class>test.ServletContextListener1</listener-class>\n</listener>\n\ntest.ServletContextListener1 and test.ServletContextListener2 get called,\nbut test.ServletContextListener1 does not get called again.\n\nApache Tomcat 5.5.25 has the same bug.','multipl registr servlet context listen servletcontextlisten class possibl regist class implement servlet context listen servletcontextlisten twice context initi contextiniti method get call servlet specif say conform contain call listen order regist deploy descriptor case one listen class regist twice mention explicitli specif though exampl listen listen class listenerclass servlet context listener1 servletcontextlistener1 listen class listenerclass listen listen listen class listenerclass servlet context listener2 servletcontextlistener2 listen class listenerclass listen listen listen class listenerclass servlet context listener1 servletcontextlistener1 listen class listenerclass listen servlet context listener1 servletcontextlistener1 servlet context listener2 servletcontextlistener2 get call servlet context listener1 servletcontextlistener1 get call apach tomcat','multipl registr servlet context listen servletcontextlisten class possibl','regist class implement servlet context listen servletcontextlisten twice context initi contextiniti method get call servlet specif say conform contain call listen order regist deploy descriptor case one listen class regist twice mention explicitli specif though exampl listen listen class listenerclass servlet context listener1 servletcontextlistener1 listen class listenerclass listen listen listen class listenerclass servlet context listener2 servletcontextlistener2 listen class listenerclass listen listen listen class listenerclass servlet context listener1 servletcontextlistener1 listen class listenerclass listen servlet context listener1 servletcontextlistener1 servlet context listener2 servletcontextlistener2 get call servlet context listener1 servletcontextlistener1 get call apach tomcat','2008-01-18 08:42:18',1200660000,'resolved fixed','cdff09f',1200950000,'java/org/apache/catalina/core/StandardContext.java'),(954,44223,'Bug 44223  Tomcat ignores the \"javax.net.ssl.trustStoreType\" system property','Set up a SSL Connector with a keystore in JKS format:\n\n<Connector ... SSLEnabled=\"true\"\nkeystoreFile=\"tomcat.keystore\" keystoreType=\"JKS\">\n\nLet\'s say you need a custom truststore (e.g. for authenticating self-signed \nclient certificates), and that this truststore is also needed by some of your \nwebapps, not only Tomcat. The natural thing to do then is to configure this \ntruststore globally for the whole JVM, not in server.xml.\n\nLet\'s also assume this truststore is in a different format (e.g. PKCS#12). So \nbefore starting Tomcat, you do this:\n\nexport JAVA_OPTS=\"-Djavax.net.ssl.trustStore=trusted.keystore -\nDjavax.net.ssl.trustStoreType=PKCS12\"\n\nWell, it doesn\'t work. If you look at tomcat/logs/catalina.out, you will see a \nkeystore-related exception. Upon further debugging, you will discover the \nproblem is that Tomcat is trying to open the truststore as if it were in JKS \nformat, even though it is clearly specified as type PKCS12 in JAVA_OPTS above.','tomcat ignor javax net ssl trust store type truststoretyp system properti set ssl connector keystor jk format connector enabl sslenabl true keystor file keystorefil tomcat keystor keystor type keystoretyp jk let say need custom truststor authent self sign selfsign client certif truststor need webapp tomcat natur thing configur truststor global whole jvm server xml let assum truststor differ format pkc start tomcat export java opt djavax net ssl trust store truststor trust keystor djavax net ssl trust store type truststoretyp s12 pkcs12 well doesn work look tomcat log catalina see keystor relat keystorerel except upon debug discov problem tomcat tri open truststor jk format even though clearli specifi type s12 pkcs12 java opt','tomcat ignor javax net ssl trust store type truststoretyp system properti','set ssl connector keystor jk format connector enabl sslenabl true keystor file keystorefil tomcat keystor keystor type keystoretyp jk let say need custom truststor authent self sign selfsign client certif truststor need webapp tomcat natur thing configur truststor global whole jvm server xml let assum truststor differ format pkc start tomcat export java opt djavax net ssl trust store truststor trust keystor djavax net ssl trust store type truststoretyp s12 pkcs12 well doesn work look tomcat log catalina see keystor relat keystorerel except upon debug discov problem tomcat tri open truststor jk format even though clearli specifi type s12 pkcs12 java opt','2008-01-14 04:24:16',1200300000,'resolved fixed','f9e41b8',1200690000,'java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java'),(955,43468,'Bug 43468  HTMLManagerServlet NullPointerException listing context','Obtained the following NullPointerException, stack trace below\n\njava.lang.NullPointerException\n	org.apache.catalina.manager.HTMLManagerServlet.list(HTMLManagerServlet.java:437)\n	org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:136)\n\nCode is:\n\nargs[11] = new Integer(context.getManager().getMaxInactiveInterval()/60);\n\nSeemingly the getManager() is returning null.','manag servlet htmlmanagerservlet null pointer except nullpointerexcept list context obtain follow null pointer except nullpointerexcept stack trace java lang null pointer except nullpointerexcept apach catalina manag manag servlet htmlmanagerservlet list manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do get doget manag servlet htmlmanagerservlet java code arg new integ context get manag getmanag get max inact interv getmaxinactiveinterv seemingli get manag getmanag return null','manag servlet htmlmanagerservlet null pointer except nullpointerexcept list context','obtain follow null pointer except nullpointerexcept stack trace java lang null pointer except nullpointerexcept apach catalina manag manag servlet htmlmanagerservlet list manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do get doget manag servlet htmlmanagerservlet java code arg new integ context get manag getmanag get max inact interv getmaxinactiveinterv seemingli get manag getmanag return null','2007-09-24 18:46:12',1190670000,'resolved fixed','e14afee',1200530000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(956,11117,'Bug 11117  Coyote connector does not correctly deal with large PUT when using chunked transfer encoding','I\'ve built a small test servlet (included below) that shows this behaviour.\n\nIf I upload data to tomcat (configured to use the HTTP/1.1 Coyote connector)\nusing a chunked transfer-encoding on a PUT, then the result (i.e. what I read\nusing the servlet\'s request.getInputStream() is corrupted.\n\nThis _only_ happens on large PUTs (it happens every time I tried it (about 10)\non a large PUT - I was testing with something around 700 kB, and another thing\nof about 1 MB, but does NOT always corrupt it in the same way. I did not see any\ncorruption on small files (~50 kB and smaller), though I didn\'t test this\nextensively.\n\nThe total length of the data read is exactly correct (712080 bytes in my first\ntest). At the first point of corruption in the file, a chunk header appears in\nthe output (\"\\r\\n1000\\r\\n\") followed by correct data from about 700 bytes later\non, then a second copy (in the correct place, I think) of the corrupt data (i.e.\ncorrect data, followed by the chunk header, followed by some data repeated, the\nsecond instance of which is in the correct place - so the first instance is\nbeing produced _instead_ of the correct data for that point in the input).\n\nTest servlet follows:\n\nimport java.io.*;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\npublic class Test extends HttpServlet\n{\n\n    public void doPut(HttpServletRequest req, HttpServletResponse res)\n                throws ServletException, IOException\n    {\n        FileOutputStream fos = new FileOutputStream(\"/tmp/servlet-out\");\n\n        InputStream is = req.getInputStream();\n\n        byte buf[] = new byte[2000];\n        int ret;\n\n        while((ret = is.read(buf)) > 0) {\n            fos.write(buf, 0, ret);\n        }\n\n        fos.close();\n        is.close();\n\n        PrintWriter pw = res.getWriter();\n        pw.println(\"Done\");\n        pw.flush();\n        pw.close();\n    }\n}','coyot connector correctli deal larg put use chunk transfer encod built small servlet includ show behaviour upload data tomcat configur use http coyot connector use chunk transfer encod transferencod put result read use servlet request get input stream getinputstream corrupt happen larg put happen everi time tri larg put test someth around kb anoth thing mb alway corrupt way see corrupt small file kb smaller though didn extens total length data read exactli correct byte first first point corrupt file chunk header appear output n1000 follow correct data byte later second copi correct place think corrupt data correct data follow chunk header follow data repeat second instanc correct place first instanc produc instead correct data point input servlet follow import java import javax servlet import javax servlet http public class extend http servlet httpservlet public void do put doput http servlet request httpservletrequest req http servlet respons httpservletrespons re throw servlet except servletexcept except ioexcept file output stream fileoutputstream fo new file output stream fileoutputstream tmp servlet out servletout input stream inputstream req get input stream getinputstream byte buf new byte int ret ret read buf fo write buf ret fo close close print writer printwrit pw re get writer getwrit pw println done pw flush pw close','coyot connector correctli deal larg put use chunk transfer encod','built small servlet includ show behaviour upload data tomcat configur use http coyot connector use chunk transfer encod transferencod put result read use servlet request get input stream getinputstream corrupt happen larg put happen everi time tri larg put test someth around kb anoth thing mb alway corrupt way see corrupt small file kb smaller though didn extens total length data read exactli correct byte first first point corrupt file chunk header appear output n1000 follow correct data byte later second copi correct place think corrupt data correct data follow chunk header follow data repeat second instanc correct place first instanc produc instead correct data point input servlet follow import java import javax servlet import javax servlet http public class extend http servlet httpservlet public void do put doput http servlet request httpservletrequest req http servlet respons httpservletrespons re throw servlet except servletexcept except ioexcept file output stream fileoutputstream fo new file output stream fileoutputstream tmp servlet out servletout input stream inputstream req get input stream getinputstream byte buf new byte int ret ret read buf fo write buf ret fo close close print writer printwrit pw re get writer getwrit pw println done pw flush pw close','2002-07-24 07:44:57',1027510000,'resolved fixed','1cc6641',1199830000,'java/org/apache/coyote/http11/filters/ChunkedInputFilter.java'),(957,43743,'Bug 43743  Cannot jspc precompile jsps with nested .tag files','myjsp.jsp:  HELLO <tag1/>\ntag1.tag:  <tag2>\ntag2.tag:  WORLD\n\nCrashes (null pointer)  while trying to load tag2.class, called by  \nTagFileProcessor.loadTagFile.\n\nVery Initial analysis:-\nTagFileProcessor.loadTagFile creates wrapper, but ctxt.getTagFileJarUrl\n(tagFilePath) returns null for nested .tag.\nThus in JspCompilationContext.Compile  JspCCtx.isPackagedFile == false, so \noutDated test is wrong\nSo tag2.tag not compiled, thus class cannot be loaded.\n\nBut problem also appears if tags not packaged in a .jar, so there is more \ngoing on.\n\nWork around is to create dummy.jsp that calls the .tags in leaf first order \nso .class files are created.','cannot jspc precompil jsp nest tag file myjsp jsp hello tag1 tag1 tag tag2 tag2 tag world crash null pointer tri load tag2 class call tag file processor tagfileprocessor load tag file loadtagfil initi analysi tag file processor tagfileprocessor load tag file loadtagfil creat wrapper ctxt get tag file jar url gettagfilejarurl tag file path tagfilepath return null nest tag thu jsp compil context jspcompilationcontext compil jsp ctx jspcctx is packag file ispackagedfil fals out date outdat wrong tag2 tag compil thu class cannot load problem appear tag packag jar go work around creat dummi jsp call tag leaf first order class file creat','cannot jspc precompil jsp nest tag file','myjsp jsp hello tag1 tag1 tag tag2 tag2 tag world crash null pointer tri load tag2 class call tag file processor tagfileprocessor load tag file loadtagfil initi analysi tag file processor tagfileprocessor load tag file loadtagfil creat wrapper ctxt get tag file jar url gettagfilejarurl tag file path tagfilepath return null nest tag thu jsp compil context jspcompilationcontext compil jsp ctx jspcctx is packag file ispackagedfil fals out date outdat wrong tag2 tag compil thu class cannot load problem appear tag packag jar go work around creat dummi jsp call tag leaf first order class file creat','2007-10-30 21:25:38',1193790000,'resolved fixed','98b8ba2',1199750000,'java/org/apache/jasper/compiler/Parser.java'),(958,43758,'Bug 43758  java.lang.NullPointerException from org.apache.jasper.compiler.ServletWriter.printMultiLn() on validation of JSPX with empty <jsp:scriptlet> element','','java lang null pointer except nullpointerexcept apach jasper compil servlet writer servletwrit print multi ln printmultiln valid jspx empti jsp scriptlet element','java lang null pointer except nullpointerexcept apach jasper compil servlet writer servletwrit print multi ln printmultiln valid jspx empti jsp scriptlet element','','2007-10-31 11:58:06',1193850000,'resolved fixed','61ce1a3',1199220000,'java/org/apache/jasper/compiler/Node.java'),(959,43868,'Bug 43868  MBeanServer invoke issue','Impossible to invoke \"removeRole\" or other MBean methods and \"setAttribute\" by\nMBeanServer cause of the same bug in ManagedBean.java at both lines 545\n(getSetter method) and 604 (getInvoke method):\n        object = this;\nMust be replace by:\n        object = bean;\n\nFortunately getGetter method is correct.','bean server mbeanserv invok issu imposs invok remov role removerol bean mbean method set attribut setattribut bean server mbeanserv caus manag bean managedbean java line get setter getsett method get invok getinvok method object must replac object bean fortun get getter getgett method correct','bean server mbeanserv invok issu','imposs invok remov role removerol bean mbean method set attribut setattribut bean server mbeanserv caus manag bean managedbean java line get setter getsett method get invok getinvok method object must replac object bean fortun get getter getgett method correct','2007-11-15 01:26:51',1195110000,'resolved fixed','ccadbbc',1198970000,'java/org/apache/tomcat/util/modeler/ManagedBean.java'),(960,43285,'Bug 43285  Missing EL Coercion causes argument type mismatch','I\'ll attach a sample web application reproducing the error. Note that this error\nonly occurs when using Tomcat 6.0.x (i.e. it works with Jetty as it uses Sun\'s\nEL RI). Moreover it doesn\'t matter which JSF implementation you\'re using to\nreproduce the error (I just wanted to mention that as it\'s definitely no bug in\nMyFaces even though the following stack trace shows a FacesException).\n\nThe exception stack trace:\njavax.faces.FacesException: Exception while calling broadcast on component :\n{Component-Path : [Class: javax.faces.component.UIViewRoot,ViewId: /home.jsp][\nClass: javax.faces.component.html.HtmlForm,Id: j_id_jsp_923754602_1][Class:\njavax.faces.component.html.HtmlCommandButton,Id: j_id_jsp_923754602_3]}\n        at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:494)\n        at javax.faces.component.UICommand.broadcast(UICommand.java:105)\n        at javax.faces.component.UIViewRoot._broadcastForPhase(UIViewRoot.java:292)\n        at javax.faces.component.UIViewRoot.process(UIViewRoot.java:209)\n        at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:117)\n        at\norg.apache.myfaces.lifecycle.InvokeApplicationExecutor.execute(InvokeApplicationExecutor.java:32)\n        at\norg.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:95)\n        at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70)\n        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:144)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n        at java.lang.Thread.run(Thread.java:619)\nCaused by: org.apache.jasper.el.JspELException: /home.jsp(12,3)\n\'#{numberBean.number}\' java.lang.IllegalArgumentException: argument type mismatch\n        at\norg.apache.jasper.el.JspValueExpression.setValue(JspValueExpression.java:94)\n        at\norg.apache.myfaces.event.SetPropertyActionListener.processAction(SetPropertyActionListener.java:72)\n        at javax.faces.event.ActionEvent.processListener(ActionEvent.java:48)\n        at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:489)\n        ... 20 more\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at javax.el.BeanELResolver.setValue(BeanELResolver.java:108)\n        at javax.el.CompositeELResolver.setValue(CompositeELResolver.java:68)\n        at\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$501(FacesCompositeELResolver.java:46)\n        at\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$6.invoke(FacesCompositeELResolver.java:132)\n        at\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(FacesCompositeELResolver.java:148)\n        at\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.setValue(FacesCompositeELResolver.java:128)\n        at org.apache.el.parser.AstValue.setValue(AstValue.java:114)\n        at org.apache.el.ValueExpressionImpl.setValue(ValueExpressionImpl.java:249)\n        at\norg.apache.jasper.el.JspValueExpression.setValue(JspValueExpression.java:85)\n        ... 23 more','miss coercion caus argument type mismatch ll attach sampl web applic reproduc error note error occur use tomcat work jetti us sun ri moreov doesn matter jsf implement re use reproduc error want mention definit my face myfac even though follow stack trace show face except facesexcept except stack trace javax face face except facesexcept except call broadcast compon compon path class javax face compon ui view root uiviewroot view id viewid home jsp class javax face compon html html form htmlform id id jsp class javax face compon html html command button htmlcommandbutton id id jsp javax face compon ui compon base uicomponentbas broadcast ui compon base uicomponentbas java javax face compon ui command uicommand broadcast ui command uicommand java javax face compon ui view root uiviewroot broadcast for phase broadcastforphas ui view root uiviewroot java javax face compon ui view root uiviewroot process ui view root uiviewroot java javax face compon ui view root uiviewroot process applic processappl ui view root uiviewroot java apach myfac lifecycl invok applic executor invokeapplicationexecutor execut invok applic executor invokeapplicationexecutor java apach myfac lifecycl lifecycl impl lifecycleimpl execut phase executephas lifecycl impl lifecycleimpl java apach myfac lifecycl lifecycl impl lifecycleimpl execut lifecycl impl lifecycleimpl java javax face webapp face servlet facesservlet servic face servlet facesservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java caus apach jasper jsp except jspelexcept home jsp number bean numberbean number java lang illeg argument except illegalargumentexcept argument type mismatch apach jasper jsp valu express jspvalueexpress set valu setvalu jsp valu express jspvalueexpress java apach myfac event set properti action listen setpropertyactionlisten process action processact set properti action listen setpropertyactionlisten java javax face event action event actionev process listen processlisten action event actionev java javax face compon ui compon base uicomponentbas broadcast ui compon base uicomponentbas java caus java lang illeg argument except illegalargumentexcept argument type mismatch sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java javax bean resolv beanelresolv set valu setvalu bean resolv beanelresolv java javax composit resolv compositeelresolv set valu setvalu composit resolv compositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv access face composit resolv facescompositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv invok face composit resolv facescompositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv invok face composit resolv facescompositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv set valu setvalu face composit resolv facescompositeelresolv java apach parser ast valu astvalu set valu setvalu ast valu astvalu java apach valu express impl valueexpressionimpl set valu setvalu valu express impl valueexpressionimpl java apach jasper jsp valu express jspvalueexpress set valu setvalu jsp valu express jspvalueexpress java','miss coercion caus argument type mismatch','ll attach sampl web applic reproduc error note error occur use tomcat work jetti us sun ri moreov doesn matter jsf implement re use reproduc error want mention definit my face myfac even though follow stack trace show face except facesexcept except stack trace javax face face except facesexcept except call broadcast compon compon path class javax face compon ui view root uiviewroot view id viewid home jsp class javax face compon html html form htmlform id id jsp class javax face compon html html command button htmlcommandbutton id id jsp javax face compon ui compon base uicomponentbas broadcast ui compon base uicomponentbas java javax face compon ui command uicommand broadcast ui command uicommand java javax face compon ui view root uiviewroot broadcast for phase broadcastforphas ui view root uiviewroot java javax face compon ui view root uiviewroot process ui view root uiviewroot java javax face compon ui view root uiviewroot process applic processappl ui view root uiviewroot java apach myfac lifecycl invok applic executor invokeapplicationexecutor execut invok applic executor invokeapplicationexecutor java apach myfac lifecycl lifecycl impl lifecycleimpl execut phase executephas lifecycl impl lifecycleimpl java apach myfac lifecycl lifecycl impl lifecycleimpl execut lifecycl impl lifecycleimpl java javax face webapp face servlet facesservlet servic face servlet facesservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java caus apach jasper jsp except jspelexcept home jsp number bean numberbean number java lang illeg argument except illegalargumentexcept argument type mismatch apach jasper jsp valu express jspvalueexpress set valu setvalu jsp valu express jspvalueexpress java apach myfac event set properti action listen setpropertyactionlisten process action processact set properti action listen setpropertyactionlisten java javax face event action event actionev process listen processlisten action event actionev java javax face compon ui compon base uicomponentbas broadcast ui compon base uicomponentbas java caus java lang illeg argument except illegalargumentexcept argument type mismatch sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java javax bean resolv beanelresolv set valu setvalu bean resolv beanelresolv java javax composit resolv compositeelresolv set valu setvalu composit resolv compositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv access face composit resolv facescompositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv invok face composit resolv facescompositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv invok face composit resolv facescompositeelresolv java apach myfac unifi resolv face composit resolv facescompositeelresolv set valu setvalu face composit resolv facescompositeelresolv java apach parser ast valu astvalu set valu setvalu ast valu astvalu java apach valu express impl valueexpressionimpl set valu setvalu valu express impl valueexpressionimpl java apach jasper jsp valu express jspvalueexpress set valu setvalu jsp valu express jspvalueexpress java','2007-09-02 13:14:26',1188750000,'resolved fixed','c5bcc98',1198720000,'java/org/apache/el/parser/AstValue.java'),(961,42503,'Bug 42503  ServletContext.getResourceAsStream returns stale data','Under certain conditions, the resource cache implementation used by the\nservlet/JSP engine (in org.apache.naming.resource) does not detect that a file\nin its cache has been modified and therefore returns the previous contents of\nthe file.\n\nThis happens only \n * when the file contents are modified but the file length doesn\'t change\n * until the time the first change in the file is detected after server startup\n   \nTo reproduce the problem, put the attached test.jsp and test.txt into the ROOT\nweb app and then do the following. (I used Tomcat 6\'s trunk for the test)\n\n% cat test.txt\nabcd\n% telnet . 9080 \nTrying 0.0.0.0...\nConnected to ..\nEscape character is \'^]\'.\nGET /test.jsp HTTP/1.0\n\nHTTP/1.1 200 OK\nServer: Apache-Coyote/1.1\nSet-Cookie: JSESSIONID=706D6FE8B06687509D42E79DBEE266EF; Path=/\nContent-Type: text/html\nContent-Length: 26\nDate: Wed, 23 May 2007 23:03:05 GMT\nConnection: close\n\n\n\nFile contents=[\nabcd\n\n]\nConnection to . closed by foreign host.\n\n% cat test.txt (change the contents but not the size)\nefgh\n % telnet . 9080 \nTrying 0.0.0.0...\nConnected to ..\nEscape character is \'^]\'.\nGET /test.jsp HTTP/1.0\n\nHTTP/1.1 200 OK\nServer: Apache-Coyote/1.1\nSet-Cookie: JSESSIONID=2B144247B747F54184114FA82869DE14; Path=/\nContent-Type: text/html\nContent-Length: 26\nDate: Wed, 23 May 2007 23:04:24 GMT\nConnection: close\n\n\n\nFile contents=[\nabcd\n\n]','servlet context servletcontext get resourc stream getresourceasstream return stale data certain condit resourc cach implement use servlet jsp engin apach name resourc detect file cach modifi therefor return previou content file happen file content modifi file length doesn chang time first chang file detect server startup reproduc problem put attach jsp txt root web app follow use tomcat trunk cat txt abcd telnet tri connect escap charact get jsp http http ok server apach coyot set cooki jsessionid 706 d6 e8 b06687509 d42 e79 e266 706d6fe8b06687509d42e79dbee266ef path content type text html content length date wed may gmt connect close file content abcd connect close foreign host cat txt chang content size efgh telnet tri connect escap charact get jsp http http ok server apach coyot set cooki jsessionid b144247 b747 f54184114 a82869 e14 2b144247b747f54184114fa82869de14 path content type text html content length date wed may gmt connect close file content abcd','servlet context servletcontext get resourc stream getresourceasstream return stale data','certain condit resourc cach implement use servlet jsp engin apach name resourc detect file cach modifi therefor return previou content file happen file content modifi file length doesn chang time first chang file detect server startup reproduc problem put attach jsp txt root web app follow use tomcat trunk cat txt abcd telnet tri connect escap charact get jsp http http ok server apach coyot set cooki jsessionid 706 d6 e8 b06687509 d42 e79 e266 706d6fe8b06687509d42e79dbee266ef path content type text html content length date wed may gmt connect close file content abcd connect close foreign host cat txt chang content size efgh telnet tri connect escap charact get jsp http http ok server apach coyot set cooki jsessionid b144247 b747 f54184114 a82869 e14 2b144247b747f54184114fa82869de14 path content type text html content length date wed may gmt connect close file content abcd','2007-05-23 16:52:35',1179950000,'resolved fixed','2441155',1198720000,'java/org/apache/naming/resources/FileDirContext.java'),(962,43914,'Bug 43914  HTTP spec violation when generating HTTP redirects for folders without trailing slash','','http spec violat gener http redirect folder without trail slash','http spec violat gener http redirect folder without trail slash','','2007-11-20 05:53:53',1195560000,'resolved fixed','e452200',1198700000,'java/org/apache/catalina/connector/CoyoteAdapter.java'),(963,43909,'Bug 43909  EL EvaluationContext wrapper hides locale','org.apache.el.lang.EvaluationContext doesn\'t pass locale to the wrapped\nELContext as does org.apache.jasper.el.ELContextWrapper. This prohibits using of\nthe locale for it\'s original purpose.','evalu context evaluationcontext wrapper hide local apach lang evalu context evaluationcontext doesn pa local wrap context elcontext apach jasper context wrapper elcontextwrapp prohibit use local origin purpos','evalu context evaluationcontext wrapper hide local','apach lang evalu context evaluationcontext doesn pa local wrap context elcontext apach jasper context wrapper elcontextwrapp prohibit use local origin purpos','2007-11-19 23:06:25',1195530000,'resolved fixed','fdb170e',1198520000,'java/org/apache/el/lang/EvaluationContext.java'),(964,43944,'Bug 43944  org.apache.el.lang.ELArithmetic.coerce throws MissingResourceException for key el.convert','The class org.apache.el.lang.ELArithmetic\nhas the following code snippet:\n\nthrow new IllegalArgumentException(MessageFactory.get(\"el.convert\", obj, \nobjType));\n\nBut the key \"el.convert\" doesn\'t exist in \"org.apache.el.Messages\". As a \nresult, I\'m receiving the exception:\njava.util.MissingResourceException: Can\'t find resource for bundle \njava.util.PropertyResourceBundle, key el.convert\n	at java.util.ResourceBundle.getObject(ResourceBundle.java:325)\n	at java.util.ResourceBundle.getString(ResourceBundle.java:285)\n	at org.apache.el.util.MessageFactory.getArray(MessageFactory.java:67)\n	at org.apache.el.util.MessageFactory.get(MessageFactory.java:47)\n	at org.apache.el.lang.ELArithmetic.coerce(ELArithmetic.java:367)\n	at org.apache.el.lang.ELArithmetic.add(ELArithmetic.java:238)\n	at org.apache.el.parser.AstPlus.getValue(AstPlus.java:24)\n	at org.apache.el.ValueExpressionImpl.getValue\n(ValueExpressionImpl.java:186)','apach lang arithmet elarithmet coerc throw miss resourc except missingresourceexcept key convert class apach lang arithmet elarithmet follow code snippet throw new illeg argument except illegalargumentexcept messag factori messagefactori get convert obj obj type objtyp key convert doesn exist apach messag result receiv except java util miss resourc except missingresourceexcept find resourc bundl java util properti resourc bundl propertyresourcebundl key convert java util resourc bundl resourcebundl get object getobject resourc bundl resourcebundl java java util resourc bundl resourcebundl get string getstr resourc bundl resourcebundl java apach util messag factori messagefactori get array getarray messag factori messagefactori java apach util messag factori messagefactori get messag factori messagefactori java apach lang arithmet elarithmet coerc arithmet elarithmet java apach lang arithmet elarithmet add arithmet elarithmet java apach parser ast plu astplu get valu getvalu ast plu astplu java apach valu express impl valueexpressionimpl get valu getvalu valu express impl valueexpressionimpl java','apach lang arithmet elarithmet coerc throw miss resourc except missingresourceexcept key convert','class apach lang arithmet elarithmet follow code snippet throw new illeg argument except illegalargumentexcept messag factori messagefactori get convert obj obj type objtyp key convert doesn exist apach messag result receiv except java util miss resourc except missingresourceexcept find resourc bundl java util properti resourc bundl propertyresourcebundl key convert java util resourc bundl resourcebundl get object getobject resourc bundl resourcebundl java java util resourc bundl resourcebundl get string getstr resourc bundl resourcebundl java apach util messag factori messagefactori get array getarray messag factori messagefactori java apach util messag factori messagefactori get messag factori messagefactori java apach lang arithmet elarithmet coerc arithmet elarithmet java apach lang arithmet elarithmet add arithmet elarithmet java apach parser ast plu astplu get valu getvalu ast plu astplu java apach valu express impl valueexpressionimpl get valu getvalu valu express impl valueexpressionimpl java','2007-11-22 19:23:45',1195780000,'resolved fixed','c228054',1198510000,'java/org/apache/el/lang/ELArithmetic.java'),(965,44088,'Bug 44088  Cannot expire session via html manager webapp','The html manager webapp done not work correctly when clicking the expire\nsessions button. The idle param is missing from the form.\n\nThe following html shows this bug...\n\n<form method=\"POST\" action=\"/manager/html/expire?path=/\">\n  <small>\n  &nbsp;<input type=\"submit\" value=\"Expire sessions\">&nbsp;with idle\n&ge;&nbsp;<input type=\"text\" name=\"expire\" size=\"5\" value=\"30\">&nbsp;minutes&nbsp;\n  </small>\n  </form>\n\nThe name of the text input should be idle.','cannot expir session via html manag webapp html manag webapp done work correctli click expir session button idl param miss form follow html show form method post action manag html expir path small nbsp input type submit valu expir session nbsp idl nbsp input type text name expir size valu nbsp minut nbsp small form name text input idl','cannot expir session via html manag webapp','html manag webapp done work correctli click expir session button idl param miss form follow html show form method post action manag html expir path small nbsp input type submit valu expir session nbsp idl nbsp input type text name expir size valu nbsp minut nbsp small form name text input idl','2007-12-17 15:14:23',1197920000,'resolved fixed','df2b1e6',1198450000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(966,44084,'Bug 44084  JAASRealm useContextClassLoader has problems','The useContextClassLoader config option doesn\'t work right. \n\n- it is ignored when setting userClassNames and roleClassNames \n- it\'s respected when the LoginContext is created, but that is insufficient,\nbecause all the needed classes are not necessarily loaded until\nloginContext.login() is called\n\nPatch to follow. With it I\'m able to keep everything related to the JAASRealm in\nmy webapp.','realm jaasrealm use context class loader usecontextclassload problem use context class loader usecontextclassload config option doesn work right ignor set user class name userclassnam role class name roleclassnam respect login context logincontext creat insuffici need class necessarili load login context logincontext login call patch follow abl keep everyth relat realm jaasrealm webapp','realm jaasrealm use context class loader usecontextclassload problem','use context class loader usecontextclassload config option doesn work right ignor set user class name userclassnam role class name roleclassnam respect login context logincontext creat insuffici need class necessarili load login context logincontext login call patch follow abl keep everyth relat realm jaasrealm webapp','2007-12-15 14:27:25',1197750000,'resolved fixed','46721e4',1198450000,'java/org/apache/catalina/realm/JAASRealm.java'),(967,43236,'Bug 43236  Response.setCharacterEncoding() fails after Response.getWriter() and Response.reset()','The class org.apache.catalina.connector.Response\n\nresets the internal hold coyoteResponse and outputBuffer during reset():\n\n    public void reset() {\n        if (included)\n            return;     // Ignore any call from an included servlet\n        coyoteResponse.reset();\n        outputBuffer.reset();\n    }\n\nbut if anyone has already set the characterEncoding (e.g. to UTF-8) and already\ngot the writer, than all following invocations of request.setCharacterEncoding()\nwill do nothing, because the internal save flag for usingWriter is not reseted.\nThis is very annoying, because the coyoteResponse.reset(), resets the\ncharacterEncoding to iso8859-1. So I have no change to change/reset the\ncharaterEncoding to UTF-8.\nI\'ll think if you reset the response, you should also reset the usingWriter flag\nor add another special flag, that works with this circumstances.','respons set charact encod setcharacterencod fail respons get writer getwrit respons reset class apach catalina connector respons reset intern hold coyot respons coyoterespons output buffer outputbuff reset public void reset includ return ignor call includ servlet coyot respons coyoterespons reset output buffer outputbuff reset anyon alreadi set charact encod characterencod utf alreadi got writer follow invoc request set charact encod setcharacterencod noth intern save flag use writer usingwrit reset annoy coyot respons coyoterespons reset reset charact encod characterencod iso8859 chang chang reset charat encod charaterencod utf ll think reset respons reset use writer usingwrit flag add anoth special flag work circumst','respons set charact encod setcharacterencod fail respons get writer getwrit respons reset','class apach catalina connector respons reset intern hold coyot respons coyoterespons output buffer outputbuff reset public void reset includ return ignor call includ servlet coyot respons coyoterespons reset output buffer outputbuff reset anyon alreadi set charact encod characterencod utf alreadi got writer follow invoc request set charact encod setcharacterencod noth intern save flag use writer usingwrit reset annoy coyot respons coyoterespons reset reset charact encod characterencod iso8859 chang chang reset charat encod charaterencod utf ll think reset respons reset use writer usingwrit flag add anoth special flag work circumst','2007-08-29 03:56:43',1188370000,'resolved fixed','71bd193',1198020000,'java/org/apache/catalina/connector/Response.java'),(968,43241,'Bug 43241  ServletContext.getResourceAsStream()  does not follow API specs for Path','','servlet context servletcontext get resourc stream getresourceasstream follow api spec path','servlet context servletcontext get resourc stream getresourceasstream follow api spec path','','2007-08-29 12:54:18',1188410000,'resolved fixed','8f91433',1198020000,'java/org/apache/catalina/core/ApplicationContext.java'),(969,43611,'Bug 43611  autodeployment with unpackWARs=\"true\" does not work, when a context for that war file exists in server.xml','if a context for the war file exists in server.xml, the manager uploads the new\n.war file, but does not expand it, if the necessary directory does not exist,\nand if the directory exists, it is not overwritten, so you see the old application.\n\nsee server.xml\n\n<Host name=\"xxx\" appBase=\"webapps\" unpackWARs=\"true\">\n        <Context path=\"/yyy\">\n...\n\nif I don\'t have a context for yyy in server.xml, autodeploy works as expected.\n\nEven if you say, remove context from the manager application, it is always there\nin the application view, you can\'t remove it.\n\nAnd finally, it never cleans up the work directory for the application yyy,\nwhich I guess, is just a subsequent error of the above behaviour.','autodeploy unpack unpackwar true work context file exist server xml context file exist server xml manag upload new file expand necessari directori exist directori exist overwritten see old applic see server xml host name xxx app base appbas webapp unpack unpackwar true context path yyy context yyy server xml autodeploy work expect even say remov context manag applic alway applic view remov final never clean work directori applic yyy guess subsequ error behaviour','autodeploy unpack unpackwar true work context file exist server xml','context file exist server xml manag upload new file expand necessari directori exist directori exist overwritten see old applic see server xml host name xxx app base appbas webapp unpack unpackwar true context path yyy context yyy server xml autodeploy work expect even say remov context manag applic alway applic view remov final never clean work directori applic yyy guess subsequ error behaviour','2007-10-12 05:15:52',1192180000,'resolved fixed','ffbbe88',1196530000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(970,43622,'Bug 43622  compression / minCompressionSize attribute not properly implemented','2 of the compression related attributes for the http connector are:\n\ncompression = on | off | force | <integer val>\nThe documentation states that integer val will be implemented as:\ncompression=\"on\" and minCompressionSize = <integer val>\n\nminCompressionSize = <integer val>\n(The documentation for 5.5.12 doesnt mention this at all, but read this in the\nserver.xml)\n\nThe problem is that the documenation gives the impression that only setting\ncompression=\"some integer val\" is sufficient, however the way the code is\nwritten, the value of \"minCompressionSize\" always overrides the value specified\nin the \"compression\" field. Even if minCompressionSize isnt set, it will still\nget the default value of 2048 and override whatever value was there in the\n\"compression\" field.\n\nI looked at the implementation of the http11 connector and found the following\ncode that might be the culprit:\n\nIn org.apache.coyote.http11.Http11BaseProtocol.Http11ConnectionHandler.init\n    processor.setCompression( proto.compression );\n    processor.setCompressionMinSize( proto.compressionMinSize);\n\nsince the \"setCompressionMinSize\" is called after compressionMinSize, its value\nwill override the value read from compression atttribute.\n\n\nI have looked at the code for Tomcat 6.0 also, and the problems appears to still\nbe present.','compress min compress size mincompressions attribut properli implement compress relat attribut http connector compress forc integ val document state integ val implement compress min compress size mincompressions integ val min compress size mincompressions integ val document doesnt mention read server xml problem documen give impress set compress integ val suffici howev way code written valu min compress size mincompressions alway overrid valu specifi compress field even min compress size mincompressions isnt set still get default valu overrid whatev valu compress field look implement http11 connector found follow code might culprit apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl init processor set compress setcompress proto compress processor set compress min size setcompressionmins proto compress min size compressionmins sinc set compress min size setcompressionmins call compress min size compressionmins valu overrid valu read compress atttribut look code tomcat problem appear still present','compress min compress size mincompressions attribut properli implement','compress relat attribut http connector compress forc integ val document state integ val implement compress min compress size mincompressions integ val min compress size mincompressions integ val document doesnt mention read server xml problem documen give impress set compress integ val suffici howev way code written valu min compress size mincompressions alway overrid valu specifi compress field even min compress size mincompressions isnt set still get default valu overrid whatev valu compress field look implement http11 connector found follow code might culprit apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl init processor set compress setcompress proto compress processor set compress min size setcompressionmins proto compress min size compressionmins sinc set compress min size setcompressionmins call compress min size compressionmins valu overrid valu read compress atttribut look code tomcat problem appear still present','2007-10-15 03:51:24',1192430000,'resolved fixed','d1d0619',1196450000,'java/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/coyote/http11/Http11NioProtocol.java\njava/org/apache/coyote/http11/Http11Protocol.java'),(971,43757,'Bug 43757  Improper parsing of response.sendRedirect() in JSP source','Tomcat is throwing a java.lang.illegalStateException due to an attempted\nresponse.sendRedirect() after the time for such matters has come and gone...\nBut, this appears to be a symptom of bad .jsp parsing at runtime.\n\n==========================\n\norg.apache.jasper.JasperException: Exception in JSP: /buslog.jsp:42\n\n39: // if (session.getAttribute(\"isAuth\") == null) {\n40: //     session.setAttribute(\"messageToUser\",\"Authentication failed.\");\n41: //        you.shouldNotParseThis();\n42: //     response.sendRedirect(\"./index.jsp\");\n43: // }\n44: \n45: // if (session.getAttribute(\"isAuth\") != null) {\n\n==============================\n\nThese lines are commented out in the source, and should not conceivably cause a\nruntime error. Changing \"response.sendRedirect(...)\" to\n\"response.sendAbendOMG(...)\" suppresses the error. I am willing to provide the\ncomplete source if necessary.\n\nBuild and execution environments are NetBeans 5.5.1 with bundled Tomcat 5.5.17.','improp pars respons send redirect sendredirect jsp sourc tomcat throw java lang illeg state except illegalstateexcept due attempt respons send redirect sendredirect time matter gone appear symptom bad jsp pars runtim apach jasper jasper except jasperexcept except jsp buslog jsp session get attribut getattribut is auth isauth null session set attribut setattribut messag to user messagetous authent fail should not pars thi shouldnotparsethi respons send redirect sendredirect index jsp session get attribut getattribut is auth isauth null line comment sourc conceiv caus runtim error chang respons send redirect sendredirect respons send abend sendabendomg suppress error will provid complet sourc necessari build execut environ net bean netbean bundl tomcat','improp pars respons send redirect sendredirect jsp sourc','tomcat throw java lang illeg state except illegalstateexcept due attempt respons send redirect sendredirect time matter gone appear symptom bad jsp pars runtim apach jasper jasper except jasperexcept except jsp buslog jsp session get attribut getattribut is auth isauth null session set attribut setattribut messag to user messagetous authent fail should not pars thi shouldnotparsethi respons send redirect sendredirect index jsp session get attribut getattribut is auth isauth null line comment sourc conceiv caus runtim error chang respons send redirect sendredirect respons send abend sendabendomg suppress error will provid complet sourc necessari build execut environ net bean netbean bundl tomcat','2007-10-31 11:55:53',1193850000,'resolved fixed','eb87635',1196380000,'java/org/apache/jasper/compiler/ErrorDispatcher.java'),(972,43706,'Bug 43706  Fix a litmus warning for WebdavServlet','','fix litmu warn webdav servlet webdavservlet','fix litmu warn webdav servlet webdavservlet','','2007-10-26 07:03:28',1193400000,'resolved fixed','324387d',1196200000,'java/org/apache/catalina/servlets/WebdavServlet.java'),(973,43887,'Bug 43887  StandardWrapper.registerJMX() doesn\'t log exceptions correctly','I was getting some rather unhelpful error messages when trying to deploy a\nweb.xml that included illegal servlet names. I tracked them down to this part of\n/org/apache/catalina/core/StandardWrapper.java:\n\n        } catch( Exception ex ) {\n            log.info(\"Error registering servlet with jmx \" + this);\n        }\n\nThis should probably be changed to:\n\n            log.info(\"Error registering servlet with jmx \" + ex);\n\nSame thing for the catch block ten lines below this one.\n\n\nI first noticed this in 5.5.23, but this code is still present in 6.0 trunk.','standard wrapper standardwrapp regist registerjmx doesn log except correctli get rather unhelp error messag tri deploy web xml includ illeg servlet name track part apach catalina core standard wrapper standardwrapp java catch except ex log info error regist servlet jmx probabl chang log info error regist servlet jmx ex thing catch block ten line one first notic code still present trunk','standard wrapper standardwrapp regist registerjmx doesn log except correctli','get rather unhelp error messag tri deploy web xml includ illeg servlet name track part apach catalina core standard wrapper standardwrapp java catch except ex log info error regist servlet jmx probabl chang log info error regist servlet jmx ex thing catch block ten line one first notic code still present trunk','2007-11-16 15:31:21',1195250000,'resolved fixed','9314e5b',1195850000,'java/org/apache/catalina/core/StandardWrapper.java'),(974,43893,'Bug 43893  WebdavServlet returns incorrect values for the \"href\" property when it is mapped with / url prefix, instead of /*','','webdav servlet webdavservlet return incorrect valu href properti map url prefix instead','webdav servlet webdavservlet return incorrect valu href properti map url prefix instead','','2007-11-18 00:04:05',1195360000,'resolved wontfix','3c61f9b',1195840000,'java/org/apache/catalina/servlets/WebdavServlet.java'),(975,43479,'Bug 43479  APR sendfile thread leaks memory','The APR sendfile thread leaks memory by adding SendfileData objects to its\nHashMap and failing to remove them.','apr sendfil thread leak memori apr sendfil thread leak memori ad sendfil data sendfiledata object hash map hashmap fail remov','apr sendfil thread leak memori','apr sendfil thread leak memori ad sendfil data sendfiledata object hash map hashmap fail remov','2007-09-25 19:49:30',1190760000,'resolved fixed','16464d6',1192060000,'java/org/apache/tomcat/util/net/AprEndpoint.java'),(976,43453,'Bug 43453  ClassCastException at org.apache.catalina.core.StandardContext.findStatusPage(int)','StandardContext.java reads\n\n    public String findStatusPage(int status) {\n        return ((String) statusPages.get(new Integer(status)));\n    }\n\nThis is wrong and it should be\n\n    public String findStatusPage(int status) {\n        return ((ErrorPage) statusPages.get(new Integer(status))).getLocation();\n    }\n\nRegards,\n  lg','class cast except classcastexcept apach catalina core standard context standardcontext find statu page findstatuspag int standard context standardcontext java read public string find statu page findstatuspag int statu return string statu page statuspag get new integ statu wrong public string find statu page findstatuspag int statu return error page errorpag statu page statuspag get new integ statu get locat getloc regard lg','class cast except classcastexcept apach catalina core standard context standardcontext find statu page findstatuspag int','standard context standardcontext java read public string find statu page findstatuspag int statu return string statu page statuspag get new integ statu wrong public string find statu page findstatuspag int statu return error page errorpag statu page statuspag get new integ statu get locat getloc regard lg','2007-09-23 13:50:20',1190570000,'resolved fixed','73b5e41',1190590000,'java/org/apache/catalina/core/StandardContext.java'),(977,43435,'Bug 43435  AbstractReplicatedMap.memberDisappeared is executed more than the necessity.','','abstract replic map abstractreplicatedmap member disappear memberdisappear execut necess','abstract replic map abstractreplicatedmap member disappear memberdisappear execut necess','','2007-09-20 04:51:07',1190280000,'resolved fixed','5aed2f5',1190400000,'java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(978,43356,'Bug 43356  keystoreFile parameter, when specified as relative, is not treated relative to $CATALINA_BASE or catalina.base property for NioEndPoint','','keystor file keystorefil paramet specifi rel treat rel catalina base catalina base properti nio end point nioendpoint','keystor file keystorefil paramet specifi rel treat rel catalina base catalina base properti nio end point nioendpoint','','2007-09-11 11:42:39',1189530000,'resolved fixed','28da141',1189810000,'java/org/apache/coyote/http11/Http11NioProtocol.java\njava/org/apache/tomcat/util/net/NioEndpoint.java'),(979,30949,'Bug 30949  After Failed Include, Request and Response not Unwrapped','In org.apache.catalina.core.ApplicationDispatcher.doInclude(ServletRequest \nrequest, ServletResponse response), after invoke() is called to perform the \ninclude, the request and response objects are normally unwrapped.  However, if \na ServletException or IOException is thrown, the unwrapping does not take place.\n\nThis leads to problems in environments in which cross context includes are \nbeing performed.  For example, \n\n1.  Web App A performs an include to a Servlet in Web App B\n2.  The Servlet in Web App B throws a ServletException\n3.  Web App A catches the ServletException and attempts to forward to an error \njsp.\n\nStep 3 above will fail due to the fact that the request has not been \nunwrapped.  The active request will contain the ServletContext of web app B and \nthe jsp file will not be found.','fail includ request respons unwrap apach catalina core applic dispatch applicationdispatch do includ doinclud servlet request servletrequest request servlet respons servletrespons respons invok call perform includ request respons object normal unwrap howev servlet except servletexcept except ioexcept thrown unwrap take place lead problem environ cross context includ perform exampl web app perform includ servlet web app servlet web app throw servlet except servletexcept web app catch servlet except servletexcept attempt forward error jsp step fail due fact request unwrap activ request contain servlet context servletcontext web app jsp file found','fail includ request respons unwrap','apach catalina core applic dispatch applicationdispatch do includ doinclud servlet request servletrequest request servlet respons servletrespons respons invok call perform includ request respons object normal unwrap howev servlet except servletexcept except ioexcept thrown unwrap take place lead problem environ cross context includ perform exampl web app perform includ servlet web app servlet web app throw servlet except servletexcept web app catch servlet except servletexcept attempt forward error jsp step fail due fact request unwrap activ request contain servlet context servletcontext web app jsp file found','2004-08-30 23:54:36',1093920000,'resolved fixed','4dd22a5',1188960000,'java/org/apache/catalina/core/ApplicationDispatcher.java'),(980,43216,'Bug 43216  ACTIVITY_CHECK does not work correctly when Tomcat is restarted','','activ check work correctli tomcat restart','activ check work correctli tomcat restart','','2007-08-26 09:28:12',1188130000,'resolved fixed','9c37a01',1188310000,'java/org/apache/catalina/session/StandardManager.java'),(981,42944,'Bug 42944  plus sign in url-pattern in servlet-mapping does not work','Hi all,\n\nI had servlet-mappings that contain plus signs (they were created by JspC), e.g.:\n\n    <servlet-mapping>\n      <servlet-name>org.apache.jsp.suchergebnis_005fbu_002bbb_jsp</servlet-name>\n      <url-pattern>/suchergebnis_bu+bb.jsp</url-pattern>\n    </servlet-mapping>\n\nThis mapping does not work (the referred class is present)! When I change the\noriginal file names of the JSPs such that the plus signs are replaced by a minus\nsigns the following mapping results:\n\n    <servlet-mapping>\n      <servlet-name>org.apache.jsp.suchergebnis_005fbu_002dbb_jsp</servlet-name>\n      <url-pattern>/suchergebnis_bu-bb.jsp</url-pattern>\n    </servlet-mapping>\n\nNow the mapping works.\n\nTherefore I assume that there is a bug in handling servlet mappings with plus\nsigns in their url pattern.','plu sign url pattern urlpattern servlet map servletmap work hi servlet map servletmap contain plu sign creat jsp jspc servlet map servletmap servlet name servletnam apach jsp suchergebni 005fbu 002bbb jsp servlet name servletnam url pattern urlpattern suchergebni bb jsp url pattern urlpattern servlet map servletmap map work refer class present chang origin file name jsp plu sign replac minu sign follow map result servlet map servletmap servlet name servletnam apach jsp suchergebni 005fbu 002dbb jsp servlet name servletnam url pattern urlpattern suchergebni bu bb bubb jsp url pattern urlpattern servlet map servletmap map work therefor assum handl servlet map plu sign url pattern','plu sign url pattern urlpattern servlet map servletmap work','hi servlet map servletmap contain plu sign creat jsp jspc servlet map servletmap servlet name servletnam apach jsp suchergebni 005fbu 002bbb jsp servlet name servletnam url pattern urlpattern suchergebni bb jsp url pattern urlpattern servlet map servletmap map work refer class present chang origin file name jsp plu sign replac minu sign follow map result servlet map servletmap servlet name servletnam apach jsp suchergebni 005fbu 002dbb jsp servlet name servletnam url pattern urlpattern suchergebni bu bb bubb jsp url pattern urlpattern servlet map servletmap map work therefor assum handl servlet map plu sign url pattern','2007-07-20 09:32:19',1184940000,'resolved fixed','44e36ea',1186240000,'java/org/apache/catalina/util/RequestUtil.java'),(982,39212,'Bug 39212  a bug in example code DummyCart.java','','exampl code dummi cart dummycart java','exampl code dummi cart dummycart java','','2006-04-05 10:20:19',1144250000,'resolved fixed','8aa247e',1185820000,'webapps/examples/WEB-INF/classes/sessions/DummyCart.java'),(983,42753,'Bug 42753  Race condition when using available() or reading in CometProcessor.event()','Tomcat version: 6.0.13 (no 6.0.13 available in the version field)\n\nWhen trying to process data in CometProcessor.event() either during the BEGIN\nevent or during the READ event, it is impossible to guarantee that all data has\nbeen read before returning (since new data may arrive between the last statement\nbefore the return, and the return statement itself). However, the\nCoyoteProcessor does this check:\n\n } else if (!error && read && request.getAvailable()) {\n    // If this was a read and not all bytes have been read, or if no data\n    // was read from the connector, then it is an error\n    error = true;\n    log.error(sm.getString(\"coyoteAdapter.read\"));\n } \n\ncausing a severe error and the Comet request to break when this race condition\nmanifests itself.\n\nI am using the following code according to the aio.html description to read data\nin my comet event handler:\n\n  while (request.getInputStream().available() > 0) {\n     // read some data\n  }\n  // ***** NO MORE DATA AVAILABLE\n  return;\n\nAnd I am experiencing the error as described in certain conditions (rapid\narrival of fragmented data):\n\nSEVERE: The servlet did not read all available bytes during the processing of\nthe read event','race condit use avail read comet processor cometprocessor event tomcat version avail version field tri process data comet processor cometprocessor event either begin event read event imposs guarante data read return sinc new data may arriv last statement return return statement howev coyot processor coyoteprocessor check els error read request get avail getavail read byte read data read connector error error true log error sm get string getstr coyot adapt coyoteadapt read caus sever error comet request break race condit manifest use follow code accord aio html descript read data comet event handler request get input stream getinputstream avail read data data avail return experienc error describ certain condit rapid arriv fragment data sever servlet read avail byte process read event','race condit use avail read comet processor cometprocessor event','tomcat version avail version field tri process data comet processor cometprocessor event either begin event read event imposs guarante data read return sinc new data may arriv last statement return return statement howev coyot processor coyoteprocessor check els error read request get avail getavail read byte read data read connector error error true log error sm get string getstr coyot adapt coyoteadapt read caus sever error comet request break race condit manifest use follow code accord aio html descript read data comet event handler request get input stream getinputstream avail read data data avail return experienc error describ certain condit rapid arriv fragment data sever servlet read avail byte process read event','2007-06-27 05:21:53',1182940000,'resolved fixed','a6ea14d',1183120000,'java/org/apache/catalina/core/ApplicationFilterFactory.java'),(984,41722,'Bug 41722  role-link tag in web.xml can not  be omitted.','The application with follwing web.xml can not be deployed.\n---\n    <servlet>\n      <servlet-name>sample</servlet-name>\n      <servlet-class>sample.TheServlet</servlet-class>\n      <security-role-ref>\n        <role-name>users</role-name>\n      </security-role-ref>\n    </servlet>\n\n    <servlet-mapping>\n    ....\n    </servlet-mapping>\n\n    <security-role>\n      <role-name>users</role-name>\n     </security-role>\n---\n\"java.lang.IllegalArgumentException: Can\'t convert argument: null\" occurred.\n\nThe Specification says:\n---\nThe security-role-ref element declares the security role reference in a\ncomponents or in a deployment components code.\nIt consists of an optional description, the security role name\nused in the code(role-name), and an optional link to a security role(role-link).\n---\n<role-link> is optional.','role link rolelink tag web xml omit applic follw web xml deploy servlet servlet name servletnam sampl servlet name servletnam servlet class servletclass sampl the servlet theservlet servlet class servletclass secur role ref securityroleref role name rolenam user role name rolenam secur role ref securityroleref servlet servlet map servletmap servlet map servletmap secur role securityrol role name rolenam user role name rolenam secur role securityrol java lang illeg argument except illegalargumentexcept convert argument null occur specif say secur role ref securityroleref element declar secur role refer compon deploy compon code consist option descript secur role name use code role name rolenam option link secur role role link rolelink role link rolelink option','role link rolelink tag web xml omit','applic follw web xml deploy servlet servlet name servletnam sampl servlet name servletnam servlet class servletclass sampl the servlet theservlet servlet class servletclass secur role ref securityroleref role name rolenam user role name rolenam secur role ref securityroleref servlet servlet map servletmap servlet map servletmap secur role securityrol role name rolenam user role name rolenam secur role securityrol java lang illeg argument except illegalargumentexcept convert argument null occur specif say secur role ref securityroleref element declar secur role refer compon deploy compon code consist option descript secur role name use code role name rolenam option link secur role role link rolelink role link rolelink option','2007-02-28 01:00:41',1172640000,'resolved fixed','ba25bfb',1182710000,'java/org/apache/catalina/deploy/SecurityRoleRef.java\njava/org/apache/catalina/startup/WebRuleSet.java'),(985,42314,'Bug 42314  Jasper output no details with compilation error in specific case.','Jasper output no details when Jasper cannot find\nmappings between generated servlet code (with mistakes)\nand former JSP.\nOne example JSP is the following. \n(The imported class in the JSP is not found.)\n---\n<%@\n  page import = \"not.exist.class\"\n%>\n---','jasper output detail compil error specif case jasper output detail jasper cannot find map gener servlet code mistak former jsp one exampl jsp follow import class jsp found page import exist class','jasper output detail compil error specif case','jasper output detail jasper cannot find map gener servlet code mistak former jsp one exampl jsp follow import class jsp found page import exist class','2007-05-02 01:13:16',1178080000,'resolved fixed','6c6ad83',1182690000,'java/org/apache/jasper/compiler/JavacErrorDetail.java'),(986,42547,'Bug 42547  Same env-entry (web.xml) and ResourceLink (context) names causes NPE','Having the following in web.xml:\n\n  <env-entry>\n    <env-entry-name>testIt</env-entry-name>\n    <env-entry-type>java.lang.String</env-entry-type>\n    <env-entry-value>test</env-entry-value>\n  </env-entry>\n\nand the following in your context descriptor:\n\n  <ResourceLink name=\"testIt\"\n                global=\"testIt\"\n                type=\"java.lang.String\"/>\n\ncauses an NPE on context load.\n\njava.lang.NullPointerException\n	at\norg.apache.catalina.deploy.NamingResources.addEnvironment(NamingResources.java:188)\n	\nThis assumes you have an entry for \'testIt\' in the <GlobalNamingResources>\nsection of server.xml to link to.\n\nThis worked in 5.5.20. No longer works in 5.5.23.','env entri enventri web xml resourc link resourcelink context name caus npe follow web xml env entri enventri env entri name enventrynam test it testit env entri name enventrynam env entri type enventrytyp java lang string env entri type enventrytyp env entri valu enventryvalu env entri valu enventryvalu env entri enventri follow context descriptor resourc link resourcelink name test it testit global test it testit type java lang string caus npe context load java lang null pointer except nullpointerexcept apach catalina deploy name resourc namingresourc add environ addenviron name resourc namingresourc java assum entri test it testit global name resourc globalnamingresourc section server xml link work longer work','env entri enventri web xml resourc link resourcelink context name caus npe','follow web xml env entri enventri env entri name enventrynam test it testit env entri name enventrynam env entri type enventrytyp java lang string env entri type enventrytyp env entri valu enventryvalu env entri valu enventryvalu env entri enventri follow context descriptor resourc link resourcelink name test it testit global test it testit type java lang string caus npe context load java lang null pointer except nullpointerexcept apach catalina deploy name resourc namingresourc add environ addenviron name resourc namingresourc java assum entri test it testit global name resourc globalnamingresourc section server xml link work longer work','2007-05-30 11:29:37',1180540000,'resolved fixed','53add24',1182610000,'java/org/apache/catalina/deploy/NamingResources.java'),(987,42643,'Bug 42643  Duplicate JSP function mapper variables','When we deploy ~20 or so web apps at a time, we invariably end up with an app or\ntwo on each server that has compilation errors due to code generated like this:\n\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_0;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_1;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_2;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_3;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_4;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_5;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_6;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_7;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_0;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_1;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_2;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_3;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_4;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_5;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_6;\nstatic private org.apache.jasper.runtime.ProtectedFunctionMapper _jspx_fnmap_7;\n\nThis looks like it might be as simple as unsynchronized access to the static\n\'currFunc\' in ELFunctionMapper, but I\'m far from an expert on this code and\nunfortunately lack the time to become one. :)\n\nThis only appears to happen when we mass-deploy apps, and we can resolve it by\ndeleting the generated .java file and manually restarting the affected app.','duplic jsp function mapper variabl deploy web app time invari app two server compil error due code gener like static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap look like might simpl unsynchron access static curr func currfunc function mapper elfunctionmapp far expert code unfortun lack time becom one appear happen mass deploy massdeploy app resolv delet gener java file manual restart affect app','duplic jsp function mapper variabl','deploy web app time invari app two server compil error due code gener like static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap static privat apach jasper runtim protect function mapper protectedfunctionmapp jspx fnmap look like might simpl unsynchron access static curr func currfunc function mapper elfunctionmapp far expert code unfortun lack time becom one appear happen mass deploy massdeploy app resolv delet gener java file manual restart affect app','2007-06-12 07:34:16',1181650000,'resolved fixed','5b65cf4',1182010000,'java/org/apache/jasper/compiler/ELFunctionMapper.java'),(988,42497,'Bug 42497  304 response should consistently include ETag header','','respons consist includ tag etag header','respons consist includ tag etag header','','2007-05-23 09:00:19',1179930000,'resolved fixed','0114b2d',1180740000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(989,42559,'Bug 42559  ErrorReportValve does not provide an error report','rev 535915 changed the behavior of ErrorReportValve in tomcat6 to not produce an\nerror report when response.sendError() is called. For example, using this code\nin a servlet\'s service() does not produce an error report:\n\nresponse.sendError(HttpServletResponse.SC_GONE, \"error occurred\");\n\nThe underlying cause is that the valve\'s check for response.isCommitted() was\nreplaced with response.isAppCommitted().  The latter returns true, which causes\nthe Valve\'s invoke() method to immediately return instead of producing the report.','error report valv errorreportvalv provid error report rev chang behavior error report valv errorreportvalv tomcat6 produc error report respons send error senderror call exampl use code servlet servic produc error report respons send error senderror http servlet respons httpservletrespons sc gone error occur underli caus valv check respons is commit iscommit replac respons is app commit isappcommit latter return true caus valv invok method immedi return instead produc report','error report valv errorreportvalv provid error report','rev chang behavior error report valv errorreportvalv tomcat6 produc error report respons send error senderror call exampl use code servlet servic produc error report respons send error senderror http servlet respons httpservletrespons sc gone error occur underli caus valv check respons is commit iscommit replac respons is app commit isappcommit latter return true caus valv invok method immedi return instead produc report','2007-05-31 09:09:05',1180620000,'resolved fixed','71eccb3',1180650000,'java/org/apache/catalina/valves/ErrorReportValve.java'),(990,39875,'Bug 39875  RealmBase#init() needs cleanup','','realm base realmbas init need cleanup','realm base realmbas init need cleanup','','2006-06-23 11:15:08',1151080000,'resolved fixed','0ea4c7c',1179890000,'java/org/apache/catalina/realm/RealmBase.java'),(991,42438,'Bug 42438  Duplicate JSP temp variable declaration when jsp:attribute used in conjunction with custom tags','','duplic jsp temp variabl declar jsp attribut use conjunct custom tag','duplic jsp temp variabl declar jsp attribut use conjunct custom tag','','2007-05-16 17:43:51',1179350000,'resolved fixed','5e188bc',1179890000,'java/org/apache/jasper/compiler/Node.java'),(992,42459,'Bug 42459  Tomcat Web Application Manager table error','html table -> tr wrong formating when stop (not last) in Tomcat Web Application \nManager.','tomcat web applic manag tabl error html tabl tr wrong format stop last tomcat web applic manag','tomcat web applic manag tabl error','html tabl tr wrong format stop last tomcat web applic manag','2007-05-19 13:32:58',1179600000,'resolved fixed','33c9949',1179680000,'java/org/apache/catalina/manager/HTMLManagerServlet.java'),(993,42444,'Bug 42444  Potential NullPointerException in org.apache.catalina.valves.AccessLogValve','','potenti null pointer except nullpointerexcept apach catalina valv access log valv accesslogvalv','potenti null pointer except nullpointerexcept apach catalina valv access log valv accesslogvalv','','2007-05-17 08:15:53',1179400000,'resolved fixed','776736f',1179600000,'java/org/apache/catalina/valves/AccessLogValve.java'),(994,42361,'Bug 42361  POST content type incorrect for multipart forms after login','When using a form with a custom encoding (e.g. \"multipart/form-data\"), the\ncontent type is not restored after a redirect to a login page (auth-method = FORM).\n\nTo reproduce:\n- A page that POSTs using multipart/form-data encoding (or anything other than\napplication/x-www-form-urlencoded) to a result page that is protected by a login\npage (auth-method=FORM) is invoked.\n- Even though the multipart POST data exists (verified by reading input stream\nof request from result page) the content type of the request is always\n\"application/x-www-form-urlencoded\".  \n- This only happens when redirected to the login page first.  It does not happen\nif already logged in.','post content type incorrect multipart form login use form custom encod multipart form data formdata content type restor redirect login page auth method authmethod form reproduc page post use multipart form data formdata encod anyth applic www form urlencod xwwwformurlencod result page protect login page auth method authmethod form invok even though multipart post data exist verifi read input stream request result page content type request alway applic www form urlencod xwwwformurlencod happen redirect login page first happen alreadi log','post content type incorrect multipart form login','use form custom encod multipart form data formdata content type restor redirect login page auth method authmethod form reproduc page post use multipart form data formdata encod anyth applic www form urlencod xwwwformurlencod result page protect login page auth method authmethod form invok even though multipart post data exist verifi read input stream request result page content type request alway applic www form urlencod xwwwformurlencod happen redirect login page first happen alreadi log','2007-05-08 16:06:35',1178650000,'resolved fixed','637acc5',1178670000,'java/org/apache/catalina/authenticator/FormAuthenticator.java\njava/org/apache/catalina/authenticator/SavedRequest.java'),(995,42309,'Bug 42309  Request: support for NIO in Embedded Tomcat','in org.apache.catalina.startup.Embedded there is no direct API to create an NIO\nconnector. This would be very helpful for all applications which use tomcat in\nembedded mode and require the CometProcessor.','request support nio embed tomcat apach catalina startup embed direct api creat nio connector would help applic use tomcat embed mode requir comet processor cometprocessor','request support nio embed tomcat','apach catalina startup embed direct api creat nio connector would help applic use tomcat embed mode requir comet processor cometprocessor','2007-05-01 02:03:28',1178000000,'resolved fixed','9546005',1178210000,'java/org/apache/catalina/startup/Embedded.java'),(996,42308,'Bug 42308  with APR bytessent bytesreceived performance data is not collected','with APR bytes received and bytes sent are always 0.','apr bytess bytesreceiv perform data collect apr byte receiv byte sent alway','apr bytess bytesreceiv perform data collect','apr byte receiv byte sent alway','2007-05-01 01:57:57',1178000000,'resolved fixed','4a04722',1178020000,'java/org/apache/coyote/http11/Http11AprProcessor.java\njava/org/apache/coyote/http11/Http11AprProtocol.java\njava/org/apache/coyote/http11/Http11NioProcessor.java\njava/org/apache/coyote/http11/InternalNioInputBuffer.java'),(997,42202,'Bug 42202  if you install tomcat in a directory with spaces it ignores TLD files inside jar files','if you install tomcat or a web application in a directory with spaces in the\nname, for example \"C:\\Program Files\\vds\\tomcat\" for tomcat or \"C:\\Program\nFiles\\vds\\console\" for a web application.\nthe TLD files that are inside the META-INF directory of the jar files will not\nbe loaded.\n\nthe problem is is the file treatment inside the TldConfig class ...\nI have attached a patch with the correction.\nthis bug is found in Tomcat 6 too','instal tomcat directori space ignor tld file insid jar file instal tomcat web applic directori space name exampl program file vd tomcat tomcat program file vd consol web applic tld file insid meta inf directori jar file load problem file treatment insid tld config tldconfig class attach patch correct found tomcat','instal tomcat directori space ignor tld file insid jar file','instal tomcat web applic directori space name exampl program file vd tomcat tomcat program file vd consol web applic tld file insid meta inf directori jar file load problem file treatment insid tld config tldconfig class attach patch correct found tomcat','2007-04-23 14:07:38',1177350000,'resolved fixed','f9ddaba',1177420000,'java/org/apache/catalina/startup/TldConfig.java'),(998,42071,'Bug 42071  If a JSP throws an UnavailableException twice, an IllegalStateException occurs.','If a JSP throws an UnavailableException twice, an IllegalStateException occurs.\n\nfirst access:\nJSP throws UnavailableException.\n\nsecond access:\nIf the JSP throws an UnavailableException again then an IllegalStateException\noccurs and Tomcat returns status code:500 to the client.\n\nThe problem is not that the IllegalStateException occurs.\nThe problem is that the JSP can be called even though it cannot be used.','jsp throw unavail except unavailableexcept twice illeg state except illegalstateexcept occur jsp throw unavail except unavailableexcept twice illeg state except illegalstateexcept occur first access jsp throw unavail except unavailableexcept second access jsp throw unavail except unavailableexcept illeg state except illegalstateexcept occur tomcat return statu code client problem illeg state except illegalstateexcept occur problem jsp call even though cannot use','jsp throw unavail except unavailableexcept twice illeg state except illegalstateexcept occur','jsp throw unavail except unavailableexcept twice illeg state except illegalstateexcept occur first access jsp throw unavail except unavailableexcept second access jsp throw unavail except unavailableexcept illeg state except illegalstateexcept occur tomcat return statu code client problem illeg state except illegalstateexcept occur problem jsp call even though cannot use','2007-04-08 17:49:37',1176070000,'resolved fixed','508f513',1176950000,'java/org/apache/jasper/servlet/JspServletWrapper.java'),(999,42039,'Bug 42039  Tomcat doesn\'t output the stack trace of UnavailableException.','When UnavailableException is thrown from the Servlet:init, Tomcat doesn\'t output\nthe stack trace of UnavailableException.\n\nThe cause of problem is lost.\n\nTomcat should output the stack trace at the \"invoke\" method of\nStandardWrapperValue.','tomcat doesn output stack trace unavail except unavailableexcept unavail except unavailableexcept thrown servlet init tomcat doesn output stack trace unavail except unavailableexcept caus problem lost tomcat output stack trace invok method standard wrapper valu standardwrappervalu','tomcat doesn output stack trace unavail except unavailableexcept','unavail except unavailableexcept thrown servlet init tomcat doesn output stack trace unavail except unavailableexcept caus problem lost tomcat output stack trace invok method standard wrapper valu standardwrappervalu','2007-04-03 16:54:58',1175630000,'resolved fixed','c3d2ce4',1176660000,'java/org/apache/catalina/core/StandardWrapperValve.java'),(1000,42119,'Bug 42119  request.getCharacterEncoding misparses charset=UTF-8; xyz=3','(This bug is also present in Coyote source 6.0.10.)\n\nIf there is an HTTP header\n Content-Type: text/abc; charset=UTF-8; xyz=3\nrequest.getCharacterEncoding() returns \"UTF-8; xyz=3\" but Tomcat 4.1.24 returns\n\"UTF-8\".\n\nIn Tomcat 4.1.24, request.getCharacterEncoding uses parseCharacterEncoding\ndefined in\n \njakarta-tomcat-4.1.24-src/catalina/src/share/org/apache/catalina/util/RequestUtil.java\n\nand it correctly handles the case of other Content-Type parameters.\n\nIn Tomcat 5.5.23, however, request.getCharacterEncoding uses\ngetCharsetFromContentType defined in \nfrom\napache-tomcat-5.5.23-src/connectors/util/java/org/apache/tomcat/util/http/ContentType.java\n\nwhich does not search for a possible terminating semicolon in the charset, thus\nerroneously including additional characters in the charset.\n\nThe code in 5.5.23 has a comment begins\n     // Basically return everything after \";charset=\"\n\nPlease consider using the code from 4.1.24\n\nThis problem showed up when Content-Type was multipart/mixed and a client\nspecified a charset parameter to Content-Type; however, it will occur in any\nContent-Type where charset is specified and is not the last parameter.','request get charact encod getcharacterencod mispars charset utf xyz present coyot sourc http header content type text abc charset utf xyz request get charact encod getcharacterencod return utf xyz tomcat return utf tomcat request get charact encod getcharacterencod us pars charact encod parsecharacterencod defin jakarta tomcat jakartatomcat 24 src 24src catalina src share apach catalina util request util requestutil java correctli handl case content type paramet tomcat howev request get charact encod getcharacterencod us get charset from content type getcharsetfromcontenttyp defin apach tomcat apachetomcat 23 src 23src connector util java apach tomcat util http content type contenttyp java search possibl termin semicolon charset thu erron includ addit charact charset code comment begin basic return everyth charset pleas consid use code problem show content type multipart mix client specifi charset paramet content type howev occur content type charset specifi last paramet','request get charact encod getcharacterencod mispars charset utf xyz','present coyot sourc http header content type text abc charset utf xyz request get charact encod getcharacterencod return utf xyz tomcat return utf tomcat request get charact encod getcharacterencod us pars charact encod parsecharacterencod defin jakarta tomcat jakartatomcat 24 src 24src catalina src share apach catalina util request util requestutil java correctli handl case content type paramet tomcat howev request get charact encod getcharacterencod us get charset from content type getcharsetfromcontenttyp defin apach tomcat apachetomcat 23 src 23src connector util java apach tomcat util http content type contenttyp java search possibl termin semicolon charset thu erron includ addit charact charset code comment begin basic return everyth charset pleas consid use code problem show content type multipart mix client specifi charset paramet content type howev occur content type charset specifi last paramet','2007-04-13 12:01:02',1176480000,'resolved fixed','4cf171a',1176600000,'java/org/apache/tomcat/util/http/ContentType.java'),(1001,42085,'Bug 42085  java.util.Logging duplicated since 5.5.23.  5.5.20 is OK','We use the followwing logging.properties in our WebApplication:\n\n----------%<--------------------%<----------------\nhandlers = 1tivoli.java.util.logging.FileHandler,\n2product.java.util.logging.FileHandler\n\n# Handlers for the root logger\n.handlers = 1tivoli.java.util.logging.FileHandler,\n2product.java.util.logging.FileHandler\n\n1tivoli.java.util.logging.FileHandler.level = INFO\n1tivoli.java.util.logging.FileHandler.pattern = /var/log/product/tivoli%g.log\n# limit Output to 1MB\n1tivoli.java.util.logging.FileHandler.limit=1048576\n# Limit rotation to 10 Logs ...\n1tivoli.java.util.logging.FileHandler.count=10\n1tivoli.java.util.logging.FileHandler.append=true\n1tivoli.java.util.logging.FileHandler.formatter=de.customer.product.tivoli.TivoliFormatter\n\n2product.java.util.logging.FileHandler.level = FINEST\n2product.java.util.logging.FileHandler.pattern = /var/log/product/product%g.log\n# limit Output to 1MB\n2product.java.util.logging.FileHandler.limit=1048576\n# Limit rotation to 5 Logs ...\n2product.java.util.logging.FileHandler.count=5\n2product.java.util.logging.FileHandler.append=true\n2product.java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\n----------%<--------------------%<----------------\n\nWhen using apache-tomcat-5.5.23 every Line in the Logfiles\nis duplicated. Debugging I found that the TivoliFormatter \nis actually created twice. And the root-logger has actually\n4 Handlers and not two as intended. This does not allow us an\nupgrade beyond 5.5.20.\n\nFound on Linux64Bit and Windows-XP, both with JDK 1.5_R11','java util log duplic sinc ok use follow log properti web applic webappl handler 1tivoli java util log file handler filehandl 2product java util log file handler filehandl handler root logger handler 1tivoli java util log file handler filehandl 2product java util log file handler filehandl 1tivoli java util log file handler filehandl level info 1tivoli java util log file handler filehandl pattern log product tivoli log limit output 1mb 1tivoli java util log file handler filehandl limit limit rotat log 1tivoli java util log file handler filehandl count 1tivoli java util log file handler filehandl append true 1tivoli java util log file handler filehandl formatt custom product tivoli tivoli formatt tivoliformatt 2product java util log file handler filehandl level finest 2product java util log file handler filehandl pattern log product product log limit output 1mb 2product java util log file handler filehandl limit limit rotat log 2product java util log file handler filehandl count 2product java util log file handler filehandl append true 2product java util log file handler filehandl formatt java util log simpl formatt simpleformatt use apach tomcat apachetomcat everi line logfil duplic debug found tivoli formatt tivoliformatt actual creat twice root logger rootlogg actual handler two intend allow u upgrad beyond found linux64 bit linux64bit window xp jdk r11','java util log duplic sinc ok','use follow log properti web applic webappl handler 1tivoli java util log file handler filehandl 2product java util log file handler filehandl handler root logger handler 1tivoli java util log file handler filehandl 2product java util log file handler filehandl 1tivoli java util log file handler filehandl level info 1tivoli java util log file handler filehandl pattern log product tivoli log limit output 1mb 1tivoli java util log file handler filehandl limit limit rotat log 1tivoli java util log file handler filehandl count 1tivoli java util log file handler filehandl append true 1tivoli java util log file handler filehandl formatt custom product tivoli tivoli formatt tivoliformatt 2product java util log file handler filehandl level finest 2product java util log file handler filehandl pattern log product product log limit output 1mb 2product java util log file handler filehandl limit limit rotat log 2product java util log file handler filehandl count 2product java util log file handler filehandl append true 2product java util log file handler filehandl formatt java util log simpl formatt simpleformatt use apach tomcat apachetomcat everi line logfil duplic debug found tivoli formatt tivoliformatt actual creat twice root logger rootlogg actual handler two intend allow u upgrad beyond found linux64 bit linux64bit window xp jdk r11','2007-04-10 23:13:02',1176260000,'resolved fixed','fa2b746',1176390000,'java/org/apache/juli/ClassLoaderLogManager.java'),(1002,42072,'Bug 42072  The call of the jspDestroy method violates it about the Java Servlet Specification 2.4, SRV.2.3.2.1.','When a JSP is accessed for a second time, the jspDestroy method is called even\nif a ServletException is thrown from the init method of the class that extends\nHttpJspPage.\n\nThis violates the Java Servlet Specification 2.4, SRV.2.3.2.1.','call jsp destroy jspdestroy method violat java servlet specif srv jsp access second time jsp destroy jspdestroy method call even servlet except servletexcept thrown init method class extend http jsp page httpjsppage violat java servlet specif srv','call jsp destroy jspdestroy method violat java servlet specif srv','jsp access second time jsp destroy jspdestroy method call even servlet except servletexcept thrown init method class extend http jsp page httpjsppage violat java servlet specif srv','2007-04-08 18:07:02',1176070000,'resolved fixed','3d27771',1176160000,'java/org/apache/jasper/servlet/JspServletWrapper.java'),(1003,41289,'Bug 41289  Error when deploying XML Configuration file URL','I tried to deploy a webapp using a context.xml file under manager webapp and\nreceived this error:\n\njava.io.FileNotFoundException:\n/opt/apache-tomcat-6.0.2/conf/Catalina/localhost/mywebapp3.xml (No such file or\ndirectory)\n        at java.io.FileOutputStream.open(Native Method)\n        at java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n        at java.io.FileOutputStream.<init>(FileOutputStream.java:131)\n        at\norg.apache.catalina.manager.ManagerServlet.copyInternal(ManagerServlet.java:1570)\n        at org.apache.catalina.manager.ManagerServlet.copy(ManagerServlet.java:1530)\n        at\norg.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:803)\n        at\norg.apache.catalina.manager.HTMLManagerServlet.deployInternal(HTMLManagerServlet.java:249)\n        at\norg.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:96)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:228)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:525)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:212)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:818)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:624)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:445)\n        at java.lang.Thread.run(Thread.java:613)\n\nI did checked and noticed apache-tomcat-6.0.2/conf/Catalina directory no longer\nexists in version 6. Did something changed?','error deploy xml configur file url tri deploy webapp use context xml file manag webapp receiv error java file not found except filenotfoundexcept opt apach tomcat apachetomcat conf catalina localhost mywebapp3 xml file directori java file output stream fileoutputstream open nativ method java file output stream fileoutputstream init file output stream fileoutputstream java java file output stream fileoutputstream init file output stream fileoutputstream java apach catalina manag manag servlet managerservlet copi intern copyintern manag servlet managerservlet java apach catalina manag manag servlet managerservlet copi manag servlet managerservlet java apach catalina manag manag servlet managerservlet deploy manag servlet managerservlet java apach catalina manag manag servlet htmlmanagerservlet deploy intern deployintern manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do get doget manag servlet htmlmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java check notic apach tomcat apachetomcat conf catalina directori longer exist version someth chang','error deploy xml configur file url','tri deploy webapp use context xml file manag webapp receiv error java file not found except filenotfoundexcept opt apach tomcat apachetomcat conf catalina localhost mywebapp3 xml file directori java file output stream fileoutputstream open nativ method java file output stream fileoutputstream init file output stream fileoutputstream java java file output stream fileoutputstream init file output stream fileoutputstream java apach catalina manag manag servlet managerservlet copi intern copyintern manag servlet managerservlet java apach catalina manag manag servlet managerservlet copi manag servlet managerservlet java apach catalina manag manag servlet managerservlet deploy manag servlet managerservlet java apach catalina manag manag servlet htmlmanagerservlet deploy intern deployintern manag servlet htmlmanagerservlet java apach catalina manag manag servlet htmlmanagerservlet do get doget manag servlet htmlmanagerservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process http11 protocol http11protocol java apach tomcat util net io endpoint jioendpoint worker run io endpoint jioendpoint java java lang thread run thread java check notic apach tomcat apachetomcat conf catalina directori longer exist version someth chang','2007-01-04 07:42:41',1167910000,'resolved fixed','d721522',1175780000,'java/org/apache/catalina/manager/ManagerServlet.java'),(1004,41703,'Bug 41703  Variable assigned with it\'s own value.','','variabl assign valu','variabl assign valu','','2007-02-26 02:18:39',1172470000,'resolved fixed','2049b78',1174980000,'java/org/apache/catalina/ha/authenticator/SingleSignOnMessage.java'),(1005,41682,'Bug 41682  ClassCastException with BackupManager + debug logging','(Still happening in 6.0.9, though that isn\'t an option in Bugzilla)\n\nIf I use the BackupManager for session replication AND turn on debug logging, I\nget this exception when I try to invalidate the session:\n\njava.lang.ClassCastException: org.apache.catalina.ha.session.BackupManager\ncannot be cast to org.apache.catalina.ha.session.DeltaManager\n	at org.apache.catalina.ha.session.DeltaSession.expire(DeltaSession.java:361)\n	at org.apache.catalina.ha.session.DeltaSession.expire(DeltaSession.java:352)\n	at org.apache.catalina.session.StandardSession.expire(StandardSession.java:660)\n	at\norg.apache.catalina.session.StandardSession.invalidate(StandardSession.java:1112)\n	at\norg.apache.catalina.session.StandardSessionFacade.invalidate(StandardSessionFacade.java:150)\n\nThe bug is easy to find in the source.  If debug logging is enabled, it tries to\ncast manager to DeltaManager without an instanceof, even though it is doing an\ninstanceof immediately after:\n\n    public void expire(boolean notify, boolean notifyCluster) {\n        String expiredId = getIdInternal();\n        super.expire(notify);\n\n        if (notifyCluster) {\n            if (log.isDebugEnabled())\n                log.debug(sm.getString(\"deltaSession.notifying\",\n                                       ((DeltaManager)manager).getName(),\n                                       new Boolean(isPrimarySession()),\n                                       expiredId));\n            if ( manager instanceof DeltaManager ) {\n                ( (DeltaManager) manager).sessionExpired(expiredId);\n            }\n        }\n    }','class cast except classcastexcept backup manag backupmanag debug log still happen though isn option bugzilla use backup manag backupmanag session replic turn debug log get except tri invalid session java lang class cast except classcastexcept apach catalina session backup manag backupmanag cannot cast apach catalina session delta manag deltamanag apach catalina session delta session deltasess expir delta session deltasess java apach catalina session delta session deltasess expir delta session deltasess java apach catalina session standard session standardsess expir standard session standardsess java apach catalina session standard session standardsess invalid standard session standardsess java apach catalina session standard session facad standardsessionfacad invalid standard session facad standardsessionfacad java easi find sourc debug log enabl tri cast manag delta manag deltamanag without instanceof even though instanceof immedi public void expir boolean notifi boolean notifi cluster notifyclust string expir id expiredid get id intern getidintern super expir notifi notifi cluster notifyclust log is debug enabl isdebugen log debug sm get string getstr delta session deltasess notifi delta manag deltamanag manag get name getnam new boolean is primari session isprimarysess expir id expiredid manag instanceof delta manag deltamanag delta manag deltamanag manag session expir sessionexpir expir id expiredid','class cast except classcastexcept backup manag backupmanag debug log','still happen though isn option bugzilla use backup manag backupmanag session replic turn debug log get except tri invalid session java lang class cast except classcastexcept apach catalina session backup manag backupmanag cannot cast apach catalina session delta manag deltamanag apach catalina session delta session deltasess expir delta session deltasess java apach catalina session delta session deltasess expir delta session deltasess java apach catalina session standard session standardsess expir standard session standardsess java apach catalina session standard session standardsess invalid standard session standardsess java apach catalina session standard session facad standardsessionfacad invalid standard session facad standardsessionfacad java easi find sourc debug log enabl tri cast manag delta manag deltamanag without instanceof even though instanceof immedi public void expir boolean notifi boolean notifi cluster notifyclust string expir id expiredid get id intern getidintern super expir notifi notifi cluster notifyclust log is debug enabl isdebugen log debug sm get string getstr delta session deltasess notifi delta manag deltamanag manag get name getnam new boolean is primari session isprimarysess expir id expiredid manag instanceof delta manag deltamanag delta manag deltamanag manag session expir sessionexpir expir id expiredid','2007-02-22 13:05:50',1172170000,'resolved fixed','12d912d',1174980000,'java/org/apache/catalina/ha/session/DeltaSession.java'),(1006,41166,'Bug 41166  Unable to start ReplicatedContext','I try to test the Cluster function. I got a problem: something like following \napears in the $CATALINA_HOME/logs/catalina.out\n\nSEVERE: Unable to start ReplicatedContext\njava.lang.ClassCastException: org.apache.naming.resources.ProxyDirContext \ncannot be cast to java.io.Serializable\n        at \norg.apache.catalina.tribes.tipis.AbstractReplicatedMap$MapEntry.setValue\n(AbstractReplicatedMap.java:1060)\n\nI didn\'t change any file in $CATALINA_HOME except server.xml, the any thing I \nchanged in server.xml is uncomment the line: \n<Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/>. \n\nand I add a context configuration file test.xml to \n$CATALINA_HOME/conf/Catalina/localhost with the flolling content\n\n[Aray@BONC-01 conf]$ cat Catalina/localhost/test.xml\n<Context\n        className=\"org.apache.catalina.ha.context.ReplicatedContext\"\n        path=\"/test\" docBase=\"/var/www/ClusterTest\"\n        debug=\"0\" privileged=\"true\" reloadable=\"true\"\n>\n\nthe web.xml file in /var/www/ClusterTest has no <distributable/> element \n\n\nI am worrying about I can\'t explain the problem clearly with my poor English. \nSo I paste the stepes I do as following:\n\n[Aray@BONC-01 apache-tomcat-6.0.2]$ which java\n/usr/java/jdk1.6.0/bin/java\n[Aray@BONC-01 apache-tomcat-6.0.2]$ java -version\njava version \"1.6.0-rc\"\nJava(TM) SE Runtime Environment (build 1.6.0-rc-b104)\nJava HotSpot(TM) Client VM (build 1.6.0-rc-b104, mixed mode, sharing)\n[Aray@BONC-01 apache-tomcat-6.0.2]$ echo $JAVA_HOME\n/usr/java/jdk1.6.0\n[Aray@BONC-01 apache-tomcat-6.0.2]$ echo $CLASSPATH\n\n[Aray@BONC-01 apache-tomcat-6.0.2]$ uname -a\nLinux BONC-01 2.6.9-34.EL #1 Wed Mar 8 00:07:35 CST 2006 i686 i686 i386 \nGNU/Linux\n[root@BONC-01 local]# cat /etc/redhat-release\nCentOS release 4.3 (Final)\n[Aray@BONC-01 apache-tomcat-6.0.2]$ cd conf\n[Aray@BONC-01 conf]$ cat server.xml\n<!-- Note:  A \"Server\" is not itself a \"Container\", so you may not\n     define subcomponents such as \"Valves\" at this level.\n     Documentation at /docs/config/server.html\n -->\n<Server port=\"8005\" shutdown=\"SHUTDOWN\">\n\n  <!--APR library loader. Documentation at /docs/apr.html -->\n  <Listener className=\"org.apache.catalina.core.AprLifecycleListener\" \nSSLEngine=\"on\" />\n  <!--Initialize Jasper prior to webapps are loaded. Documentation \nat /docs/jasper-howto.html -->\n  <Listener className=\"org.apache.catalina.core.JasperListener\" />\n  <!-- JMX Support for the Tomcat server. Documentation at /docs/non-\nexistent.html -->\n  <Listener className=\"org.apache.catalina.mbeans.ServerLifecycleListener\" />\n  <Listener \nclassName=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" />\n\n  <!-- Global JNDI resources\n       Documentation at /docs/jndi-resources-howto.html\n  -->\n  <GlobalNamingResources>\n    <!-- Editable user database that can also be used by\n         UserDatabaseRealm to authenticate users\n    -->\n    <Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n              description=\"User database that can be updated and saved\"\n              factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n              pathname=\"conf/tomcat-users.xml\" />\n  </GlobalNamingResources>\n\n  <!-- A \"Service\" is a collection of one or more \"Connectors\" that share\n       a single \"Container\" Note:  A \"Service\" is not itself a \"Container\",\n       so you may not define subcomponents such as \"Valves\" at this level.\n       Documentation at /docs/config/service.html\n   -->\n  <Service name=\"Catalina\">\n\n    <!-- A \"Connector\" represents an endpoint by which requests are received\n         and responses are returned. Documentation at :\n         Java HTTP Connector: /docs/config/http.html (blocking & non-blocking)\n         Java AJP  Connector: /docs/config/ajp.html\n         APR (HTTP/AJP) Connector: /docs/apr.html\n         Define a non-SSL HTTP/1.1 Connector on port 8080\n    -->\n    <Connector port=\"8080\" protocol=\"HTTP/1.1\"\n               maxThreads=\"150\" connectionTimeout=\"20000\"\n               redirectPort=\"8443\" />\n\n    <!-- Define a SSL HTTP/1.1 Connector on port 8443\n         This connector uses the JSSE configuration, when using APR, the\n         connector should be using the OpenSSL style configuration\n         described in the APR documentation -->\n    <!--\n    <Connector port=\"8443\" protocol=\"HTTP/1.1\"\n               maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n               clientAuth=\"false\" sslProtocol=\"TLS\" />\n    -->\n\n    <!-- Define an AJP 1.3 Connector on port 8009 -->\n    <Connector port=\"8009\" protocol=\"AJP/1.3\" redirectPort=\"8443\" />\n\n\n    <!-- An Engine represents the entry point (within Catalina) that processes\n         every request.  The Engine implementation for Tomcat stand alone\n         analyzes the HTTP headers included with the request, and passes them\n         on to the appropriate Host (virtual host).\n         Documentation at /docs/config/engine.html -->\n\n    <!-- You should set jvmRoute to support load-balancing via AJP ie :\n    <Engine name=\"Standalone\" defaultHost=\"localhost\" jvmRoute=\"jvm1\">\n    -->\n    <Engine name=\"Catalina\" defaultHost=\"localhost\">\n\n      <!--For clustering, please take a look at documentation at:\n          /docs/cluster-howto.html  (simple how to)\n          /docs/config/cluster.html (reference documentation) -->\n\n      <Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/>\n\n\n      <!-- The request dumper valve dumps useful debugging information about\n           the request and response data received and sent by Tomcat.\n           Documentation at: /docs/config/valve.html -->\n      <!--\n      <Valve className=\"org.apache.catalina.valves.RequestDumperValve\"/>\n      -->\n\n      <!-- This Realm uses the UserDatabase configured in the global JNDI\n           resources under the key \"UserDatabase\".  Any edits\n           that are performed against this UserDatabase are immediately\n           available for use by the Realm.  -->\n      <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n             resourceName=\"UserDatabase\"/>\n\n      <!-- Define the default virtual host\n           Note: XML Schema validation will not work with Xerces 2.2.\n       -->\n      <Host name=\"localhost\"  appBase=\"webapps\"\n            unpackWARs=\"true\" autoDeploy=\"true\"\n            xmlValidation=\"false\" xmlNamespaceAware=\"false\">\n\n        <!-- SingleSignOn valve, share authentication between web applications\n             Documentation at: /docs/config/valve.html -->\n        <!--\n        <Valve className=\"org.apache.catalina.authenticator.SingleSignOn\" />\n        -->\n\n        <!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html -->\n        <!--\n        <Valve className=\"org.apache.catalina.valves.FastCommonAccessLogValve\" \ndirectory=\"logs\"\n               prefix=\"localhost_access_log.\" suffix=\".txt\" pattern=\"common\" \nresolveHosts=\"false\"/>\n        -->\n\n      </Host>\n    </Engine>\n  </Service>\n</Server>\n\n[Aray@BONC-01 conf]$ mkdir Catalina\n[Aray@BONC-01 conf]$ ln -s /usr/local/tomcatConf/localhost/ Catalina/localhost\n[Aray@BONC-01 conf]$ cat Catalina/localhost/test.xml\n<Context\n        className=\"org.apache.catalina.ha.context.ReplicatedContext\"\n        path=\"/test\" docBase=\"/var/www/ClusterTest\"\n        debug=\"0\" privileged=\"true\" reloadable=\"true\"\n>\n</Context>\n[Aray@BONC-01 conf]$ cd ..\n[Aray@BONC-01 apache-tomcat-6.0.2]$ ls\nbin  conf  lib  LICENSE  logs  NOTICE  RELEASE-NOTES  RUNNING.txt  temp  \nwebapps  work\n[Aray@BONC-01 apache-tomcat-6.0.2]$ rm logs/*\n[Aray@BONC-01 apache-tomcat-6.0.2]$ bin/catalina.sh version\nUsing CATALINA_BASE:   /home/Aray/download/apache-tomcat-6.0.2\nUsing CATALINA_HOME:   /home/Aray/download/apache-tomcat-6.0.2\nUsing CATALINA_TMPDIR: /home/Aray/download/apache-tomcat-6.0.2/temp\nUsing JRE_HOME:       /usr/java/jdk1.6.0\nServer version: Apache Tomcat/6.0.2\nServer built:   Nov 16 2006 12:31:06\nServer number:  6.0.2.0\nOS Name:        Linux\nOS Version:     2.6.9-34.EL\nArchitecture:   i386\nJVM Version:    1.6.0-rc-b104\nJVM Vendor:     Sun Microsystems Inc.\n[Aray@BONC-01 apache-tomcat-6.0.2]$ bin/startup.sh\nUsing CATALINA_BASE:   /home/Aray/download/apache-tomcat-6.0.2\nUsing CATALINA_HOME:   /home/Aray/download/apache-tomcat-6.0.2\nUsing CATALINA_TMPDIR: /home/Aray/download/apache-tomcat-6.0.2/temp\nUsing JRE_HOME:       /usr/java/jdk1.6.0\n[Aray@BONC-01 apache-tomcat-6.0.2]$ cat logs/catalina.out\nINFO: Initializing Coyote HTTP/1.1 on http-8080\nDec 13, 2006 4:07:39 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 2532 ms\nDec 13, 2006 4:07:40 PM org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\nDec 13, 2006 4:07:40 PM org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/6.0.2\nDec 13, 2006 4:07:40 PM org.apache.catalina.ha.tcp.SimpleTcpCluster start\nINFO: Cluster is about to start\nDec 13, 2006 4:07:40 PM org.apache.catalina.tribes.transport.ReceiverBase bind\nINFO: Receiver Server Socket bound to:/127.0.0.1:4000\nDec 13, 2006 4:07:40 PM org.apache.catalina.tribes.membership.McastServiceImpl \nsetupSocket\nINFO: Setting cluster mcast soTimeout to 500\nDec 13, 2006 4:07:40 PM org.apache.catalina.tribes.membership.McastServiceImpl \nwaitForMembers\nINFO: Sleeping for 1000 milliseconds to establish cluster membership, start \nlevel:4\nDec 13, 2006 4:07:41 PM org.apache.catalina.tribes.membership.McastServiceImpl \nwaitForMembers\nINFO: Done sleeping, membership established, start level:4\nDec 13, 2006 4:07:41 PM org.apache.catalina.tribes.membership.McastServiceImpl \nwaitForMembers\nINFO: Sleeping for 1000 milliseconds to establish cluster membership, start \nlevel:8\nDec 13, 2006 4:07:42 PM org.apache.catalina.tribes.membership.McastServiceImpl \nwaitForMembers\nINFO: Done sleeping, membership established, start level:8\nDec 13, 2006 4:07:42 PM org.apache.catalina.core.StandardHost start\nINFO: XML validation disabled\nDec 13, 2006 4:07:42 PM org.apache.catalina.tribes.tipis.AbstractReplicatedMap \ninit\nINFO: Initializing AbstractReplicatedMap with context name:/test\nDec 13, 2006 4:07:43 PM org.apache.catalina.ha.context.ReplicatedContext start\nSEVERE: Unable to start ReplicatedContext\njava.lang.ClassCastException: org.apache.naming.resources.ProxyDirContext \ncannot be cast to java.io.Serializable\n        at \norg.apache.catalina.tribes.tipis.AbstractReplicatedMap$MapEntry.setValue\n(AbstractReplicatedMap.java:1060)\n        at \norg.apache.catalina.tribes.tipis.AbstractReplicatedMap$MapEntry.<init>\n(AbstractReplicatedMap.java:1005)\n        at org.apache.catalina.tribes.tipis.AbstractReplicatedMap.put\n(AbstractReplicatedMap.java:859)\n        at org.apache.catalina.core.ApplicationContext.setAttribute\n(ApplicationContext.java:756)\n        at org.apache.catalina.core.ApplicationContextFacade.setAttribute\n(ApplicationContextFacade.java:334)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:4296)\n        at org.apache.catalina.ha.context.ReplicatedContext.start\n(ReplicatedContext.java:55)\n        at org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:760)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:740)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor\n(HostConfig.java:626)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors\n(HostConfig.java:553)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:488)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1138)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:311)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:120)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:719)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:443)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:451)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:710)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\nDec 13, 2006 4:07:43 PM org.apache.catalina.core.ContainerBase addChildInternal\nSEVERE: ContainerBase.addChild: start:\nLifecycleException:  Failed to start ReplicatedContext:  \njava.lang.ClassCastException: org.apache.naming.resources.ProxyDirContext \ncannot be cast to java.io.Serializable\n        at org.apache.catalina.ha.context.ReplicatedContext.start\n(ReplicatedContext.java:58)','unabl start replic context replicatedcontext tri cluster function got problem someth like follow apear catalina home log catalina sever unabl start replic context replicatedcontext java lang class cast except classcastexcept apach name resourc proxi dir context proxydircontext cannot cast java serializ apach catalina tribe tipi abstract replic map abstractreplicatedmap map entri mapentri set valu setvalu abstract replic map abstractreplicatedmap java didn chang file catalina home except server xml thing chang server xml uncom line cluster class name classnam apach catalina tcp simpl tcp cluster simpletcpclust add context configur file xml catalina home conf catalina localhost floll content aray bonc conf cat catalina localhost xml context class name classnam apach catalina context replic context replicatedcontext path doc base docbas www cluster test clustertest debug privileg true reload true web xml file www cluster test clustertest distribut element worri explain problem clearli poor english past stepe follow aray bonc apach tomcat apachetomcat java usr java jdk1 java aray bonc apach tomcat apachetomcat java version java version rc 0rc java tm runtim environ build rc b104 0rcb104 java hot spot hotspot tm client vm build rc b104 0rcb104 mix mode share aray bonc apach tomcat apachetomcat echo java home usr java jdk1 aray bonc apach tomcat apachetomcat echo classpath aray bonc apach tomcat apachetomcat unam linux bonc wed mar cst i686 i686 i386 gnu linux root bonc local cat etc redhat releas redhatreleas cent cento releas final aray bonc apach tomcat apachetomcat cd conf aray bonc conf cat server xml note server contain may defin subcompon valv level document doc config server html server port shutdown shutdown apr librari loader document doc apr html listen class name classnam apach catalina core apr lifecycl listen aprlifecyclelisten engin sslengin initi jasper prior webapp load document doc jasper howto jasperhowto html listen class name classnam apach catalina core jasper listen jasperlisten jmx support tomcat server document doc exist html listen class name classnam apach catalina mbean server lifecycl listen serverlifecyclelisten listen class name classnam apach catalina mbean global resourc lifecycl listen globalresourceslifecyclelisten global jndi resourc document doc jndi resourc howto jndiresourceshowto html global name resourc globalnamingresourc edit user databas use user databas realm userdatabaserealm authent user resourc name user databas userdatabas auth contain type apach catalina user databas userdatabas descript user databas updat save factori apach catalina user memori user databas factori memoryuserdatabasefactori pathnam conf tomcat user tomcatus xml global name resourc globalnamingresourc servic collect one connector share singl contain note servic contain may defin subcompon valv level document doc config servic html servic name catalina connector repres endpoint request receiv respons return document java http connector doc config http html block non block nonblock java ajp connector doc config ajp html apr http ajp connector doc apr html defin ssl http connector port connector port protocol http max thread maxthread connect timeout connectiontimeout redirect port redirectport defin ssl http connector port connector us jsse configur use apr connector use open openssl style configur describ apr document connector port protocol http max thread maxthread scheme http secur true client auth clientauth fals ssl protocol sslprotocol tl defin ajp connector port connector port protocol ajp redirect port redirectport engin repres entri point within catalina process everi request engin implement tomcat stand alon analyz http header includ request pass appropri host virtual host document doc config engin html set jvm rout jvmrout support load balanc loadbalanc via ajp ie engin name standalon default host defaulthost localhost jvm rout jvmrout jvm1 engin name catalina default host defaulthost localhost cluster pleas take look document doc cluster howto clusterhowto html simpl doc config cluster html refer document cluster class name classnam apach catalina tcp simpl tcp cluster simpletcpclust request dumper valv dump use debug inform request respons data receiv sent tomcat document doc config valv html valv class name classnam apach catalina valv request dumper valv requestdumpervalv realm us user databas userdatabas configur global jndi resourc key user databas userdatabas edit perform user databas userdatabas immedi avail use realm realm class name classnam apach catalina realm user databas realm userdatabaserealm resourc name resourcenam user databas userdatabas defin default virtual host note xml schema valid work xerc host name localhost app base appbas webapp unpack unpackwar true auto deploy autodeploy true xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals singl sign on singlesignon valv share authent web applic document doc config valv html valv class name classnam apach catalina authent singl sign on singlesignon access log process exampl document doc config valv html valv class name classnam apach catalina valv fast common access log valv fastcommonaccesslogvalv directori log prefix localhost access log suffix txt pattern common resolv host resolvehost fals host engin servic server aray bonc conf mkdir catalina aray bonc conf ln usr local tomcat conf tomcatconf localhost catalina localhost aray bonc conf cat catalina localhost xml context class name classnam apach catalina context replic context replicatedcontext path doc base docbas www cluster test clustertest debug privileg true reload true context aray bonc conf cd aray bonc apach tomcat apachetomcat l conf lib licens log notic releas note run txt temp webapp work aray bonc apach tomcat apachetomcat rm log aray bonc apach tomcat apachetomcat catalina sh version use catalina base home aray download apach tomcat apachetomcat use catalina home home aray download apach tomcat apachetomcat use catalina tmpdir home aray download apach tomcat apachetomcat temp use jre home usr java jdk1 server version apach tomcat server built nov server number name linux version architectur i386 jvm version rc b104 0rcb104 jvm vendor sun microsystem inc aray bonc apach tomcat apachetomcat startup sh use catalina base home aray download apach tomcat apachetomcat use catalina home home aray download apach tomcat apachetomcat use catalina tmpdir home aray download apach tomcat apachetomcat temp use jre home usr java jdk1 aray bonc apach tomcat apachetomcat cat log catalina info initi coyot http http dec pm apach catalina startup catalina load info initi process m dec pm apach catalina core standard servic standardservic start info start servic catalina dec pm apach catalina core standard engin standardengin start info start servlet engin apach tomcat dec pm apach catalina tcp simpl tcp cluster simpletcpclust start info cluster start dec pm apach catalina tribe transport receiv base receiverbas bind info receiv server socket bound dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl setup socket setupsocket info set cluster mcast so timeout sotimeout dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info sleep millisecond establish cluster membership start level dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info done sleep membership establish start level dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info sleep millisecond establish cluster membership start level dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info done sleep membership establish start level dec pm apach catalina core standard host standardhost start info xml valid disabl dec pm apach catalina tribe tipi abstract replic map abstractreplicatedmap init info initi abstract replic map abstractreplicatedmap context name dec pm apach catalina context replic context replicatedcontext start sever unabl start replic context replicatedcontext java lang class cast except classcastexcept apach name resourc proxi dir context proxydircontext cannot cast java serializ apach catalina tribe tipi abstract replic map abstractreplicatedmap map entri mapentri set valu setvalu abstract replic map abstractreplicatedmap java apach catalina tribe tipi abstract replic map abstractreplicatedmap map entri mapentri init abstract replic map abstractreplicatedmap java apach catalina tribe tipi abstract replic map abstractreplicatedmap put abstract replic map abstractreplicatedmap java apach catalina core applic context applicationcontext set attribut setattribut applic context applicationcontext java apach catalina core applic context facad applicationcontextfacad set attribut setattribut applic context facad applicationcontextfacad java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina context replic context replicatedcontext start replic context replicatedcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig start host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas start contain base containerbas java apach catalina core standard host standardhost start standard host standardhost java apach catalina core contain base containerbas start contain base containerbas java apach catalina core standard engin standardengin start standard engin standardengin java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java dec pm apach catalina core contain base containerbas add child intern addchildintern sever contain base containerbas add child addchild start lifecycl except lifecycleexcept fail start replic context replicatedcontext java lang class cast except classcastexcept apach name resourc proxi dir context proxydircontext cannot cast java serializ apach catalina context replic context replicatedcontext start replic context replicatedcontext java','unabl start replic context replicatedcontext','tri cluster function got problem someth like follow apear catalina home log catalina sever unabl start replic context replicatedcontext java lang class cast except classcastexcept apach name resourc proxi dir context proxydircontext cannot cast java serializ apach catalina tribe tipi abstract replic map abstractreplicatedmap map entri mapentri set valu setvalu abstract replic map abstractreplicatedmap java didn chang file catalina home except server xml thing chang server xml uncom line cluster class name classnam apach catalina tcp simpl tcp cluster simpletcpclust add context configur file xml catalina home conf catalina localhost floll content aray bonc conf cat catalina localhost xml context class name classnam apach catalina context replic context replicatedcontext path doc base docbas www cluster test clustertest debug privileg true reload true web xml file www cluster test clustertest distribut element worri explain problem clearli poor english past stepe follow aray bonc apach tomcat apachetomcat java usr java jdk1 java aray bonc apach tomcat apachetomcat java version java version rc 0rc java tm runtim environ build rc b104 0rcb104 java hot spot hotspot tm client vm build rc b104 0rcb104 mix mode share aray bonc apach tomcat apachetomcat echo java home usr java jdk1 aray bonc apach tomcat apachetomcat echo classpath aray bonc apach tomcat apachetomcat unam linux bonc wed mar cst i686 i686 i386 gnu linux root bonc local cat etc redhat releas redhatreleas cent cento releas final aray bonc apach tomcat apachetomcat cd conf aray bonc conf cat server xml note server contain may defin subcompon valv level document doc config server html server port shutdown shutdown apr librari loader document doc apr html listen class name classnam apach catalina core apr lifecycl listen aprlifecyclelisten engin sslengin initi jasper prior webapp load document doc jasper howto jasperhowto html listen class name classnam apach catalina core jasper listen jasperlisten jmx support tomcat server document doc exist html listen class name classnam apach catalina mbean server lifecycl listen serverlifecyclelisten listen class name classnam apach catalina mbean global resourc lifecycl listen globalresourceslifecyclelisten global jndi resourc document doc jndi resourc howto jndiresourceshowto html global name resourc globalnamingresourc edit user databas use user databas realm userdatabaserealm authent user resourc name user databas userdatabas auth contain type apach catalina user databas userdatabas descript user databas updat save factori apach catalina user memori user databas factori memoryuserdatabasefactori pathnam conf tomcat user tomcatus xml global name resourc globalnamingresourc servic collect one connector share singl contain note servic contain may defin subcompon valv level document doc config servic html servic name catalina connector repres endpoint request receiv respons return document java http connector doc config http html block non block nonblock java ajp connector doc config ajp html apr http ajp connector doc apr html defin ssl http connector port connector port protocol http max thread maxthread connect timeout connectiontimeout redirect port redirectport defin ssl http connector port connector us jsse configur use apr connector use open openssl style configur describ apr document connector port protocol http max thread maxthread scheme http secur true client auth clientauth fals ssl protocol sslprotocol tl defin ajp connector port connector port protocol ajp redirect port redirectport engin repres entri point within catalina process everi request engin implement tomcat stand alon analyz http header includ request pass appropri host virtual host document doc config engin html set jvm rout jvmrout support load balanc loadbalanc via ajp ie engin name standalon default host defaulthost localhost jvm rout jvmrout jvm1 engin name catalina default host defaulthost localhost cluster pleas take look document doc cluster howto clusterhowto html simpl doc config cluster html refer document cluster class name classnam apach catalina tcp simpl tcp cluster simpletcpclust request dumper valv dump use debug inform request respons data receiv sent tomcat document doc config valv html valv class name classnam apach catalina valv request dumper valv requestdumpervalv realm us user databas userdatabas configur global jndi resourc key user databas userdatabas edit perform user databas userdatabas immedi avail use realm realm class name classnam apach catalina realm user databas realm userdatabaserealm resourc name resourcenam user databas userdatabas defin default virtual host note xml schema valid work xerc host name localhost app base appbas webapp unpack unpackwar true auto deploy autodeploy true xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals singl sign on singlesignon valv share authent web applic document doc config valv html valv class name classnam apach catalina authent singl sign on singlesignon access log process exampl document doc config valv html valv class name classnam apach catalina valv fast common access log valv fastcommonaccesslogvalv directori log prefix localhost access log suffix txt pattern common resolv host resolvehost fals host engin servic server aray bonc conf mkdir catalina aray bonc conf ln usr local tomcat conf tomcatconf localhost catalina localhost aray bonc conf cat catalina localhost xml context class name classnam apach catalina context replic context replicatedcontext path doc base docbas www cluster test clustertest debug privileg true reload true context aray bonc conf cd aray bonc apach tomcat apachetomcat l conf lib licens log notic releas note run txt temp webapp work aray bonc apach tomcat apachetomcat rm log aray bonc apach tomcat apachetomcat catalina sh version use catalina base home aray download apach tomcat apachetomcat use catalina home home aray download apach tomcat apachetomcat use catalina tmpdir home aray download apach tomcat apachetomcat temp use jre home usr java jdk1 server version apach tomcat server built nov server number name linux version architectur i386 jvm version rc b104 0rcb104 jvm vendor sun microsystem inc aray bonc apach tomcat apachetomcat startup sh use catalina base home aray download apach tomcat apachetomcat use catalina home home aray download apach tomcat apachetomcat use catalina tmpdir home aray download apach tomcat apachetomcat temp use jre home usr java jdk1 aray bonc apach tomcat apachetomcat cat log catalina info initi coyot http http dec pm apach catalina startup catalina load info initi process m dec pm apach catalina core standard servic standardservic start info start servic catalina dec pm apach catalina core standard engin standardengin start info start servlet engin apach tomcat dec pm apach catalina tcp simpl tcp cluster simpletcpclust start info cluster start dec pm apach catalina tribe transport receiv base receiverbas bind info receiv server socket bound dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl setup socket setupsocket info set cluster mcast so timeout sotimeout dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info sleep millisecond establish cluster membership start level dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info done sleep membership establish start level dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info sleep millisecond establish cluster membership start level dec pm apach catalina tribe membership mcast servic impl mcastserviceimpl wait for member waitformemb info done sleep membership establish start level dec pm apach catalina core standard host standardhost start info xml valid disabl dec pm apach catalina tribe tipi abstract replic map abstractreplicatedmap init info initi abstract replic map abstractreplicatedmap context name dec pm apach catalina context replic context replicatedcontext start sever unabl start replic context replicatedcontext java lang class cast except classcastexcept apach name resourc proxi dir context proxydircontext cannot cast java serializ apach catalina tribe tipi abstract replic map abstractreplicatedmap map entri mapentri set valu setvalu abstract replic map abstractreplicatedmap java apach catalina tribe tipi abstract replic map abstractreplicatedmap map entri mapentri init abstract replic map abstractreplicatedmap java apach catalina tribe tipi abstract replic map abstractreplicatedmap put abstract replic map abstractreplicatedmap java apach catalina core applic context applicationcontext set attribut setattribut applic context applicationcontext java apach catalina core applic context facad applicationcontextfacad set attribut setattribut applic context facad applicationcontextfacad java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina context replic context replicatedcontext start replic context replicatedcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy descriptor deploydescriptor host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig start host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas start contain base containerbas java apach catalina core standard host standardhost start standard host standardhost java apach catalina core contain base containerbas start contain base containerbas java apach catalina core standard engin standardengin start standard engin standardengin java apach catalina core standard servic standardservic start standard servic standardservic java apach catalina core standard server standardserv start standard server standardserv java apach catalina startup catalina start catalina java sun reflect nativ method accessor impl nativemethodaccessorimpl invoke0 nativ method sun reflect nativ method accessor impl nativemethodaccessorimpl invok nativ method accessor impl nativemethodaccessorimpl java sun reflect deleg method accessor impl delegatingmethodaccessorimpl invok deleg method accessor impl delegatingmethodaccessorimpl java java lang reflect method invok method java apach catalina startup bootstrap start bootstrap java apach catalina startup bootstrap main bootstrap java dec pm apach catalina core contain base containerbas add child intern addchildintern sever contain base containerbas add child addchild start lifecycl except lifecycleexcept fail start replic context replicatedcontext java lang class cast except classcastexcept apach name resourc proxi dir context proxydircontext cannot cast java serializ apach catalina context replic context replicatedcontext start replic context replicatedcontext java','2006-12-13 00:18:02',1165990000,'resolved fixed','4f96d21',1174970000,'java/org/apache/catalina/core/ApplicationContext.java\njava/org/apache/catalina/ha/context/ReplicatedContext.java\njava/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java'),(1007,41675,'Bug 41675  Add a debug statement when some necessary header information is missing','Reference: org.apache.coyote.http11.Http11Processor.java\n\nIt would be helpful for developers to get informed when some required header\ninformation is missing. eg when headers.getValue(\"host\"); returns null and\nhttp11 is true.\n\nCouldn\'t you add a log.debug statement that informs the user about missing\nheader-fields? (For example in Http11Processor.java:1391)','add debug statement necessari header inform miss refer apach coyot http11 http11 processor http11processor java would help develop get inform requir header inform miss header get valu getvalu host return null http11 true couldn add log debug statement inform user miss header field headerfield exampl http11 processor http11processor java','add debug statement necessari header inform miss','refer apach coyot http11 http11 processor http11processor java would help develop get inform requir header inform miss header get valu getvalu host return null http11 true couldn add log debug statement inform user miss header field headerfield exampl http11 processor http11processor java','2007-02-22 00:36:16',1172120000,'resolved fixed','7fd4fa8',1174860000,'java/org/apache/coyote/http11/Http11Processor.java'),(1008,40150,'Bug 40150  Incorrect User/Role classnames are silently ignored.','org.apache.catalina.realm.JAASRealm does not verify any of the class names that\nare set through setRoleClassNames() and setUserClassNames().\n\nIf an incorrect class name (e.g. a typo) is configured in context.xml, this is\nunnoticed by JAASRealm. The result is that during authentication, when the\nsubject\'s principals are checked against the configured class names, the\nprincipals are not recognised, and therefore not added to the subject.\n\nThe fact an incorrect configured class name is currently not detected and logged\nmakes it very hard to find the source of the problem. It can be easily fixed by\nchecking the class names in the two methods mentioned above. The class must\nexist, and it must implement java.security.Principal, which is currently not\nenforced/checked by the code.','incorrect user role classnam silent ignor apach catalina realm realm jaasrealm verifi class name set set role class name setroleclassnam set user class name setuserclassnam incorrect class name typo configur context xml unnot realm jaasrealm result authent subject princip check configur class name princip recognis therefor ad subject fact incorrect configur class name current detect log make hard find sourc problem easili fix check class name two method mention class must exist must implement java secur princip current enforc check code','incorrect user role classnam silent ignor','apach catalina realm realm jaasrealm verifi class name set set role class name setroleclassnam set user class name setuserclassnam incorrect class name typo configur context xml unnot realm jaasrealm result authent subject princip check configur class name princip recognis therefor ad subject fact incorrect configur class name current detect log make hard find sourc problem easili fix check class name two method mention class must exist must implement java secur princip current enforc check code','2006-08-01 08:52:32',1154440000,'resolved fixed','400d684',1174860000,'java/org/apache/catalina/realm/JAASRealm.java'),(1009,41790,'Bug 41790  JDTCompiler::getContents does not close the reader','In the class org.apache.jasper.compiler.JDTCompiler:\n-------------------------------------------------------------------------\npublic char[] getContents() {\n                char[] result = null;\n                try {\n                    InputStreamReader isReader =\n                        new InputStreamReader(new FileInputStream(sourceFile),\n                                ctxt.getOptions().getJavaEncoding());\n                    Reader reader = new BufferedReader(isReader);\n                    if (reader != null) {\n                        char[] chars = new char[8192];\n                        StringBuffer buf = new StringBuffer();\n                        int count;\n                        while ((count = reader.read(chars, 0, \n                                                    chars.length)) > 0) {\n                            buf.append(chars, 0, count);\n                        }\n                        result = new char[buf.length()];\n                        buf.getChars(0, result.length, result, 0);\n                    }\n                } catch (IOException e) {\n                    log.error(\"Compilation error\", e);\n                }\n                return result;\n            }\n-------------------------------------------------------------------------\nthe variable \"reader\" is not closed after use it. if I update jsp files \nfrequently, it will exhaust the system file handler. \"too many files\" errors \nwill come.\n\nI test it on Redhat linux, the same problem will occured in tomcat 5 and tomcat \n6.','compil jdtcompil get content getcont close reader class apach jasper compil compil jdtcompil public char get content getcont char result null tri input stream reader inputstreamread is reader isread new input stream reader inputstreamread new file input stream fileinputstream sourc file sourcefil ctxt get option getopt get java encod getjavaencod reader reader new buffer reader bufferedread is reader isread reader null char char new char string buffer stringbuff buf new string buffer stringbuff int count count reader read char char length buf append char count result new char buf length buf get char getchar result length result catch except ioexcept log error compil error return result variabl reader close use updat jsp file frequent exhaust system file handler mani file error redhat linux problem occur tomcat tomcat','compil jdtcompil get content getcont close reader','class apach jasper compil compil jdtcompil public char get content getcont char result null tri input stream reader inputstreamread is reader isread new input stream reader inputstreamread new file input stream fileinputstream sourc file sourcefil ctxt get option getopt get java encod getjavaencod reader reader new buffer reader bufferedread is reader isread reader null char char new char string buffer stringbuff buf new string buffer stringbuff int count count reader read char char length buf append char count result new char buf length buf get char getchar result length result catch except ioexcept log error compil error return result variabl reader close use updat jsp file frequent exhaust system file handler mani file error redhat linux problem occur tomcat tomcat','2007-03-07 19:02:57',1173310000,'resolved fixed','455b6f8',1173370000,'java/org/apache/jasper/compiler/JDTCompiler.java'),(1010,41752,'Bug 41752  Wrong message on exception in MemoryRealm','When Digester read tomcat-user.xml file and exception is throw, then is created\nnew LifecycleException. As first parameter of this Exception is message string.\nThis string is hardcoded to \"memoryRealm.readXml\", so I thing that log message\nwill be wrong too!\n\nI think that there must be used StringManager.\n\nactual implementation:\n\nDigester digester = getDigester();\ntry {\n  synchronized (digester) {\n    digester.push(this);\n    digester.parse(file);\n  }\n} \ncatch (Exception e) {\n  throw new LifecycleException(\"memoryRealm.readXml\", e);\n} \nfinally {\n  digester.reset();\n}\n\n\nfixed:\n\nDigester digester = getDigester();\ntry {\n  synchronized (digester) {\n    digester.push(this);\n    digester.parse(file);\n  }\n} \ncatch (Exception e) {\n  throw new LifecycleException(sm.getString(\"memoryRealm.readXml\"), e);\n} \nfinally {\n  digester.reset();\n}','wrong messag except memori realm memoryrealm digest read tomcat user tomcatus xml file except throw creat new lifecycl except lifecycleexcept first paramet except messag string string hardcod memori realm memoryrealm read xml readxml thing log messag wrong think must use string manag stringmanag actual implement digest digest get digest getdigest tri synchron digest digest push digest pars file catch except throw new lifecycl except lifecycleexcept memori realm memoryrealm read xml readxml final digest reset fix digest digest get digest getdigest tri synchron digest digest push digest pars file catch except throw new lifecycl except lifecycleexcept sm get string getstr memori realm memoryrealm read xml readxml final digest reset','wrong messag except memori realm memoryrealm','digest read tomcat user tomcatus xml file except throw creat new lifecycl except lifecycleexcept first paramet except messag string string hardcod memori realm memoryrealm read xml readxml thing log messag wrong think must use string manag stringmanag actual implement digest digest get digest getdigest tri synchron digest digest push digest pars file catch except throw new lifecycl except lifecycleexcept memori realm memoryrealm read xml readxml final digest reset fix digest digest get digest getdigest tri synchron digest digest push digest pars file catch except throw new lifecycl except lifecycleexcept sm get string getstr memori realm memoryrealm read xml readxml final digest reset','2007-03-02 16:28:19',1172870000,'resolved fixed','e33b67a',1172940000,'java/org/apache/catalina/realm/MemoryRealm.java'),(1011,41666,'Bug 41666  If-Unmodified-Since failure','The If-Unmodified-Since header doesn\'t work enoughly.\n\nfailed case:\n The If-Unmodified-Since header value: 1000000(milliseconds)\n The lastModified value of target resource: 1001000(milliseconds)\n\nIn this case, the response\'s status code should be SC_PRECONDITION_FAILED,\nbut the result is not so.\n\ncaused by:\nIn DefaultServlet#checkIfUnmodifiedSince:\n    if ( lastModified > (headerValue + 1000)) {\n\nI think it should be:\n    if ( lastModified >= (headerValue + 1000)) {','unmodifi sinc failur unmodifi sinc header doesn work enoughli fail case unmodifi sinc header valu millisecond last modifi lastmodifi valu target resourc millisecond case respons statu code sc precondit fail result caus default servlet defaultservlet check if unmodifi sinc checkifunmodifiedsinc last modifi lastmodifi header valu headervalu think last modifi lastmodifi header valu headervalu','unmodifi sinc failur','unmodifi sinc header doesn work enoughli fail case unmodifi sinc header valu millisecond last modifi lastmodifi valu target resourc millisecond case respons statu code sc precondit fail result caus default servlet defaultservlet check if unmodifi sinc checkifunmodifiedsinc last modifi lastmodifi header valu headervalu think last modifi lastmodifi header valu headervalu','2007-02-21 01:44:28',1172040000,'resolved fixed','9ac3428',1172940000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(1012,41739,'Bug 41739  The servlet with the value 0 in <load-on-startup> tag must be loaded at first.','Servlet 2.4 specification says:\n---\nIf the value is a positive integer or 0, the container must load\nand initialize the servlet as the application is deployed. \nThe container must guarantee that servlets marked with lower integers\nare loaded before servlets marked with higher integers.\n---\nI think the servlet with value 0 in <load-on-startup> tag must be loaded at the \nfirst.\n\nHowever, Tomcat loads the servlet at the last.','servlet valu load on startup loadonstartup tag must load first servlet specif say valu posit integ contain must load initi servlet applic deploy contain must guarante servlet mark lower integ load servlet mark higher integ think servlet valu load on startup loadonstartup tag must load first howev tomcat load servlet last','servlet valu load on startup loadonstartup tag must load first','servlet specif say valu posit integ contain must load initi servlet applic deploy contain must guarante servlet mark lower integ load servlet mark higher integ think servlet valu load on startup loadonstartup tag must load first howev tomcat load servlet last','2007-03-01 06:09:41',1172750000,'resolved fixed','01d38a5',1172800000,'java/org/apache/catalina/core/StandardContext.java'),(1013,41608,'Bug 41608  The log level is different at same messages.','I suggest a little message improvement.\n\nThe log level is different at same messages.\nThe message \"Servlet.service() for servlet {0} threw exception\" is \noutput in eight places, but the message level is not same.\n\n--org.apache.catalina.core.ApplicationDispatcher#invoke\n...\nwrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\",\n    wrapper.getName()), e);\n...\nwrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\",\n    wrapper.getName()), e);\n...\nwrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\",\n    wrapper.getName()), rootCause);\n...\nwrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\",\n    wrapper.getName()), e);\n\n\n--org.apache.catalina.core.StandardWrapperValve#invoke\ncontainer.getLogger().warn(sm.getString(\"standardWrapper.serviceException\",\n    wrapper.getName()), e);\n...\ncontainer.getLogger().warn(sm.getString(\"standardWrapper.serviceException\",\n    wrapper.getName()), e);\n...\ncontainer.getLogger().error(sm.getString(\"standardWrapper.serviceException\",\n    wrapper.getName()), rootCause);\n...\ncontainer.getLogger().error(sm.getString(\"standardWrapper.serviceException\",\n    wrapper.getName()), e);\n\nAre there any reasons for using getLogger().warn()?\nI think it would be better that all of them use getLogger().error(...).','log level differ messag suggest littl messag improv log level differ messag messag servlet servic servlet threw except output eight place messag level apach catalina core applic dispatch applicationdispatch invok wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam root caus rootcaus wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam apach catalina core standard wrapper valv standardwrappervalv invok contain get logger getlogg warn sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam contain get logger getlogg warn sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam contain get logger getlogg error sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam root caus rootcaus contain get logger getlogg error sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam reason use get logger getlogg warn think would better use get logger getlogg error','log level differ messag','suggest littl messag improv log level differ messag messag servlet servic servlet threw except output eight place messag level apach catalina core applic dispatch applicationdispatch invok wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam root caus rootcaus wrapper get logger getlogg error sm get string getstr applic dispatch applicationdispatch servic except serviceexcept wrapper get name getnam apach catalina core standard wrapper valv standardwrappervalv invok contain get logger getlogg warn sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam contain get logger getlogg warn sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam contain get logger getlogg error sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam root caus rootcaus contain get logger getlogg error sm get string getstr standard wrapper standardwrapp servic except serviceexcept wrapper get name getnam reason use get logger getlogg warn think would better use get logger getlogg error','2007-02-13 21:45:29',1171420000,'resolved fixed','8ba8334',1171600000,'java/org/apache/catalina/core/StandardWrapperValve.java'),(1014,41578,'Bug 41578  Avoid SimplePool.get/put synchronization in JspFactoryImpl','Only 1 instance of the JspFactory object (JspFactoryImpl) is created.\nConsequently there is a single SimplePool of PageContext objects for all JSP\nrequests and so every JSP request must synchronize on the lock inside SimplePool\nwhen getting and releasing a PageContext instance. Moreover, the pool has a\nfixed capacity and after that, the code in JspFactoryImpl will first acquire the\nlock to see if there are any free objects in the pool, failing which a new\nPageContext object is created.\n\nInstead of a single process-wide pool, a per thread pool of PageContext objects\ncan be used by JspFactoryImpl.','avoid simpl pool simplepool get put synchron jsp factori impl jspfactoryimpl instanc jsp factori jspfactori object jsp factori impl jspfactoryimpl creat consequ singl simpl pool simplepool page context pagecontext object jsp request everi jsp request must synchron lock insid simpl pool simplepool get releas page context pagecontext instanc moreov pool fix capac code jsp factori impl jspfactoryimpl first acquir lock see free object pool fail new page context pagecontext object creat instead singl process wide processwid pool thread pool page context pagecontext object use jsp factori impl jspfactoryimpl','avoid simpl pool simplepool get put synchron jsp factori impl jspfactoryimpl','instanc jsp factori jspfactori object jsp factori impl jspfactoryimpl creat consequ singl simpl pool simplepool page context pagecontext object jsp request everi jsp request must synchron lock insid simpl pool simplepool get releas page context pagecontext instanc moreov pool fix capac code jsp factori impl jspfactoryimpl first acquir lock see free object pool fail new page context pagecontext object creat instead singl process wide processwid pool thread pool page context pagecontext object use jsp factori impl jspfactoryimpl','2007-02-09 00:00:43',1171000000,'resolved fixed','4612c8a',1171070000,'java/org/apache/jasper/runtime/JspFactoryImpl.java'),(1015,41558,'Bug 41558  Unnecessary synchronization caused by JspFactory.getDefaultFactory while servicing JSPs','Tomcat version: 6.0.x trunk\n\nEvery generated JSP has \n\n    try {\n      _jspxFactory = JspFactory.getDefaultFactory();\n      response.setContentType(\"text/html\");\n\nin its _jspService method.\n\nThe use of JspFactory.getDefaultFactory during request processing should be\navoided as it is a *static synchronized* method.\n\nI have a diff that addresses this and will attach it to this bug.','unnecessari synchron caus jsp factori jspfactori get default factori getdefaultfactori servic jsp tomcat version trunk everi gener jsp tri jspx factori jspxfactori jsp factori jspfactori get default factori getdefaultfactori respons set content type setcontenttyp text html jsp servic jspservic method use jsp factori jspfactori get default factori getdefaultfactori request process avoid static synchron method diff address attach','unnecessari synchron caus jsp factori jspfactori get default factori getdefaultfactori servic jsp','tomcat version trunk everi gener jsp tri jspx factori jspxfactori jsp factori jspfactori get default factori getdefaultfactori respons set content type setcontenttyp text html jsp servic jspservic method use jsp factori jspfactori get default factori getdefaultfactori request process avoid static synchron method diff address attach','2007-02-07 06:03:18',1170850000,'resolved fixed','1a8c492',1170890000,'java/org/apache/jasper/compiler/Generator.java\njava/org/apache/jasper/compiler/JspRuntimeContext.java\njava/org/apache/jasper/runtime/HttpJspBase.java'),(1016,41521,'Bug 41521  filter-mapping doesn\'t support * for servlet-name','SRV 6.2.5 of the servlet 2.5 spec introduces support for \'*\' as the servlet-name\nin a filter-mapping.  TC6 does not currently support that value as specified. I\nwill attach a patch shortly.','filter map filtermap doesn support servlet name servletnam srv servlet spec introduc support servlet name servletnam filter map filtermap c6 tc6 current support valu specifi attach patch shortli','filter map filtermap doesn support servlet name servletnam','srv servlet spec introduc support servlet name servletnam filter map filtermap c6 tc6 current support valu specifi attach patch shortli','2007-02-01 14:18:55',1170360000,'resolved fixed','8b0d130',1170890000,'java/org/apache/catalina/core/ApplicationFilterFactory.java\njava/org/apache/catalina/deploy/FilterMap.java'),(1017,41466,'Bug 41466  NIO Connector: IllegalArgumentException: You can only write using the application write buffer provided by the handler','Trying to use NIO connector instead of APR connector using Tomcat6 HEAD, I get\nan IllegalArgumentException while in a call to sendAck.  \n\nLooking at InternalNioOutputBuffer.sendAck(), it uses ByteBuffer.wrap() to\ncreate a new ByteBuffer and uses this ByteBuffer in a call to writeToSocket.\nThere is a check in SecureNioChannel.write() that the ByteBuffer is the one\nstored in the \n\nCommenting the line 372 in SecureNioChannel.java fixes the problem.\n//if ( src != bufHandler.getWriteBuffer() ) throw new\nIllegalArgumentException(\"You can only write using the application write buffer\nprovided by the handler.\");\nBut I guess that the check is here for a valid reason, and a better fix would\nvery likely consist in fixing the sendAck or in adding an \"or\" condition to the\ntest for the case of sendAck().\n\nGRAVE: Cannot find message associated with key standardWrapper.acknowledgeException\njava.lang.IllegalArgumentException: You can only write using the application\nwrite buffer provided by the handler.\n	at org.apache.tomcat.util.net.SecureNioChannel.write(SecureNioChannel.java:372)\n	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:111)\n	at\norg.apache.coyote.http11.InternalNioOutputBuffer.writeToSocket(InternalNioOutputBuffer.java:434)\n	at\norg.apache.coyote.http11.InternalNioOutputBuffer.sendAck(InternalNioOutputBuffer.java:418)\n	at org.apache.coyote.http11.Http11NioProcessor.action(Http11NioProcessor.java:1028)\n	at org.apache.coyote.Response.action(Response.java:183)\n	at org.apache.coyote.Response.acknowledge(Response.java:310)\n	at org.apache.catalina.connector.Response.sendAcknowledgement(Response.java:1154)\n	at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:169)\n	at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n	at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:212)\n	at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:888)\n	at\norg.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:624)\n	at org.apache.tomcat.util.net.NioEndpoint$Worker.run(NioEndpoint.java:1467)\n	at java.lang.Thread.run(Thread.java:595)','nio connector illeg argument except illegalargumentexcept write use applic write buffer provid handler tri use nio connector instead apr connector use tomcat6 head get illeg argument except illegalargumentexcept call send ack sendack look intern nio output buffer internalniooutputbuff send ack sendack us byte buffer bytebuff wrap creat new byte buffer bytebuff us byte buffer bytebuff call write to socket writetosocket check secur nio channel secureniochannel write byte buffer bytebuff one store comment line secur nio channel secureniochannel java fix problem src buf handler bufhandl get write buffer getwritebuff throw new illeg argument except illegalargumentexcept write use applic write buffer provid handler guess check valid reason better fix would like consist fix send ack sendack ad condit case send ack sendack grave cannot find messag associ key standard wrapper standardwrapp acknowledg except acknowledgeexcept java lang illeg argument except illegalargumentexcept write use applic write buffer provid handler apach tomcat util net secur nio channel secureniochannel write secur nio channel secureniochannel java apach tomcat util net nio selector pool nioselectorpool write nio selector pool nioselectorpool java apach coyot http11 intern nio output buffer internalniooutputbuff write to socket writetosocket intern nio output buffer internalniooutputbuff java apach coyot http11 intern nio output buffer internalniooutputbuff send ack sendack intern nio output buffer internalniooutputbuff java apach coyot http11 http11 nio processor http11nioprocessor action http11 nio processor http11nioprocessor java apach coyot respons action respons java apach coyot respons acknowledg respons java apach catalina connector respons send acknowledg sendacknowledg respons java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor process http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint worker run nio endpoint nioendpoint java java lang thread run thread java','nio connector illeg argument except illegalargumentexcept write use applic write buffer provid handler','tri use nio connector instead apr connector use tomcat6 head get illeg argument except illegalargumentexcept call send ack sendack look intern nio output buffer internalniooutputbuff send ack sendack us byte buffer bytebuff wrap creat new byte buffer bytebuff us byte buffer bytebuff call write to socket writetosocket check secur nio channel secureniochannel write byte buffer bytebuff one store comment line secur nio channel secureniochannel java fix problem src buf handler bufhandl get write buffer getwritebuff throw new illeg argument except illegalargumentexcept write use applic write buffer provid handler guess check valid reason better fix would like consist fix send ack sendack ad condit case send ack sendack grave cannot find messag associ key standard wrapper standardwrapp acknowledg except acknowledgeexcept java lang illeg argument except illegalargumentexcept write use applic write buffer provid handler apach tomcat util net secur nio channel secureniochannel write secur nio channel secureniochannel java apach tomcat util net nio selector pool nioselectorpool write nio selector pool nioselectorpool java apach coyot http11 intern nio output buffer internalniooutputbuff write to socket writetosocket intern nio output buffer internalniooutputbuff java apach coyot http11 intern nio output buffer internalniooutputbuff send ack sendack intern nio output buffer internalniooutputbuff java apach coyot http11 http11 nio processor http11nioprocessor action http11 nio processor http11nioprocessor java apach coyot respons action respons java apach coyot respons acknowledg respons java apach catalina connector respons send acknowledg sendacknowledg respons java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 nio processor http11nioprocessor process http11 nio processor http11nioprocessor java apach coyot http11 http11 nio protocol http11nioprotocol http11 connect handler http11connectionhandl process http11 nio protocol http11nioprotocol java apach tomcat util net nio endpoint nioendpoint worker run nio endpoint nioendpoint java java lang thread run thread java','2007-01-25 09:12:11',1169730000,'resolved fixed','fce171f',1170020000,'java/org/apache/tomcat/util/net/NioSelectorPool.java'),(1018,39572,'Bug 39572  fixes to use CompressionFilter in WebSphere app server','There are a couple of small bugs in the compression filter classes that are\ntriggered by using the filter in WebSphere 5.1 or 6. Here are patches.\n\n- CompressionResponseStream should not compress the output stream if the\nresponse has been committed (because then it cannot write the Content-Encoding:\ngzip header, and the browser displays the compressed output as-is)\n- CompressionServletResponseWrapper causes a NullPointerException if you flush\nbefore writing anything','fix use compress filter compressionfilt web sphere webspher app server coupl small bug compress filter class trigger use filter web sphere webspher patch compress respons stream compressionresponsestream compress output stream respons commit cannot write content encod gzip header browser display compress output is asi compress servlet respons wrapper compressionservletresponsewrapp caus null pointer except nullpointerexcept flush write anyth','fix use compress filter compressionfilt web sphere webspher app server','coupl small bug compress filter class trigger use filter web sphere webspher patch compress respons stream compressionresponsestream compress output stream respons commit cannot write content encod gzip header browser display compress output is asi compress servlet respons wrapper compressionservletresponsewrapp caus null pointer except nullpointerexcept flush write anyth','2006-05-12 22:28:57',1147490000,'resolved fixed','f06d41f',1169940000,'webapps/examples/WEB-INF/classes/compressionFilters/CompressionFilterTestServlet.java\nwebapps/examples/WEB-INF/classes/compressionFilters/CompressionResponseStream.java\nwebapps/examples/WEB-INF/classes/compressionFilters/CompressionServletResponseWrapper.java');
INSERT INTO `bug_and_files` VALUES (1019,41265,'Bug 41265  JspServlet\'s checkInterval parameter cannot be set to 0 implicitly','conf\\web.xml\'s JspServlet init parameters include \'checkInterval\', whose value\nis explained as follows:\n  If development is false and checkInterval is greater than zero, background\ncompilations are enabled.\n\nIf I add the following parameters one would think the background compilations\nwould be disabled (the value is not greater than zero).\n\n        <init-param>\n            <param-name>checkInterval</param-name>\n            <param-value>0</param-value>\n        </init-param>\n        <init-param>\n            <param-name>development</param-name>\n            <param-value>false</param-value>\n        </init-param>\n\nHowever, the value is changed to 300 and the following warning is outputted:\nDec 30, 2006 7:13:57 PM org.apache.jasper.EmbeddedServletOptions <init>\nWARNING: Warning: Invalid value for the initParam checkInterval. Will use the\ndefault value of \"300\" seconds\n\nAccording to the comment in web.xml \"0\" was a valid value. Either the comment or\nthe validity check is wrong. Or my understanding of them.','jsp servlet jspservlet check interv checkinterv paramet cannot set implicitli conf web xml jsp servlet jspservlet init paramet includ check interv checkinterv whose valu explain follow develop fals check interv checkinterv greater zero background compil enabl add follow paramet one would think background compil would disabl valu greater zero init param initparam param name paramnam check interv checkinterv param name paramnam param valu paramvalu param valu paramvalu init param initparam init param initparam param name paramnam develop param name paramnam param valu paramvalu fals param valu paramvalu init param initparam howev valu chang follow warn output dec pm apach jasper embed servlet option embeddedservletopt init warn warn invalid valu init param initparam check interv checkinterv use default valu second accord comment web xml valid valu either comment valid check wrong understand','jsp servlet jspservlet check interv checkinterv paramet cannot set implicitli','conf web xml jsp servlet jspservlet init paramet includ check interv checkinterv whose valu explain follow develop fals check interv checkinterv greater zero background compil enabl add follow paramet one would think background compil would disabl valu greater zero init param initparam param name paramnam check interv checkinterv param name paramnam param valu paramvalu param valu paramvalu init param initparam init param initparam param name paramnam develop param name paramnam param valu paramvalu fals param valu paramvalu init param initparam howev valu chang follow warn output dec pm apach jasper embed servlet option embeddedservletopt init warn warn invalid valu init param initparam check interv checkinterv use default valu second accord comment web xml valid valu either comment valid check wrong understand','2006-12-30 02:34:23',1167460000,'resolved fixed','39fe247',1169940000,'java/org/apache/jasper/EmbeddedServletOptions.java'),(1020,40524,'Bug 40524  request.getAuthType() returns different string from HttpServletRequest.CLIENT_CERT_AUTH','using inspect:\n\nrequest.getAuthType()\n  (java.lang.String) CLIENT-CERT\n	 \nHttpServletRequest.CLIENT_CERT_AUTH\n   (java.lang.String) CLIENT_CERT\n\napi says they should be the same object (== should work)','request get auth type getauthtyp return differ string http servlet request httpservletrequest client cert auth use inspect request get auth type getauthtyp java lang string client cert http servlet request httpservletrequest client cert auth java lang string client cert api say object work','request get auth type getauthtyp return differ string http servlet request httpservletrequest client cert auth','use inspect request get auth type getauthtyp java lang string client cert http servlet request httpservletrequest client cert auth java lang string client cert api say object work','2006-09-16 01:49:08',1158390000,'resolved fixed','dc33554',1169930000,'java/org/apache/catalina/authenticator/Constants.java\njava/org/apache/catalina/authenticator/SSLAuthenticator.java\njava/org/apache/catalina/authenticator/SingleSignOn.java\njava/org/apache/catalina/authenticator/SingleSignOnEntry.java'),(1021,41217,'Bug 41217  SingleSignOn Cookie does not honor https access: Login Information Disclosure','When using the SingleSignOn Valve\n(org.apache.catalina.authenticator.SingleSignOn) via https the Cookie\nJSESSIONIDSSO is transmitted without the \"secure\" attribute, resulting in it\nbeing transmitted to any content that is - by purpose or error - requested via\nhttp from the same server. \n\nAs the content of the SSO-Cookie is confidential (it will lead to automatically\nlogged in sessions in other contexts - https or non-https) this should never happen.\n\nSorry to have no patch. I\'ve not installed the complete source distribution in\nmy development environment, but it seems the points to change are \norg.apache.catalina.authenticator.AuthenticatorBase.register(...), the code of\ninterest being (from 5.5.30 source distribution)\n\n            Cookie cookie = new Cookie(Constants.SINGLE_SIGN_ON_COOKIE, ssoId);\n            cookie.setMaxAge(-1);\n            cookie.setPath(\"/\");\n            hres.addCookie(cookie);\n\nAs hres is an org.apache.catalina.HttpRequest, and I\'ve looked through the code\nto find org.apache.catalina.Request.setSecure() but no ...isSecure() (though\nthis is mentioned in the Javadoc for ...setSecure()) I suppose there needs to be\nanother change to provide isSecure on Request or HttpRequest, but this is\ndifficult to tell only from the editor.\nIf isSecure() was there, there\'d be a \n            cookie.setSecure(hres.isSecure()) \nmissing in the statements above...','singl sign on singlesignon cooki honor http access login inform disclosur use singl sign on singlesignon valv apach catalina authent singl sign on singlesignon via http cooki jsessionidsso transmit without secur attribut result transmit content purpos error request via http server content sso cooki confidenti lead automat log session context http non http nonhttp never happen sorri patch instal complet sourc distribut develop environ seem point chang apach catalina authent authent base authenticatorbas regist code interest sourc distribut cooki cooki new cooki constant singl sign cooki sso id ssoid cooki set max age setmaxag cooki set path setpath hre add cooki addcooki cooki hre apach catalina http request httprequest look code find apach catalina request set secur setsecur is secur issecur though mention javadoc set secur setsecur suppos need anoth chang provid is secur issecur request http request httprequest difficult tell editor is secur issecur cooki set secur setsecur hre is secur issecur miss statement','singl sign on singlesignon cooki honor http access login inform disclosur','use singl sign on singlesignon valv apach catalina authent singl sign on singlesignon via http cooki jsessionidsso transmit without secur attribut result transmit content purpos error request via http server content sso cooki confidenti lead automat log session context http non http nonhttp never happen sorri patch instal complet sourc distribut develop environ seem point chang apach catalina authent authent base authenticatorbas regist code interest sourc distribut cooki cooki new cooki constant singl sign cooki sso id ssoid cooki set max age setmaxag cooki set path setpath hre add cooki addcooki cooki hre apach catalina http request httprequest look code find apach catalina request set secur setsecur is secur issecur though mention javadoc set secur setsecur suppos need anoth chang provid is secur issecur request http request httprequest difficult tell editor is secur issecur cooki set secur setsecur hre is secur issecur miss statement','2006-12-20 05:13:27',1166610000,'resolved fixed','11b9c92',1169930000,'java/org/apache/catalina/authenticator/AuthenticatorBase.java'),(1022,41327,'Bug 41327  Jasper does\'nt display the full path of the file in a 404 Not found  error page','','jasper nt display full path file found error page','jasper nt display full path file found error page','','2007-01-09 00:32:55',1168320000,'resolved fixed','3a6225a',1169930000,'java/org/apache/jasper/servlet/JspServlet.java'),(1023,40820,'Bug 40820  Default JSP factory not initialized early enough','With the latest TC6 code, I\'m seeing a problem that did not exist on earlier TC6\ndrivers.  Sorry that I can\'t put a finger on when this problem arose.  I looked\ninto relevant source files (like JspRuntimeContext) but haven\'t found the source\nof the problem. \n\nHere\'s the issue (a testcase will be attached). \n\nThe app is very simple: it installs ServletContextListener for the purpose of\nadding a custom ELResolver.  It accomplishes this via: \n\n    public void contextInitialized(ServletContextEvent evt) { \n        ServletContext context = evt.getServletContext(); \n        JspApplicationContext jspContext =\nJspFactory.getDefaultFactory().getJspApplicationContext(context); \n        jspContext.addELResolver(new ChipsELResolver()); \n    } \n\n\nThe problem is that JspFactory.getDefaultFactory() is returning null; see below.\n\nOct 4, 2006 5:32:18 PM org.apache.catalina.core.AprLifecycleListener lifecycleEv \nent \nINFO: The Apache Tomcat Native library which allows optimal performance in produ \nction environments was not found on the java.library.path: C:\\javaFor6.0BuildJDK \n15\\java\\jre\\bin;.;C:\\javaFor6.0BuildJDK15\\java\\bin;c:\\mantis2.1\\mantis\\bin;C:\\se \ntupIBASE;C:\\Perl\\bin\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;c: \n\\Python22;C:\\Program Files\\PC-Doctor for Windows\\services;c:\\cvsnt-2.0.4;c:\\ecli \npse;w:\\;w:\\bin;C:\\Program Files\\QuickTime\\QTSystem\\;C:\\Diskeeper\\;C:\\CMVC\\exe;C: \n\\CMVC\\exe\\bin;;C:\\CMVCDC50;C:\\CMVCDC50;C:\\CMVCDC50; \nOct 4, 2006 5:32:18 PM org.apache.coyote.http11.Http11Protocol init \nINFO: Initializing Coyote HTTP/1.1 on http-8080 \nOct 4, 2006 5:32:19 PM org.apache.catalina.startup.Catalina load \nINFO: Initialization processed in 1234 ms \nOct 4, 2006 5:32:19 PM org.apache.catalina.core.StandardService start \nINFO: Starting service Catalina \nOct 4, 2006 5:32:19 PM org.apache.catalina.core.StandardEngine start \nINFO: Starting Servlet Engine: Apache Tomcat/6.0.0-dev \nOct 4, 2006 5:32:19 PM org.apache.catalina.core.StandardHost start \nINFO: XML validation disabled \nOct 4, 2006 5:32:19 PM org.apache.catalina.startup.HostConfig deployWAR \nINFO: Deploying web application archive ELResolverTest.war \nChipsListener.contextInitialized  evt= javax.servlet.ServletContextEvent[source= \norg.apache.catalina.core.ApplicationContextFacade@3fbe3fbe] \nChipsListener.contextInitialized  context= org.apache.catalina.core.ApplicationC \nontextFacade@3fbe3fbe \nChipsListener.contextInitialized  JspFactory.getDefaultFactory()= null \nOct 4, 2006 5:32:20 PM org.apache.catalina.core.StandardContext start \nSEVERE: Error listenerStart \nOct 4, 2006 5:32:20 PM org.apache.catalina.core.StandardContext start \nSEVERE: Context [/ELResolverTest] startup failed due to previous errors \nOct 4, 2006 5:32:21 PM org.apache.coyote.http11.Http11Protocol start \nINFO: Starting Coyote HTTP/1.1 on http-8080 \nOct 4, 2006 5:32:21 PM org.apache.jk.common.ChannelSocket init \nINFO: JK: ajp13 listening on /0.0.0.0:8009 \nOct 4, 2006 5:32:21 PM org.apache.jk.server.JkMain start \nINFO: Jk running ID=0 time=0/63  config=null \nOct 4, 2006 5:32:21 PM org.apache.catalina.startup.Catalina start \nINFO: Server startup in 2657 ms \n\n\nThis is easily reproducible when you deploy the ELResolverTest.war *before* the\nserver has started (I assume JspFactory.setDefaultFactory() hasn\'t been invoked\nat the time the listeners are being installed).  If you deploy the WAR *after*\nthe server starts, the problem does not manifest and the app works --- until you\nstop and restart the server.','default jsp factori initi earli enough latest c6 tc6 code see problem exist earlier c6 tc6 driver sorri put finger problem aros look relev sourc file like jsp runtim context jspruntimecontext haven found sourc problem issu testcas attach app simpl instal servlet context listen servletcontextlisten purpos ad custom resolv elresolv accomplish via public void context initi contextiniti servlet context event servletcontextev evt servlet context servletcontext context evt get servlet context getservletcontext jsp applic context jspapplicationcontext jsp context jspcontext jsp factori jspfactori get default factori getdefaultfactori get jsp applic context getjspapplicationcontext context jsp context jspcontext add resolv addelresolv new chip resolv chipselresolv problem jsp factori jspfactori get default factori getdefaultfactori return null see oct pm apach catalina core apr lifecycl listen aprlifecyclelisten lifecycl ev lifecycleev ent info apach tomcat nativ librari allow optim perform produ ction environ found java librari path java for6 javafor6 build 0buildjdk java jre java for6 javafor6 build k15 0buildjdk15 java mantis2 manti tup tupibas perl window system32 window window system32 wbem python22 program file pc doctor window servic cvsnt ecli pse program file quick time quicktim system qtsystem diskeep cmvc exe cmvc exe c50 cmvcdc50 c50 cmvcdc50 c50 cmvcdc50 oct pm apach coyot http11 http11 protocol http11protocol init info initi coyot http http oct pm apach catalina startup catalina load info initi process m oct pm apach catalina core standard servic standardservic start info start servic catalina oct pm apach catalina core standard engin standardengin start info start servlet engin apach tomcat dev 0dev oct pm apach catalina core standard host standardhost start info xml valid disabl oct pm apach catalina startup host config hostconfig deploy deploywar info deploy web applic archiv resolv test elresolvertest chip listen chipslisten context initi contextiniti evt javax servlet servlet context event servletcontextev sourc apach catalina core applic context facad applicationcontextfacad 3fbe3fb chip listen chipslisten context initi contextiniti context apach catalina core applic applicationc ontext facad ontextfacad 3fbe3fb chip listen chipslisten context initi contextiniti jsp factori jspfactori get default factori getdefaultfactori null oct pm apach catalina core standard context standardcontext start sever error listen start listenerstart oct pm apach catalina core standard context standardcontext start sever context resolv test elresolvertest startup fail due previou error oct pm apach coyot http11 http11 protocol http11protocol start info start coyot http http oct pm apach jk common channel socket channelsocket init info jk ajp13 listen oct pm apach jk server jk main jkmain start info jk run id time config null oct pm apach catalina startup catalina start info server startup m easili reproduc deploy resolv test elresolvertest server start assum jsp factori jspfactori set default factori setdefaultfactori hasn invok time listen instal deploy server start problem manifest app work stop restart server','default jsp factori initi earli enough','latest c6 tc6 code see problem exist earlier c6 tc6 driver sorri put finger problem aros look relev sourc file like jsp runtim context jspruntimecontext haven found sourc problem issu testcas attach app simpl instal servlet context listen servletcontextlisten purpos ad custom resolv elresolv accomplish via public void context initi contextiniti servlet context event servletcontextev evt servlet context servletcontext context evt get servlet context getservletcontext jsp applic context jspapplicationcontext jsp context jspcontext jsp factori jspfactori get default factori getdefaultfactori get jsp applic context getjspapplicationcontext context jsp context jspcontext add resolv addelresolv new chip resolv chipselresolv problem jsp factori jspfactori get default factori getdefaultfactori return null see oct pm apach catalina core apr lifecycl listen aprlifecyclelisten lifecycl ev lifecycleev ent info apach tomcat nativ librari allow optim perform produ ction environ found java librari path java for6 javafor6 build 0buildjdk java jre java for6 javafor6 build k15 0buildjdk15 java mantis2 manti tup tupibas perl window system32 window window system32 wbem python22 program file pc doctor window servic cvsnt ecli pse program file quick time quicktim system qtsystem diskeep cmvc exe cmvc exe c50 cmvcdc50 c50 cmvcdc50 c50 cmvcdc50 oct pm apach coyot http11 http11 protocol http11protocol init info initi coyot http http oct pm apach catalina startup catalina load info initi process m oct pm apach catalina core standard servic standardservic start info start servic catalina oct pm apach catalina core standard engin standardengin start info start servlet engin apach tomcat dev 0dev oct pm apach catalina core standard host standardhost start info xml valid disabl oct pm apach catalina startup host config hostconfig deploy deploywar info deploy web applic archiv resolv test elresolvertest chip listen chipslisten context initi contextiniti evt javax servlet servlet context event servletcontextev sourc apach catalina core applic context facad applicationcontextfacad 3fbe3fb chip listen chipslisten context initi contextiniti context apach catalina core applic applicationc ontext facad ontextfacad 3fbe3fb chip listen chipslisten context initi contextiniti jsp factori jspfactori get default factori getdefaultfactori null oct pm apach catalina core standard context standardcontext start sever error listen start listenerstart oct pm apach catalina core standard context standardcontext start sever context resolv test elresolvertest startup fail due previou error oct pm apach coyot http11 http11 protocol http11protocol start info start coyot http http oct pm apach jk common channel socket channelsocket init info jk ajp13 listen oct pm apach jk server jk main jkmain start info jk run id time config null oct pm apach catalina startup catalina start info server startup m easili reproduc deploy resolv test elresolvertest server start assum jsp factori jspfactori set default factori setdefaultfactori hasn invok time listen instal deploy server start problem manifest app work stop restart server','2006-10-26 07:52:03',1161860000,'resolved fixed','a1b1bed',1167780000,'java/org/apache/catalina/core/JasperListener.java'),(1024,41074,'Bug 41074  Output of tag \"jsp:plugin\" is not conform to XHTML.','The jsp comiler outputs all tag required for an object in upper case letters. \nTo be conform with XHTML lower case is required, but all tags are hard coded in \nthe generator.','output tag jsp plugin conform xhtml jsp comil output tag requir object upper case letter conform xhtml lower case requir tag hard code gener','output tag jsp plugin conform xhtml','jsp comil output tag requir object upper case letter conform xhtml lower case requir tag hard code gener','2006-11-29 05:35:54',1164800000,'resolved fixed','5f9c18d',1165550000,'java/org/apache/jasper/compiler/Generator.java'),(1025,40585,'Bug 40585  org.apache.juli.FileHandler does not allow programmatic creation using parametrized constructor','If org.apache.juli.FileHandler is created programmatically with parametrized\nconstructor \n\npublic FileHandler(String directory, String prefix, String suffix)\n\n, FileHandler ignores custom constructor parameters, creates log handler with \ndefault configuration and writes log file to \n\"${catalina_home}/bin/logs\" with the name \"juli.YYYY-MM-DD.log\"\n(YYYY, MM and DD are substituted with actual year, month and date)\n\nIt looks like the problem is in the fact parametrized constructor calls \ndefault constructor. Default constructor in turn performs handler configuration\nfrom LogManager properties and creates a log file based on this default \nconfiguration. \n\nThis makes custom constructor parameters effectively ignored.','apach juli file handler filehandl allow programmat creation use parametr constructor apach juli file handler filehandl creat programmat parametr constructor public file handler filehandl string directori string prefix string suffix file handler filehandl ignor custom constructor paramet creat log handler default configur write log file catalina home log name juli yyyi mm dd log yyyi mm dd substitut actual year month date look like problem fact parametr constructor call default constructor default constructor turn perform handler configur log manag logmanag properti creat log file base default configur make custom constructor paramet effect ignor','apach juli file handler filehandl allow programmat creation use parametr constructor','apach juli file handler filehandl creat programmat parametr constructor public file handler filehandl string directori string prefix string suffix file handler filehandl ignor custom constructor paramet creat log handler default configur write log file catalina home log name juli yyyi mm dd log yyyi mm dd substitut actual year month date look like problem fact parametr constructor call default constructor default constructor turn perform handler configur log manag logmanag properti creat log file base default configur make custom constructor paramet effect ignor','2006-09-22 18:06:20',1158960000,'resolved fixed','c6b3f71',1165540000,'java/org/apache/juli/FileHandler.java'),(1026,41089,'Bug 41089  JspFactoryImpl has SPEC_VERSION = \"2.0\"','org.apache.jasper.runtime.JspFactoryImpl has \n\nprivate static final String SPEC_VERSION = \"2.0\";\n\nShould be:\n\nprivate static final String SPEC_VERSION = \"2.1\";','jsp factori impl jspfactoryimpl spec version apach jasper runtim jsp factori impl jspfactoryimpl privat static final string spec version privat static final string spec version','jsp factori impl jspfactoryimpl spec version','apach jasper runtim jsp factori impl jspfactoryimpl privat static final string spec version privat static final string spec version','2006-11-30 10:12:31',1164900000,'resolved fixed','514256e',1164980000,'java/org/apache/jasper/compiler/ImplicitTagLibraryInfo.java\njava/org/apache/jasper/compiler/PageDataImpl.java\njava/org/apache/jasper/compiler/Validator.java'),(1027,41057,'Bug 41057  Tomcat leaks memory on every request','','tomcat leak memori everi request','tomcat leak memori everi request','','2006-11-28 10:07:27',1164730000,'resolved fixed','de5c3b7',1164760000,'java/org/apache/tomcat/util/buf/StringCache.java'),(1028,41008,'Bug 41008  POST request ignores command line parameters','example:\n<form method=\"POST\" action=\"test.exe?test1\"><input type=\"hidden\"\nvalue=\"test2\"><input type=\"submit\"></form>\n\nthis code does invoke the test.exe without passing the test1 command line parameter\n\nthe example works in apache httpd and ms iis\n\nfix:\n\nCGIServlet.java\n\n           if (!\"GET\".equals(req.getMethod()) && !\"POST\".equals(req.getMethod()) &&\n                    !\"HEAD\".equals(req.getMethod()))\n                return;','post request ignor command line paramet exampl form method post action exe test1 input type hidden valu test2 input type submit form code invok exe without pass test1 command line paramet exampl work apach httpd m ii fix servlet cgiservlet java get equal req get method getmethod post equal req get method getmethod head equal req get method getmethod return','post request ignor command line paramet','exampl form method post action exe test1 input type hidden valu test2 input type submit form code invok exe without pass test1 command line paramet exampl work apach httpd m ii fix servlet cgiservlet java get equal req get method getmethod post equal req get method getmethod head equal req get method getmethod return','2006-11-21 09:20:32',1164120000,'resolved fixed','b70962f',1164410000,'java/org/apache/catalina/servlets/CGIServlet.java'),(1029,40901,'Bug 40901  listings page does not escape XML characters','On Solaris you can have a file or directory name called \"<b>xxx\" or \"<i>yyy\".\nUsing Tomcat\'s listings feature, you get a directory listing with the file name\nin bold or italics.\n\nI am not familiar with Javascript or cross-site scripting security problems, but\nI believe Tomcat escapes XML characters like \">\" and \"<\" to prevent client\nbrowsers to interpret HTML codes that are not intended to be interpreted as such\nfor the default error page.\nI think the same should be done for listings, or a warning should be added to\nthe documentation not to use it if you have no control over the file/directory\nnames you list.','list page escap xml charact solari file directori name call xxx yyy use tomcat list featur get directori list file name bold ital familiar javascript cross site crosssit script secur problem believ tomcat escap xml charact like prevent client browser interpret html code intend interpret default error page think done list warn ad document use control file directori name list','list page escap xml charact','solari file directori name call xxx yyy use tomcat list featur get directori list file name bold ital familiar javascript cross site crosssit script secur problem believ tomcat escap xml charact like prevent client browser interpret html code intend interpret default error page think done list warn ad document use control file directori name list','2006-11-05 20:38:27',1162780000,'resolved fixed','cb2c655',1163980000,'java/org/apache/catalina/servlets/DefaultServlet.java'),(1030,40929,'Bug 40929  Misleading comments in StandardClassLoader','Sometime during the Tomcat 5 development, the StandardClassLoader in\norg.apache.catalina.loader package was stripped down, and is now just a\nURLClassLoader.\n\nI work with code that extends the StandardClassLoader (we use the automatic\nreloading of jar files), and during an upgrade from tomcat 4 to tomcat 5.5 found\ndifficultly trying to figure out what had happened to the code.  I ended up\nhaving to install SVN and do a svn log to figure out why the code was removed.\n\nWhen the code was stripped down, the comments in the java file (and therefore in\nthe javadoc api) remained identical, so the javadoc api for the class is very\nmisleading.  For instance, the comments say that the class implements Reloader,\nwhen it in fact does not.\n\nThe class comments should be updated to reflect the state of the code.\n\nI can\'t see this as being very high priority, but it would likely be an easy to\nfix for people whom are in the code regularly, and it would make the javadoc\nmuch more readable for people that extend the StandardClassLoader for their own\npurposes.','mislead comment standard class loader standardclassload sometim tomcat develop standard class loader standardclassload apach catalina loader packag strip class loader urlclassload work code extend standard class loader standardclassload use automat reload jar file upgrad tomcat tomcat found difficultli tri figur happen code end instal svn svn log figur code remov code strip comment java file therefor javadoc api remain ident javadoc api class mislead instanc comment say class implement reload fact class comment updat reflect state code see high prioriti would like easi fix peopl code regularli would make javadoc much readabl peopl extend standard class loader standardclassload purpos','mislead comment standard class loader standardclassload','sometim tomcat develop standard class loader standardclassload apach catalina loader packag strip class loader urlclassload work code extend standard class loader standardclassload use automat reload jar file upgrad tomcat tomcat found difficultli tri figur happen code end instal svn svn log figur code remov code strip comment java file therefor javadoc api remain ident javadoc api class mislead instanc comment say class implement reload fact class comment updat reflect state code see high prioriti would like easi fix peopl code regularli would make javadoc much readabl peopl extend standard class loader standardclassload purpos','2006-11-08 14:23:40',1163010000,'resolved fixed','6009702',1163980000,'java/org/apache/catalina/loader/StandardClassLoader.java'),(1031,40860,'Bug 40860  Tomcat loses request parameters','','tomcat lose request paramet','tomcat lose request paramet','','2006-11-01 04:29:15',1162370000,'resolved fixed','e713e77',1163980000,'java/org/apache/catalina/connector/Request.java\njava/org/apache/tomcat/util/http/Parameters.java'),(1032,37509,'Bug 37509  ClassLoaderLogManager remove \'\\n\' at the end of logging.properties values','The method ClassLoaderLogManager.replace(String) that is in charge of replacing\nsystem properties at the begining of the property also modify the end of the\nproperty due to a call to trim.\n\nThis implies that Logger/Handler/Formatter that relies on properties endding\nwith some spases (including \'\\n\') will have a different behaviour with JDK\nLogManger and tomcat ClassLoaderLogManager\n\na modified verstion of this method could be:\n\n    protected String replace(String str) {\n// start modification    	\n//        String result = str.trim();  // commented out\n    	\n    	int len = str.length();\n    	int st = 0;\n    	while ((st < len) && (str.charAt(st) <= \' \')) {\n    	    st++;\n    	}\n    	String result = (st > 0) ? str.substring(st) : str;\n// end modification        \n        \n        if (result.startsWith(\"${\")) {\n            int pos = result.indexOf(\'}\');\n            if (pos != -1) {\n                String propName = result.substring(2, pos);\n                String replacement = System.getProperty(propName);\n                if (replacement != null) {\n                    result = replacement + result.substring(pos + 1);\n                }\n            }\n        }\n        return result;\n    }','class loader log manag classloaderlogmanag remov log properti valu method class loader log manag classloaderlogmanag replac string charg replac system properti begin properti modifi properti due call trim impli logger handler formatt reli properti end spa includ differ behaviour jdk log manger logmang tomcat class loader log manag classloaderlogmanag modifi verstion method could protect string replac string str start modif string result str trim comment int len str length int st st len str char at charat st st string result st str substr st str modif result start with startswith int po result index of indexof po string prop name propnam result substr po string replac system get properti getproperti prop name propnam replac null result replac result substr po return result','class loader log manag classloaderlogmanag remov log properti valu','method class loader log manag classloaderlogmanag replac string charg replac system properti begin properti modifi properti due call trim impli logger handler formatt reli properti end spa includ differ behaviour jdk log manger logmang tomcat class loader log manag classloaderlogmanag modifi verstion method could protect string replac string str start modif string result str trim comment int len str length int st st len str char at charat st st string result st str substr st str modif result start with startswith int po result index of indexof po string prop name propnam result substr po string replac system get properti getproperti prop name propnam replac null result replac result substr po return result','2005-11-15 18:22:38',1132100000,'resolved fixed','a6d6962',1163980000,'java/org/apache/juli/ClassLoaderLogManager.java'),(1033,40844,'Bug 40844  JDBCRealm.getPassword throws NullPointerException','JDBCRealm.getPassword throws NullPointerException\n\nI\'m using tomcat 5.5.20 with postgresql-8.1-407.jdbc3.jar and postgresql-8.1.4\non Ubuntu Dapper. Authenticating two users simultaneously with HTTP DIGEST\ncauses sometimes the following errors and a 401 Unauthorized reply:\n\n30.10.2006 14:24:54 org.apache.catalina.realm.JDBCRealm getPassword\nSEVERE: Exception performing authentication\norg.postgresql.util.PSQLException: ERROR: invalid message format\n        at\norg.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:1525)\n        at\norg.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1309)\n        at\norg.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:188)\n        at\norg.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:452)\n        at\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:354)\n        at\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:258)\n        at org.apache.catalina.realm.JDBCRealm.getPassword(JDBCRealm.java:546)\n        at org.apache.catalina.realm.RealmBase.getDigest(RealmBase.java:1156)\n        at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:365)\n        at\norg.apache.catalina.authenticator.DigestAuthenticator.findPrincipal(DigestAuthenticator.java:282)\n        at\norg.apache.catalina.authenticator.DigestAuthenticator.authenticate(DigestAuthenticator.java:175)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)\n        at\norg.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)\n        at\norg.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at\norg.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)\n30.10.2006 14:24:54 org.apache.catalina.connector.CoyoteAdapter service\nSEVERE: An exception or error occurred in the container during the request\nprocessing\njava.lang.NullPointerException\n        at org.apache.catalina.realm.JDBCRealm.getPassword(JDBCRealm.java:568)\n        at org.apache.catalina.realm.JDBCRealm.getPrincipal(JDBCRealm.java:594)\n        at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:398)\n        at\norg.apache.catalina.authenticator.DigestAuthenticator.findPrincipal(DigestAuthenticator.java:282)\n        at\norg.apache.catalina.authenticator.DigestAuthenticator.authenticate(DigestAuthenticator.java:175)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)\n        at\norg.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)\n        at\norg.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at\norg.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)','realm jdbcrealm get password getpassword throw null pointer except nullpointerexcept realm jdbcrealm get password getpassword throw null pointer except nullpointerexcept use tomcat postgresql jdbc3 jar postgresql ubuntu dapper authent two user simultan http digest caus sometim follow error unauthor repli apach catalina realm realm jdbcrealm get password getpassword sever except perform authent postgresql util except psqlexcept error invalid messag format postgresql core v3 queri executor impl queryexecutorimpl receiv error respons receiveerrorrespons queri executor impl queryexecutorimpl java postgresql core v3 queri executor impl queryexecutorimpl process result processresult queri executor impl queryexecutorimpl java postgresql core v3 queri executor impl queryexecutorimpl execut queri executor impl queryexecutorimpl java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut with flag executewithflag abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut queri executequeri abstract jdbc2 statement abstractjdbc2stat java apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm base realmbas get digest getdigest realm base realmbas java apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent digest authent digestauthent find princip findprincip digest authent digestauthent java apach catalina authent digest authent digestauthent authent digest authent digestauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java apach catalina connector coyot adapt coyoteadapt servic sever except error occur contain request process java lang null pointer except nullpointerexcept apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm jdbcrealm get princip getprincip realm jdbcrealm java apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent digest authent digestauthent find princip findprincip digest authent digestauthent java apach catalina authent digest authent digestauthent authent digest authent digestauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','realm jdbcrealm get password getpassword throw null pointer except nullpointerexcept','realm jdbcrealm get password getpassword throw null pointer except nullpointerexcept use tomcat postgresql jdbc3 jar postgresql ubuntu dapper authent two user simultan http digest caus sometim follow error unauthor repli apach catalina realm realm jdbcrealm get password getpassword sever except perform authent postgresql util except psqlexcept error invalid messag format postgresql core v3 queri executor impl queryexecutorimpl receiv error respons receiveerrorrespons queri executor impl queryexecutorimpl java postgresql core v3 queri executor impl queryexecutorimpl process result processresult queri executor impl queryexecutorimpl java postgresql core v3 queri executor impl queryexecutorimpl execut queri executor impl queryexecutorimpl java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut with flag executewithflag abstract jdbc2 statement abstractjdbc2stat java postgresql jdbc2 abstract jdbc2 statement abstractjdbc2stat execut queri executequeri abstract jdbc2 statement abstractjdbc2stat java apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm base realmbas get digest getdigest realm base realmbas java apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent digest authent digestauthent find princip findprincip digest authent digestauthent java apach catalina authent digest authent digestauthent authent digest authent digestauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java apach catalina connector coyot adapt coyoteadapt servic sever except error occur contain request process java lang null pointer except nullpointerexcept apach catalina realm realm jdbcrealm get password getpassword realm jdbcrealm java apach catalina realm realm jdbcrealm get princip getprincip realm jdbcrealm java apach catalina realm realm base realmbas authent realm base realmbas java apach catalina authent digest authent digestauthent find princip findprincip digest authent digestauthent java apach catalina authent digest authent digestauthent authent digest authent digestauthent java apach catalina authent authent base authenticatorbas invok authent base authenticatorbas java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','2006-10-30 06:25:52',1162210000,'resolved fixed','be9d523',1163980000,'java/org/apache/catalina/realm/JDBCRealm.java'),(1034,40913,'Bug 40913  JasperException raised against valid attribute','In org.apache.jasper.compiler.Validator.checkXmlAttributes(), the validation \nfor deferred values and methods is raising an exception when an rtexprvalue \nattribute is legitimate.\n\n------Stacktrace------\norg.apache.jasper.JasperException: \norg.apache.jasper.JasperException: /index.jsp(83,0)\n      According to TLD or attribute directive in tag file, attribute items \ndoes not accept any expressions\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException\n(JspServletWrapper.java:565)\n    org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:354)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\n\n\n------relevant code in checkXmlAttributes()------\n if (!deferred && (tldAttrs[j].isDeferredMethod() || tldAttrs\n[j].isDeferredValue())) {\n     // Only deferred expressions are allowed for this attribute\n     err.jspError(n, \"jsp.error.attribute.custom.non_rt_with_expr\",\n             tldAttrs[j].getName());\n }\n\n------testcase------\n<c:forEach var=\"k\" items=\"${colors}\">\n  <li><font color=\"${k}\">This line is ${k}</font>.\n</c:forEach>\n\nThe TLD for JSTL 1.2 says items can be an rtexprvalue and also a deferred-\nvalue.  So the above usage is correct.\nAttaching a testcase WAR.\n\n------summary------\nI don\'t think this code is really necessary; at least, it needs to be relaxed \nto allow tai.canBeRequestTime() values.','jasper except jasperexcept rais valid attribut apach jasper compil valid check xml attribut checkxmlattribut valid defer valu method rais except rtexprvalu attribut legitim stacktrac apach jasper jasper except jasperexcept apach jasper jasper except jasperexcept index jsp accord tld attribut direct tag file attribut item accept express apach jasper servlet jsp servlet wrapper jspservletwrapp handl jsp except handlejspexcept jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java relev code check xml attribut checkxmlattribut defer tld attr tldattr is defer method isdeferredmethod tld attr tldattr is defer valu isdeferredvalu defer express allow attribut err jsp error jsperror jsp error attribut custom rt expr tld attr tldattr get name getnam testcas for each foreach item color font color line font for each foreach tld jstl say item rtexprvalu defer valu usag correct attach testcas summari think code realli necessari least need relax allow can be request time canberequesttim valu','jasper except jasperexcept rais valid attribut','apach jasper compil valid check xml attribut checkxmlattribut valid defer valu method rais except rtexprvalu attribut legitim stacktrac apach jasper jasper except jasperexcept apach jasper jasper except jasperexcept index jsp accord tld attribut direct tag file attribut item accept express apach jasper servlet jsp servlet wrapper jspservletwrapp handl jsp except handlejspexcept jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java relev code check xml attribut checkxmlattribut defer tld attr tldattr is defer method isdeferredmethod tld attr tldattr is defer valu isdeferredvalu defer express allow attribut err jsp error jsperror jsp error attribut custom rt expr tld attr tldattr get name getnam testcas for each foreach item color font color line font for each foreach tld jstl say item rtexprvalu defer valu usag correct attach testcas summari think code realli necessari least need relax allow can be request time canberequesttim valu','2006-11-06 16:24:05',1162850000,'resolved fixed','f7ca96d',1162900000,'java/org/apache/jasper/compiler/Validator.java'),(1035,34956,'Bug 34956  Tomcat should enforce the requirements from servlet 2.4 specification SRV.8.2','Tomcat should enforce the requirements from servlet 2.4 specification SRV.8.2\n\nSRV.8.2 Using a Request Dispatcher\n\n\"To use a request dispatcher, a servlet calls either the include method or\nforward method of the RequestDispatcher interface. The parameters to these\nmethods can be either the request and response arguments that were passed in via\nthe service method of the Servlet interface, or instances of subclasses of the\nrequest and response wrapper classes that have been introduced for version 2.3\nof the specification. In the latter case, the wrapper instances must wrap the\nrequest or response objects that the container passed into the service method.\nThe Container Provider must ensure that the dispatch of the request to a target\nservlet occurs in the same thread of the same VM as the original request\"\n\nJustification:\n==============\nThe absense of this enforcement leads to software beeing developed not following\nthe specification. The software cannot be deployed later on a container which\nconforms to the above paragraph and hence must be changed before deployment.\nThis somehow contradicts the idea of having a standards based infrastructure.','tomcat enforc requir servlet specif srv tomcat enforc requir servlet specif srv srv use request dispatch use request dispatch servlet call either includ method forward method request dispatch requestdispatch interfac paramet method either request respons argument pass via servic method servlet interfac instanc subclass request respons wrapper class introduc version specif latter case wrapper instanc must wrap request respons object contain pass servic method contain provid must ensur dispatch request target servlet occur thread vm origin request justif absens enforc lead softwar bee develop follow specif softwar cannot deploy later contain conform paragraph henc must chang deploy somehow contradict idea standard base infrastructur','tomcat enforc requir servlet specif srv','tomcat enforc requir servlet specif srv srv use request dispatch use request dispatch servlet call either includ method forward method request dispatch requestdispatch interfac paramet method either request respons argument pass via servic method servlet interfac instanc subclass request respons wrapper class introduc version specif latter case wrapper instanc must wrap request respons object contain pass servic method contain provid must ensur dispatch request target servlet occur thread vm origin request justif absens enforc lead softwar bee develop follow specif softwar cannot deploy later contain conform paragraph henc must chang deploy somehow contradict idea standard base infrastructur','2005-05-18 14:47:47',1116440000,'resolved fixed','22d1ad7',1162680000,'java/org/apache/catalina/core/ApplicationDispatcher.java\njava/org/apache/catalina/core/ApplicationFilterChain.java'),(1036,40817,'Bug 40817  servlet-cgi throws index out of bounds exception on certain cgi','First, servlets-cgi.jar needs to exist and the servlet must be mapped:\nfor example:\n <servlet-mapping>\n   <servlet-name>cgi</servlet-name>\n   <url-pattern>*.pl</url-pattern>\n </servlet-mapping>\n\nTest perl cgi script:\n #!/usr/bin/perl\n print \"Content-type: text/plain\", \"\\n\\n\";\n print \"Hello world, from Perl\\n\";\n\nOne perl script is placed in www-root (\"/test.pl\") and the other in any\nsubfolder (\"/test/test.pl\" or \"/cgi-bin/test.pl\", etc.)\n\nThe cgi script in the subfolder will run fine.\nThe cgi script in the www-root will generate an exception:\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n	java.lang.String.substring(String.java:1768)\n	java.lang.String.substring(String.java:1735)\n	org.apache.catalina.servlets.CGIServlet$CGIEnvironment.findCGI(CGIServlet.java:948)\n	org.apache.catalina.servlets.CGIServlet$CGIEnvironment.setCGIEnvironment(CGIServlet.java:1015)\n	org.apache.catalina.servlets.CGIServlet$CGIEnvironment.<init>(CGIServlet.java:766)\n	org.apache.catalina.servlets.CGIServlet.doGet(CGIServlet.java:584)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\n\nThe problem is this line (line 948 in CGIServlet.java):\n\ncginame =              \ncurrentLocation.getParent().substring(webAppRootDir.length())+ File.separator +\nname;\n\nThe problem is that webAppRootDir is 1 char longer than\ncurrentLocation.getParent() because webAppRootDir ends with a File.separator (in\nthis case, a \"/\").  And removing the extra File.separator from webAppRootDir\nwill result in a different String related exception elsewhere.\n\nAnd here\'s a fix that works:\n\ncginame = (currentLocation.getParent() + \nFile.separator).substring(webAppRootDir.length()) + name;\n\n(If necessary, the fix can be made more adaptive by checking to see if it really\ndoes have a File.separator at the end and if not...add it...otherwise, let it\nbe, etc.)\n\n(on a side note, I have one more bug to fix; the ENV_VAR \"SCRIPT_FILENAME\" isn\'t\ndefined as it should be [required for PHP4/5] but I\'ll submit a different\nbug/fix for that.)','servlet cgi servletcgi throw index bound except certain cgi first servlet cgi servletscgi jar need exist servlet must map exampl servlet map servletmap servlet name servletnam cgi servlet name servletnam url pattern urlpattern pl url pattern urlpattern servlet map servletmap perl cgi script usr perl print content type contenttyp text plain print hello world perl one perl script place www root wwwroot pl subfold pl cgi bin cgibin pl etc cgi script subfold run fine cgi script www root wwwroot gener except java lang string index out of bound except stringindexoutofboundsexcept string index rang java lang string substr string java java lang string substr string java apach catalina servlet servlet cgiservlet environ cgienviron find findcgi servlet cgiservlet java apach catalina servlet servlet cgiservlet environ cgienviron set environ setcgienviron servlet cgiservlet java apach catalina servlet servlet cgiservlet environ cgienviron init servlet cgiservlet java apach catalina servlet servlet cgiservlet do get doget servlet cgiservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java problem line line servlet cgiservlet java cginam current locat currentloc get parent getpar substr web app root dir webapprootdir length file separ name problem web app root dir webapprootdir char longer current locat currentloc get parent getpar web app root dir webapprootdir end file separ case remov extra file separ web app root dir webapprootdir result differ string relat except elsewher fix work cginam current locat currentloc get parent getpar file separ substr web app root dir webapprootdir length name necessari fix made adapt check see realli file separ add otherwis let etc side note one fix env script filenam isn defin requir p4 php4 ll submit differ fix','servlet cgi servletcgi throw index bound except certain cgi','first servlet cgi servletscgi jar need exist servlet must map exampl servlet map servletmap servlet name servletnam cgi servlet name servletnam url pattern urlpattern pl url pattern urlpattern servlet map servletmap perl cgi script usr perl print content type contenttyp text plain print hello world perl one perl script place www root wwwroot pl subfold pl cgi bin cgibin pl etc cgi script subfold run fine cgi script www root wwwroot gener except java lang string index out of bound except stringindexoutofboundsexcept string index rang java lang string substr string java java lang string substr string java apach catalina servlet servlet cgiservlet environ cgienviron find findcgi servlet cgiservlet java apach catalina servlet servlet cgiservlet environ cgienviron set environ setcgienviron servlet cgiservlet java apach catalina servlet servlet cgiservlet environ cgienviron init servlet cgiservlet java apach catalina servlet servlet cgiservlet do get doget servlet cgiservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java problem line line servlet cgiservlet java cginam current locat currentloc get parent getpar substr web app root dir webapprootdir length file separ name problem web app root dir webapprootdir char longer current locat currentloc get parent getpar web app root dir webapprootdir end file separ case remov extra file separ web app root dir webapprootdir result differ string relat except elsewher fix work cginam current locat currentloc get parent getpar file separ substr web app root dir webapprootdir length name necessari fix made adapt check see realli file separ add otherwis let etc side note one fix env script filenam isn defin requir p4 php4 ll submit differ fix','2006-10-25 20:02:52',1161820000,'resolved fixed','6d274b4',1162680000,'java/org/apache/catalina/servlets/CGIServlet.java'),(1037,37458,'Bug 37458  Datarace on org.apache.catalina.loader.WebappClassLoader','In findClassInternal, it is possible that entry.manifest is set to null by \nanother thread right before calling definePackage(packageName, entry.manifest, \nentry.codeBase).','datarac apach catalina loader webapp class loader webappclassload find class intern findclassintern possibl entri manifest set null anoth thread right call defin packag definepackag packag name packagenam entri manifest entri code base codebas','datarac apach catalina loader webapp class loader webappclassload','find class intern findclassintern possibl entri manifest set null anoth thread right call defin packag definepackag packag name packagenam entri manifest entri code base codebas','2005-11-10 21:34:17',1131680000,'resolved fixed','79631bb',1162680000,'java/org/apache/catalina/loader/WebappClassLoader.java'),(1038,40723,'Bug 40723  Wrong and misleading documentation in JDBCAccessLogValve','In the class JDBCAccessLogValve is an example for an table to hold access log \nvalues. In this table is a column ts which is defined as not null. This will \nonly work on MySQL, because this value is never written by the Valve and other \ndatabases will complain about a column which is not filled with a value.','wrong mislead document access log valv jdbcaccesslogvalv class access log valv jdbcaccesslogvalv exampl tabl hold access log valu tabl column t defin null work my mysql valu never written valv databas complain column fill valu','wrong mislead document access log valv jdbcaccesslogvalv','class access log valv jdbcaccesslogvalv exampl tabl hold access log valu tabl column t defin null work my mysql valu never written valv databas complain column fill valu','2006-10-11 02:50:26',1160550000,'resolved fixed','9cb5aff',1161140000,'java/org/apache/catalina/valves/JDBCAccessLogValve.java'),(1039,40771,'Bug 40771  Can\'t read POST data from within a filter or valve','I was attempting to create a Filter or Valve that could be placed in front of an\nAxis web service that would handle security according to the WS-Security\nspecification. That turned out to be a rabbit trail, but I did find and fix a\nbug that I discovered along the way. \n\nI ran into problems reading POST data (the web service request) from the\norg.apache.catalina.connector.Request object exposed in the Filter/Valve\ninterfaces. This is a chunk of code in a prototype Valve that didn\'t work:\n\nprivate ByteChunk getPOSTBody(Request request)\n      throws IOException\n  {\n    ByteChunk retval = new ByteChunk(request.getContentLength());\n    ByteChunk body = new ByteChunk(request.getContentLength());\n\n    int bytesRead;\n    do\n    {\n      bytesRead = request.getCoyoteRequest().doRead(body);\n      retval.append(body);\n    }\n    while (bytesRead >= 0) ;\n\n    //puts the data back into the pipe.\n    request.getCoyoteRequest().action\n        (ActionCode.ACTION_REQ_SET_BODY_REPLAY, retval);\n\n    return retval;\n  }\n\nThis code works as designed, however the problem occurs later on when Axis\nattempted to parse the web service request. I don\'t remember the exact Axis\nerror, but I was able to track the problem down to a bug in the\norg.apache.coyote.http11.filters.SavedRequestInputFilter class. The doRead\nmethod was not properly implemented to return a -1 when appropriate.\n\nHere is my modified version of the doRead method:\n\npublic int doRead(ByteChunk chunk, org.apache.coyote.Request request)\n            throws IOException {\n        int writeLength = 0;\n        \n        if (chunk.getLimit() > 0 && chunk.getLimit() < input.getLength()) {\n            writeLength = chunk.getLimit();\n        } else {\n        	writeLength = input.getLength();\n        }\n        if(input.getOffset()>= input.getEnd())\n            return -1;\n\n        input.substract(chunk.getBuffer(), 0, writeLength);\n        chunk.setOffset(0);\n        chunk.setEnd(writeLength);\n        \n        return writeLength;    \n    }\n\n\nThis bug won\'t show up unless someone tries to use a filter/valve to do\nsomething with web services. That\'s not too likely because that\'s what we have\nSOAPHandlers for.','read post data within filter valv attempt creat filter valv could place front axi web servic would handl secur accord w secur specif turn rabbit trail find fix discov along way ran problem read post data web servic request apach catalina connector request object expos filter valv interfac chunk code prototyp valv didn work privat byte chunk bytechunk get bodi getpostbodi request request throw except ioexcept byte chunk bytechunk retval new byte chunk bytechunk request get content length getcontentlength byte chunk bytechunk bodi new byte chunk bytechunk request get content length getcontentlength int byte read bytesread byte read bytesread request get coyot request getcoyoterequest do read doread bodi retval append bodi byte read bytesread put data back pipe request get coyot request getcoyoterequest action action code actioncod action req set bodi replay retval return retval code work design howev problem occur later axi attempt pars web servic request rememb exact axi error abl track problem apach coyot http11 filter save request input filter savedrequestinputfilt class do read doread method properli implement return appropri modifi version do read doread method public int do read doread byte chunk bytechunk chunk apach coyot request request throw except ioexcept int write length writelength chunk get limit getlimit chunk get limit getlimit input get length getlength write length writelength chunk get limit getlimit els write length writelength input get length getlength input get offset getoffset input get end getend return input substract chunk get buffer getbuff write length writelength chunk set offset setoffset chunk set end setend write length writelength return write length writelength won show unless someon tri use filter valv someth web servic like handler soaphandl','read post data within filter valv','attempt creat filter valv could place front axi web servic would handl secur accord w secur specif turn rabbit trail find fix discov along way ran problem read post data web servic request apach catalina connector request object expos filter valv interfac chunk code prototyp valv didn work privat byte chunk bytechunk get bodi getpostbodi request request throw except ioexcept byte chunk bytechunk retval new byte chunk bytechunk request get content length getcontentlength byte chunk bytechunk bodi new byte chunk bytechunk request get content length getcontentlength int byte read bytesread byte read bytesread request get coyot request getcoyoterequest do read doread bodi retval append bodi byte read bytesread put data back pipe request get coyot request getcoyoterequest action action code actioncod action req set bodi replay retval return retval code work design howev problem occur later axi attempt pars web servic request rememb exact axi error abl track problem apach coyot http11 filter save request input filter savedrequestinputfilt class do read doread method properli implement return appropri modifi version do read doread method public int do read doread byte chunk bytechunk chunk apach coyot request request throw except ioexcept int write length writelength chunk get limit getlimit chunk get limit getlimit input get length getlength write length writelength chunk get limit getlimit els write length writelength input get length getlength input get offset getoffset input get end getend return input substract chunk get buffer getbuff write length writelength chunk set offset setoffset chunk set end setend write length writelength return write length writelength won show unless someon tri use filter valv someth web servic like handler soaphandl','2006-10-16 16:08:36',1161030000,'resolved fixed','17eecdb',1161140000,'java/org/apache/coyote/http11/filters/SavedRequestInputFilter.java'),(1040,39724,'Bug 39724  Bug on StandardPipeline.removeValve(Valve valve) for T5.5.16+','I run into this problem with T5 when tring to add/remove/add a valve to the\nstandard engine. -For what I understand an empty pipeline has:\nbasic = StandardEngineValve (For example);\nfirst = null;\n\n-If you add a valve you will get\nbasic = StandardEngineValve\nfirst = myValve (with myValve.next = StandardEngineValve)\n\n-If you remove the valve you will get\nbasic =StandardEngineValve\nfirst = StandardEngineValve\nNote that StandardEngineValve is in first too here.\n\n-If I try to add a new valve given the actual code in  addValve the valve will\nnot be added because (see the **) current = basic and current.getNext() = null;\n\naddValve(Valve valve) {\n \n       // Add this Valve to the set associated with this Pipeline\n       if (first == null) {\n           first = valve;\n           valve.setNext(basic);\n       } else {\n           Valve current = first;\n           while (current != null) {\n**                if (current.getNext() == basic) {\n                   current.setNext(valve);\n                   valve.setNext(basic);\n                   break;\n               }\n               current = current.getNext();\n           }\n       }\n\n   }','standard pipelin standardpipelin remov valv removevalv valv valv t5 run problem t5 tring add remov add valv standard engin understand empti pipelin basic standard engin valv standardenginevalv exampl first null add valv get basic standard engin valv standardenginevalv first my valv myvalv my valv myvalv next standard engin valv standardenginevalv remov valv get basic standard engin valv standardenginevalv first standard engin valv standardenginevalv note standard engin valv standardenginevalv first tri add new valv given actual code add valv addvalv valv ad see current basic current get next getnext null add valv addvalv valv valv add valv set associ pipelin first null first valv valv set next setnext basic els valv current first current null current get next getnext basic current set next setnext valv valv set next setnext basic break current current get next getnext','standard pipelin standardpipelin remov valv removevalv valv valv t5','run problem t5 tring add remov add valv standard engin understand empti pipelin basic standard engin valv standardenginevalv exampl first null add valv get basic standard engin valv standardenginevalv first my valv myvalv my valv myvalv next standard engin valv standardenginevalv remov valv get basic standard engin valv standardenginevalv first standard engin valv standardenginevalv note standard engin valv standardenginevalv first tri add new valv given actual code add valv addvalv valv ad see current basic current get next getnext null add valv addvalv valv valv add valv set associ pipelin first null first valv valv set next setnext basic els valv current first current null current get next getnext basic current set next setnext valv valv set next setnext basic break current current get next getnext','2006-06-05 14:01:56',1149530000,'resolved fixed','b18c29e',1159840000,'java/org/apache/catalina/core/StandardPipeline.java'),(1041,29727,'Bug 29727  JNDI env-entry not reload when context reloaded','If environment entries are changed in web.xml, and the application context is \nrestarted, the values in the JNDI context are the old values.\n\nIf the environment entries are changed via the Tomcat \'admin\' interface, then \nthe values provided to the context are correct.\n\nThe following code is can be used to check the environment:\n\n        try {\n            InitialContext ic = new InitialContext();\n            NamingEnumeration enum = ic.listBindings(\"java:comp/env\");\n\n            while (enum.hasMore()) {\n                Binding binding = (Binding) enum.next();\n                jndi.setProperty(binding.getName(), \"\" + binding.getObject());\n                System.out.println(\"jndi setting: \" + binding.getName() + \"=\" \n+ binding.getObject());\n            }\n        } catch (NamingException e) {\n            System.err.println(\"unable to read JNDI settings, \" + e);\n        }\n\n\nThe web.xml fragment looks as follows:\n\n	<env-entry>\n		<env-entry-name>DatabaseURL</env-entry-name>\n		<env-entry-value>jdbc:hsqldb:hsql://localhost</env-entry-value>\n		<env-entry-type>java.lang.String</env-entry-type>\n	</env-entry>','jndi env entri enventri reload context reload environ entri chang web xml applic context restart valu jndi context old valu environ entri chang via tomcat admin interfac valu provid context correct follow code use check environ tri initi context initialcontext ic new initi context initialcontext name enumer namingenumer enum ic list bind listbind java comp env enum ha more hasmor bind bind bind enum next jndi set properti setproperti bind get name getnam bind get object getobject system println jndi set bind get name getnam bind get object getobject catch name except namingexcept system err println unabl read jndi set web xml fragment look follow env entri enventri env entri name enventrynam databas databaseurl env entri name enventrynam env entri valu enventryvalu jdbc hsqldb hsql localhost env entri valu enventryvalu env entri type enventrytyp java lang string env entri type enventrytyp env entri enventri','jndi env entri enventri reload context reload','environ entri chang web xml applic context restart valu jndi context old valu environ entri chang via tomcat admin interfac valu provid context correct follow code use check environ tri initi context initialcontext ic new initi context initialcontext name enumer namingenumer enum ic list bind listbind java comp env enum ha more hasmor bind bind bind enum next jndi set properti setproperti bind get name getnam bind get object getobject system println jndi set bind get name getnam bind get object getobject catch name except namingexcept system err println unabl read jndi set web xml fragment look follow env entri enventri env entri name enventrynam databas databaseurl env entri name enventrynam env entri valu enventryvalu jdbc hsqldb hsql localhost env entri valu enventryvalu env entri type enventrytyp java lang string env entri type enventrytyp env entri enventri','2004-06-21 22:56:25',1087870000,'resolved fixed','1a5e6e7',1159750000,'java/org/apache/catalina/deploy/NamingResources.java'),(1042,40625,'Bug 40625  CGIServlet eats root cause','The code below doesn\'t make sense:\n<snip>\n            catch (IOException e){\n                log (\"Caught exception \" + e);\n                throw new IOException (e.toString());\n            }\n</snip>\n\nIt should be \"throw e;\".\n\nIMHO, It seems no need to log this exception here, so \nthe cache block can be removed.','servlet cgiservlet eat root caus code doesn make sens snip catch except ioexcept log caught except throw new except ioexcept to string tostr snip throw imho seem need log except cach block remov','servlet cgiservlet eat root caus','code doesn make sens snip catch except ioexcept log caught except throw new except ioexcept to string tostr snip throw imho seem need log except cach block remov','2006-09-28 05:16:58',1159440000,'resolved fixed','bbb8fe1',1159570000,'java/org/apache/catalina/servlets/CGIServlet.java'),(1043,40518,'Bug 40518  The message key \"requestListenerValve.requestInit\" has not be referred to correctly.','The bug is:\n\nAn illegal message is output to the log when the listener application that \nimplements ServletRequestListener interface throws RuntimeException from the \nrequestInitialized method or the requestDestroyed method.\n\nmessage: \"Cannot find message associated with key \nrequestListenerValve.requestInit\"\n\ncause: The key exists in the properties \nfile \"org.apache.catalina.valves.LocalStrings.properties\", but the logic refers \nother properties file \"org.apache.catalina.core.LocalStrings.properties\"','messag key request listen valv requestlistenervalv request init requestinit refer correctli illeg messag output log listen applic implement servlet request listen servletrequestlisten interfac throw runtim except runtimeexcept request initi requestiniti method request destroy requestdestroy method messag cannot find messag associ key request listen valv requestlistenervalv request init requestinit caus key exist properti file apach catalina valv local string localstr properti logic refer properti file apach catalina core local string localstr properti','messag key request listen valv requestlistenervalv request init requestinit refer correctli','illeg messag output log listen applic implement servlet request listen servletrequestlisten interfac throw runtim except runtimeexcept request initi requestiniti method request destroy requestdestroy method messag cannot find messag associ key request listen valv requestlistenervalv request init requestinit caus key exist properti file apach catalina valv local string localstr properti logic refer properti file apach catalina core local string localstr properti','2006-09-15 09:13:40',1158330000,'resolved fixed','fda223a',1158810000,'java/org/apache/catalina/core/StandardContextValve.java'),(1044,34399,'Bug 34399  Undeploying fails when context defined in server.xml & server fails to stop','Steps to reproduce: \n \n1. autodeploy a web application by defining its context in server.xml \n2. start the Tomcat server \n3. use the Tomcat Manager to undeploy the application \n \nYou will get the \"OK - Undeployed application at context path /WebApplication\" \nmessage, but the application will NOT be undeployed, it will be only stopped. \n \nIf you try to stop the server after that, it will fail! \n \nI have used the shared installation (CATALINA_BASE dir), but I guess this \nwon\'t work for standalone Tomcat isntallation either.','undeploy fail context defin server xml server fail stop step reproduc autodeploy web applic defin context server xml start tomcat server use tomcat manag undeploy applic get ok undeploy applic context path web applic webappl messag applic undeploy stop tri stop server fail use share instal catalina base guess won work standalon tomcat isntal either','undeploy fail context defin server xml server fail stop','step reproduc autodeploy web applic defin context server xml start tomcat server use tomcat manag undeploy applic get ok undeploy applic context path web applic webappl messag applic undeploy stop tri stop server fail use share instal catalina base guess won work standalon tomcat isntal either','2005-04-11 16:32:42',1113250000,'resolved fixed','9dd8a23',1158810000,'java/org/apache/catalina/manager/HTMLManagerServlet.java\njava/org/apache/catalina/manager/ManagerServlet.java\njava/org/apache/catalina/startup/HostConfig.java'),(1045,34509,'Bug 34509  tag names that are xml:Name but not java identifier are not accepted','According to the JSP 2.0 specification, custom tag prefix and name should be \nof the type XML:Name. However, for Tomcat 5.5.8, if the name is not a legal \njava identifier, then a compilation error occurs. For instance, Tomcat won\'t \naccept Da~te`T#ag as a legal name for the Tag.','tag name xml name java identifi accept accord jsp specif custom tag prefix name type xml name howev tomcat name legal java identifi compil error occur instanc tomcat won accept ag legal name tag','tag name xml name java identifi accept','accord jsp specif custom tag prefix name type xml name howev tomcat name legal java identifi compil error occur instanc tomcat won accept ag legal name tag','2005-04-19 00:45:34',1113890000,'resolved fixed','823101d',1158370000,'java/org/apache/jasper/compiler/Generator.java'),(1046,33356,'Bug 33356  Incorrect parsing of tag attributes','I get a org.apache.jasper.JasperException: with the error: \"The function string \nmust be used with a prefix when a default namespace is not specified\" when \ntrying to compile the following within a JSP page:\n\n<foo:set var=\"bar\" value=\"this $ is a { silly string (\"/>\n\n\"foo\" is our own tablib, it seems that Jasper seems to think that the string \nprovided to the value attribute contains some JSP/EL which it does not.\n\nIf I change the page to be:\n\n<c:set var=\"bar\" value=\"this $ is a { silly string (\"/>\n\nThen I do not get this error. However I need to use my own taglib.\nIn the foo.tld file, the \"value\" attribute of \"set\" has rtexprvalue=true.\nIf I set this to false then the problem goes away. However I noticed that c.tld \nin standard.jar also has rtexprvalue=true for the \"value\" attribute of \"set\". \nWhy the difference in behaviour ? We also wish to have rtexprvalue=true.','incorrect pars tag attribut get apach jasper jasper except jasperexcept error function string must use prefix default namespac specifi tri compil follow within jsp page foo set bar valu silli string foo tablib seem jasper seem think string provid valu attribut contain jsp chang page set bar valu silli string get error howev need use taglib foo tld file valu attribut set rtexprvalu true set fals problem go away howev notic tld standard jar rtexprvalu true valu attribut set differ behaviour wish rtexprvalu true','incorrect pars tag attribut','get apach jasper jasper except jasperexcept error function string must use prefix default namespac specifi tri compil follow within jsp page foo set bar valu silli string foo tablib seem jasper seem think string provid valu attribut contain jsp chang page set bar valu silli string get error howev need use taglib foo tld file valu attribut set rtexprvalu true set fals problem go away howev notic tld standard jar rtexprvalu true valu attribut set differ behaviour wish rtexprvalu true','2005-02-02 14:55:18',1107370000,'resolved fixed','b55e9c2',1157860000,'java/org/apache/jasper/compiler/ELParser.java'),(1047,31804,'Bug 31804  setParent() is not called on nested tags in a tag file (.tagx)','','set parent setpar call nest tag tag file tagx','set parent setpar call nest tag tag file tagx','','2004-10-20 16:26:40',1098300000,'resolved fixed','2d6d717',1157840000,'java/org/apache/jasper/compiler/Generator.java'),(1048,38713,'Bug 38713  java.io.IOException: tmpFile.renameTo(classFile) failed when compiling new JSP (upon redeploy)','[http-8080-Processor24 ERROR 26902165 DispatcherServlet.serviceWrapper()] -\nCould not complete request\norg.apache.jasper.JasperException: Unable to compile class for JSP\n        at\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:565)\n        at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:293)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:291)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)\n        at\norg.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)\n        at\norg.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:398)\n        at\norg.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\n        at\norg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:97)\n        at\norg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\n        at\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:928)\n        at\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:705)\n        at\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:625)\n        at\norg.springframework.web.servlet.FrameworkServlet.serviceWrapper(FrameworkServlet.java:386)\n        at\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:346)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)\n        at\norg.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at\norg.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)\n[http-8080-Processor24 ERROR 26902165 [wirelessapp].invoke()] -\nServlet.service() for servlet wirelessapp threw exception\njava.io.IOException: tmpFile.renameTo(classFile) failed\n        at\norg.apache.jasper.compiler.SmapUtil$SDEInstaller.install(SmapUtil.java:245)\n        at org.apache.jasper.compiler.SmapUtil.installSmap(SmapUtil.java:164)\n        at\norg.apache.jasper.compiler.AntCompiler.generateClass(AntCompiler.java:267)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:288)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:267)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:255)\n        at\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:556)\n        at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:293)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:291)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)\n        at\norg.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)\n        at\norg.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:398)\n        at\norg.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\n        at\norg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:97)\n        at\norg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\n        at\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:928)\n        at\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:705)\n        at\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:625)\n        at\norg.springframework.web.servlet.FrameworkServlet.serviceWrapper(FrameworkServlet.java:386)\n        at\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:346)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)\n        at\norg.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at\norg.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)','java except ioexcept tmp file tmpfile renam to renameto class file classfil fail compil new jsp upon redeploy http processor24 error dispatch servlet dispatcherservlet servic wrapper servicewrapp could complet request apach jasper jasper except jasperexcept unabl compil class jsp apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch process request processrequest applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do forward doforward applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch forward applic dispatch applicationdispatch java springframework web servlet view intern resourc view internalresourceview render merg output model rendermergedoutputmodel intern resourc view internalresourceview java springframework web servlet view abstract view abstractview render abstract view abstractview java springframework web servlet dispatch servlet dispatcherservlet render dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do dispatch dodispatch dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do servic doservic dispatch servlet dispatcherservlet java springframework web servlet framework servlet frameworkservlet servic wrapper servicewrapp framework servlet frameworkservlet java springframework web servlet framework servlet frameworkservlet do get doget framework servlet frameworkservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process connect processconnect http11 protocol http11protocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java http processor24 error wirelessapp invok servlet servic servlet wirelessapp threw except java except ioexcept tmp file tmpfile renam to renameto class file classfil fail apach jasper compil smap util smaputil instal sdeinstal instal smap util smaputil java apach jasper compil smap util smaputil instal smap installsmap smap util smaputil java apach jasper compil ant compil antcompil gener class generateclass ant compil antcompil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch process request processrequest applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do forward doforward applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch forward applic dispatch applicationdispatch java springframework web servlet view intern resourc view internalresourceview render merg output model rendermergedoutputmodel intern resourc view internalresourceview java springframework web servlet view abstract view abstractview render abstract view abstractview java springframework web servlet dispatch servlet dispatcherservlet render dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do dispatch dodispatch dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do servic doservic dispatch servlet dispatcherservlet java springframework web servlet framework servlet frameworkservlet servic wrapper servicewrapp framework servlet frameworkservlet java springframework web servlet framework servlet frameworkservlet do get doget framework servlet frameworkservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process connect processconnect http11 protocol http11protocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','java except ioexcept tmp file tmpfile renam to renameto class file classfil fail compil new jsp upon redeploy','http processor24 error dispatch servlet dispatcherservlet servic wrapper servicewrapp could complet request apach jasper jasper except jasperexcept unabl compil class jsp apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch process request processrequest applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do forward doforward applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch forward applic dispatch applicationdispatch java springframework web servlet view intern resourc view internalresourceview render merg output model rendermergedoutputmodel intern resourc view internalresourceview java springframework web servlet view abstract view abstractview render abstract view abstractview java springframework web servlet dispatch servlet dispatcherservlet render dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do dispatch dodispatch dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do servic doservic dispatch servlet dispatcherservlet java springframework web servlet framework servlet frameworkservlet servic wrapper servicewrapp framework servlet frameworkservlet java springframework web servlet framework servlet frameworkservlet do get doget framework servlet frameworkservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process connect processconnect http11 protocol http11protocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java http processor24 error wirelessapp invok servlet servic servlet wirelessapp threw except java except ioexcept tmp file tmpfile renam to renameto class file classfil fail apach jasper compil smap util smaputil instal sdeinstal instal smap util smaputil java apach jasper compil smap util smaputil instal smap installsmap smap util smaputil java apach jasper compil ant compil antcompil gener class generateclass ant compil antcompil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper compil compil compil compil java apach jasper jsp compil context jspcompilationcontext compil jsp compil context jspcompilationcontext java apach jasper servlet jsp servlet wrapper jspservletwrapp servic jsp servlet wrapper jspservletwrapp java apach jasper servlet jsp servlet jspservlet servic jsp file servicejspfil jsp servlet jspservlet java apach jasper servlet jsp servlet jspservlet servic jsp servlet jspservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch process request processrequest applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do forward doforward applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch forward applic dispatch applicationdispatch java springframework web servlet view intern resourc view internalresourceview render merg output model rendermergedoutputmodel intern resourc view internalresourceview java springframework web servlet view abstract view abstractview render abstract view abstractview java springframework web servlet dispatch servlet dispatcherservlet render dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do dispatch dodispatch dispatch servlet dispatcherservlet java springframework web servlet dispatch servlet dispatcherservlet do servic doservic dispatch servlet dispatcherservlet java springframework web servlet framework servlet frameworkservlet servic wrapper servicewrapp framework servlet frameworkservlet java springframework web servlet framework servlet frameworkservlet do get doget framework servlet frameworkservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 protocol http11protocol http11 connect handler http11connectionhandl process connect processconnect http11 protocol http11protocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','2006-02-20 08:08:04',1140440000,'resolved fixed','c7f0f60',1157190000,'java/org/apache/jasper/JspCompilationContext.java\njava/org/apache/jasper/compiler/Compiler.java\njava/org/apache/jasper/servlet/JspServletWrapper.java'),(1049,40306,'Bug 40306  mod_jk, POST request bodies are not restored on successful login when using mod_jk','After the FormAuthenticator intercepts a POST request to a protected resource,\nthe original request is not properly restored upon successful login when using\nmod_jk. When connectiong to tomcat directly (8080), the POST request is restored\nas expected.\n\nI\'ve tested this with mod_jk 1.2.15 and 1.2.18. It seems the problem is that the\norginal request is not saved properly. I (think) I\'ve narrowed down the issue in\n  FormAuthenticator.java. body.toString() was returning null. (The buffer was\nnull) so it looks like the root of the problem is that nothing is read from the\ninput stream.\n\nDuring testing I reverted to the old way of adding the request parameters\n(saved.addParameter()) to see if they were indeed there and it worked. \n\nI also tried,\nInputStream is = new BufferedInputStream(request.getInputStream()); \nwhich didn\'t work..\n\n\nfrom FormAuthenticator.java: \n\nprotected void saveRequest(Request request, Session session)\n        throws IOException {\n\n      ...\n\n      if (\"POST\".equalsIgnoreCase(request.getMethod())) {\n            ByteChunk body = new ByteChunk();\n            body.setLimit(request.getConnector().getMaxSavePostSize());\n\n            byte[] buffer = new byte[4096];\n            int bytesRead;\n            InputStream is = request.getInputStream();\n        \n            while ( (bytesRead = is.read(buffer) ) >= 0) {\n                body.append(buffer, 0, bytesRead);\n            }\n			\n            saved.setBody(body);\n        } \n\n        ...\n}','jk post request bodi restor success login use jk form authent formauthent intercept post request protect resourc origin request properli restor upon success login use jk connectiong tomcat directli post request restor expect test jk seem problem orgin request save properli think narrow issu form authent formauthent java bodi to string tostr return null buffer null look like root problem noth read input stream test revert old way ad request paramet save add paramet addparamet see inde work tri input stream inputstream new buffer input stream bufferedinputstream request get input stream getinputstream didn work form authent formauthent java protect void save request saverequest request request session session throw except ioexcept post equal ignor case equalsignorecas request get method getmethod byte chunk bytechunk bodi new byte chunk bytechunk bodi set limit setlimit request get connector getconnector get max save post size getmaxsaveposts byte buffer new byte int byte read bytesread input stream inputstream request get input stream getinputstream byte read bytesread read buffer bodi append buffer byte read bytesread save set bodi setbodi bodi','jk post request bodi restor success login use jk','form authent formauthent intercept post request protect resourc origin request properli restor upon success login use jk connectiong tomcat directli post request restor expect test jk seem problem orgin request save properli think narrow issu form authent formauthent java bodi to string tostr return null buffer null look like root problem noth read input stream test revert old way ad request paramet save add paramet addparamet see inde work tri input stream inputstream new buffer input stream bufferedinputstream request get input stream getinputstream didn work form authent formauthent java protect void save request saverequest request request session session throw except ioexcept post equal ignor case equalsignorecas request get method getmethod byte chunk bytechunk bodi new byte chunk bytechunk bodi set limit setlimit request get connector getconnector get max save post size getmaxsaveposts byte buffer new byte int byte read bytesread input stream inputstream request get input stream getinputstream byte read bytesread read buffer bodi append buffer byte read bytesread save set bodi setbodi bodi','2006-08-23 19:48:03',1156380000,'resolved fixed','a91b95e',1156740000,'java/org/apache/coyote/ajp/AjpAprProcessor.java\njava/org/apache/jk/core/MsgContext.java'),(1050,38676,'Bug 38676  permanently reloading tagfile classes without changes to the tagfile','Scenario:\n\n- jsp with a tag in it (tagfile, no taglib)\n- activate \"reloading\" in web.xml\n- clean work directory\n- start tomcat\n- load jsp\n\nTomcat generates/compiles/load the jsp and the tagfile classes. After\n\"checkInterval\" seconds the background compile thread \"JspRuntimeContext[\\*]\"\nloads the tagfile classes (and only them) again and again. This produces a lot\nof work for the garbage collector. (permanently class unloading of tagfile classes)\n\nA Breakpoint in the method loadTagFile() in JspServletWrapper.java will show\nthis. Perhaps the reload flag must be set to false after loading the TagFile?\n\nJspServletWrapper.java:\n...\n\nif(reload) {\n   tagHandlerClass = ctxt.load();\n   reload = false;  //perhaps, this solves the problem but i am not shure\n}\n\n...\n\nAfter restarting the server the problem is not present because no\nJspServletWrapper is instantiated for the tagfile an therefore the backround\ncompile task does not check the tagfile.','perman reload tagfil class without chang tagfil scenario jsp tag tagfil taglib activ reload web xml clean work directori start tomcat load jsp tomcat gener compil load jsp tagfil class check interv checkinterv second background compil thread jsp runtim context jspruntimecontext load tagfil class produc lot work garbag collector perman class unload tagfil class breakpoint method load tag file loadtagfil jsp servlet wrapper jspservletwrapp java show perhap reload flag must set fals load tag file tagfil jsp servlet wrapper jspservletwrapp java reload tag handler class taghandlerclass ctxt load reload fals perhap solv problem shure restart server problem present jsp servlet wrapper jspservletwrapp instanti tagfil therefor backround compil task check tagfil','perman reload tagfil class without chang tagfil','scenario jsp tag tagfil taglib activ reload web xml clean work directori start tomcat load jsp tomcat gener compil load jsp tagfil class check interv checkinterv second background compil thread jsp runtim context jspruntimecontext load tagfil class produc lot work garbag collector perman class unload tagfil class breakpoint method load tag file loadtagfil jsp servlet wrapper jspservletwrapp java show perhap reload flag must set fals load tag file tagfil jsp servlet wrapper jspservletwrapp java reload tag handler class taghandlerclass ctxt load reload fals perhap solv problem shure restart server problem present jsp servlet wrapper jspservletwrapp instanti tagfil therefor backround compil task check tagfil','2006-02-16 11:48:57',1140110000,'resolved fixed','edc20fa',1155910000,'java/org/apache/el/lang/ELSupport.java\njava/org/apache/jasper/servlet/JspServletWrapper.java'),(1051,39592,'Bug 39592  SSI does not correctly process HEAD request','Hello,\n\nI think there is a small bug in Tomcat 5.0 and 5.5 (at least I could see it already with many versions of \nTomcat).\n\nI use SSI \n          org.apache.catalina.ssi.SSIServlet\n\nand\n\n     <param-name>isVirtualWebappRelative</param-name>\n          <param-value>1</param-value>\n\n\nAll my pages (*.html) are processed by the SSI\n        <url-pattern>*.html</url-pattern>\n\nIf there is a normal GET request, SSI compiles a page and everything is just OK.\n\nHowever, for  the HEAD request to the same page (there is no need to compile the page) the SSI still \ntries to do it and generates a number of exceptions (see enclosed).\n\nThis error is not critical but overloads my catalina.out file. I do not think that it is difficult to fix it.\n\nI already reported this error to tomcat-dev, but decided to create a formal \"bug\" report at ASF Bugzilla \nto see if it was already fixed or not. This is not a big error, but it is annoying.\n\nThanks!\n\nWith the best regards,\nIgor Tetko\n\n*****\n\nApr 28, 2006 11:26:45 AM org.apache.catalina.core.ApplicationContext log\nSEVERE: #include--Couldn\'t include file: styles.html\njava.io.IOException: Couldn\'t find file: /incl/styles.html\n        at org.apache.catalina.ssi.SSIServletExternalResolver.getFileText(SSIServletExternalResolver.java:\n537)\n        at org.apache.catalina.ssi.SSIMediator.getFileText(SSIMediator.java:155)\n        at org.apache.catalina.ssi.SSIInclude.process(SSIInclude.java:44)\n        at org.apache.catalina.ssi.SSIProcessor.process(SSIProcessor.java:146)\n        at org.apache.catalina.ssi.SSIServlet.processSSI(SSIServlet.java:221)\n        at org.apache.catalina.ssi.SSIServlet.requestHandler(SSIServlet.java:187)\n        at org.apache.catalina.ssi.SSIServlet.doGet(SSIServlet.java:123)\n        at javax.servlet.http.HttpServlet.doHead(HttpServlet.java:270)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:706)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)\n        at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:574)\n        at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:499)\n        at org.apache.catalina.ssi.SSIServletExternalResolver.getFileText(SSIServletExternalResolver.java:\n519)\n        at org.apache.catalina.ssi.SSIMediator.getFileText(SSIMediator.java:155)\n        at org.apache.catalina.ssi.SSIInclude.process(SSIInclude.java:44)\n        at org.apache.catalina.ssi.SSIProcessor.process(SSIProcessor.java:146)\n        at org.apache.catalina.ssi.SSIServlet.processSSI(SSIServlet.java:221)\n        at org.apache.catalina.ssi.SSIServlet.requestHandler(SSIServlet.java:187)\n        at org.apache.catalina.ssi.SSIServlet.doGet(SSIServlet.java:123)\n        at javax.servlet.http.HttpServlet.doHead(HttpServlet.java:270)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:706)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at org.apache.catalina.valves.FastCommonAccessLogValve.invoke\n(FastCommonAccessLogValve.java:495)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)\n        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection\n(Http11BaseProtocol.java:664)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt\n(LeaderFollowerWorkerThread.java:80)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:613)','ssi correctli process head request hello think small tomcat least could see alreadi mani version tomcat use ssi apach catalina ssi servlet ssiservlet param name paramnam is virtual webapp rel isvirtualwebapprel param name paramnam param valu paramvalu param valu paramvalu page html process ssi url pattern urlpattern html url pattern urlpattern normal get request ssi compil page everyth ok howev head request page need compil page ssi still tri gener number except see enclos error critic overload catalina file think difficult fix alreadi report error tomcat dev tomcatdev decid creat formal report asf bugzilla see alreadi fix big error annoy thank best regard igor tetko apr apach catalina core applic context applicationcontext log sever includ couldn includ file style html java except ioexcept couldn find file incl style html apach catalina ssi servlet extern resolv ssiservletexternalresolv get file text getfiletext servlet extern resolv ssiservletexternalresolv java apach catalina ssi mediat ssimedi get file text getfiletext mediat ssimedi java apach catalina ssi includ ssiinclud process includ ssiinclud java apach catalina ssi processor ssiprocessor process processor ssiprocessor java apach catalina ssi servlet ssiservlet process processssi servlet ssiservlet java apach catalina ssi servlet ssiservlet request handler requesthandl servlet ssiservlet java apach catalina ssi servlet ssiservlet do get doget servlet ssiservlet java javax servlet http http servlet httpservlet do head dohead http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do includ doinclud applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch includ applic dispatch applicationdispatch java apach catalina ssi servlet extern resolv ssiservletexternalresolv get file text getfiletext servlet extern resolv ssiservletexternalresolv java apach catalina ssi mediat ssimedi get file text getfiletext mediat ssimedi java apach catalina ssi includ ssiinclud process includ ssiinclud java apach catalina ssi processor ssiprocessor process processor ssiprocessor java apach catalina ssi servlet ssiservlet process processssi servlet ssiservlet java apach catalina ssi servlet ssiservlet request handler requesthandl servlet ssiservlet java apach catalina ssi servlet ssiservlet do get doget servlet ssiservlet java javax servlet http http servlet httpservlet do head dohead http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv fast common access log valv fastcommonaccesslogvalv invok fast common access log valv fastcommonaccesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','ssi correctli process head request','hello think small tomcat least could see alreadi mani version tomcat use ssi apach catalina ssi servlet ssiservlet param name paramnam is virtual webapp rel isvirtualwebapprel param name paramnam param valu paramvalu param valu paramvalu page html process ssi url pattern urlpattern html url pattern urlpattern normal get request ssi compil page everyth ok howev head request page need compil page ssi still tri gener number except see enclos error critic overload catalina file think difficult fix alreadi report error tomcat dev tomcatdev decid creat formal report asf bugzilla see alreadi fix big error annoy thank best regard igor tetko apr apach catalina core applic context applicationcontext log sever includ couldn includ file style html java except ioexcept couldn find file incl style html apach catalina ssi servlet extern resolv ssiservletexternalresolv get file text getfiletext servlet extern resolv ssiservletexternalresolv java apach catalina ssi mediat ssimedi get file text getfiletext mediat ssimedi java apach catalina ssi includ ssiinclud process includ ssiinclud java apach catalina ssi processor ssiprocessor process processor ssiprocessor java apach catalina ssi servlet ssiservlet process processssi servlet ssiservlet java apach catalina ssi servlet ssiservlet request handler requesthandl servlet ssiservlet java apach catalina ssi servlet ssiservlet do get doget servlet ssiservlet java javax servlet http http servlet httpservlet do head dohead http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core applic dispatch applicationdispatch invok applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch do includ doinclud applic dispatch applicationdispatch java apach catalina core applic dispatch applicationdispatch includ applic dispatch applicationdispatch java apach catalina ssi servlet extern resolv ssiservletexternalresolv get file text getfiletext servlet extern resolv ssiservletexternalresolv java apach catalina ssi mediat ssimedi get file text getfiletext mediat ssimedi java apach catalina ssi includ ssiinclud process includ ssiinclud java apach catalina ssi processor ssiprocessor process processor ssiprocessor java apach catalina ssi servlet ssiservlet process processssi servlet ssiservlet java apach catalina ssi servlet ssiservlet request handler requesthandl servlet ssiservlet java apach catalina ssi servlet ssiservlet do get doget servlet ssiservlet java javax servlet http http servlet httpservlet do head dohead http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java javax servlet http http servlet httpservlet servic http servlet httpservlet java apach catalina core applic filter chain applicationfilterchain intern do filter internaldofilt applic filter chain applicationfilterchain java apach catalina core applic filter chain applicationfilterchain do filter dofilt applic filter chain applicationfilterchain java apach catalina core standard wrapper valv standardwrappervalv invok standard wrapper valv standardwrappervalv java apach catalina core standard context valv standardcontextvalv invok standard context valv standardcontextvalv java apach catalina core standard host valv standardhostvalv invok standard host valv standardhostvalv java apach catalina valv error report valv errorreportvalv invok error report valv errorreportvalv java apach catalina valv fast common access log valv fastcommonaccesslogvalv invok fast common access log valv fastcommonaccesslogvalv java apach catalina core standard engin valv standardenginevalv invok standard engin valv standardenginevalv java apach catalina connector coyot adapt coyoteadapt servic coyot adapt coyoteadapt java apach coyot http11 http11 processor http11processor process http11 processor http11processor java apach coyot http11 http11 base protocol http11baseprotocol http11 connect handler http11connectionhandl process connect processconnect http11 base protocol http11baseprotocol java apach tomcat util net pool tcp endpoint pooltcpendpoint process socket processsocket pool tcp endpoint pooltcpendpoint java apach tomcat util net leader follow worker thread leaderfollowerworkerthread run it runit leader follow worker thread leaderfollowerworkerthread java apach tomcat util thread thread pool threadpool control runnabl controlrunn run thread pool threadpool java java lang thread run thread java','2006-05-16 17:40:47',1147820000,'resolved fixed','0f9844c',1153960000,'java/org/apache/catalina/ssi/SSIServletExternalResolver.java'),(1052,39689,'Bug 39689  Tomcat Server Side Includes (SSI) do not work with single quotes','','tomcat server side includ ssi work singl quot','tomcat server side includ ssi work singl quot','','2006-05-31 07:46:22',1149080000,'resolved fixed','8ed77be',1153600000,'java/org/apache/catalina/ssi/SSIProcessor.java'),(1053,34801,'Bug 34801  PATCH: CGIServlet does not terminate child after a timeout','','patch servlet cgiservlet termin child timeout','patch servlet cgiservlet termin child timeout','','2005-05-08 06:47:30',1115550000,'resolved fixed','c30afec',1153530000,'java/org/apache/catalina/servlets/CGIServlet.java'),(1054,40012,'Bug 40012  Legacy EL Support not resolving variables correctly','Given the following page:\n<% pageContext.setAttribute(\"t\", \"foo\"); %>\n${t}\n<%\nout.print(\n    pageContext.getExpressionEvaluator().evaluate(\n        \"${t}\",\n        String.class,\n        pageContext.getVariableResolver(),\n        null));\n%>\n\nYou will notice that the ${t} prints out fine when in the JSP but does not\nresolve using the scriplet and prints nothing.\n\nFor a sanity check, I tested this and it worked in glassfish to ensure I wasn\'t\ndoing anything odd.\n\nI\'m trying to find root cause; but haven\'t found it yet, so I\'m logging it in\ncase anyone else has the itch to scratch.','legaci support resolv variabl correctli given follow page page context pagecontext set attribut setattribut foo print page context pagecontext get express evalu getexpressionevalu evalu string class page context pagecontext get variabl resolv getvariableresolv null notic print fine jsp resolv use scriplet print noth saniti check test work glassfish ensur wasn anyth odd tri find root caus haven found yet log case anyon els itch scratch','legaci support resolv variabl correctli','given follow page page context pagecontext set attribut setattribut foo print page context pagecontext get express evalu getexpressionevalu evalu string class page context pagecontext get variabl resolv getvariableresolv null notic print fine jsp resolv use scriplet print noth saniti check test work glassfish ensur wasn anyth odd tri find root caus haven found yet log case anyon els itch scratch','2006-07-11 13:00:29',1152640000,'resolved fixed','01a9b59',1152640000,'java/org/apache/jasper/el/VariableResolverImpl.java'),(1055,39769,'Bug 39769  Wrong class loader when the myServlet.destroy() called if myServlet is in the T5 shared directory','Hi all,\n\n  My web app needs to have Thread.currentThread().getContextClassLoader() always\nright.  When the application is unload it seem not be the case. \n\nMy classes are under the T5\'s shared directory (so all my\nservlet.getClass().getClassLoader() == the shared classloader i.e.:\nStandardCalssLoader.\n\nMy understanding is that when executing the code in my web app\nThread.currentThread().getContextClassLoader() should always give the\nWebappLoader used in the StandardContext.\n\nThe problem occurs in StandardWrapper.unload()  before calling the\nservlet.destroy() method\n\n....\n        ClassLoader oldCtxClassLoader =\n            Thread.currentThread().getContextClassLoader();\n        ClassLoader classLoader = instance.getClass().getClassLoader();\n\n        PrintStream out = System.out;\n        if (swallowOutput) {\n            SystemLogHandler.startCapture();\n        }\n\n        // Call the servlet destroy() method\n        try {\n            instanceSupport.fireInstanceEvent\n              (InstanceEvent.BEFORE_DESTROY_EVENT, instance);\n\n            Thread.currentThread().setContextClassLoader(classLoader);\n            if( System.getSecurityManager() != null) {\n                SecurityUtil.doAsPrivilege(\"destroy\",\n                                           instance);\n                SecurityUtil.remove(instance);                          \n            } else {\n                instance.destroy();\n            }\n\n....\n\nIn the code, the INSTANCE variable is my servlet and it have been loaded by the\nSHARED classloader.  So the classloader set in the thread is not the right one.\n It Should be the classloader related to StandardContext.getLoader()\n\nThis problem occurs when I try to close my T5 dos windows and I suppose will\noccurs when I will uninstall any webApp from my T5.\n\nI notice the problem in T5 5.5.16 but I verified and it\'s the same code in\n5.5.17.  So probably the problem is still there\n\n\nBest Regards\n/David Gagnon','wrong class loader my servlet myservlet destroy call my servlet myservlet t5 share directori hi web app need thread current thread currentthread get context class loader getcontextclassload alway right applic unload seem case class t5 share directori servlet get class getclass get class loader getclassload share classload standard calss loader standardcalssload understand execut code web app thread current thread currentthread get context class loader getcontextclassload alway give webapp loader webappload use standard context standardcontext problem occur standard wrapper standardwrapp unload call servlet destroy method class loader classload old ctx class loader oldctxclassload thread current thread currentthread get context class loader getcontextclassload class loader classload class loader classload instanc get class getclass get class loader getclassload print stream printstream system swallow output swallowoutput system log handler systemloghandl start captur startcaptur call servlet destroy method tri instanc support instancesupport fire instanc event fireinstanceev instanc event instanceev destroy event instanc thread current thread currentthread set context class loader setcontextclassload class loader classload system get secur manag getsecuritymanag null secur util securityutil do privileg doasprivileg destroy instanc secur util securityutil remov instanc els instanc destroy code instanc variabl servlet load share classload classload set thread right one classload relat standard context standardcontext get loader getload problem occur tri close t5 window suppos occur uninstal web app webapp t5 notic problem t5 verifi code probabl problem still best regard david gagnon','wrong class loader my servlet myservlet destroy call my servlet myservlet t5 share directori','hi web app need thread current thread currentthread get context class loader getcontextclassload alway right applic unload seem case class t5 share directori servlet get class getclass get class loader getclassload share classload standard calss loader standardcalssload understand execut code web app thread current thread currentthread get context class loader getcontextclassload alway give webapp loader webappload use standard context standardcontext problem occur standard wrapper standardwrapp unload call servlet destroy method class loader classload old ctx class loader oldctxclassload thread current thread currentthread get context class loader getcontextclassload class loader classload class loader classload instanc get class getclass get class loader getclassload print stream printstream system swallow output swallowoutput system log handler systemloghandl start captur startcaptur call servlet destroy method tri instanc support instancesupport fire instanc event fireinstanceev instanc event instanceev destroy event instanc thread current thread currentthread set context class loader setcontextclassload class loader classload system get secur manag getsecuritymanag null secur util securityutil do privileg doasprivileg destroy instanc secur util securityutil remov instanc els instanc destroy code instanc variabl servlet load share classload classload set thread right one classload relat standard context standardcontext get loader getload problem occur tri close t5 window suppos occur uninstal web app webapp t5 notic problem t5 verifi code probabl problem still best regard david gagnon','2006-06-09 20:09:27',1149900000,'resolved fixed','276e5ac',1150060000,'java/org/apache/catalina/core/StandardWrapper.java'),(1056,39699,'Bug 39699  simple deploy failed in cluster (distributable flag)','Hi,\n\ni encounter a strange problem with my tomcat cluster and webapps deployment.\n\nserver.xml\n--------------------------------\n<Server port=\"8005\" shutdown=\"SHUTDOWN\">\n\n  <Listener className=\"org.apache.catalina.core.AprLifecycleListener\" />\n  <Listener className=\"org.apache.catalina.mbeans.ServerLifecycleListener\" />\n  <Listener\nclassName=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" />\n  <Listener\nclassName=\"org.apache.catalina.storeconfig.StoreConfigLifecycleListener\"/>\n\n  <!-- Global JNDI resources -->\n  <GlobalNamingResources>\n\n    <Environment name=\"simpleValue\" type=\"java.lang.Integer\" value=\"30\"/>\n    <Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n       description=\"User database that can be updated and saved\"\n           factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n          pathname=\"conf/tomcat-users.xml\" />\n\n  </GlobalNamingResources>\n\n\n  <!-- Define the Tomcat Stand-Alone Service -->\n  <Service name=\"Catalina\">\n\n\n    <!-- Define a non-SSL HTTP/1.1 Connector on port 8080 -->\n    <Connector address=\"polen-integ\" port=\"8080\" maxHttpHeaderSize=\"8192\"\n               maxThreads=\"300\" minSpareThreads=\"25\" maxSpareThreads=\"100\"\n               enableLookups=\"false\" acceptCount=\"100\"\n               connectionTimeout=\"20000\" disableUploadTimeout=\"true\" />\n\n    <!-- Define an AJP 1.3 Connector on port 8009 -->\n    <Connector port=\"8009\"\n               address=\"polen-integ.sofinco.fr\"\n               minProcessors=\"20\" maxProcessors=\"0\" maxThreads=\"350\"\nminSpareThreads=\"50\" maxSpareThreads=\"100\"\n               enableLookups=\"false\" redirectPort=\"8080\" protocol=\"AJP/1.3\"\ndisableUploadTimeout=\"true\" />\n\n     <Engine name=\"Catalina\" defaultHost=\"localhost\" jvmRoute=\"uxdev103\" >\n\n      <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\nresourceName=\"UserDatabase\"/>\n\n      <Host name=\"localhost\" appBase=\"webapps\" unpackWARs=\"true\" autoDeploy=\"true\"\n       xmlValidation=\"false\" xmlNamespaceAware=\"false\" >\n\n <!-- Cluster Definition -->\n\n        <Cluster className=\"org.apache.catalina.cluster.tcp.SimpleTcpCluster\"\n                doClusterLog=\"true\" clusterLogName=\"clusterlog\"\n                expireSessionsOnShutdown=\"false\"\n                useDirtyFlag=\"true\"\n                notifyListenersOnReplication=\"true\">\n\n        <Membership className=\"org.apache.catalina.cluster.mcast.McastService\"\n                mcastAddr=\"228.0.0.4\"\n                mcastBindAddress=\"127.0.0.1\"\n                mcastClusterDomain=\"polen-integ\"\n                mcastPort=\"45564\"\n                mcastFrequency=\"1000\"\n                mcastDropTime=\"30000\"/>\n\n        <Receiver className=\"org.apache.catalina.cluster.tcp.ReplicationListener\"\n                tcpListenAddress=\"polen-integ\"\n                tcpSelectorTimeout=\"100\"\n                tcpThreadCount=\"6\"/>\n\n        <Sender className=\"org.apache.catalina.cluster.tcp.ReplicationTransmitter\"\n                replicationMode=\"fastasyncqueue\"\n                doTransmitterProcessingStats=\"true\"\n                doProcessingStats=\"false\"\n                doWaitAckStats=\"false\"\n                waitForAck=\"false\"\n                keepAliveMaxRequestCount=\"-1\"/>\n\n        <Valve className=\"org.apache.catalina.cluster.tcp.ReplicationValve\"\n               \nfilter=\".*\\.gif;.*\\.js;.*\\.css;.*\\.png;.*\\.jpeg;.*\\.jpg;.*\\.htm;.*\\.html;.*\\.txt;\"\n/>\n\n        <Valve className=\"org.apache.catalina.cluster.session.JvmRouteBinderValve\"\n                enabled=\"true\" />\n\n        <ClusterListener\nclassName=\"org.apache.catalina.cluster.session.ClusterSessionListener\" />\n\n        <ClusterListener\nclassName=\"org.apache.catalina.cluster.session.JvmRouteSessionIDBinderListener\" />\n\n        <Deployer className=\"org.apache.catalina.cluster.deploy.FarmWarDeployer\"\n                tempDir=\"/home/tomcat/polen-integ/tmp/war-temp/\"\n                deployDir=\"${catalina.base}/webapps\"\n                watchDir=\"/home/tomcat/polen-integ/tmp/war-listen/\"\n                watchEnabled=\"true\"/>\n\n        </Cluster>\n\n      </Host>\n    </Engine>\n\n  </Service>\n\n</Server>\n------------------------\n\n\n\nwhen i am trying to deploy a \'dsitributable\' (and only when this flag is\nenabled) i get the following errors :\n\n---------------------------\nINFO ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.startup.HostConfig - Deploying web application archive po\nlen.war\n INFO ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.loader.WebappClassLoader - Illegal access: this web appli\ncation instance has been stopped already.  Could not load java.io.PrintStream. \nThe eventual following stack trace is caused by an error t\nhrown for debugging purposes as well as to attempt to terminate the thread which\ncaused the illegal access, and has no functional impact.\n java.lang.IllegalStateException\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1238)\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1198)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n        at org.apache.log4j.helpers.LogLog.error(LogLog.java:142)\n        at\norg.apache.log4j.helpers.PatternParser$DatePatternConverter.convert(PatternParser.java:447)\n        at\norg.apache.log4j.helpers.PatternConverter.format(PatternConverter.java:64)\n        at org.apache.log4j.PatternLayout.format(PatternLayout.java:503)\n        at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:301)\n        at\norg.apache.log4j.RollingFileAppender.subAppend(RollingFileAppender.java:234)\n        at org.apache.log4j.WriterAppender.append(WriterAppender.java:159)\n        at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:230)\n        at\norg.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:65)\n        at org.apache.log4j.Category.callAppenders(Category.java:203)\n        at org.apache.log4j.Category.forcedLog(Category.java:388)\n        at org.apache.log4j.Category.log(Category.java:853)\n        at org.apache.commons.logging.impl.Log4JLogger.info(Log4JLogger.java:133)\n        at\norg.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:976)\n        at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:431)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4125)\n at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:809)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:698)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1190)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:292)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1305)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n        at java.lang.Thread.run(Unknown Source)\nINFO ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.loader.WebappClassLoader - Illegal access: this web applic\nation instance has been stopped already.  Could not load java.io.PrintStream. \nThe eventual following stack trace is caused by an error th\nrown for debugging purposes as well as to attempt to terminate the thread which\ncaused the illegal access, and has no functional impact.\n Java.lang.IllegalStateException\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1238)\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1198)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n        at org.apache.log4j.helpers.LogLog.error(LogLog.java:142)\n        at\norg.apache.log4j.helpers.PatternParser$DatePatternConverter.convert(PatternParser.java:447)\n        at\norg.apache.log4j.helpers.PatternConverter.format(PatternConverter.java:64)\n        at org.apache.log4j.PatternLayout.format(PatternLayout.java:503)\n        at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:301)\n        at\norg.apache.log4j.RollingFileAppender.subAppend(RollingFileAppender.java:234)\n        at org.apache.log4j.WriterAppender.append(WriterAppender.java:159)\n        at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:230)\n        at\norg.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:65)\n        at org.apache.log4j.Category.callAppenders(Category.java:203)\n        at org.apache.log4j.Category.forcedLog(Category.java:388)\n        at org.apache.log4j.Category.log(Category.java:853)\n        at org.apache.commons.logging.impl.Log4JLogger.info(Log4JLogger.java:133)\n        at\norg.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:976)\n at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:431)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4125)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:809)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:698)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1190)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:292)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1305)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n        at java.lang.Thread.run(Unknown Source)\nINFO ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.loader.WebappClassLoader - Illegal access: this web applic\nation instance has been stopped already.  Could not load\norg.apache.log4j.spi.VectorWriter.  The eventual following stack trace is caused\nby an error thrown for debugging purposes as well as to attempt to terminate the\nthread which caused the illegal access, and has no functi\nonal impact.\n java.lang.IllegalStateException\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1238)\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1198)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n        at org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n        at org.apache.log4j.Category.forcedLog(Category.java:388)\n        at org.apache.log4j.Category.log(Category.java:853)\n        at org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:193)\n        at\norg.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:990)\n        at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:431)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4125)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:809)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:698)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1190)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:292)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1305)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n        at java.lang.Thread.run(Unknown Source)\nINFO ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.loader.WebappClassLoader - Illegal access: this web applic\nation instance has been stopped already.  Could not load\norg.apache.log4j.spi.VectorWriter.  The eventual following stack trace is caused\nby an error thrown for debugging purposes as well as to attempt to terminate the\nthread which caused the illegal access, and has no functi\nonal impact.\n java.lang.IllegalStateException\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1238)\n        at\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1198)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n        at org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n        at org.apache.log4j.Category.forcedLog(Category.java:388)\n        at org.apache.log4j.Category.log(Category.java:853)\n        at org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:193)\n        at\norg.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:990)\n        at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:431)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4125)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:809)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:698)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1190)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:292)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1305)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n        at java.lang.Thread.run(Unknown Source)\nERROR ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.commons.modeler.Registry - Null component Catalina:type=JspMonitor\n,name=jsp,WebModule=//localhost/polen,J2EEApplication=none,J2EEServer=none\n ERROR ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.startup.HostConfig - Error deploying web application arc\nhive polen.war\n java.lang.NoClassDefFoundError: org/apache/log4j/spi/VectorWriter\n        at org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n        at org.apache.log4j.Category.forcedLog(Category.java:388)\n        at org.apache.log4j.Category.log(Category.java:853)\n        at org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:193)\n        at\norg.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:990)\n        at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:431)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4125)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:809)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:698)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1190)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:292)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1305)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n        at java.lang.Thread.run(Unknown Source)\nERROR ContainerBackgroundProcessor[StandardEngine[Catalina]]\norg.apache.catalina.startup.HostConfig - Error deploying web application arch\nive polen.war\n java.lang.NoClassDefFoundError: org/apache/log4j/spi/VectorWriter\n        at org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n        at org.apache.log4j.Category.forcedLog(Category.java:388)\n        at org.apache.log4j.Category.log(Category.java:853)\n        at org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:193)\n        at\norg.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:990)\n        at org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:431)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4125)\n\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:809)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:698)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1190)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:292)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1305)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n        at java.lang.Thread.run(Unknown Source)\n---------------\n\ni have tried to deployed via web manager application or simple copy of my war in\nwebapps directory... No luck, if i put \'<distributable/> flag in application\nweb.xml config file, i encounter this error ; i need to restart manually tomcat\ninstance... After this restart the application is correctly deployed without any\nerror...\nOf course if i disable cluster in server.xml, no problem...','simpl deploy fail cluster distribut flag hi encount strang problem tomcat cluster webapp deploy server xml server port shutdown shutdown listen class name classnam apach catalina core apr lifecycl listen aprlifecyclelisten listen class name classnam apach catalina mbean server lifecycl listen serverlifecyclelisten listen class name classnam apach catalina mbean global resourc lifecycl listen globalresourceslifecyclelisten listen class name classnam apach catalina storeconfig store config lifecycl listen storeconfiglifecyclelisten global jndi resourc global name resourc globalnamingresourc environ name simpl valu simplevalu type java lang integ valu resourc name user databas userdatabas auth contain type apach catalina user databas userdatabas descript user databas updat save factori apach catalina user memori user databas factori memoryuserdatabasefactori pathnam conf tomcat user tomcatus xml global name resourc globalnamingresourc defin tomcat stand alon servic servic name catalina defin ssl http connector port connector address polen integ poleninteg port max http header size maxhttpheaders max thread maxthread min spare thread minsparethread max spare thread maxsparethread enabl lookup enablelookup fals accept count acceptcount connect timeout connectiontimeout disabl upload timeout disableuploadtimeout true defin ajp connector port connector port address polen integ poleninteg sofinco fr min processor minprocessor max processor maxprocessor max thread maxthread min spare thread minsparethread max spare thread maxsparethread enabl lookup enablelookup fals redirect port redirectport protocol ajp disabl upload timeout disableuploadtimeout true engin name catalina default host defaulthost localhost jvm rout jvmrout uxdev103 realm class name classnam apach catalina realm user databas realm userdatabaserealm resourc name resourcenam user databas userdatabas host name localhost app base appbas webapp unpack unpackwar true auto deploy autodeploy true xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals cluster definit cluster class name classnam apach catalina cluster tcp simpl tcp cluster simpletcpclust do cluster log doclusterlog true cluster log name clusterlognam clusterlog expir session on shutdown expiresessionsonshutdown fals use dirti flag usedirtyflag true notifi listen on replic notifylistenersonrepl true membership class name classnam apach catalina cluster mcast mcast servic mcastservic mcast addr mcastaddr mcast bind address mcastbindaddress mcast cluster domain mcastclusterdomain polen integ poleninteg mcast port mcastport mcast frequenc mcastfrequ mcast drop time mcastdroptim receiv class name classnam apach catalina cluster tcp replic listen replicationlisten tcp listen address tcplistenaddress polen integ poleninteg tcp selector timeout tcpselectortimeout tcp thread count tcpthreadcount sender class name classnam apach catalina cluster tcp replic transmitt replicationtransmitt replic mode replicationmod fastasyncqueu do transmitt process stat dotransmitterprocessingstat true do process stat doprocessingstat fals do wait ack stat dowaitackstat fals wait for ack waitforack fals keep aliv max request count keepalivemaxrequestcount valv class name classnam apach catalina cluster tcp replic valv replicationvalv filter gif j cs png jpeg jpg htm html txt valv class name classnam apach catalina cluster session jvm rout binder valv jvmroutebindervalv enabl true cluster listen clusterlisten class name classnam apach catalina cluster session cluster session listen clustersessionlisten cluster listen clusterlisten class name classnam apach catalina cluster session jvm rout session binder listen jvmroutesessionidbinderlisten deploy class name classnam apach catalina cluster deploy farm war deploy farmwardeploy temp dir tempdir home tomcat polen integ poleninteg tmp war temp wartemp deploy dir deploydir catalina base webapp watch dir watchdir home tomcat polen integ poleninteg tmp war listen warlisten watch enabl watchen true cluster host engin servic server tri deploy dsitribut flag enabl get follow error info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina startup host config hostconfig deploy web applic archiv po len info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web appli cation instanc stop alreadi could load java print stream printstream eventu follow stack trace caus error hrown debug purpos well attempt termin thread caus illeg access function impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j helper log log loglog error log log loglog java apach log4j helper pattern parser patternpars date pattern convert datepatternconvert convert pattern parser patternpars java apach log4j helper pattern convert patternconvert format pattern convert patternconvert java apach log4j pattern layout patternlayout format pattern layout patternlayout java apach log4j writer append writerappend sub append subappend writer append writerappend java apach log4j roll file append rollingfileappend sub append subappend roll file append rollingfileappend java apach log4j writer append writerappend append writer append writerappend java apach log4j append skeleton appenderskeleton do append doappend append skeleton appenderskeleton java apach log4j helper append attach impl appenderattachableimpl append loop on append appendlooponappend append attach impl appenderattachableimpl java apach log4j categori call append callappend categori java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg info log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web applic ation instanc stop alreadi could load java print stream printstream eventu follow stack trace caus error th rown debug purpos well attempt termin thread caus illeg access function impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j helper log log loglog error log log loglog java apach log4j helper pattern parser patternpars date pattern convert datepatternconvert convert pattern parser patternpars java apach log4j helper pattern convert patternconvert format pattern convert patternconvert java apach log4j pattern layout patternlayout format pattern layout patternlayout java apach log4j writer append writerappend sub append subappend writer append writerappend java apach log4j roll file append rollingfileappend sub append subappend roll file append rollingfileappend java apach log4j writer append writerappend append writer append writerappend java apach log4j append skeleton appenderskeleton do append doappend append skeleton appenderskeleton java apach log4j helper append attach impl appenderattachableimpl append loop on append appendlooponappend append attach impl appenderattachableimpl java apach log4j categori call append callappend categori java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg info log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web applic ation instanc stop alreadi could load apach log4j spi vector writer vectorwrit eventu follow stack trace caus error thrown debug purpos well attempt termin thread caus illeg access functi onal impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web applic ation instanc stop alreadi could load apach log4j spi vector writer vectorwrit eventu follow stack trace caus error thrown debug purpos well attempt termin thread caus illeg access functi onal impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc error contain background processor containerbackgroundprocessor standard engin standardengin catalina apach common model registri null compon catalina type jsp monitor jspmonitor name jsp web modul webmodul localhost polen j2 applic j2eeapplic none j2 server j2eeserv none error contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina startup host config hostconfig error deploy web applic arc hive polen java lang no class def found error noclassdeffounderror apach log4j spi vector writer vectorwrit apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc error contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina startup host config hostconfig error deploy web applic arch ive polen java lang no class def found error noclassdeffounderror apach log4j spi vector writer vectorwrit apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc tri deploy via web manag applic simpl copi webapp directori luck put distribut flag applic web xml config file encount error need restart manual tomcat instanc restart applic correctli deploy without error cours disabl cluster server xml problem','simpl deploy fail cluster distribut flag','hi encount strang problem tomcat cluster webapp deploy server xml server port shutdown shutdown listen class name classnam apach catalina core apr lifecycl listen aprlifecyclelisten listen class name classnam apach catalina mbean server lifecycl listen serverlifecyclelisten listen class name classnam apach catalina mbean global resourc lifecycl listen globalresourceslifecyclelisten listen class name classnam apach catalina storeconfig store config lifecycl listen storeconfiglifecyclelisten global jndi resourc global name resourc globalnamingresourc environ name simpl valu simplevalu type java lang integ valu resourc name user databas userdatabas auth contain type apach catalina user databas userdatabas descript user databas updat save factori apach catalina user memori user databas factori memoryuserdatabasefactori pathnam conf tomcat user tomcatus xml global name resourc globalnamingresourc defin tomcat stand alon servic servic name catalina defin ssl http connector port connector address polen integ poleninteg port max http header size maxhttpheaders max thread maxthread min spare thread minsparethread max spare thread maxsparethread enabl lookup enablelookup fals accept count acceptcount connect timeout connectiontimeout disabl upload timeout disableuploadtimeout true defin ajp connector port connector port address polen integ poleninteg sofinco fr min processor minprocessor max processor maxprocessor max thread maxthread min spare thread minsparethread max spare thread maxsparethread enabl lookup enablelookup fals redirect port redirectport protocol ajp disabl upload timeout disableuploadtimeout true engin name catalina default host defaulthost localhost jvm rout jvmrout uxdev103 realm class name classnam apach catalina realm user databas realm userdatabaserealm resourc name resourcenam user databas userdatabas host name localhost app base appbas webapp unpack unpackwar true auto deploy autodeploy true xml valid xmlvalid fals xml namespac awar xmlnamespaceawar fals cluster definit cluster class name classnam apach catalina cluster tcp simpl tcp cluster simpletcpclust do cluster log doclusterlog true cluster log name clusterlognam clusterlog expir session on shutdown expiresessionsonshutdown fals use dirti flag usedirtyflag true notifi listen on replic notifylistenersonrepl true membership class name classnam apach catalina cluster mcast mcast servic mcastservic mcast addr mcastaddr mcast bind address mcastbindaddress mcast cluster domain mcastclusterdomain polen integ poleninteg mcast port mcastport mcast frequenc mcastfrequ mcast drop time mcastdroptim receiv class name classnam apach catalina cluster tcp replic listen replicationlisten tcp listen address tcplistenaddress polen integ poleninteg tcp selector timeout tcpselectortimeout tcp thread count tcpthreadcount sender class name classnam apach catalina cluster tcp replic transmitt replicationtransmitt replic mode replicationmod fastasyncqueu do transmitt process stat dotransmitterprocessingstat true do process stat doprocessingstat fals do wait ack stat dowaitackstat fals wait for ack waitforack fals keep aliv max request count keepalivemaxrequestcount valv class name classnam apach catalina cluster tcp replic valv replicationvalv filter gif j cs png jpeg jpg htm html txt valv class name classnam apach catalina cluster session jvm rout binder valv jvmroutebindervalv enabl true cluster listen clusterlisten class name classnam apach catalina cluster session cluster session listen clustersessionlisten cluster listen clusterlisten class name classnam apach catalina cluster session jvm rout session binder listen jvmroutesessionidbinderlisten deploy class name classnam apach catalina cluster deploy farm war deploy farmwardeploy temp dir tempdir home tomcat polen integ poleninteg tmp war temp wartemp deploy dir deploydir catalina base webapp watch dir watchdir home tomcat polen integ poleninteg tmp war listen warlisten watch enabl watchen true cluster host engin servic server tri deploy dsitribut flag enabl get follow error info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina startup host config hostconfig deploy web applic archiv po len info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web appli cation instanc stop alreadi could load java print stream printstream eventu follow stack trace caus error hrown debug purpos well attempt termin thread caus illeg access function impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j helper log log loglog error log log loglog java apach log4j helper pattern parser patternpars date pattern convert datepatternconvert convert pattern parser patternpars java apach log4j helper pattern convert patternconvert format pattern convert patternconvert java apach log4j pattern layout patternlayout format pattern layout patternlayout java apach log4j writer append writerappend sub append subappend writer append writerappend java apach log4j roll file append rollingfileappend sub append subappend roll file append rollingfileappend java apach log4j writer append writerappend append writer append writerappend java apach log4j append skeleton appenderskeleton do append doappend append skeleton appenderskeleton java apach log4j helper append attach impl appenderattachableimpl append loop on append appendlooponappend append attach impl appenderattachableimpl java apach log4j categori call append callappend categori java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg info log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web applic ation instanc stop alreadi could load java print stream printstream eventu follow stack trace caus error th rown debug purpos well attempt termin thread caus illeg access function impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j helper log log loglog error log log loglog java apach log4j helper pattern parser patternpars date pattern convert datepatternconvert convert pattern parser patternpars java apach log4j helper pattern convert patternconvert format pattern convert patternconvert java apach log4j pattern layout patternlayout format pattern layout patternlayout java apach log4j writer append writerappend sub append subappend writer append writerappend java apach log4j roll file append rollingfileappend sub append subappend roll file append rollingfileappend java apach log4j writer append writerappend append writer append writerappend java apach log4j append skeleton appenderskeleton do append doappend append skeleton appenderskeleton java apach log4j helper append attach impl appenderattachableimpl append loop on append appendlooponappend append attach impl appenderattachableimpl java apach log4j categori call append callappend categori java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg info log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web applic ation instanc stop alreadi could load apach log4j spi vector writer vectorwrit eventu follow stack trace caus error thrown debug purpos well attempt termin thread caus illeg access functi onal impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc info contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina loader webapp class loader webappclassload illeg access web applic ation instanc stop alreadi could load apach log4j spi vector writer vectorwrit eventu follow stack trace caus error thrown debug purpos well attempt termin thread caus illeg access functi onal impact java lang illeg state except illegalstateexcept apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java apach catalina loader webapp class loader webappclassload load class loadclass webapp class loader webappclassload java java lang class loader classload load class intern loadclassintern unknown sourc apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc error contain background processor containerbackgroundprocessor standard engin standardengin catalina apach common model registri null compon catalina type jsp monitor jspmonitor name jsp web modul webmodul localhost polen j2 applic j2eeapplic none j2 server j2eeserv none error contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina startup host config hostconfig error deploy web applic arc hive polen java lang no class def found error noclassdeffounderror apach log4j spi vector writer vectorwrit apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc error contain background processor containerbackgroundprocessor standard engin standardengin catalina apach catalina startup host config hostconfig error deploy web applic arch ive polen java lang no class def found error noclassdeffounderror apach log4j spi vector writer vectorwrit apach log4j spi log event loggingev init log event loggingev java apach log4j categori forc log forcedlog categori java apach log4j categori log categori java apach common log impl log4 logger log4jlogg error log4 logger log4jlogg java apach catalina cluster session delta manag deltamanag start delta manag deltamanag java apach catalina core contain base containerbas set manag setmanag contain base containerbas java apach catalina core standard context standardcontext start standard context standardcontext java apach catalina core contain base containerbas add child intern addchildintern contain base containerbas java apach catalina core contain base containerbas add child addchild contain base containerbas java apach catalina core standard host standardhost add child addchild standard host standardhost java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy deploywar host config hostconfig java apach catalina startup host config hostconfig deploy app deployapp host config hostconfig java apach catalina startup host config hostconfig check host config hostconfig java apach catalina startup host config hostconfig lifecycl event lifecycleev host config hostconfig java apach catalina util lifecycl support lifecyclesupport fire lifecycl event firelifecycleev lifecycl support lifecyclesupport java apach catalina core contain base containerbas background process backgroundprocess contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor process child processchildren contain base containerbas java apach catalina core contain base containerbas contain background processor containerbackgroundprocessor run contain base containerbas java java lang thread run unknown sourc tri deploy via web manag applic simpl copi webapp directori luck put distribut flag applic web xml config file encount error need restart manual tomcat instanc restart applic correctli deploy without error cours disabl cluster server xml problem','2006-06-01 16:28:04',1149190000,'resolved fixed','7b870a4',1149780000,'java/org/apache/catalina/core/StandardContext.java');
/*!40000 ALTER TABLE `bug_and_files` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2019-03-07  0:36:04
